<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Flutter çŠ¶æ€å…±äº«-Provider</title>
    <link href="/blog/2025/12/31/flutter-provider/"/>
    <url>/blog/2025/12/31/flutter-provider/</url>
    
    <content type="html"><![CDATA[<h1 id="çŠ¶æ€å…±äº«-Provider"><a href="#çŠ¶æ€å…±äº«-Provider" class="headerlink" title="çŠ¶æ€å…±äº«-Provider"></a>çŠ¶æ€å…±äº«-Provider</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>çŠ¶æ€ (State)</strong> å¯ä»¥ç†è§£ä¸ºåº”ç”¨çš„å½“å‰æƒ…å†µæˆ–é…ç½®ï¼Œå®ƒåŒ…å«äº†ç”¨äºå¯èƒ½ä¸ä¹‹äº¤äº’çš„æ‰€æœ‰ä¿¡æ¯ï¼Œ<strong>çŠ¶æ€ç®¡ç†</strong> å°±æ˜¯å¯¹è¿™äº›çŠ¶æ€çš„å˜åŒ–è¿›è¡Œç®¡ç†ï¼Œä»¥ç¡®ä¿ç”¨æˆ·ç•Œé¢(UI) èƒ½å¤Ÿé€‚æ—¶åœ°åæ˜ å‡ºè¿™äº›å˜åŒ–ã€‚Flutterä¸­çš„çŠ¶æ€ç®¡ç†ä¸€èˆ¬åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><strong>å±€éƒ¨çŠ¶æ€</strong>ï¼š<strong>ä¸å•ä¸€Widgetç›¸å…³çš„çŠ¶æ€</strong>ï¼Œé€šå¸¸æƒ…å†µä¸‹æ— éœ€ä¸åº”ç”¨ä¸­çš„å…¶å®ƒéƒ¨åˆ†åˆ†äº«ï¼Œå¦‚ï¼šä¸€ä¸ªCheckBoxæ˜¯å¦å‹¾é€‰å°±æ˜¯ä¸€ä¸ªå±€éƒ¨çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ <strong>StatefulWidget</strong> å’Œ å®ƒçš„ <strong>Stateå¯¹è±¡</strong> æ¥ç®¡ç†ã€‚</li><li><strong>å…¨å±€çŠ¶æ€</strong>ï¼š<strong>è·¨å¤šä¸ªWidgetæˆ–æ•´ä¸ªåº”ç”¨å…±äº«çš„çŠ¶æ€</strong>ï¼Œå¦‚ï¼šç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œéœ€è¦åœ¨å¤šä¸ªå±å¹•ä¸Šè¿›è¡Œè®¿é—®å’Œä¿®æ”¹ã€‚Flutterç¤¾åŒºæä¾›äº†å¤šç§çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œå¦‚Providerï¼ŒRiverpodï¼ŒBlocï¼ŒReduxï¼ŒGetXç­‰ã€‚</li></ul><blockquote><p>æœ¬è´¨ä¸Š Flutter é‡Œçš„ <strong>çŠ¶æ€ç®¡ç†</strong> å°±æ˜¯ <strong>ä¼ é€’çŠ¶æ€</strong> å’Œ <strong>åŸºäºsetState()</strong> çš„ <strong>å°è£…</strong>ï¼Œ<strong>çŠ¶æ€ç®¡ç†æ¡†æ¶</strong> è§£å†³çš„æ˜¯ <strong>å¦‚ä½•æ›´ä¼˜é›…åœ°å…±äº«çŠ¶æ€å’Œè°ƒç”¨ setState</strong>ã€‚</p></blockquote><p>å®˜æ–¹æ¨èä½¿ç”¨ <strong>Provider</strong> æ¥å®ç°çŠ¶æ€å…±äº«ï¼Œåº•å±‚æ˜¯å¯¹ <strong>InheritedWidget(æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ›´æ–°ä¾èµ–çš„å­å­™ç»„ä»¶)</strong> çš„å°è£…ä¸æ”¹è¿›ï¼Œä½¿å…¶æ›´æ˜“äºä½¿ç”¨ï¼Œå†å¾€ä¸‹å…±äº«çŠ¶æ€çš„åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡ ChangeNotifier ã€ Stream ã€Future é…åˆ Consumer ç»„åˆå‡ºå¤šæ ·çš„æ›´æ–°æ¨¡å¼ã€‚</p><h2 id="1-æ·»åŠ ä¾èµ–"><a href="#1-æ·»åŠ ä¾èµ–" class="headerlink" title="1. æ·»åŠ ä¾èµ–"></a>1. æ·»åŠ ä¾èµ–</h2><p>ç›´æ¥æ‰§è¡Œ <strong>flutter pub add provider</strong></p><h2 id="2-åˆ›å»ºModelç±»ç»§æ‰¿ChangeNotifier"><a href="#2-åˆ›å»ºModelç±»ç»§æ‰¿ChangeNotifier" class="headerlink" title="2. åˆ›å»ºModelç±»ç»§æ‰¿ChangeNotifier"></a>2. åˆ›å»ºModelç±»ç»§æ‰¿ChangeNotifier</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/foundation.dart&#x27;</span>;<br><br><span class="hljs-comment">// ç»§æ‰¿ ChangeNotifier</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-title">with</span> <span class="hljs-title">ChangeNotifier</span> </span>&#123;<br>  <span class="hljs-built_in">int</span> _count = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> count =&gt; _count;<br><br>  <span class="hljs-keyword">void</span> increment() &#123;<br>    _count++;<br>    notifyListeners();<span class="hljs-comment">// é€šçŸ¥è§‚å¯Ÿè€…æ›´æ–°</span><br>  &#125;<br><br>  <span class="hljs-keyword">void</span> decrement() &#123;<br>    _count--;<br>    notifyListeners();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨ChangeNotifierProviderå®ä¾‹åŒ–Model"><a href="#3-ä½¿ç”¨ChangeNotifierProviderå®ä¾‹åŒ–Model" class="headerlink" title="3. ä½¿ç”¨ChangeNotifierProviderå®ä¾‹åŒ–Model"></a>3. ä½¿ç”¨ChangeNotifierProviderå®ä¾‹åŒ–Model</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:provider/provider.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(<br>    ChangeNotifierProvider(<br>      create: (context) =&gt; Counter(),<br>      child: MyApp(),<br>    ),<br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-è®¿é—®å’Œç›‘å¬çŠ¶æ€å˜åŒ–"><a href="#4-è®¿é—®å’Œç›‘å¬çŠ¶æ€å˜åŒ–" class="headerlink" title="4. è®¿é—®å’Œç›‘å¬çŠ¶æ€å˜åŒ–"></a>4. è®¿é—®å’Œç›‘å¬çŠ¶æ€å˜åŒ–</h2><p>åœ¨UIä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <strong>Consumerç»„ä»¶</strong> æˆ– <strong>Provider.of()</strong> æ¥è®¿é—®Counterå®ä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: Text(<span class="hljs-string">&#x27;Provider Example&#x27;</span>),<br>        ),<br>        body: Center(<br>          <span class="hljs-comment">// ä½¿ç”¨Consumerç»„ä»¶æ¥ç›‘å¬Counterçš„å¯¹è±¡å˜åŒ–</span><br>          child: Consumer&lt;Counter&gt;(<br>            builder: (context, counter, child) =&gt; Text(<span class="hljs-string">&#x27;Value: <span class="hljs-subst">$&#123;counter.count&#125;</span>&#x27;</span>),<br>          ),<br>        ),<br>        floatingActionButton: FloatingActionButton(<br>          onPressed: () &#123;<br>            <span class="hljs-comment">// è®¿é—®å®ä¾‹çš„increment()æ–¹æ³•</span><br>            Provider.of&lt;Counter&gt;(context, listen: <span class="hljs-keyword">false</span>).increment();<br>          &#125;,<br>          child: Icon(Icons.add),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ç›‘å¬å•ä¸ªçŠ¶æ€å˜åŒ–çš„å†™æ³•ï¼Œå¦‚æœæƒ³åŒæ—¶ç›‘å¬å¤šä¸ªï¼Œå¯ä»¥ä½¿ç”¨ MultiProvider æ¥å®ç°~</p><p><strong>ä¸ç”¨EventBuså®ç°è·¨ç»„ä»¶çŠ¶æ€å…±äº«</strong> åŸå› ï¼š</p><blockquote><p><strong>ä¸å¥½ç”¨</strong>ï¼éœ€è¦æ˜¾ç¤ºå®šä¹‰å„ç§äº‹ä»¶ï¼Œä¸å¥½ç®¡ç†ï¼Œéœ€è¦æ˜¾å¼æ³¨å†ŒçŠ¶æ€æ”¹å˜å›è°ƒï¼Œè€Œä¸”éœ€è¦åœ¨ç»„ä»¶é”€æ¯æ—¶æ‰‹åŠ¨è§£ç»‘ï¼Œé¿å…å†…å­˜æ³„éœ²é—®é¢˜ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter Provider</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter äº‹ä»¶æ€»çº¿ï¼ˆevent busï¼‰</title>
    <link href="/blog/2025/12/31/flutter-eventBus/"/>
    <url>/blog/2025/12/31/flutter-eventBus/</url>
    
    <content type="html"><![CDATA[<h1 id="äº‹ä»¶æ€»çº¿ï¼ˆevent-busï¼‰"><a href="#äº‹ä»¶æ€»çº¿ï¼ˆevent-busï¼‰" class="headerlink" title="äº‹ä»¶æ€»çº¿ï¼ˆevent busï¼‰"></a>äº‹ä»¶æ€»çº¿ï¼ˆevent busï¼‰</h1><h2 id="ä¸€ã€æ‰‹å†™EventBus"><a href="#ä¸€ã€æ‰‹å†™EventBus" class="headerlink" title="ä¸€ã€æ‰‹å†™EventBus"></a>ä¸€ã€æ‰‹å†™EventBus</h2><p>æˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ä¸€ä¸ªå¹¿æ’­æœºåˆ¶ï¼Œç”¨ä»¥è·¨é¡µé¢äº‹ä»¶é€šçŸ¥ï¼Œæ¯”å¦‚ä¸€ä¸ªéœ€è¦ç™»å½•çš„ App ä¸­ï¼Œé¡µé¢ä¼šå…³æ³¨ç”¨æˆ·ç™»å½•æˆ–æ³¨é”€äº‹ä»¶ï¼Œæ¥è¿›è¡Œä¸€äº›çŠ¶æ€æ›´æ–°ã€‚è¿™æ—¶å€™ï¼Œä¸€ä¸ªäº‹ä»¶æ€»çº¿ä¾¿ä¼šéå¸¸æœ‰ç”¨ï¼Œäº‹ä»¶æ€»çº¿é€šå¸¸å®ç°äº†è®¢é˜…è€…æ¨¡å¼ï¼Œè®¢é˜…è€…æ¨¡å¼åŒ…å«å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸¤ç§è§’è‰²ï¼Œå¯ä»¥é€šè¿‡äº‹ä»¶æ€»çº¿æ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œæœ¬èŠ‚æˆ‘ä»¬å®ç°ä¸€ä¸ªç®€å•çš„å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œæˆ‘ä»¬ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//è®¢é˜…è€…å›è°ƒç­¾å</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">void</span> EventCallback(arg);<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EventBus</span> </span>&#123;<br>  <span class="hljs-comment">//ç§æœ‰æ„é€ å‡½æ•°</span><br>  EventBus._internal();<br><br>  <span class="hljs-comment">//ä¿å­˜å•ä¾‹</span><br>  <span class="hljs-keyword">static</span> EventBus _singleton = EventBus._internal();<br><br>  <span class="hljs-comment">//å·¥å‚æ„é€ å‡½æ•°</span><br>  <span class="hljs-keyword">factory</span> EventBus()=&gt; _singleton;<br><br>  <span class="hljs-comment">//ä¿å­˜äº‹ä»¶è®¢é˜…è€…é˜Ÿåˆ—ï¼Œkey:äº‹ä»¶å(id)ï¼Œvalue: å¯¹åº”äº‹ä»¶çš„è®¢é˜…è€…é˜Ÿåˆ—</span><br>  <span class="hljs-keyword">final</span> _emap = <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">Object</span>, <span class="hljs-built_in">List</span>&lt;EventCallback&gt;?&gt;();<br><br>  <span class="hljs-comment">//æ·»åŠ è®¢é˜…è€…</span><br>  <span class="hljs-keyword">void</span> <span class="hljs-keyword">on</span>(eventName, EventCallback f) &#123;<br>    _emap[eventName] ??=  &lt;EventCallback&gt;[];<br>    _emap[eventName]!.add(f);<br>  &#125;<br><br>  <span class="hljs-comment">//ç§»é™¤è®¢é˜…è€…</span><br>  <span class="hljs-keyword">void</span> off(eventName, [EventCallback? f]) &#123;<br>    <span class="hljs-keyword">var</span> list = _emap[eventName];<br>    <span class="hljs-keyword">if</span> (eventName == <span class="hljs-keyword">null</span> || list == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span> (f == <span class="hljs-keyword">null</span>) &#123;<br>      _emap[eventName] = <span class="hljs-keyword">null</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      list.remove(f);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">//è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶è§¦å‘åè¯¥äº‹ä»¶æ‰€æœ‰è®¢é˜…è€…ä¼šè¢«è°ƒç”¨</span><br>  <span class="hljs-keyword">void</span> emit(eventName, [arg]) &#123;<br>    <span class="hljs-keyword">var</span> list = _emap[eventName];<br>    <span class="hljs-keyword">if</span> (list == <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-built_in">int</span> len = list.length - <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//åå‘éå†ï¼Œé˜²æ­¢è®¢é˜…è€…åœ¨å›è°ƒä¸­ç§»é™¤è‡ªèº«å¸¦æ¥çš„ä¸‹æ ‡é”™ä½</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = len; i &gt; -<span class="hljs-number">1</span>; --i) &#123;<br>      list[i](arg);<br>    &#125;<br>  &#125;<br>&#125;<br><br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªtop-levelï¼ˆå…¨å±€ï¼‰å˜é‡ï¼Œé¡µé¢å¼•å…¥è¯¥æ–‡ä»¶åå¯ä»¥ç›´æ¥ä½¿ç”¨bus</span><br><span class="hljs-keyword">var</span> bus = EventBus();<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//é¡µé¢Aä¸­</span><br>...<br> <span class="hljs-comment">//ç›‘å¬ç™»å½•äº‹ä»¶</span><br>bus.<span class="hljs-keyword">on</span>(<span class="hljs-string">&quot;login&quot;</span>, (arg) &#123;<br>  <span class="hljs-comment">// do something</span><br>&#125;);<br><br><span class="hljs-comment">//ç™»å½•é¡µBä¸­</span><br>...<br><span class="hljs-comment">//ç™»å½•æˆåŠŸåè§¦å‘ç™»å½•äº‹ä»¶ï¼Œé¡µé¢Aä¸­è®¢é˜…è€…ä¼šè¢«è°ƒç”¨</span><br>bus.emit(<span class="hljs-string">&quot;login&quot;</span>, userInfo);<br></code></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šDartä¸­å®ç°å•ä¾‹æ¨¡å¼çš„æ ‡å‡†åšæ³•å°±æ˜¯ä½¿ç”¨staticå˜é‡+å·¥å‚æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯<code>EventBus()</code>å§‹ç»ˆè¿”å›éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œè¯»è€…åº”è¯¥ç†è§£å¹¶æŒæ¡è¿™ç§æ–¹æ³•ã€‚</p></blockquote><p>äº‹ä»¶æ€»çº¿é€šå¸¸ç”¨äºç»„ä»¶ä¹‹é—´<strong>çŠ¶æ€å…±äº«</strong>ï¼Œä½†å…³äºç»„ä»¶ä¹‹é—´çŠ¶æ€å…±äº«ä¹Ÿæœ‰ä¸€äº›ä¸“é—¨çš„åŒ…å¦‚reduxã€mobxä»¥åŠå‰é¢ä»‹ç»è¿‡çš„Providerã€‚</p><p>å¯¹äºä¸€äº›ç®€å•çš„åº”ç”¨ï¼Œäº‹ä»¶æ€»çº¿æ˜¯è¶³ä»¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„ï¼Œå¦‚æœä¸šåŠ¡æ¯”è¾ƒå¤æ‚è¯·ä½¿ç”¨Providerç­‰çŠ¶æ€å…±äº«å·¥å…·ã€‚</p><h2 id="äºŒã€ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“-event-bus"><a href="#äºŒã€ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“-event-bus" class="headerlink" title="äºŒã€ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ [event_bus]"></a>äºŒã€ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ [event_bus]</h2><p>ç›´æ¥æ‰§è¡Œ <strong>flutter pub add event_bus</strong> æ·»åŠ ä¾èµ–ï¼Œå…·ä½“ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">// è‡ªå®šä¹‰äº‹ä»¶</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserLoggedInEvent</span> </span>&#123;<br>  <span class="hljs-built_in">String</span> username;<br><br>  UserLoggedInEvent(<span class="hljs-keyword">this</span>.username);<br>&#125;<br><br><span class="hljs-comment">// 1ã€åˆ›å»ºEventBuså®ä¾‹</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:event_bus/event_bus.dart&#x27;</span>;<br><br>EventBus eventBus = EventBus();<br><br><span class="hljs-comment">// å‘å¸ƒäº‹ä»¶</span><br>eventBus.fire(UserLoggedInEvent(<span class="hljs-string">&#x27;Alice&#x27;</span>));<br><br>StreamSubscription loginSubscription;<br><br><span class="hljs-meta">@override</span><br><span class="hljs-keyword">void</span> initState() &#123;<br>  <span class="hljs-keyword">super</span>.initState();<br>  <span class="hljs-comment">// è®¢é˜…äº‹ä»¶</span><br>  loginSubscription = eventBus.<span class="hljs-keyword">on</span>&lt;UserLoggedInEvent&gt;().listen((event) &#123;<br>    <span class="hljs-comment">// Do something with event.</span><br>  &#125;);<br>&#125;<br><br><span class="hljs-meta">@override</span><br><span class="hljs-keyword">void</span> dispose() &#123;<br>  <span class="hljs-comment">// ä¸€èˆ¬åœ¨StatefulWidgetçš„dispose()ä¸­è°ƒç”¨å–æ¶ˆè®¢é˜…çš„æ–¹æ³•</span><br>  loginSubscription?.cancel();<br>  <span class="hljs-keyword">super</span>.dispose();<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€å®šè¦è®°å¾— <strong>å–æ¶ˆè®¢é˜…</strong>ï¼Œä»¥é¿å…å¼•èµ·å†…å­˜æ³„æ¼</p>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter event bus</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter UI åŸºç¡€ç»„ä»¶</title>
    <link href="/blog/2025/12/30/flutter-ui/"/>
    <url>/blog/2025/12/30/flutter-ui/</url>
    
    <content type="html"><![CDATA[<h1 id="Flutter-UIåŸºç¡€"><a href="#Flutter-UIåŸºç¡€" class="headerlink" title="Flutter UIåŸºç¡€"></a>Flutter UIåŸºç¡€</h1><h2 id="1-Widgetçš„å››ä¸ªç›´æ¥å­ç±»"><a href="#1-Widgetçš„å››ä¸ªç›´æ¥å­ç±»" class="headerlink" title="1. Widgetçš„å››ä¸ªç›´æ¥å­ç±»"></a>1. Widgetçš„å››ä¸ªç›´æ¥å­ç±»</h2><p>Androidä¸­çš„UIç»„ä»¶éƒ½æ˜¯ç»§æ‰¿ <strong>View</strong> æˆ– <strong>ViewGroup</strong>ï¼Œè€Œåœ¨Flutterä¸­çš„Widgetï¼Œå¾ˆå°‘ç›´æ¥ç»§æ‰¿Widgetï¼Œè€Œæ˜¯ç»§æ‰¿å®ƒçš„å››ä¸ªç›´æ¥å­ç±»ï¼š</p><p><img src="https://s3.bmp.ovh/imgs/2025/12/31/f71914da1e4f42bb.png" alt="img"></p><p><strong>StatelessWidget</strong> å’Œ <strong>StatefulWidget</strong> å°±ä¸ç”¨è¯´äº†ï¼Œ<strong>æ— çŠ¶æ€</strong> å’Œ <strong>æœ‰çŠ¶æ€</strong>.</p><p><strong>ProxyWidget</strong>ï¼Œç›´è¯‘ <strong>ä»£ç†ç»„ä»¶</strong>ï¼Œå°±å®šä¹‰äº†ä¸€ä¸ªå­æ§ä»¶ï¼Œç„¶åé€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥ç”¨ï¼Œè€Œæ˜¯ç”¨å®ƒçš„ä¸¤ä¸ªå­ç±»ï¼š</p><ul><li><strong>InheritedWidget</strong>ï¼šå°†æ•°æ®ä¼ é€’ç»™Widgetæ ‘ä¸­çš„å¤šä¸ªå­å­™ç»“ç‚¹ï¼Œå½“ä½¿ç”¨è¿™ä¸ª Widget æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ¥æ”¶æ•°æ®çš„ä¸Šä¸‹æ–‡ï¼Œä»»ä½•å­ Widget éƒ½å¯ä»¥é€šè¿‡ <strong>context.dependOnInheritedWidgetOfExactType()</strong> æ–¹æ³•æ¥è·å–è¿™äº›æ•°æ®ï¼Œè€Œä¸”å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¾èµ–äºè¿™äº›æ•°æ®çš„ Widget ä¼šè‡ªåŠ¨é‡å»ºï¼Œå°± <strong>æ•°æ®å…±äº«</strong>ã€‚</li><li><strong>ParentDataWidget</strong>ï¼šç”¨æ¥æ“æ§ RenderObjectWidget çš„å¸ƒå±€ï¼Œå¦‚ï¼šä½¿ç”¨Flexå¸ƒå±€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒçš„å­ç±» Flexible æˆ– Expandedæ¥æ§åˆ¶å­Widgetçš„å¸ƒå±€å‚æ•°ã€‚</li></ul><p><strong>RenderObjectWidget</strong>ï¼šä¸ºåˆ›å»ºå’Œæ›´æ–°RenderObjectå®ä¾‹æä¾›æ¡†æ¶ï¼Œä¹Ÿä¸ä¼šç›´æ¥ç”¨ï¼Œè€Œæ˜¯ç”¨å®ƒçš„å­ç±»ï¼š</p><ul><li><strong>SingleChildRenderObjectWidget</strong>ï¼šç®¡ç†å•ä¸€å­Widgetçš„RenderObjectï¼Œå¹¶ç®¡ç†å­Widgetçš„ä½ç½®ï¼Œå­ç±»ç¤ºä¾‹ï¼šAlign å’Œ Paddingã€‚</li><li><strong>MultiChildRenderObjectWidget</strong>ï¼šç®¡ç†å…·æœ‰å¤šä¸ªå­Widgetçš„RenderObjectï¼Œä¸ºå®ƒä»¬åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶ç¡®å®šå®ƒä»¬åœ¨æ¸²æŸ“æ ‘ä¸­çš„ä½ç½®ã€‚å­ç±»ç¤ºä¾‹ï¼šRowã€Column å’Œ Stackã€‚</li></ul><h2 id="2-åŸºç¡€ç»„ä»¶-MDç»„ä»¶"><a href="#2-åŸºç¡€ç»„ä»¶-MDç»„ä»¶" class="headerlink" title="2. åŸºç¡€ç»„ä»¶ &amp; MDç»„ä»¶"></a>2. åŸºç¡€ç»„ä»¶ &amp; MDç»„ä»¶</h2><p>Flutterè‡ªå¸¦ä¸€å¥— <strong>åŸºç¡€ç»„ä»¶</strong>ï¼Œå¦‚ï¼š</p><ul><li><strong>Text</strong> (æ–‡æœ¬)ï¼šæ˜¾ç¤ºç®€å•æ ·å¼æ–‡æœ¬ï¼›</li><li><strong>Row</strong> (è¡Œ)ï¼šæ°´å¹³æ–¹å‘æ’åˆ—å­widgetçš„å¸ƒå±€ï¼›</li><li><strong>Column</strong> (åˆ—)ï¼šå‚ç›´æ–¹å‘æ’åˆ—å­widgetçš„å¸ƒå±€ï¼›</li><li><strong>Stack</strong> (å †æ ˆ)ï¼šå°†å¤šä¸ªå­widgetå †å åœ¨ä¸€èµ·ï¼›</li><li><strong>Container</strong> (å®¹å™¨)ï¼šç”¨äºåˆ›å»ºçŸ©å½¢è§†è§‰å…ƒç´ ï¼Œå¯ä»¥è£…é¥°ã€è®¾ç½®è¾¹è·ã€è¾¹æ¡†ç­‰ï¼›</li><li>â€¦</li></ul><p>è¿˜æœ‰ä¸€å¥—æŒ‰ç…§ <strong>è°·æ­ŒMaterial Designè®¾è®¡è§„èŒƒ</strong> (è§†è§‰æ•ˆæœå’Œäº¤äº’åŠ¨æ•ˆ) å®ç°çš„ç»„ä»¶ï¼Œä»¥ä¾¿å¼€å‘è€…èƒ½å¿«é€Ÿæ„å»ºå‡ºéµå¾ªMaterial Designè§„èŒƒçš„åº”ç”¨ç•Œé¢ã€‚å¦‚ï¼š</p><ul><li><strong>MaterialApp</strong>ï¼šä½œä¸ºMDåº”ç”¨ç¨‹åºçš„æ ¹widgetï¼Œæä¾›äº†è®¸å¤šåŸºç¡€ç»„ä»¶å¦‚å¯¼èˆªæ ã€æ ‡é¢˜ï¼›</li><li><strong>Scaffold</strong> (è„šæ‰‹æ¶)ï¼šMDå¸ƒå±€ç»“æ„çš„åŸºæœ¬å®ç°ï¼Œæä¾›äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œæ–¹ä¾¿æ„å»ºå’Œå¸ƒå±€é¡µé¢ï¼›</li><li><strong>AppBar</strong> (åº”ç”¨æ )ï¼šMDåº”ç”¨æ ï¼Œé€šå¸¸æ˜¾ç¤ºåœ¨åº”ç”¨çš„é¡¶éƒ¨ï¼Œå¯ä»¥æ˜¾ç¤ºæ ‡é¢˜ã€å¯¼èˆªã€æ“ä½œå›¾æ ‡ç­‰ï¼›</li><li><strong>FloatingActionButton</strong> (æµ®åŠ¨æŒ‰é’®)ï¼šä¸€ä¸ªåœ†å½¢æŒ‰é’®ï¼Œé€šå¸¸ç´§è´´å±å¹•çš„æŸä¸€ä¸ªè§’è½ï¼›</li><li>â€¦</li></ul><p>ä½¿ç”¨MDï¼Œè¦ç¡®ä¿ <strong>pubspec.yaml</strong> ä¸­é…ç½®äº† <strong>uses-material-design: true</strong>ï¼Œ<strong>æ–°å»ºçš„é¡¹ç›®é»˜è®¤æ˜¯å¯ç”¨çš„</strong>ã€‚MDç»„ä»¶éœ€è¦æ”¾åœ¨ <strong>MaterialApp</strong> é‡Œæ‰èƒ½æ­£ç¡®æ˜¾ç¤ºï¼</p><p>å¯¹äº†ï¼Œå…¶å®Flutteré™„å¸¦äº†ä¸¤ç§æ†ç»‘è®¾è®¡ï¼Œå¦‚æœä¸å–œæ¬¢Materialï¼Œæƒ³åˆ›å»ºä»¥iOSä¸ºä¸­å¿ƒçš„è®¾è®¡ï¼Œå¯ä»¥äº†è§£ä¸‹ <a href="https://link.juejin.cn/?target=https://docs.flutter.dev/ui/widgets/cupertino">Cupertinoç»„ä»¶åŒ…</a>ã€‚</p><h2 id="3-å®‰åˆ©ä¸ªæŸ¥Widgetç¥å™¨"><a href="#3-å®‰åˆ©ä¸ªæŸ¥Widgetç¥å™¨" class="headerlink" title="3. å®‰åˆ©ä¸ªæŸ¥Widgetç¥å™¨"></a>3. å®‰åˆ©ä¸ªæŸ¥Widgetç¥å™¨</h2><p>Flutterè‡ªå¸¦Widget 300+ï¼Œä¸€ä¸ªä¸ªå­¦ï¼Œå­¦å®Œå¾—åˆ°ğŸµå¹´ğŸ´æœˆå•Šï¼Ÿè‚¯å®šæ˜¯ç”¨åˆ°çš„æ—¶å€™æŸ¥ï¼Œç„¶åå†ä¸“é—¨å­¦ã€‚é‚£æ€ä¹ˆé«˜æ•ˆåœ°æ‰¾åˆ°æƒ³è¦çš„WidgetåŠç”¨æ³•å‘¢ï¼Ÿ</p><p>â€‹è¿™é‡Œå¿…é¡»å®‰åˆ©ä¸€æ³¢ <strong>å¼ é£æ·å¤§ä½¬</strong> çš„å¼€æºé¡¹ç›® <a href="https://link.juejin.cn/?target=https://github.com/toly1994328/FlutterUnit">toly1994328&#x2F;FlutterUnit</a>ï¼Œæ”¶å½•äº†ç»å¤§éƒ¨åˆ† <strong>Flutterç»„ä»¶</strong>ï¼Œåšäº†åˆ†ç±»ï¼Œæ”¯æŒæœç´¢ï¼Œæ¯ä¸ªç»„ä»¶è¿˜æä¾›è¯¦ç»†çš„å±æ€§ä»‹ç»ã€ä»£ç ç¤ºä¾‹åŠè¿è¡Œæ•ˆæœå±•ç¤ºï¼Œ<strong>éå¸¸è‰¯å¿ƒ</strong>ï¼š</p><h2 id="4-å¸ƒå±€æ„å»º"><a href="#4-å¸ƒå±€æ„å»º" class="headerlink" title="4. å¸ƒå±€æ„å»º"></a>4. å¸ƒå±€æ„å»º</h2><p>Flutterä½¿ç”¨Widgetä½œä¸ºæ„å»ºUIçš„åŸºæœ¬å•ä½ï¼Œä¸åŒçš„Widgetså¯ä»¥ <strong>åµŒå¥—ç»„åˆ</strong> åœ¨ä¸€èµ·ï¼Œåˆ›å»ºå¤æ‚çš„å¸ƒå±€ã€‚è¿™é‡Œç®€å•è¿‡ä¸‹ç¬”è€…è®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ <strong>å¸ƒå±€Widget</strong>ã€‚å¯¹äº†ï¼Œå®¹å™¨Widgetæ·»åŠ å­æ§ä»¶çš„å±æ€§ä¸€èˆ¬æ˜¯ï¼š<strong>child(å•ä¸ª)</strong> å’Œ <strong>children(å¤šä¸ªï¼ŒList)</strong> ã€‚</p><h3 id="4-1-Container-å®¹å™¨"><a href="#4-1-Container-å®¹å™¨" class="headerlink" title="4.1. Container (å®¹å™¨)"></a>4.1. Container (å®¹å™¨)</h3><p>æ„Ÿè§‰æ˜¯Flutterä¸­æœ€å¸¸ç”¨çš„ <strong>å®¹çº³å•ä¸ªå­Widget</strong> çš„å®¹å™¨ç»„ä»¶äº†ï¼Œæ”¯æŒä¸‹è¿°æ ·å¼è®¾ç½®ï¼š</p><ul><li><strong>å®½é«˜</strong> (<strong>width</strong>ã€<strong>height</strong>)ï¼šdoubleç±»å‹ï¼Œä¸è®¾ç½®é»˜è®¤ä¸ºå­æ§ä»¶çš„å¤§å°ï¼Œå¦‚æœæƒ³å æ»¡å¯ä»¥ç”¨double.infinityï¼›</li><li><strong>èƒŒæ™¯é¢œè‰² (color)</strong> ï¼šColorç±»å‹ï¼Œå¦‚ï¼šColors.black.withOpacity(0.2) &#x2F;&#x2F; ä¸é€æ˜åº¦ä¸º20%çš„é»‘è‰²</li><li><strong>èƒŒæ™¯&#x2F;å‰æ™¯è£…é¥°</strong> (<strong>decoration&#x2F;foregroundDecoration</strong>)ï¼š<strong>BoxDecoration</strong>ï¼Œå¯ä»¥æ·»åŠ èƒŒæ™¯&#x2F;å‰æ™¯è‰²ã€æ¸å˜ã€å›¾åƒã€è¾¹æ¡†ã€é®ç½©ç­‰ï¼Œå¯¹äº†å¦‚æœè®¾ç½®äº†decorationï¼Œä¼šå¿½ç•¥æ‰colorå±æ€§ï¼›</li><li><strong>å¤–&#x2F;å†…è¾¹è·</strong> (<strong>marginã€padding</strong>)ï¼š<strong>EdgeInsets</strong>ï¼Œå¦‚ï¼šEdgeInsets.all(8.0) &#x2F;&#x2F; ä¸Šä¸‹æ‰€æœ‰éƒ½æ·»åŠ 8ä¸ªé€»è¾‘åƒç´ ï¼›</li><li><strong>å…ƒç´ å¯¹é½</strong> (<strong>alignment</strong>)ï¼š<strong>Alignment</strong>ï¼Œå¦‚ï¼šAlignment.topLeft &#x2F;&#x2F; å·¦ï¼Œå¯é€‰å€¼æœ‰9ä¸ªï¼Œç±³å­—ï¼›</li><li><strong>é¢å¤–çº¦æŸæ¡ä»¶</strong> (<strong>constraints</strong> )ï¼š<strong>BoxConstraints</strong>ï¼Œç”¨äºé™åˆ¶å®½é«˜çš„æœ€å¤§æœ€å°å€¼ï¼›</li><li><strong>å˜æ¢</strong> (<strong>transform</strong>)ï¼š<strong>Matrix4</strong>ï¼Œå¯¹å­Widgetåº”ç”¨å˜æ¢æ•ˆæœï¼Œå¦‚ï¼šå¹³ç§»ã€æ—‹è½¬ã€å€¾æ–œç­‰ï¼›</li></ul><p>ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(<span class="hljs-keyword">const</span> MyApp());<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyApp(&#123;<span class="hljs-keyword">super</span>.key&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;Container Demo&#x27;</span>),<br>        ),<br>        body: Center(<br>          child: Container(<br>            padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">8.0</span>),<br>            margin: <span class="hljs-keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="hljs-number">20.0</span>, vertical: <span class="hljs-number">10.0</span>),<br>            alignment: Alignment.center,<br>            width: <span class="hljs-built_in">double</span>.infinity,<br>            height: <span class="hljs-number">200.0</span>,<br>            decoration: BoxDecoration(<br>              color: Colors.blue,<br>              borderRadius: BorderRadius.circular(<span class="hljs-number">8.0</span>),<br>              boxShadow: [<br>                BoxShadow(<br>                  color: Colors.black.withOpacity(<span class="hljs-number">0.2</span>),<br>                  spreadRadius: <span class="hljs-number">4</span>,<br>                  blurRadius: <span class="hljs-number">6</span>,<br>                  offset: <span class="hljs-keyword">const</span> Offset(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>),<br>                ),<br>              ],<br>            ),<br>            child: <span class="hljs-keyword">const</span> Text(<br>              <span class="hljs-string">&#x27;Hello, Flutter!&#x27;</span>,<br>              style: TextStyle(color: Colors.white, fontSize: <span class="hljs-number">22.0</span>),<br>            ),<br>          ),<br>        ),<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-2-Align-å¯¹é½ç»„ä»¶"><a href="#4-2-Align-å¯¹é½ç»„ä»¶" class="headerlink" title="4.2. Align (å¯¹é½ç»„ä»¶)"></a>4.2. Align (å¯¹é½ç»„ä»¶)</h3><p> å¥—ä¸€ä¸ªæ§ä»¶ä¸Šï¼Œè®©å®ƒæ”¯æŒåœ¨çˆ¶å®¹å™¨ä¸­å¯¹é½åˆ°ç‰¹å®šä½ç½®ï¼Œé€šè¿‡ <strong>alignment</strong> å±æ€§æ¥è®¾ç½®å¯¹é½æ–¹å¼ã€‚</p><p>ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart">Container(<br>  width: <span class="hljs-number">120.0</span>,<br>  height: <span class="hljs-number">120.0</span>,<br>  color: Colors.blue,<br>  child: Align(<br>    alignment: Alignment.bottomLeft,<br>    child: FlutterLogo(size: <span class="hljs-number">60</span>),<br>  ),<br>)<br></code></pre></td></tr></table></figure><h3 id="4-3-Flex-å¼¹æ€§å¸ƒå±€"><a href="#4-3-Flex-å¼¹æ€§å¸ƒå±€" class="headerlink" title="4.3. Flex (å¼¹æ€§å¸ƒå±€)"></a>4.3. Flex (å¼¹æ€§å¸ƒå±€)</h3><p>æ°´å¹³æˆ–è€…å‚ç›´æ–¹å‘æ’åˆ—å­Widgetï¼Œå¾ˆå°‘ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ˜¯ç”¨å®ƒçš„ä¸¤ä¸ªå­ç±» <strong>Row(æ°´å¹³)</strong> å’Œ <strong>Column(å‚ç›´)</strong> ï¼ï¼ï¼ç®€å•åˆ—ä¸‹å¸¸è§å±æ€§å§ï¼š</p><ul><li><strong>children</strong> (å­æ§ä»¶åˆ—è¡¨) â†’ Listï¼›</li><li><strong>direction</strong> (ä¸»è½´æ–¹å‘ï¼Œå¿…é¡») â†’ å¯é€‰å€¼ï¼šAxis.horizontal (æ°´å¹³)ã€Axis.vertical (å‚ç›´)ï¼›</li><li><strong>mainAxisAlignment</strong> (ä¸»è½´å¯¹é½æ–¹å¼) â†’ å¦‚ä½•æ²¿ç€ä¸»è½´å¯¹é½å­Widgetï¼Œå¦‚ï¼šMainAxisAlignment.centerï¼›</li><li><strong>crossAxisAlignment</strong> (äº¤å‰è½´å¯¹é½æ–¹å¼) â†’ ä¸»è½´çš„å‚ç›´æ–¹å‘å­Widgetå¦‚ä½•å¯¹é½ï¼Œå¦‚ï¼šCrossAxisAlignment.stretchï¼›</li><li><strong>textDirection</strong> (æ°´å¹³æ–¹å‘æ’åº) â†’ å¯é€‰å€¼ï¼šTextDirection.ltr (ä»å·¦åˆ°å³) å’Œ TextDirection.rtl (ä»å³åˆ°å·¦)ï¼›</li><li><strong>verticalDirection</strong> (å‚ç›´æ–¹å‘æ’åº) â†’ å¯é€‰å€¼ï¼šVerticalDirection.down (ä»ä¸Šåˆ°ä¸‹) å’Œ VerticalDirection.up(ä»ä¸‹åˆ°ä¸Š)ï¼›</li><li><strong>mainAxisSize</strong> (Flexåœ¨ä¸»è½´æ–¹å‘åº”å ç”¨çš„ç©ºé—´å¤§å°) â†’ å¯é€‰å€¼ï¼šMainAxisSize.min (å¤§å°åˆšå¥½åŒ…å«å­Widget) å’Œ MainAxisSize.max (å°½å¯èƒ½å æ®æ›´å¤šç©ºé—´)ã€‚</li></ul><p>ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(<span class="hljs-keyword">const</span> MyFlexApp());<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFlexApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyFlexApp(&#123;<span class="hljs-keyword">super</span>.key&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      title: <span class="hljs-string">&#x27;Flex Demo&#x27;</span>,<br>      home: Scaffold(<br>        appBar: AppBar(<br>          title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;Flex Demo&#x27;</span>),<br>        ),<br>        body: Flex(<br>          direction: Axis.horizontal, <span class="hljs-comment">// è®¾ç½®Flexä¸ºæ°´å¹³æ–¹å‘</span><br>          mainAxisAlignment: MainAxisAlignment.spaceEvenly, <span class="hljs-comment">// å­Widgeté—´éš”å‡åŒ€æ’åˆ—</span><br>          children: &lt;Widget&gt;[<br>            _createContainer(++count, Colors.red),<br>            _createContainer(++count,Colors.green),<br>            _createContainer(++count,Colors.blue),<br>          ],<br>        ),<br>      ),<br>    );<br>  &#125;<br><br>  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šé¢œè‰²çš„å®¹å™¨</span><br>  Widget _createContainer(<span class="hljs-built_in">int</span> count, Color color) &#123;<br>    <span class="hljs-keyword">return</span> Expanded(<br>      flex: count,  <span class="hljs-comment">// å‰©ä½™ç©ºé—´å æ¯”</span><br>      child: Container(<br>        height: <span class="hljs-number">100.0</span>,<br>        color: color,<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶å®ç”¨ <strong>Row</strong> å°±ç­‰ä»·äºä¸Šé¢è®¾ç½®directionå±æ€§ä¸ºAxis.horizontalçš„ Flex å•¦ã€‚ä¾‹å­é‡Œç”¨ <strong>Expanded</strong> å®ç°äº†ä¸€ä¸ªæŒ‰æ¯”ä¾‹åˆ’åˆ†çš„æ•ˆæœï¼Œç±»ä¼¼æä¾›å­ç»„ä»¶ <strong>ä¼¸ç¼©Widget</strong> è¿˜æœ‰ <strong>Spacer</strong> å’Œ <strong>Flexible</strong>ã€‚</p><h3 id="4-4-Spacer-ç©ºé—´-ã€Expended-å»¶å±•-ã€Flexible-çµæ´»"><a href="#4-4-Spacer-ç©ºé—´-ã€Expended-å»¶å±•-ã€Flexible-çµæ´»" class="headerlink" title="4.4. Spacer(ç©ºé—´)ã€Expended(å»¶å±•)ã€Flexible(çµæ´»)"></a>4.4. Spacer(ç©ºé—´)ã€Expended(å»¶å±•)ã€Flexible(çµæ´»)</h3><p>è¿™ä¸‰ä¸ªWidgetéƒ½æœ‰ä¸€ä¸ª <strong>flex</strong> å±æ€§ï¼Œä½ å¯ä»¥ç»™å®ƒåˆ†é…ä¸€ä¸ª <strong>æ­£æ•´æ•° (åˆ†é…æ¯”é‡)</strong> ï¼Œè¾ƒé«˜flexå€¼çš„Widgetç›¸æ¯”è¾ƒä½flexå€¼çš„widgetè·å¾—æ›´å¤šçš„é¢å¤–ç©ºé—´ï¼Œç®€è¿°ä¸‹åŒºåˆ«ï¼š</p><ul><li><strong>Spacer</strong>ï¼šåˆ›å»ºä¸€ä¸ªå¿«é€Ÿå¡«å……æ§ä»¶çš„Widgetï¼Œflexé»˜è®¤å€¼1ï¼Œå³å æ®æ‰€æœ‰å¯ç”¨ç©ºé—´ï¼›</li><li><strong>Expended</strong>ï¼šè®© å­Widget å¡«å……æ‰€æœ‰é¢å¤–çš„ç©ºé—´ï¼›</li><li><strong>Flexible</strong>ï¼šæ§åˆ¶ å­Widget å¦‚ä½•å æ®æœªè¢«å…¶å®ƒå†…å®¹ä½¿ç”¨çš„ç©ºé—´ï¼Œä»¥åŠå®ƒä»¬åº”è¯¥ä¿æŒè‡ªç„¶å¤§å°ï¼Œè¿˜æ˜¯å¡«å……é¢å¤–çš„æ§ä»¶ã€‚å®ƒæ›´çµæ´»ï¼Œæä¾›äº†ä¸¤ç§å†…å®¹é€‚åº”ï¼šFlexFit.tight(ç´§å‡‘) FlexFit.loose(æ¾æ•£)ã€‚</li></ul><h3 id="4-5-Wrap-åŒ…è£¹å¸ƒå±€"><a href="#4-5-Wrap-åŒ…è£¹å¸ƒå±€" class="headerlink" title="4.5. Wrap (åŒ…è£¹å¸ƒå±€)"></a>4.5. Wrap (åŒ…è£¹å¸ƒå±€)</h3><p>é»˜è®¤æƒ…å†µä¸‹ Row å’Œ Column ä¸ä¼š <strong>æ»šåŠ¨</strong>ï¼Œå½“å­æ§ä»¶ä»¬çš„æ€»å®½åº¦&#x2F;é«˜åº¦è¶…è¿‡å±å¹•å¯†åº¦ï¼Œä¼šå¯¼è‡´æº¢å‡ºï¼Œè¡¨ç°ä¸ºï¼šå±å¹•è¾¹ç¼˜æ˜¾ç¤ºè£å‰ªè­¦å‘Šï¼šé€šå¸¸æ˜¯ä¸€æ¡é»„è‰²å’Œé»‘è‰²æ¡çº¹çš„åŒºåŸŸã€‚é™¤äº†ç›´æ¥å¥— <strong>SingleChildScrollView(æ»šåŠ¨è§†å›¾)</strong> è®©å…¶å¯ä»¥æ°´å¹³&#x2F;å‚ç›´æ–¹å‘æ»šåŠ¨å¤–ï¼Œ<strong>è¿˜å¯ä»¥ç”¨ Wrap(åŒ…è£¹å¸ƒå±€)</strong> ï¼šå½“ä¸€è¡Œ (æ°´å¹³æ¨¡å¼) æˆ– ä¸€åˆ— (å‚ç›´æ¨¡å¼) ç©ºé—´ä¸è¶³ä»¥å®¹çº³æ›´å¤šå­Widgetæ—¶ï¼Œ<strong>è‡ªåŠ¨å°†æº¢å‡ºçš„Widgetè½¬ç§»åˆ°æ–°çš„è¡Œæˆ–åˆ—ä¸­</strong>ã€‚Flexæœ‰çš„å±æ€§Wrapéƒ½æœ‰ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æœ‰å±æ€§ï¼š</p><ul><li><strong>spacing</strong> (ä¸»è½´ç»„ä»¶é—´è·) â†’ doubleï¼›</li><li><strong>runSpacing</strong> (äº¤å‰ç»„ä»¶é—´è·) â†’ doubleï¼›</li></ul><p>æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼šWrapä¸èƒ½ä½¿ç”¨Flexä¸­çš„Flexibleå’ŒExpandedç­‰ <strong>æ§åˆ¶å­é¡¹å¦‚ä½•å ç”¨é¢å¤–ç©ºé—´</strong> çš„ç»„ä»¶ï¼ï¼ï¼</p><h3 id="4-6-Stack-å †å å¸ƒå±€"><a href="#4-6-Stack-å †å å¸ƒå±€" class="headerlink" title="4.6. Stack (å †å å¸ƒå±€)"></a>4.6. Stack (å †å å¸ƒå±€)</h3><p> <strong>ä»¥å †å çš„å½¢å¼æ‘†æ”¾å­ç»„ä»¶</strong>ï¼Œ<strong>åè€…å±…ä¸Š</strong>ï¼Œæœ‰ç‚¹åƒAndroidé‡Œçš„FrameLayout(å¸§å¸ƒå±€)ï¼Œå¸¸ç”¨å±æ€§æœ‰è¿™äº›ï¼š</p><ul><li><strong>children</strong> (å­æ§ä»¶åˆ—è¡¨) â†’ Listï¼ŒæŒ‰ç…§åˆ—è¡¨é¡ºåºå †å ï¼Œé¦–ä¸ªæ§ä»¶åœ¨åº•éƒ¨ï¼Œæœ€åä¸€ä¸ªåœ¨é¡¶éƒ¨ï¼›</li><li><strong>alignment</strong> (å¯¹é½æ–¹å¼) â†’ AlignmentGeometryï¼Œé»˜è®¤å€¼ï¼šAlignmentDirectional.topStart (å·¦ä¸Šè§’)ï¼›</li><li><strong>fit</strong> (é€‚åº”æ¨¡å¼) â†’ StackFitï¼Œå†³å®šæœªä½¿ç”¨Positionedä¿®é¥°çš„ç»„ä»¶å¦‚ä½•é€‚åº”Stackçš„å¤§å°ï¼Œå¦‚ï¼šStackFit.expand å¡«æ»¡é¢å¤–çš„å¯ç”¨ç©ºé—´ï¼›</li><li><strong>clipBehavior</strong> â†’ Clipï¼Œå†³å®šè¶…è¿‡Stackå¤§å°çš„Widgetå¦‚ä½•æ˜¾ç¤ºï¼Œå¦‚ï¼šClip.none å…è®¸Widgetç»˜åˆ¶åœ¨Stackä¹‹å¤–ï¼›</li><li><strong>textDirection</strong> (æ–‡æœ¬å¯¹é½) â†’ æ ¹æ®æ–‡æœ¬æ–¹å‘å˜åŒ–å¯¹é½æ–¹å¼ï¼Œå¦‚ï¼šTextDirection.ltr æ–‡æœ¬ä»å·¦åˆ°å³ï¼Œè¡¨ç¤ºä¸Šå·¦å¯¹é½ï¼›</li></ul><p>ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(<span class="hljs-keyword">const</span> MyApp());<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyApp(&#123;<span class="hljs-keyword">super</span>.key&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      title: <span class="hljs-string">&#x27;Flutter Stack Demo&#x27;</span>,<br>      theme: ThemeData(<br>        primarySwatch: Colors.blue,<br>      ),<br>      home: <span class="hljs-keyword">const</span> MyHomePage(),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> MyHomePage(&#123;<span class="hljs-keyword">super</span>.key&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">var</span> count = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;Flutter Stack Demo&#x27;</span>),<br>      ),<br>      body: Center(<br>        child: Stack(<br>          alignment: Alignment.center,<br>          children: _createContainerList()<br>        ),<br>      ),<br>    );<br>  &#125;<br><br>  <span class="hljs-built_in">List</span>&lt;Widget&gt; _createContainerList() &#123;<br>    <span class="hljs-keyword">var</span> colorList = [Colors.red, Colors.blue, Colors.green, Colors.purple];<br>    <span class="hljs-built_in">List</span>&lt;Widget&gt; containerList = [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">4</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>      containerList.add(Container(<br>        height: <span class="hljs-number">100.0</span> * i,<br>        width: <span class="hljs-number">100.0</span> * i,<br>        color: colorList[i - <span class="hljs-number">1</span>],<br>      ));<br>    &#125;<br>    <span class="hljs-keyword">return</span> containerList;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-7-Flow-æµåŠ¨å¸ƒå±€"><a href="#4-7-Flow-æµåŠ¨å¸ƒå±€" class="headerlink" title="4.7. Flow (æµåŠ¨å¸ƒå±€)"></a>4.7. Flow (æµåŠ¨å¸ƒå±€)</h3><p><strong>åˆ›å»ºéœ€è¦è‡ªå®šä¹‰å¸ƒå±€ç­–ç•¥çš„åœºæ™¯</strong>ï¼Œå¦‚ï¼š<strong>éçº¿æ€§å¸ƒå±€æˆ–é‡å çš„å¸ƒå±€</strong> (æ¯”å¦‚å­æ§ä»¶åœ†å½¢æ’åˆ—)ï¼Œå¸¸ç”¨å±æ€§æœ‰è¿™äº›ï¼š</p><ul><li><strong>children</strong> (å­æ§ä»¶åˆ—è¡¨) â†’ List</li><li><strong>delegate</strong> (ä»£ç†) â†’ <strong>FlowDelegate</strong>ï¼Œéœ€è¦ç»§æ‰¿FlowDelegateåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ä»£ç†æ¥å†³å®šå­widgetçš„å¤§å°åŠä½ç½®ï¼Œå¯¹åº”é‡å†™çš„æ–¹æ³•ï¼špaintChildren(å­Widgetç»˜åˆ¶)ã€getSize(Widgetçš„å¤§å°)ã€shouldRepaint(ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦é‡æ–°ç»˜åˆ¶å¸ƒå±€)</li></ul><p>ä½¿ç”¨ä»£ç ç¤ºä¾‹å¦‚ä¸‹ (ç”Ÿæˆä¸€ä¸ªåå­—æ¶å¸ƒå±€)ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() &#123;<br>  runApp(<span class="hljs-keyword">const</span> CrossFlowWidget());<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CrossFlowWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-keyword">const</span> CrossFlowWidget(&#123;<span class="hljs-keyword">super</span>.key&#125;);<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-built_in">double</span> size = <span class="hljs-number">50.0</span>;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>        home: Scaffold(<br>      appBar: AppBar(<br>        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">&#x27;Flutter Flow Demo&#x27;</span>),<br>      ),<br>      body: Flow(<br>        delegate: CrossFlowDelegate(),<br>        children: <span class="hljs-built_in">List</span>&lt;Widget&gt;.generate(<br>          <span class="hljs-number">5</span>,<br>          (<span class="hljs-built_in">int</span> index) =&gt; Container(<br>            width: size,<br>            height: size,<br>            alignment: Alignment.center,<br>            color: index == <span class="hljs-number">2</span> ? Colors.red : Colors.blue,<br>            <span class="hljs-comment">// ä¸­é—´çš„æ˜¯çº¢è‰²</span><br>            child: Text(index.toString(), textAlign: TextAlign.center),<br>          ),<br>        ),<br>      ),<br>    ));<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CrossFlowDelegate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FlowDelegate</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-keyword">void</span> paintChildren(FlowPaintingContext context) &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> size = context.getChildSize(<span class="hljs-number">0</span>)?.width ?? <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// ä¾æ¬¡ç»˜åˆ¶ï¼šä¸­é—´ï¼Œä¸Šå·¦å³ä¸‹</span><br>    context.paintChild(<span class="hljs-number">2</span>,<br>        transform: Matrix4.translationValues(<span class="hljs-number">2</span> * size, size, <span class="hljs-number">0.0</span>));<br>    context.paintChild(<span class="hljs-number">0</span>,<br>        transform: Matrix4.translationValues(<span class="hljs-number">2</span> * size, <span class="hljs-number">0.0</span> * size, <span class="hljs-number">0.0</span>));<br>    context.paintChild(<span class="hljs-number">1</span>,<br>        transform: Matrix4.translationValues(size, size, <span class="hljs-number">0.0</span>));<br>    context.paintChild(<span class="hljs-number">3</span>,<br>        transform: Matrix4.translationValues(<span class="hljs-number">3</span> * size, size, <span class="hljs-number">0.0</span>));<br>    context.paintChild(<span class="hljs-number">4</span>,<br>        transform: Matrix4.translationValues(<span class="hljs-number">2</span> * size, <span class="hljs-number">2</span> * size, <span class="hljs-number">0.0</span>));<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  <span class="hljs-built_in">bool</span> shouldRepaint(CrossFlowDelegate oldDelegate) =&gt; <span class="hljs-keyword">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-8-SizeBox-å®šå°ºå¯¸ç›’"><a href="#4-8-SizeBox-å®šå°ºå¯¸ç›’" class="headerlink" title="4.8. SizeBox (å®šå°ºå¯¸ç›’)"></a>4.8. SizeBox (å®šå°ºå¯¸ç›’)</h3><p>å¾ˆå¸¸ç”¨çš„ <strong>å ä½ç»„ä»¶</strong>ï¼Œæœ‰ç‚¹åƒå†™XMLæ—¶ï¼Œå®šä¹‰ä¸€ä¸ªå›ºå®šå®½é«˜çš„Viewæ¥å ä½ï¼Œå¸¸è§ç”¨æ³•ç¤ºä¾‹ï¼š</p><ul><li>éœ€è¦åœ¨ä¸¤ä¸ªæ§ä»¶é—´å¢åŠ ä¸€ç‚¹æ§ä»¶ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ²¡æœ‰å­æ§ä»¶çš„SizedBox æ¥ä½œä¸º <strong>å ä½ç¬¦ï¼Œ</strong> å¦‚ï¼š SizedBox(width: 8.0)ï¼›</li><li>ç”¨å®ƒåŒ…è£¹ä¸€ä¸ªå­æ§ä»¶ï¼Œå¹¶ <strong>æŒ‡å®šä¸€ä¸ªå›ºå®šå®½é«˜</strong>ï¼Œå¼ºåˆ¶å­æ§ä»¶å…·æœ‰è¿™ä¸ªç‰¹å®šçš„å¤§å°ï¼Œä¸å—å…¶å®ƒå­æ§ä»¶å†…å®¹å¤§å°çš„å½±å“ã€‚</li></ul><h3 id="4-9-Padding-è¾¹è·ç»„ä»¶"><a href="#4-9-Padding-è¾¹è·ç»„ä»¶" class="headerlink" title="4.9. Padding (è¾¹è·ç»„ä»¶)"></a>4.9. Padding (è¾¹è·ç»„ä»¶)</h3><p>ç»™å­æ§ä»¶æ·»åŠ  <strong>å†…è¾¹è·</strong> ç”¨ï¼Œç®€å•ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">Padding(<br>  padding: <span class="hljs-keyword">const</span> EdgeInsets.all(<span class="hljs-number">8.0</span>),<span class="hljs-comment">// ä¸Šä¸‹å·¦å³æ·»åŠ ç›¸åŒçš„å†…è¾¹è·</span><br>  child: Text(<span class="hljs-string">&#x27;Hello Flutter&#x27;</span>),<br>),<br><span class="hljs-comment">// æ°´å¹³å’Œå‚ç›´æ–¹å‘ï¼šEdgeInsets.symmetric(vertical: 20.0, horizontal: 50.0)</span><br><span class="hljs-comment">// ä¸Šä¸‹å·¦å³å•ç‹¬è®¾ç½®å†…è¾¹è·ï¼šEdgeInsets.only(left: 10.0, top: 20.0)</span><br></code></pre></td></tr></table></figure><h3 id="4-10-Divderã€VerticalDivider-æ°´å¹³-å‚ç›´åˆ†å‰²çº¿"><a href="#4-10-Divderã€VerticalDivider-æ°´å¹³-å‚ç›´åˆ†å‰²çº¿" class="headerlink" title="4.10. Divderã€VerticalDivider (æ°´å¹³&#x2F;å‚ç›´åˆ†å‰²çº¿)"></a>4.10. Divderã€VerticalDivider (æ°´å¹³&#x2F;å‚ç›´åˆ†å‰²çº¿)</h3><p> å°±è®¾ç½®æ°´å¹³&#x2F;å‚ç›´çš„åˆ†å‰²çº¿ï¼Œå¸¸ç”¨å±æ€§æœ‰è¿™äº›ï¼š</p><ul><li><strong>color</strong> (é¢œè‰²)ï¼š Colorï¼›</li><li><strong>thickness</strong> (çº¿ç²—ç»†)ï¼šdoubleï¼›</li><li><strong>indent</strong> (å‰é¢çš„ç©ºç¼ºé•¿åº¦)ï¼šdouble;</li><li><strong>endIndent</strong> (åé¢çš„ç©ºç¼ºé•¿åº¦)ï¼šdouble;</li><li><strong>height</strong> (é«˜åº¦)ï¼šdoubleï¼›</li></ul><h3 id="4-11-ListView-åˆ—è¡¨ç»„ä»¶"><a href="#4-11-ListView-åˆ—è¡¨ç»„ä»¶" class="headerlink" title="4.11. ListView (åˆ—è¡¨ç»„ä»¶)"></a>4.11. ListView (åˆ—è¡¨ç»„ä»¶)</h3><p> <strong>å¯å®¹çº³å¤šä¸ªå­ç»„ä»¶çš„æ»šåŠ¨ç»„ä»¶</strong>ï¼Œå¸¸ç”¨å±æ€§æœ‰è¿™äº›ï¼š</p><ul><li><strong>children</strong> (å­æ§ä»¶åˆ—è¡¨) â†’ List</li><li><strong>paddding</strong> (å†…è¾¹è·) â†’ double</li><li><strong>scrollDirection</strong> (æ»šåŠ¨æ–¹å‘) â†’ Axis.vertical(å‚ç›´ï¼Œé»˜è®¤)ï¼ŒAxis.horizontal(æ°´å¹³)ï¼›</li><li><strong>reverse</strong> (æ˜¯å¦åå‘æ»šåŠ¨) â†’ boolï¼Œè®¾ç½®ä¸ºtrueæ—¶ï¼Œåˆ—è¡¨å°†ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹æ˜¾ç¤ºï¼Œå¹¶ä¸”åå‘æ»šåŠ¨ï¼›</li><li><strong>shrinkWrap</strong> â†’ boolï¼Œåˆ—è¡¨æ˜¯å¦å‡å°‘è‡ªèº«å°ºå¯¸ä»¥é€‚åº”å­é¡¹çš„æ€»é•¿åº¦ã€‚</li></ul><p>æ„é€ ListViewçš„å¸¸è§æ–¹å¼æœ‰è¿™å‡ ç§ï¼š</p><h4 id="4-11-1-é»˜è®¤æ„é€ å‡½æ•°"><a href="#4-11-1-é»˜è®¤æ„é€ å‡½æ•°" class="headerlink" title="4.11.1. é»˜è®¤æ„é€ å‡½æ•°"></a>4.11.1. é»˜è®¤æ„é€ å‡½æ•°</h4><p>é€‚åˆ <strong>é™æ€åˆ—è¡¨æˆ–è€…ä¸ä¼šå˜åŒ–çš„å°å‹åˆ—è¡¨</strong>ï¼Œç®€å•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart">ListView(<br>  children: &lt;Widget&gt;[<br>    ListTile(title: Text(<span class="hljs-string">&#x27;Item 1&#x27;</span>)),<br>    ListTile(title: Text(<span class="hljs-string">&#x27;Item 2&#x27;</span>)),<br>    ListTile(title: Text(<span class="hljs-string">&#x27;Item 3&#x27;</span>)),<br>  ],<br>);<br></code></pre></td></tr></table></figure><h4 id="4-11-2-ListView-builder"><a href="#4-11-2-ListView-builder" class="headerlink" title="4.11.2. ListView.builder"></a>4.11.2. ListView.builder</h4><p>é€‚åˆ <strong>å¤§å‹æˆ–è€…æ— é™åˆ—è¡¨</strong>ï¼Œæ„å»ºé¡¹æ˜¯ <strong>æƒ°æ€§åŠ è½½</strong> çš„ï¼Œåªæœ‰å½“å®ƒä»¬å³å°†æ˜¾ç¤ºæ—¶æ‰ä¼šåˆ›å»ºï¼Œç®€å•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">ListView.builder(<br>  itemCount: items.length,<br>  itemBuilder: (context, index) &#123;<br>    <span class="hljs-keyword">return</span> ListTile(title: Text(<span class="hljs-string">&#x27;Item <span class="hljs-subst">$index</span>&#x27;</span>));<br>  &#125;,<br>)<br></code></pre></td></tr></table></figure><h4 id="4-11-3-ListView-separated"><a href="#4-11-3-ListView-separated" class="headerlink" title="4.11.3. ListView.separated"></a>4.11.3. <strong>ListView.separated</strong></h4><p>åœ¨ <strong>ListView.builder</strong> çš„åŸºç¡€ä¸Šå¤šäº†ä¸€ä¸ª <strong>åˆ†éš”å™¨</strong>ï¼Œåœ¨éœ€è¦åœ¨åˆ—è¡¨é¡¹é—´æ·»åŠ  <strong>åˆ†å‰²çº¿</strong> çš„åœºåˆéå¸¸æœ‰ç”¨ï¼Œç®€å•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart">ListView.separated(<br>  itemCount: items.length,<br>  itemBuilder: (context, index) &#123;<br>    <span class="hljs-keyword">return</span> ListTile(title: Text(<span class="hljs-string">&#x27;Item <span class="hljs-subst">$index</span>&#x27;</span>));<br>  &#125;,<br>  separatorBuilder: (context, index) =&gt; Divider(height: .<span class="hljs-number">5</span>),<br>)<br></code></pre></td></tr></table></figure><h4 id="4-11-4-ListView-custom"><a href="#4-11-4-ListView-custom" class="headerlink" title="4.11.4. ListView.custom"></a>4.11.4. ListView.custom</h4><p>æä¾› <strong>æ›´å¤šè‡ªå®šä¹‰åŠŸèƒ½</strong>ï¼Œå¦‚ä½¿ç”¨ <strong>SliverChildListDelegate</strong> å’Œ <strong>SliverChildBuilderDelegate</strong> æ¥åˆ›å»ºå­é¡¹ä¸åˆ†éš”ç¬¦ï¼Œç®€å•ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart">ListView.custom(<br>  childrenDelegate: SliverChildListDelegate(<br>    [<br>      ListTile(title: Text(<span class="hljs-string">&#x27;Item 1&#x27;</span>)),<br>      ListTile(title: Text(<span class="hljs-string">&#x27;Item 2&#x27;</span>)),<br>      <span class="hljs-comment">//... æ›´å¤šçš„å­é¡¹</span><br>    ],<br>  ),<br>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter widget</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter å¸ƒå±€</title>
    <link href="/blog/2025/12/18/flutter-layout/"/>
    <url>/blog/2025/12/18/flutter-layout/</url>
    
    <content type="html"><![CDATA[<h1 id="Flutterå¸ƒå±€"><a href="#Flutterå¸ƒå±€" class="headerlink" title="Flutterå¸ƒå±€"></a>Flutterå¸ƒå±€</h1><h3 id="ä¸€ã€rowã€Column"><a href="#ä¸€ã€rowã€Column" class="headerlink" title="ä¸€ã€rowã€Column"></a>ä¸€ã€rowã€Column</h3><p><strong><code>mainAxisAlignment</code></strong>:   å®šä¹‰å­ç»„ä»¶åœ¨ä¸»è½´ï¼ˆæ°´å¹³æ–¹å‘ï¼‰ä¸Šçš„å¯¹é½æ–¹å¼</p><p>â€‹MainAxisAlignment.start</p><p>â€‹MainAxisAlignment.end</p><p>â€‹MainAxisAlignment.center</p><p>â€‹MainAxisAlignment.spaceBetween</p><p>â€‹MainAxisAlignment.spaceAround</p><p>â€‹MainAxisAlignment.spaceEvenly</p><p><strong><code>mainAxisSize</code></strong>:  æ§åˆ¶Rowåœ¨ä¸»è½´ï¼ˆæ°´å¹³æ–¹å‘ï¼‰ä¸Šå ç”¨çš„ç©ºé—´</p><p>â€‹MainAxisSize.maxï¼šä¸»è½´æ–¹å‘å°ºå¯¸æœ€å¤§åŒ–ï¼ˆé»˜è®¤ï¼‰</p><p>â€‹MainAxisSize.minï¼šä¸»è½´æ–¹å‘å°ºå¯¸æœ€å°åŒ–ï¼ˆç´§è´´å­ç»„ä»¶æ€»å®½åº¦ï¼‰</p><p>**<code>crossAxisAlignment</code>**â€Œï¼šå®šä¹‰å­ç»„ä»¶åœ¨äº¤å‰è½´ï¼ˆå‚ç›´æ–¹å‘ï¼‰ä¸Šçš„å¯¹é½æ–¹å¼</p><p>â€‹CrossAxisAlignment.startï¼š</p><p>â€‹CrossAxisAlignment.endï¼š</p><p>â€‹CrossAxisAlignment.centerï¼š</p><p>â€‹CrossAxisAlignment.stretchï¼šæ‹‰ä¼¸å­ç»„ä»¶ä»¥å¡«æ»¡äº¤å‰è½´æ–¹å‘</p><p>â€‹CrossAxisAlignment.baselineï¼šåŸºäºæ–‡æœ¬åŸºçº¿å¯¹é½ï¼ˆéœ€å­ç»„ä»¶æœ‰æ–‡æœ¬ï¼‰</p><p>**<code>textDirection</code>**â€Œï¼šæŒ‡å®šä¸»è½´æ–¹å‘çš„æ–‡æœ¬å¸ƒå±€é¡ºåºï¼Œç”¨äºç¡®å®š<code>start</code>å’Œ<code>end</code>å¯¹é½çš„å‚è€ƒæ–¹å‘</p><p>â€‹TextDirection.ltrï¼š ä»å·¦åˆ°å³ï¼ˆé»˜è®¤ï¼‰</p><p>â€‹TextDirection.rtlï¼šä»å³åˆ°å·¦ï¼ˆå¦‚é˜¿æ‹‰ä¼¯è¯­åœºæ™¯ï¼‰</p><p><strong><code>verticalDirection</code></strong>ï¼šå†³å®šäº¤å‰è½´æ–¹å‘çš„å¯¹é½åŸºå‡†ï¼ˆä»ä¸Šåˆ°ä¸‹æˆ–ä»ä¸‹åˆ°ä¸Šï¼‰ï¼Œé»˜è®¤å€¼ä¸º <code>VerticalDirection.down</code>ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰ã€‚</p><h3 id="padding"><a href="#padding" class="headerlink" title="padding"></a>padding</h3><p>1.EdgeInsets</p><table><thead><tr><th align="left">æ„é€ æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td align="left"><code>EdgeInsets.all(double value)</code></td><td>å››å‘¨ç›¸ç­‰</td><td><code>EdgeInsets.all(16)</code></td></tr><tr><td align="left"><code>EdgeInsets.only({left, top, right, bottom})</code></td><td>åªè®¾ç½®æŒ‡å®šæ–¹å‘</td><td><code>EdgeInsets.only(left: 10, top: 5)</code></td></tr><tr><td align="left"><code>EdgeInsets.symmetric({vertical, horizontal})</code></td><td>å‚ç›´&#x2F;æ°´å¹³å¯¹ç§°</td><td><code>EdgeInsets.symmetric(vertical: 8, horizontal: 12)</code></td></tr><tr><td align="left"><code>EdgeInsets.fromLTRB(double left, double top, double right, double bottom)</code></td><td>æŒ‰å·¦-ä¸Š-å³-ä¸‹é¡ºåº</td><td><code>EdgeInsets.fromLTRB(10, 5, 10, 5)</code></td></tr><tr><td align="left"><code>EdgeInsets.zero</code></td><td>æ‰€æœ‰æ–¹å‘ä¸º 0ï¼ˆå¸¸é‡ï¼‰</td><td><code>padding: EdgeInsets.zero</code></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter å¸ƒå±€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµè§ˆå™¨çš„æ¸²æŸ“è¿‡ç¨‹</title>
    <link href="/blog/2025/08/21/browser-render/"/>
    <url>/blog/2025/08/21/browser-render/</url>
    
    <content type="html"><![CDATA[<h1 id="è¾“å…¥-URL-ååˆ°é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹"><a href="#è¾“å…¥-URL-ååˆ°é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹" class="headerlink" title="è¾“å…¥ URL ååˆ°é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹"></a>è¾“å…¥ URL ååˆ°é¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸² URL åï¼Œæ¯”å¦‚ [ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“ (baidu.com)ï¼Œå¾ˆå¿«ç™¾åº¦çš„é¡µé¢å°±èƒ½åŠ è½½å‡ºæ¥ã€‚é‚£åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æµè§ˆå™¨éƒ½è¿›è¡Œäº†å“ªäº›æ“ä½œå‘¢ï¼Ÿ</strong> é¢è¯•å®˜ç»å¸¸ä¼šé—®åˆ°è¿™ä¸ªè¿‡ç¨‹ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥æŠŠè¿™ä¸ªå®Œæ•´çš„è¿‡ç¨‹ç»™å®ƒæ¢ç©¶æ˜ç™½ã€‚</p></blockquote><h2 id="è¾“å…¥-URL-ååˆ°é¡µé¢æ¸²æŸ“"><a href="#è¾“å…¥-URL-ååˆ°é¡µé¢æ¸²æŸ“" class="headerlink" title="è¾“å…¥ URL ååˆ°é¡µé¢æ¸²æŸ“"></a>è¾“å…¥ URL ååˆ°é¡µé¢æ¸²æŸ“</h2><p><strong>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URL åˆ°é¡µé¢æ¸²æŸ“çš„æ•´ä¸ªè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºå¤šä¸ªæ­¥éª¤</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠæµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿã€ç½‘ç»œä»¥åŠæœåŠ¡å™¨çš„åä½œã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦é˜¶æ®µï¼š</p><h3 id="1-DNS-è§£æ"><a href="#1-DNS-è§£æ" class="headerlink" title="1. DNS è§£æ"></a>1. DNS è§£æ</h3><p>å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ª URL å¹¶æŒ‰ä¸‹å›è½¦æ—¶ï¼Œæµè§ˆå™¨é¦–å…ˆä¼šè§£æè¿™ä¸ª URLã€‚<strong>URL é€šå¸¸åŒ…æ‹¬åè®®ï¼ˆå¦‚ <code>http</code> æˆ– <code>https</code>ï¼‰ã€åŸŸåï¼ˆå¦‚ <code>example.com</code>ï¼‰æˆ– IP åœ°å€ã€ç«¯å£å’Œè·¯å¾„</strong>ã€‚</p><p>å¦‚æœ URL åŒ…å«çš„æ˜¯åŸŸåè€Œä¸æ˜¯IPåœ°å€ï¼Œæµè§ˆå™¨éœ€è¦<strong>é€šè¿‡DNSï¼ˆåŸŸåç³»ç»Ÿï¼‰è§£ææ¥è·å–è¯¥åŸŸåå¯¹åº”çš„æœåŠ¡å™¨IPåœ°å€</strong>ã€‚</p><ul><li><strong>æœ¬åœ°åŸŸåæœåŠ¡å™¨æŸ¥è¯¢</strong>ï¼šæµè§ˆå™¨é¦–å…ˆä¼š<strong>æŸ¥æ‰¾æœ¬åœ°ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥åŸŸåå¯¹åº”çš„ IP åœ°å€</strong>ã€‚å¦‚æœç¼“å­˜ä¸­æ‰¾ä¸åˆ°ï¼Œå®ƒä¼šå‘æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘èµ·è¯·æ±‚ã€‚</li><li><strong>æ ¹åŸŸåæœåŠ¡å™¨æŸ¥è¯¢</strong>ï¼šå¦‚æœæœ¬åœ°åŸŸåæœåŠ¡å™¨æ²¡æœ‰æ‰¾åˆ°ç»“æœï¼Œå®ƒä¼šè¯·æ±‚<strong>æ ¹åŸŸåæœåŠ¡å™¨</strong>ã€‚<strong>æ ¹åŸŸåæœåŠ¡å™¨ä¼šè¿”å›ä¸è¯¥åŸŸåç›¸å…³çš„é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆå¦‚ <code>.com</code>ã€<code>.net</code> ç­‰ï¼‰çš„åœ°å€</strong>ã€‚</li><li><strong>é¡¶çº§åŸŸåæœåŠ¡å™¨æŸ¥è¯¢</strong>ï¼šæ¥ä¸‹æ¥ï¼Œ<strong>æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘è¿”å›çš„é¡¶çº§åŸŸåæœåŠ¡å™¨å‘èµ·æŸ¥è¯¢</strong>ï¼Œé¡¶çº§åŸŸåæœåŠ¡å™¨ä¼šè¿”å›å…·ä½“ç®¡ç†è¯¥åŸŸåçš„æœåŠ¡å™¨åœ°å€ã€‚</li><li><strong>ç›®æ ‡åŸŸåæœåŠ¡å™¨æŸ¥è¯¢</strong>ï¼šæœ¬åœ°åŸŸåæœåŠ¡å™¨å‘<strong>ç›®æ ‡åŸŸåæœåŠ¡å™¨</strong>å‘èµ·æŸ¥è¯¢ï¼Œ<strong>ç›®æ ‡æœåŠ¡å™¨è¿”å›å…·ä½“çš„ IP åœ°å€</strong>ã€‚</li><li><strong>DNS ç¼“å­˜</strong>ï¼šæœ¬åœ°æœåŠ¡å™¨å°†æŸ¥è¯¢åˆ°çš„ IP åœ°å€è¿”å›ç»™ç”¨æˆ·ï¼Œå¹¶ä¸”ä¼š<strong>å°†è¯¥ IP åœ°å€ç¼“å­˜èµ·æ¥</strong>ï¼Œä¾›æœªæ¥å¿«é€Ÿè®¿é—®ã€‚</li></ul><h3 id="2-TCP-åè®®-â€”â€”-ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰"><a href="#2-TCP-åè®®-â€”â€”-ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰" class="headerlink" title="2. TCP åè®® â€”â€” ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰"></a>2. <strong>TCP åè®® â€”â€” ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰</strong></h3><p>è·å–äº†æœåŠ¡å™¨çš„ IP åœ°å€åï¼Œ<strong>æµè§ˆå™¨ä¼šä¸æœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥</strong>ã€‚è¿™æ—¶ä¼šæ¶‰åŠ<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>çš„è¿‡ç¨‹ï¼š</p><h4 id="ä¸‰æ¬¡æ¡æ‰‹æ­¥éª¤ï¼š"><a href="#ä¸‰æ¬¡æ¡æ‰‹æ­¥éª¤ï¼š" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹æ­¥éª¤ï¼š"></a>ä¸‰æ¬¡æ¡æ‰‹æ­¥éª¤ï¼š</h4><ol><li><strong>å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚ï¼ˆSYNï¼‰</strong> ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªå¸¦æœ‰ <strong>SYN</strong> æ ‡å¿—ä½çš„è¯·æ±‚ï¼Œè¡¨ç¤ºå¸Œæœ›å»ºç«‹è¿æ¥ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº <strong>SYN-SENT</strong> çŠ¶æ€ã€‚</li><li><strong>æœåŠ¡å™¨ç¡®è®¤è¯·æ±‚å¹¶å›å¤ï¼ˆSYN + ACKï¼‰</strong> ï¼šæœåŠ¡å™¨æ”¶åˆ°è¿æ¥è¯·æ±‚åï¼Œä¼šå›å¤ä¸€ä¸ªå¸¦æœ‰ <strong>SYN</strong> å’Œ <strong>ACK</strong> æ ‡å¿—çš„æŠ¥æ–‡ï¼Œè¡¨ç¤ºæ¥å—è¿æ¥è¯·æ±‚å¹¶ç¡®è®¤ã€‚æ­¤æ—¶æœåŠ¡å™¨è¿›å…¥ <strong>SYN-RECEIVED</strong> çŠ¶æ€ã€‚</li><li><strong>å®¢æˆ·ç«¯ç¡®è®¤æ”¶åˆ°å›å¤ï¼ˆACKï¼‰</strong> ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨çš„ç¡®è®¤åï¼Œå†æ¬¡å‘é€ä¸€ä¸ªå¸¦æœ‰ <strong>ACK</strong> æ ‡å¿—çš„ç¡®è®¤ä¿¡æ¯ï¼Œè¡¨æ˜è¿æ¥å»ºç«‹å®Œæˆã€‚æ­¤æ—¶åŒæ–¹éƒ½è¿›å…¥ <strong>ESTABLISHED</strong> çŠ¶æ€ï¼Œè¿æ¥æˆåŠŸå»ºç«‹ã€‚</li></ol><h4 id="ä¸ºä»€ä¹ˆä¸€å®šè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡è¡Œä¸è¡Œï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸€å®šè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡è¡Œä¸è¡Œï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸€å®šè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡è¡Œä¸è¡Œï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸€å®šè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡è¡Œä¸è¡Œï¼Ÿ</h4><p>è¿™æ—¶ï¼Œé¢è¯•å®˜å°±ä¼šé—®ï¼Œä¸€å®šè¦ä¸‰æ¬¡æ¡æ‰‹å—ï¼Ÿä¸¤æ¬¡æ¡æ‰‹ä¸è¡Œå—ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯ä¸è¡Œï¼›</p><p>å¦‚æœåªä½¿ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs">ä»£ç è§£è¯»<br>å¤åˆ¶ä»£ç å®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªè¿æ¥è¯·æ±‚SYNæŠ¥æ–‡åï¼Œç”±äºç½‘ç»œæ‹¥å¡ç­‰åŸå› ï¼Œè¿™ä¸ªæŠ¥æ–‡ä¸¢å¤±äº†ï¼Œå®¢æˆ·ç«¯è¶…æ—¶åé‡æ–°å‘é€äº†ä¸€ä¸ªæ–°çš„SYNæŠ¥æ–‡ï¼Œå»ºç«‹äº†è¿æ¥å¹¶è¿›è¡Œäº†æ•°æ®ä¼ è¾“ã€‚ä½†æ˜¯åœ¨è¿æ¥å…³é—­ä¹‹åï¼Œç¬¬ä¸€æ¬¡å‘é€çš„é‚£ä¸ªSYNæŠ¥æ–‡çªç„¶åˆåˆ°è¾¾äº†æœåŠ¡ç«¯ï¼ŒæŒ‰ç…§ä¸¤æ¬¡æ¡æ‰‹çš„æ–¹å¼ï¼ŒæœåŠ¡ç«¯ä¼šè¯¯ä»¥ä¸ºè¿™æ˜¯ä¸€ä¸ªæ–°çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶å‘é€SYN+ACKè¿›è¡Œç¡®è®¤ï¼Œè¿›è€Œå»ºç«‹ä¸€ä¸ªæ— æ•ˆçš„è¿æ¥ï¼Œæµªè´¹æ€§èƒ½ã€‚è€Œä¸‰æ¬¡æ¡æ‰‹å°±èƒ½é¿å…è¿™ç§æƒ…å†µï¼Œå› ä¸ºæœåŠ¡ç«¯åœ¨æ”¶åˆ°ç¬¬ä¸€ä¸ªSYNæŠ¥æ–‡æ—¶ä¼šå›å¤SYN+ACKï¼Œä½†å¦‚æœæ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¡®è®¤ACKï¼Œå°±ä¸ä¼šå»ºç«‹è¿æ¥ã€‚<br></code></pre></td></tr></table></figure><h3 id="3-HTTP-æ•°æ®ä¼ è¾“"><a href="#3-HTTP-æ•°æ®ä¼ è¾“" class="headerlink" title="3. HTTP æ•°æ®ä¼ è¾“"></a>3. <strong>HTTP æ•°æ®ä¼ è¾“</strong></h3><p>TCP è¿æ¥å»ºç«‹ä¹‹åï¼Œ<strong>æµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚è¿›è¡Œæ•°æ®ä¼ è¾“</strong>ã€‚å…³äº HTTP åè®®æœ‰ä»¥ä¸‹å‡ ä¸ªç‰ˆæœ¬ï¼š</p><h4 id="HTTP-0-9-â€”â€”-è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„èµ·æº"><a href="#HTTP-0-9-â€”â€”-è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„èµ·æº" class="headerlink" title="HTTP 0.9 â€”â€” è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„èµ·æº"></a><strong>HTTP 0.9 â€”â€” è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„èµ·æº</strong></h4><p><strong>HTTP 0.9 æ˜¯æœ€åˆç‰ˆæœ¬çš„ HTTP åè®®ï¼Œä¸“ä¸ºå®éªŒå®¤è®¾è®¡ï¼Œç”¨äºä¼ è¾“ç®€å•çš„ HTML æ–‡æœ¬</strong>ã€‚è¿™ä¸ªç‰ˆæœ¬æä¸ºç®€åŒ–ï¼Œåªæœ‰è¯·æ±‚è¡Œï¼Œæ ¼å¼ä¸º <code>GET /index.html</code>ã€‚æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚åï¼Œåªè¿”å› HTML æ–‡æœ¬å†…å®¹ï¼Œä¸”ä½¿ç”¨ <strong>ASCII ç¼–ç </strong>ã€‚è™½ç„¶ HTTP 0.9 èƒ½å¤ŸåŸºæœ¬ä¼ è¾“è¶…æ–‡æœ¬æ–‡ä»¶ï¼Œä½†å®ƒæ— æ³•ä¼ è¾“å…¶ä»–ç±»å‹çš„èµ„æºæ–‡ä»¶ï¼Œä¸”æ²¡æœ‰è¯·æ±‚å¤´æˆ–å“åº”å¤´ï¼Œå¯¼è‡´æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡èƒ½åŠ›éå¸¸æœ‰é™ã€‚</p><h4 id="HTTP-1-0-â€”â€”-æ”¯æŒæ›´å¤šèµ„æºçš„ä¼ è¾“"><a href="#HTTP-1-0-â€”â€”-æ”¯æŒæ›´å¤šèµ„æºçš„ä¼ è¾“" class="headerlink" title="HTTP 1.0 â€”â€” æ”¯æŒæ›´å¤šèµ„æºçš„ä¼ è¾“"></a><strong>HTTP 1.0 â€”â€” æ”¯æŒæ›´å¤šèµ„æºçš„ä¼ è¾“</strong></h4><p>éšç€äº’è”ç½‘çš„å‘å±•ï¼Œä¸ä»…ä»…æ˜¯ HTML æ–‡ä»¶ï¼Œè¿˜æœ‰<strong>å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šç§ç±»å‹çš„èµ„æºéœ€è¦ä¼ è¾“</strong>ï¼ŒHTTP 0.9 å·²æ— æ³•æ»¡è¶³éœ€æ±‚ã€‚å› æ­¤ï¼Œ<strong>HTTP 1.0</strong> <strong>å¢åŠ äº†è¯·æ±‚å¤´å’Œå“åº”å¤´</strong>ï¼Œå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ›´å¤šäº¤æµï¼Œä¼ è¾“ä¸åŒç±»å‹çš„èµ„æºã€‚</p><ul><li><strong>è¯·æ±‚å¤´</strong>ï¼šå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è¯·æ±‚å¤´æ¥å‘ŠçŸ¥æœåŠ¡å™¨æ‰€æœŸæœ›çš„æ•°æ®ç±»å‹å’Œæ ¼å¼ï¼Œå¦‚ï¼š<ul><li><code>acceptï¼štext/html</code> â€”â€” è¡¨ç¤ºæœŸæœ›è¿”å› HTML æ–‡ä»¶ã€‚</li><li><code>accept-encoding: gzip, deflate, br</code> â€”â€” æŒ‡å®šæ”¯æŒçš„å‹ç¼©æ ¼å¼ã€‚</li><li><code>accept-language: zh-CN,zh;q=0.9,en;q=0.8</code> â€”â€” æŒ‡å®šä¼˜å…ˆçš„è¯­è¨€ã€‚</li><li><code>accept-charset: utf-8</code> â€”â€” æŒ‡å®šä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚</li></ul></li><li><strong>å“åº”å¤´</strong>ï¼šæœåŠ¡å™¨é€šè¿‡å“åº”å¤´å‘ŠçŸ¥å®¢æˆ·ç«¯è¿”å›çš„æ•°æ®ç±»å‹ã€ç¼–ç æ–¹å¼ç­‰ï¼Œå¦‚ï¼š<ul><li><code>content-type: text/html</code> â€”â€” è¿”å› HTML æ–‡ä»¶ã€‚</li><li><code>content-encoding: gzip</code> â€”â€” æŒ‡å®šå†…å®¹å·²ä½¿ç”¨ gzip å‹ç¼©ã€‚</li></ul></li></ul><p>æ­¤å¤–ï¼ŒHTTP 1.0 è¿˜å¼•å…¥äº† <strong>HTTP çŠ¶æ€ç </strong>ï¼Œå¦‚ 200ï¼ˆæˆåŠŸï¼‰ã€404ï¼ˆæœªæ‰¾åˆ°ï¼‰ã€500ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ï¼Œç”¨äºæŒ‡ç¤ºè¯·æ±‚çš„å¤„ç†ç»“æœã€‚</p><h4 id="HTTP-1-1-â€”â€”-æŒä¹…è¿æ¥ä¸è™šæ‹Ÿä¸»æœºæ”¯æŒ"><a href="#HTTP-1-1-â€”â€”-æŒä¹…è¿æ¥ä¸è™šæ‹Ÿä¸»æœºæ”¯æŒ" class="headerlink" title="HTTP 1.1 â€”â€” æŒä¹…è¿æ¥ä¸è™šæ‹Ÿä¸»æœºæ”¯æŒ"></a><strong>HTTP 1.1 â€”â€” æŒä¹…è¿æ¥ä¸è™šæ‹Ÿä¸»æœºæ”¯æŒ</strong></h4><p>HTTP 1.0 çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯<strong>çŸ­è¿æ¥</strong>ã€‚<strong>æ¯æ¬¡è¯·æ±‚éƒ½ä¼šå»ºç«‹ä¸€æ¬¡ TCP è¿æ¥ï¼Œå“åº”ç»“æŸåå°±å…³é—­è¿æ¥ï¼Œè¿™æ ·å¯¹æœåŠ¡å™¨èµ„æºæ¶ˆè€—è¾ƒå¤§</strong>ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>HTTP 1.1</strong> å¼•å…¥äº†<strong>é•¿è¿æ¥</strong>ï¼Œå³ TCP è¿æ¥åœ¨ä¸€æ¬¡è¯·æ±‚ç»“æŸåä¸ä¼šç«‹å³å…³é—­ï¼Œå¤šä¸ªè¯·æ±‚å¯ä»¥å¤ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚è¿™æé«˜äº†æ€§èƒ½ï¼Œ<strong>å‡å°‘äº†è¿æ¥å»ºç«‹å’Œæ–­å¼€çš„å¼€é”€</strong>ã€‚</p><p><strong>HTTP 1.1</strong> ç‰ˆæœ¬æœ‰ä»¥ä¸‹ä¸€äº›ç‰¹æ€§ï¼š</p><ul><li><strong>HTTP é˜Ÿå¤´é˜»å¡</strong>ï¼šHTTP 1.1 è™½ç„¶æ”¯æŒé•¿è¿æ¥ï¼Œä½†å¤šä¸ªè¯·æ±‚åœ¨åŒä¸€æ¡ TCP è¿æ¥ä¸­å‘é€æ—¶ï¼Œå¦‚æœå‰ä¸€ä¸ªè¯·æ±‚æœªå®Œæˆï¼Œåé¢çš„è¯·æ±‚ä¼šè¢«é˜»å¡ï¼Œå¯¼è‡´æ•ˆç‡é™ä½ã€‚</li><li><strong>è™šæ‹Ÿä¸»æœºæ”¯æŒ</strong>ï¼šHTTP 1.1 å¢åŠ äº† <code>HOST</code> å¤´å­—æ®µï¼Œ<strong>å…è®¸ä¸€å°æœåŠ¡å™¨é€šè¿‡ä¸€ä¸ª IP åœ°å€æ‰˜ç®¡å¤šä¸ªåŸŸå</strong>ã€‚</li><li><strong>Cookie æ”¯æŒ</strong>ï¼šHTTP 1.1 é€šè¿‡ Cookie å®ç°äº†ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼Œä½¿å¾—ç½‘ç«™å¯ä»¥è®°ä½ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ç­‰ä¿¡æ¯ã€‚</li></ul><h4 id="HTTP-2-0-â€”â€”-å¤šè·¯å¤ç”¨ä¸å¤´éƒ¨å‹ç¼©"><a href="#HTTP-2-0-â€”â€”-å¤šè·¯å¤ç”¨ä¸å¤´éƒ¨å‹ç¼©" class="headerlink" title="HTTP 2.0 â€”â€” å¤šè·¯å¤ç”¨ä¸å¤´éƒ¨å‹ç¼©"></a><strong>HTTP 2.0 â€”â€” å¤šè·¯å¤ç”¨ä¸å¤´éƒ¨å‹ç¼©</strong></h4><p><strong>è™½ç„¶ HTTP 1.1 çš„é•¿è¿æ¥æ”¹å–„äº†æ€§èƒ½ï¼Œä½†ä»å­˜åœ¨å¸¦å®½åˆ©ç”¨ç‡ä½çš„ç­‰é—®é¢˜</strong>ã€‚ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹æ–¹é¢ï¼š</p><ul><li>TCPçš„æ…¢å¯åŠ¨ï¼šTCPçš„æ…¢å¯åŠ¨ç®—æ³•æ˜¯ç”¨æ¥æ§åˆ¶æ–°å»ºç«‹çš„è¿æ¥åˆæœŸçš„æµé‡ï¼Œé¿å…çªç„¶å¤§é‡çš„æ•°æ®æ¶Œå…¥ç½‘ç»œé€ æˆæ‹¥å¡ã€‚åœ¨æ…¢å¯åŠ¨é˜¶æ®µï¼Œå‘é€æ–¹æœ€åˆåªä¼šå‘é€å°‘é‡çš„æ•°æ®æ®µï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªMSSï¼Œæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼‰ï¼Œç„¶åæ ¹æ®æ”¶åˆ°çš„ç¡®è®¤é€æ­¥å¢åŠ å‘é€é€Ÿç‡ã€‚</li><li>åŒæ—¶å¼€å¯çš„å¤šæ¡TCPè¿æ¥ç›¸äº’ç«äº‰å¸¦å®½ï¼šå½“ä¸€ä¸ªå®¢æˆ·ç«¯åŒæ—¶ä¸æœåŠ¡å™¨å»ºç«‹äº†å¤šä¸ªTCPè¿æ¥æ—¶ï¼Œè¿™äº›è¿æ¥å¯èƒ½ä¼šç›¸äº’ç«äº‰æœ‰é™çš„å¸¦å®½èµ„æºã€‚</li><li>httpé˜Ÿå¤´é˜»å¡ï¼šHTTP&#x2F;1.1ä¸­çš„é˜Ÿå¤´é˜»å¡æ˜¯æŒ‡åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸­ï¼Œåç»­è¯·æ±‚çš„å¤„ç†å¿…é¡»ç­‰å¾…å‰é¢è¯·æ±‚çš„å“åº”æ‰èƒ½å¼€å§‹çš„é—®é¢˜ã€‚å³ä½¿æœåŠ¡å™¨å·²ç»å‡†å¤‡å¥½å‘é€å¤šä¸ªå“åº”ï¼Œä½†å¦‚æœå‰é¢çš„å“åº”æ²¡æœ‰å®Œå…¨å‘é€å®Œæ¯•ï¼Œåé¢çš„å“åº”ä¹Ÿæ— æ³•å¼€å§‹ä¼ è¾“ã€‚</li></ul><p>å¯¹æ­¤ <strong>HTTP 2.0</strong> å¼•å…¥äº†å¤šé¡¹ä¼˜åŒ–æªæ–½ï¼Œæå‡äº†åè®®æ•ˆç‡ï¼š</p><ul><li><strong>å¤šè·¯å¤ç”¨</strong>ï¼šHTTP 2.0 åœ¨å•ä¸€ TCP è¿æ¥ä¸Šæ”¯æŒåŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œé¿å…äº† HTTP 1.1 ä¸­çš„é˜Ÿå¤´é˜»å¡ã€‚å®ƒé€šè¿‡ä¸€ä¸ª<strong>äºŒè¿›åˆ¶åˆ†å¸§å±‚</strong>å°†è¯·æ±‚å’Œå“åº”åˆ†è§£ä¸ºå¤šä¸ªå¸§ï¼Œæ¯ä¸ªå¸§å¸¦æœ‰å”¯ä¸€çš„ IDï¼Œ<strong>æµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡ ID æ¥åŒºåˆ†å’Œç»„åˆæ•°æ®</strong>ã€‚è¿™å¤§å¤§æé«˜äº†ä¼ è¾“æ•ˆç‡ï¼Œä¸”<strong>é¿å…äº†å¤šä¸ª TCP è¿æ¥ä¹‹é—´çš„å¸¦å®½ç«äº‰</strong>ã€‚</li><li><strong>ä¼˜å…ˆçº§æ§åˆ¶</strong>ï¼š<strong>åœ¨å¤šè·¯å¤ç”¨ä¸­ï¼Œé‡è¦çš„èµ„æºå¯ä»¥è¢«æ‰“ä¸Šé«˜ä¼˜å…ˆçº§æ ‡è®°ï¼ŒæœåŠ¡å™¨ä¼šä¼˜å…ˆä¼ è¾“è¿™äº›èµ„æº</strong>ï¼ˆä¾‹å¦‚é¡µé¢çš„ CSS å’Œ JavaScript æ–‡ä»¶ï¼‰ã€‚</li><li><strong>å¤´éƒ¨å‹ç¼©</strong>ï¼šHTTP 2.0 å¼•å…¥äº†å¤´éƒ¨å‹ç¼©ï¼Œå‡å°‘äº†è¯·æ±‚å’Œå“åº”ä¸­å¤´éƒ¨å­—æ®µçš„å†—ä½™æ•°æ®ï¼Œæå‡äº†å¸¦å®½åˆ©ç”¨ç‡ã€‚</li></ul><h4 id="HTTPS-VS-HTTP"><a href="#HTTPS-VS-HTTP" class="headerlink" title="HTTPS VS HTTP"></a><strong>HTTPS VS HTTP</strong></h4><p><strong>HTTPS</strong> æ˜¯åœ¨ HTTP åŸºç¡€ä¸Šå¢åŠ äº† <strong>TLSï¼ˆTransport Layer Securityï¼‰åè®®</strong> çš„åŠ å¯†å±‚ï¼Œç”¨æ¥ç¡®ä¿æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§ã€‚å®ƒçš„ä¸»è¦å·¥ä½œæœºåˆ¶åŒ…æ‹¬ï¼š</p><ol><li><strong>å¯¹ç§°åŠ å¯†</strong>ï¼šä¼ è¾“çš„æ•°æ®ä¼š<strong>ä½¿ç”¨åŒæ–¹å…±äº«çš„å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†</strong>ï¼Œä¿è¯æ•°æ®ä¼ è¾“çš„æœºå¯†æ€§ã€‚</li><li><strong>éå¯¹ç§°åŠ å¯†</strong>ï¼šåœ¨é€šä¿¡å¼€å§‹æ—¶ï¼Œå®¢æˆ·ç«¯ç”Ÿæˆå¯†é’¥ï¼ŒæœåŠ¡å™¨ç”Ÿæˆå…¬é’¥å’Œç§é’¥ã€‚<strong>å®¢æˆ·ç«¯ä½¿ç”¨æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†å…¶ç”Ÿæˆçš„å¯†é’¥ï¼Œå¹¶å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†ï¼Œç¡®ä¿åŒæ–¹å¯ä»¥å®‰å…¨åœ°å…±äº«ä¸€ä¸ªå¯†é’¥ç”¨äºåç»­çš„å¯¹ç§°åŠ å¯†</strong>ã€‚</li></ol><p>é€šè¿‡ HTTPSï¼Œä¼ è¾“çš„æ•°æ®åœ¨ç½‘ç»œä¸­æ˜¯åŠ å¯†çš„ï¼Œé¿å…äº†æ•æ„Ÿä¿¡æ¯è¢«çªƒå–æˆ–ç¯¡æ”¹ã€‚</p><h4 id="TCP-å’Œ-UDP-çš„åŒºåˆ«"><a href="#TCP-å’Œ-UDP-çš„åŒºåˆ«" class="headerlink" title="TCP å’Œ UDP çš„åŒºåˆ«"></a>TCP å’Œ UDP çš„åŒºåˆ«</h4><h5 id="TCPï¼ˆTransmission-Control-Protocolï¼‰â€”â€”-å¯é çš„ä¼ è¾“åè®®"><a href="#TCPï¼ˆTransmission-Control-Protocolï¼‰â€”â€”-å¯é çš„ä¼ è¾“åè®®" class="headerlink" title="TCPï¼ˆTransmission Control Protocolï¼‰â€”â€” å¯é çš„ä¼ è¾“åè®®"></a><strong>TCPï¼ˆTransmission Control Protocolï¼‰â€”â€” å¯é çš„ä¼ è¾“åè®®</strong></h5><p><strong>TCP</strong> æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œå®ƒæä¾›<strong>å¯é ã€é¡ºåº</strong>çš„æ•°æ®ä¼ è¾“ï¼Œå¹¿æ³›åº”ç”¨äºå¯¹æ•°æ®ä¼ è¾“è´¨é‡è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ol><li><strong>å¯é æ€§</strong>ï¼š<ul><li><strong>å»ºç«‹è¿æ¥</strong>ï¼šTCP é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æˆåŠŸå»ºç«‹è¿æ¥åï¼Œæ‰å¼€å§‹ä¼ è¾“æ•°æ®ã€‚é€šè¿‡å››æ¬¡æŒ¥æ‰‹æ¥å®‰å…¨æ–­å¼€è¿æ¥ï¼Œä¿è¯ä¼ è¾“å®Œæ•´æ€§ã€‚</li><li><strong>æµé‡æ‹¥å¡æ§åˆ¶</strong>ï¼šTCP å†…ç½®äº†æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼Œé€šè¿‡æ£€æµ‹ç½‘ç»œçš„è´Ÿè½½æƒ…å†µï¼Œè‡ªåŠ¨è°ƒèŠ‚æ•°æ®ä¼ è¾“é€Ÿåº¦ï¼Œé¿å…ç½‘ç»œè¿‡è½½ã€‚</li><li><strong>è¶…æ—¶é‡ä¼ æœºåˆ¶</strong>ï¼šå¦‚æœæ•°æ®åŒ…åœ¨ä¼ è¾“ä¸­ä¸¢å¤±æˆ–æ²¡æœ‰è¢«åŠæ—¶ç¡®è®¤ï¼ŒTCP ä¼šè‡ªåŠ¨è§¦å‘é‡ä¼ ï¼Œç¡®ä¿æ‰€æœ‰æ•°æ®éƒ½èƒ½å‡†ç¡®æ— è¯¯åœ°åˆ°è¾¾ç›®çš„åœ°ã€‚</li></ul></li><li><strong>æœ‰åºæ€§</strong>ï¼š<ul><li>TCP å°†ä¼ è¾“çš„æ•°æ®åˆ†æˆå¤šä¸ªåŒ…ï¼Œä½¿ç”¨åºåˆ—å·æ¥ç¡®ä¿æ•°æ®åŒ…çš„é¡ºåºä¼ é€’ã€‚å¦‚æœæ•°æ®åŒ…åˆ°è¾¾é¡ºåºæœ‰è¯¯ï¼ŒTCP ä¼šæ ¹æ®åºåˆ—å·è¿›è¡Œé‡æ–°æ’åºï¼Œç¡®ä¿æ•°æ®æŒ‰ç…§æ­£ç¡®é¡ºåºåˆ°è¾¾æ¥æ”¶æ–¹ã€‚</li></ul></li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼š<ul><li>TCP é€‚ç”¨äºéœ€è¦é«˜å¯é æ€§ä¼ è¾“çš„åœºæ™¯ï¼Œå¦‚ï¼š<ul><li><strong>ç½‘é¡µæµè§ˆ</strong>ï¼šä¿è¯ç½‘é¡µå†…å®¹çš„å®Œæ•´æ€§ã€‚</li><li><strong>æ–‡ä»¶ä¼ è¾“</strong>ï¼šå¦‚ FTP åè®®ï¼Œç¡®ä¿æ–‡ä»¶ä¸ä¸¢å¤±ã€ä¸æŸåã€‚</li><li><strong>ç”µå­é‚®ä»¶</strong>ï¼šç¡®ä¿é‚®ä»¶å†…å®¹çš„å‡†ç¡®æ€§ã€‚</li></ul></li></ul></li></ol><h5 id="UDPï¼ˆUser-Datagram-Protocolï¼‰â€”â€”-é«˜æ•ˆçš„ä¼ è¾“åè®®"><a href="#UDPï¼ˆUser-Datagram-Protocolï¼‰â€”â€”-é«˜æ•ˆçš„ä¼ è¾“åè®®" class="headerlink" title="UDPï¼ˆUser Datagram Protocolï¼‰â€”â€” é«˜æ•ˆçš„ä¼ è¾“åè®®"></a><strong>UDPï¼ˆUser Datagram Protocolï¼‰â€”â€” é«˜æ•ˆçš„ä¼ è¾“åè®®</strong></h5><p><strong>UDP</strong> æ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œ<strong>å¼ºè°ƒä¼ è¾“é€Ÿåº¦å’Œæ•ˆç‡</strong>ï¼Œè€Œä¸ä¿è¯æ•°æ®çš„å¯é ä¼ è¾“å’Œé¡ºåºã€‚UDP å¸¸ç”¨äº<strong>å¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜</strong>çš„åº”ç”¨åœºæ™¯ã€‚</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ol><li><strong>ä¸å¯é æ€§</strong>ï¼š<ul><li><strong>æ— è¿æ¥</strong>ï¼šUDP åœ¨å‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œç›´æ¥å°†æ•°æ®åŒ…å‘é€ç»™ç›®æ ‡åœ°å€ï¼Œä¸ä¼šç­‰å¾…ç¡®è®¤ã€‚è¿™æ ·è™½ç„¶å‡å°‘äº†å»¶æ—¶ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸å¯é æ€§ã€‚</li><li><strong>æ— æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶</strong>ï¼šUDP ä¸å…·å¤‡ TCP çš„æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶åŠŸèƒ½ï¼Œæ•°æ®åŒ…çš„å‘é€ä¸ä¼šå—åˆ°ç½‘ç»œçŠ¶å†µçš„è°ƒèŠ‚ï¼Œå› æ­¤æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–è¿‡è½½ã€‚</li><li><strong>ä¸ç®¡ä¸¢åŒ…</strong>ï¼šUDP ä¸ä¼šæ£€æµ‹æ•°æ®åŒ…æ˜¯å¦ä¸¢å¤±ï¼Œä¹Ÿä¸ä¼šè¿›è¡Œé‡ä¼ ã€‚è¿™ä½¿å¾—å®ƒåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½æœ‰æ•°æ®ä¸¢å¤±ï¼Œä½†è¿™ä¹Ÿå¸¦æ¥äº†é«˜æ•ˆæ€§ã€‚</li></ul></li><li><strong>é«˜æ•ˆ</strong>ï¼š<ul><li>ç”±äºæ²¡æœ‰å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ï¼Œä¹Ÿæ²¡æœ‰æµé‡æ§åˆ¶å’Œä¸¢åŒ…é‡ä¼ æœºåˆ¶ï¼ŒUDP çš„ä¼ è¾“é€Ÿåº¦å¿«ï¼Œå»¶è¿Ÿä½ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¿«é€Ÿä¼ è¾“æ•°æ®çš„åœºæ™¯ã€‚</li></ul></li><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼š<ul><li>UDP é€‚ç”¨äºå¯¹ä¼ è¾“å¯é æ€§è¦æ±‚ä¸é«˜ï¼Œä½†å¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚ï¼š<ul><li><strong>ç›´æ’­</strong>ï¼šå¦‚è§†é¢‘æˆ–éŸ³é¢‘ç›´æ’­ï¼Œå…è®¸å¶å°”çš„æ•°æ®ä¸¢å¤±è€Œä¸å½±å“æ•´ä½“ä½“éªŒã€‚</li><li><strong>åœ¨çº¿æ¸¸æˆ</strong>ï¼šæ¸¸æˆä¸­çš„å®æ—¶æ€§è¦æ±‚é«˜ï¼ŒUDP çš„ä½å»¶è¿Ÿå¯ä»¥æä¾›æ›´æµç•…çš„æ¸¸æˆä½“éªŒã€‚</li><li><strong>è§†é¢‘é€šè¯</strong>ï¼šå®æ—¶è§†é¢‘å’ŒéŸ³é¢‘éœ€è¦ä½å»¶è¿Ÿä¼ è¾“ï¼Œä¸¢å¤±å°‘é‡æ•°æ®ä¸ä¼šå½±å“é€šè¯è´¨é‡ã€‚</li></ul></li></ul></li></ol><h4 id="HTTP-3-0-â€”â€”-è§£å†³é˜Ÿå¤´é˜»å¡ä¸è¿æ¥å»¶è¿Ÿ"><a href="#HTTP-3-0-â€”â€”-è§£å†³é˜Ÿå¤´é˜»å¡ä¸è¿æ¥å»¶è¿Ÿ" class="headerlink" title="HTTP 3.0 â€”â€” è§£å†³é˜Ÿå¤´é˜»å¡ä¸è¿æ¥å»¶è¿Ÿ"></a><strong>HTTP 3.0 â€”â€” è§£å†³é˜Ÿå¤´é˜»å¡ä¸è¿æ¥å»¶è¿Ÿ</strong></h4><p>è™½ç„¶ HTTP 2.0 å¼•å…¥äº†å¤šè·¯å¤ç”¨ï¼Œä½†å®ƒä»ç„¶ä¾èµ–äº TCP åè®®ï¼Œå­˜åœ¨<strong>TCP é˜Ÿå¤´é˜»å¡</strong>çš„é—®é¢˜ã€‚HTTP 3.0 åŸºäº <strong>QUICï¼ˆQuick UDP Internet Connectionsï¼‰åè®®</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªé›†æˆäº† TCP ä¼˜åŠ¿å¹¶åŸºäº UDP çš„å…¨æ–°åè®®ï¼Œè§£å†³äº† TCP çš„ä¸€äº›å›ºæœ‰é—®é¢˜ã€‚</p><ul><li><strong>é˜Ÿå¤´é˜»å¡çš„è§£å†³</strong>ï¼š<strong>åœ¨ TCP ä¸­ï¼Œè¶…æ—¶é‡ä¼ æœºåˆ¶å¯¼è‡´é˜Ÿå¤´é˜»å¡</strong>ï¼Œå³<strong>ä¸€ä¸ªæ•°æ®åŒ…ä¸¢å¤±åï¼Œåç»­æ‰€æœ‰æ•°æ®åŒ…éƒ½å¿…é¡»ç­‰å¾…é‡ä¼ çš„å®Œæˆ</strong>ã€‚QUIC é€šè¿‡å¤šæ¡ç‹¬ç«‹çš„æ•°æ®æµï¼Œä¸¢å¤±çš„åŒ…ä¸ä¼šå½±å“å…¶ä»–åŒ…çš„ä¼ è¾“ã€‚</li><li><strong>å¿«é€Ÿæ¡æ‰‹</strong>ï¼šTCP åœ¨å»ºç«‹è¿æ¥æ—¶éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œ QUIC çš„è¿æ¥å»ºç«‹é€Ÿåº¦æ›´å¿«ï¼Œå‡å°‘äº†æ¡æ‰‹å»¶è¿Ÿï¼Œæå‡äº†é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li><li><strong>é›†æˆ TLS åŠ å¯†</strong>ï¼šQUIC é›†æˆäº† TLS åŠ å¯†å±‚ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§ã€‚</li></ul><h3 id="4-TCP-åè®®-â€”â€”-å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰"><a href="#4-TCP-åè®®-â€”â€”-å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰" class="headerlink" title="4. TCP åè®® â€”â€” å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰"></a>4. <strong>TCP åè®® â€”â€” å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰</strong></h3><p>åœ¨é€šä¿¡å®Œæˆåï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡<strong>å››æ¬¡æŒ¥æ‰‹</strong>æ¥æ–­å¼€ TCP è¿æ¥ã€‚<strong>å››æ¬¡æŒ¥æ‰‹ç¡®ä¿åŒæ–¹éƒ½èƒ½å®‰å…¨åœ°ç»“æŸæ•°æ®ä¼ è¾“ï¼Œä¸ä¼šä¸¢å¤±ä»»ä½•æœªå‘é€çš„å†…å®¹</strong>ã€‚</p><h4 id="å››æ¬¡æŒ¥æ‰‹æ­¥éª¤ï¼š"><a href="#å››æ¬¡æŒ¥æ‰‹æ­¥éª¤ï¼š" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹æ­¥éª¤ï¼š"></a>å››æ¬¡æŒ¥æ‰‹æ­¥éª¤ï¼š</h4><ol><li><strong>å®¢æˆ·ç«¯å‘é€æ–­å¼€è¯·æ±‚ï¼ˆFINï¼‰</strong> ï¼šå®¢æˆ·ç«¯å‘å‡ºä¸€ä¸ªå¸¦æœ‰ <strong>FIN</strong> æ ‡å¿—ä½çš„æŠ¥æ–‡ï¼Œè¡¨ç¤ºå¸Œæœ›æ–­å¼€è¿æ¥ï¼Œè¿›å…¥ <strong>FIN-WAIT-1</strong> çŠ¶æ€ã€‚</li><li><strong>æœåŠ¡å™¨å›å¤ç¡®è®¤ï¼ˆACKï¼‰</strong> ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°æ–­å¼€è¯·æ±‚åï¼Œè¿”å›ä¸€ä¸ª <strong>ACK</strong> æŠ¥æ–‡ï¼Œè¡¨ç¤ºç¡®è®¤æ¥æ”¶åˆ°æ–­å¼€è¯·æ±‚ï¼Œä½†å®ƒå¯èƒ½è¿˜æœ‰æ•°æ®è¦å‘é€ï¼Œè¿›å…¥ <strong>CLOSE-WAIT</strong> çŠ¶æ€ã€‚</li><li><strong>æœåŠ¡å™¨å®Œæˆæ•°æ®ä¼ è¾“åå‘é€æ–­å¼€è¯·æ±‚ï¼ˆFINï¼‰</strong> ï¼šæœåŠ¡å™¨å‘é€å®Œå‰©ä½™æ•°æ®åï¼Œå‘å®¢æˆ·ç«¯å‘å‡º <strong>FIN</strong> è¯·æ±‚ï¼Œè¡¨ç¤ºå®ƒå‡†å¤‡å¥½æ–­å¼€è¿æ¥ï¼Œè¿›å…¥ <strong>LAST-ACK</strong> çŠ¶æ€ã€‚</li><li><strong>å®¢æˆ·ç«¯ç¡®è®¤æ–­å¼€ï¼ˆACKï¼‰</strong> ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨çš„ FIN æŠ¥æ–‡åï¼Œè¿”å›ä¸€ä¸ª <strong>ACK</strong> æŠ¥æ–‡ï¼Œè¿›å…¥ <strong>TIME-WAIT</strong> çŠ¶æ€ï¼Œå¹¶ç­‰å¾… <strong>2MSLï¼ˆæœ€å¤§æ®µç”Ÿå‘½å‘¨æœŸï¼‰æ—¶é—´</strong>ï¼Œç¡®ä¿æœåŠ¡å™¨æ¥æ”¶åˆ°ç¡®è®¤æ¶ˆæ¯ã€‚éšåï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è¿›å…¥ <strong>CLOSED</strong> çŠ¶æ€ï¼Œè¿æ¥æ­£å¼æ–­å¼€ã€‚</li></ol><h3 id="5-æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢"><a href="#5-æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢" class="headerlink" title="5. æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢"></a>5. <strong>æµè§ˆå™¨å¼€å§‹æ¸²æŸ“é¡µé¢</strong></h3><p>æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œå¼€å§‹å¤„ç†å“åº”å†…å®¹ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…å«å¤šä¸ªæ­¥éª¤ï¼Œå°¤å…¶æ˜¯åœ¨æ¸²æŸ“ HTML é¡µé¢æ—¶éå¸¸å¤æ‚ï¼š</p><h4 id="HTML-è§£æä¸-DOM-æ ‘çš„æ„å»º"><a href="#HTML-è§£æä¸-DOM-æ ‘çš„æ„å»º" class="headerlink" title="HTML è§£æä¸ DOM æ ‘çš„æ„å»º"></a><strong>HTML è§£æä¸ DOM æ ‘çš„æ„å»º</strong></h4><p>å½“æµè§ˆå™¨å¼€å§‹åŠ è½½é¡µé¢æ—¶ï¼Œé¦–å…ˆä¼šè§£æ HTML æ–‡ä»¶ï¼Œå¹¶å°† HTML è½¬æ¢ä¸º DOM æ ‘ï¼ˆDocument Object Modelï¼‰ã€‚DOM æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ª HTML æ ‡ç­¾ï¼Œå®ƒä»¬ä»¥æ ‘çŠ¶ç»“æ„è¡¨ç¤ºé¡µé¢çš„å±‚æ¬¡å…³ç³»ã€‚</p><h4 id="CSS-è§£æä¸-CSSOM-æ ‘çš„æ„å»º"><a href="#CSS-è§£æä¸-CSSOM-æ ‘çš„æ„å»º" class="headerlink" title="CSS è§£æä¸ CSSOM æ ‘çš„æ„å»º"></a><strong>CSS è§£æä¸ CSSOM æ ‘çš„æ„å»º</strong></h4><p>ä¸æ­¤åŒæ—¶ï¼Œæµè§ˆå™¨ä¼šè§£æ CSS æ–‡ä»¶æˆ–åµŒå…¥å¼æ ·å¼ï¼Œæ„å»º CSSOMï¼ˆCSS Object Modelï¼‰æ ‘ã€‚CSSOM æ ‘å­˜å‚¨äº†æ¯ä¸ª DOM èŠ‚ç‚¹çš„æ ·å¼ä¿¡æ¯ã€‚</p><h4 id="åˆæˆæ„å»º-Render-Tree"><a href="#åˆæˆæ„å»º-Render-Tree" class="headerlink" title="åˆæˆæ„å»º Render Tree"></a><strong>åˆæˆæ„å»º Render Tree</strong></h4><p>æµè§ˆå™¨å°† DOM æ ‘å’Œ CSSOM æ ‘ç»“åˆèµ·æ¥ï¼Œç”Ÿæˆä¸€æ£µæ–°çš„<strong>æ¸²æŸ“æ ‘ï¼ˆRender Treeï¼‰</strong> ã€‚æ¸²æŸ“æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªå¯è§çš„å…ƒç´ ï¼Œå®ƒåŒ…å«äº† DOM å…ƒç´ çš„è§†è§‰ä¿¡æ¯ï¼ˆä¾‹å¦‚å°ºå¯¸ã€ä½ç½®ã€é¢œè‰²ç­‰ï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæŸäº›ä¸å‚ä¸æ¸²æŸ“çš„å…ƒç´ ï¼ˆå¦‚ <code>display: none</code> çš„å…ƒç´ ï¼‰ä¸ä¼šè¢«æ·»åŠ åˆ°æ¸²æŸ“æ ‘ä¸­ã€‚</p><h4 id="å›æµï¼ˆReflowï¼‰"><a href="#å›æµï¼ˆReflowï¼‰" class="headerlink" title="å›æµï¼ˆReflowï¼‰"></a><strong>å›æµï¼ˆReflowï¼‰</strong></h4><p>ä¸€æ—¦æ¸²æŸ“æ ‘åˆ›å»ºå®Œæ¯•ï¼Œæµè§ˆå™¨å¼€å§‹è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸­çš„å…·ä½“ä½ç½®å’Œå¤§å°ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å¸ƒå±€ï¼ˆLayoutï¼‰</strong> ï¼Œä¹Ÿç§°ä¸º<strong>å›æµï¼ˆReflowï¼‰</strong> ã€‚å®ƒå†³å®šäº†é¡µé¢çš„å‡ ä½•å±æ€§ï¼ŒåŒ…æ‹¬æ¯ä¸ªå…ƒç´ çš„å°ºå¯¸ã€ä½ç½®ã€è¾¹è·ç­‰ã€‚</p><ul><li><strong>é¦–æ¬¡å¸ƒå±€</strong>ï¼šåœ¨é¡µé¢åˆæ¬¡æ¸²æŸ“æ—¶ï¼Œæµè§ˆå™¨ä¼šéå†æ¸²æŸ“æ ‘ï¼Œä¸ºæ¯ä¸ªå¯è§å…ƒç´ è®¡ç®—å®ƒä»¬åœ¨é¡µé¢ä¸­çš„ç¡®åˆ‡ä½ç½®å’Œå°ºå¯¸ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>åˆæ¬¡å›æµ</strong>ï¼Œå› ä¸ºé¡µé¢çš„æ¯ä¸ªéƒ¨åˆ†éƒ½è¦è®¡ç®—å’Œæ’åˆ—ã€‚</li><li><strong>åç»­å›æµ</strong>ï¼šå½“é¡µé¢çš„å…ƒç´ ç»“æ„æˆ–å¸ƒå±€å±æ€§ï¼ˆå¦‚ <code>width</code>ã€<code>height</code>ã€<code>margin</code> ç­‰ï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—è¿™äº›å…ƒç´ åŠå…¶ç›¸å…³å…ƒç´ çš„å¸ƒå±€ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸ºå›æµã€‚</li></ul><p><strong>å›æµçš„è§¦å‘åŸå› </strong>ï¼š</p><ul><li>DOM ç»“æ„çš„å˜åŒ–ï¼ˆå¢åŠ æˆ–åˆ é™¤å…ƒç´ ï¼‰ã€‚</li><li>å…ƒç´ çš„å‡ ä½•å±æ€§ï¼ˆå¦‚å®½åº¦ã€é«˜åº¦ã€è¾¹è·ï¼‰å‘ç”Ÿå˜åŒ–ã€‚</li><li>æµè§ˆå™¨çª—å£å¤§å°çš„å˜åŒ–ã€‚</li><li>è¯»å–æŸäº›ä¼šå¯¼è‡´é‡æ–°è®¡ç®—å¸ƒå±€çš„å±æ€§ï¼ˆå¦‚ <code>offsetHeight</code>ã€<code>clientWidth</code> ç­‰ï¼‰ã€‚</li></ul><h4 id="é‡ç»˜ï¼ˆRepaintï¼‰"><a href="#é‡ç»˜ï¼ˆRepaintï¼‰" class="headerlink" title="é‡ç»˜ï¼ˆRepaintï¼‰"></a><strong>é‡ç»˜ï¼ˆRepaintï¼‰</strong></h4><p>å¸ƒå±€å®Œæˆåï¼Œæµè§ˆå™¨å¼€å§‹ä¸ºæ¯ä¸ªå…ƒç´ å¡«å……é¢œè‰²ã€ç»˜åˆ¶è¾¹æ¡†ã€åº”ç”¨é˜´å½±å’Œæ–‡å­—ç­‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>ç»˜åˆ¶ï¼ˆPaintï¼‰</strong> ï¼Œå¦‚æœå¸ƒå±€æ²¡æœ‰å‘ç”Ÿå˜åŒ–ä½†æ ·å¼å‘ç”Ÿäº†å˜åŒ–ï¼ˆä¾‹å¦‚é¢œè‰²ã€èƒŒæ™¯ã€å­—ä½“ç­‰ï¼‰ï¼Œåˆ™ä¼šè§¦å‘<strong>é‡ç»˜ï¼ˆRepaintï¼‰</strong> ã€‚</p><p><strong>é‡ç»˜çš„è§¦å‘åŸå› </strong>ï¼š</p><ul><li>å…ƒç´ çš„è§†è§‰å±æ€§ï¼ˆå¦‚ <code>color</code>ã€<code>background-color</code>ã€<code>border-color</code> ç­‰ï¼‰å‘ç”Ÿå˜åŒ–ã€‚</li><li>è™½ç„¶å…ƒç´ çš„å‡ ä½•å±æ€§æ²¡æœ‰å˜åŒ–ï¼Œä½†å®ƒçš„å¤–è§‚å‘ç”Ÿäº†å˜åŒ–ï¼Œæµè§ˆå™¨éœ€è¦å°†å®ƒé‡æ–°ç»˜åˆ¶å‡ºæ¥ã€‚</li></ul><p><strong>é‡ç»˜çš„ä»£ä»·è¾ƒå›æµå°ï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠé‡æ–°è®¡ç®—å¸ƒå±€ï¼Œåªéœ€è¦é‡æ–°ç»˜åˆ¶æ”¹å˜äº†æ ·å¼çš„éƒ¨åˆ†</strong>ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»è¾“å…¥ URL åˆ°é¡µé¢çš„æ¸²æŸ“æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œåœ¨æ•°æ®ä¼ è¾“æ—¶ï¼Œé¦–å…ˆéœ€è¦è¿›è¡ŒTCPå»ºç«‹è¿æ¥ï¼Œå†é€šè¿‡HTTPè¿›è¡Œæ•°æ®å¾—ä¼ è¾“ï¼›ç„¶åå†åˆ°é¡µé¢çš„æ¸²æŸ“ï¼Œ<strong>é‡ç»˜ä¸ä¸€å®šä¼šè§¦å‘å›æµï¼Œè€Œå›æµæ˜¯ä¸€å®šä¼šå¯¼è‡´é‡ç»˜çš„ï¼Œå› ä¸ºå›æµä¹‹åï¼Œéœ€è¦é‡æ–°å»ç»˜åˆ¶é¡µé¢</strong>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>browser</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¸²æŸ“è¿‡ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>forEach ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­</title>
    <link href="/blog/2025/08/21/js-foreachNotStopReason/"/>
    <url>/blog/2025/08/21/js-foreachNotStopReason/</url>
    
    <content type="html"><![CDATA[<h1 id="forEach-ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­ï¼Ÿ"><a href="#forEach-ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­ï¼Ÿ" class="headerlink" title="forEach ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­ï¼Ÿ"></a>forEach ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­ï¼Ÿ</h1><p>åœ¨ä¹‹å‰ä¸€æ¬¡é¢è¯•é‡Œï¼Œè¢«é—®åˆ°foreachçš„é—®é¢˜ï¼Œé—®æˆ‘ä¸ºä»€ä¹ˆä¸èƒ½è¢«ä¸­æ–­ï¼Œæˆ‘è¯´ä¸çŸ¥é“ã€‚ã€‚ã€‚ç„¶åè®©æˆ‘æ‰‹å†™äº†foreachçš„å®ç°</p><h2 id="å¿«é€Ÿç­”æ¡ˆ"><a href="#å¿«é€Ÿç­”æ¡ˆ" class="headerlink" title="å¿«é€Ÿç­”æ¡ˆ"></a>å¿«é€Ÿç­”æ¡ˆ</h2><p>forEach ä¸èƒ½è¢«ä¸­æ–­æ˜¯å› ä¸ºå®ƒçš„è®¾è®¡å“²å­¦ï¼šforEach æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè€Œ break å’Œ continue æ˜¯æ§åˆ¶è¯­å¥ï¼Œåªèƒ½åœ¨å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p><h2 id="forEach-çš„æœ¬è´¨"><a href="#forEach-çš„æœ¬è´¨" class="headerlink" title="forEach çš„æœ¬è´¨"></a>forEach çš„æœ¬è´¨</h2><h3 id="å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°"><a href="#å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°"></a>å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°</h3><p>forEach æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒçš„å®ç°åŸç†ç±»ä¼¼äºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">forEach</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback, thisArg</span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>) &#123;<br>            callback.<span class="hljs-title function_">call</span>(thisArg, <span class="hljs-variable language_">this</span>[i], i, <span class="hljs-variable language_">this</span>);<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>ä»è¿™ä¸ªå®ç°å¯ä»¥çœ‹å‡ºï¼ŒforEach å†…éƒ¨ä½¿ç”¨çš„æ˜¯ for å¾ªç¯ï¼Œä½†å®ƒå°†æ¯æ¬¡è¿­ä»£çš„é€»è¾‘å°è£…åœ¨å›è°ƒå‡½æ•°ä¸­ã€‚</p><h3 id="ä¸ºä»€ä¹ˆ-break-ä¸èµ·ä½œç”¨"><a href="#ä¸ºä»€ä¹ˆ-break-ä¸èµ·ä½œç”¨" class="headerlink" title="ä¸ºä»€ä¹ˆ break ä¸èµ·ä½œç”¨"></a>ä¸ºä»€ä¹ˆ break ä¸èµ·ä½œç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âŒ è¿™æ ·åšä¼šæŠ¥é”™ï¼šSyntaxError: Illegal break statement</span><br>numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">break</span>; <span class="hljs-comment">// é”™è¯¯ï¼break åªèƒ½åœ¨å¾ªç¯ä¸­ä½¿ç”¨</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);<br>&#125;);<br><br><span class="hljs-comment">// âŒ è¿™æ ·åšä¹Ÿä¼šæŠ¥é”™ï¼šSyntaxError: Illegal continue statement  </span><br>numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// é”™è¯¯ï¼continue åªèƒ½åœ¨å¾ªç¯ä¸­ä½¿ç”¨</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);<br>&#125;);<br></code></pre></td></tr></table></figure><p><strong>åŸå› åˆ†æï¼š</strong></p><ul><li><code>break</code> å’Œ <code>continue</code> æ˜¯å¾ªç¯æ§åˆ¶è¯­å¥ï¼Œåªèƒ½åœ¨ <code>for</code>ã€<code>while</code>ã€<code>do-while</code> ç­‰å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨</li><li>forEach çš„å›è°ƒå‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä¸æ˜¯å¾ªç¯ç»“æ„</li><li>JavaScript å¼•æ“æ— æ³•å°†å‡½æ•°å†…çš„ break&#x2F;continue ä¸å¤–å±‚çš„å¾ªç¯å…³è”èµ·æ¥</li></ul><h2 id="forEach-çš„ç‰¹ç‚¹å’Œé™åˆ¶"><a href="#forEach-çš„ç‰¹ç‚¹å’Œé™åˆ¶" class="headerlink" title="forEach çš„ç‰¹ç‚¹å’Œé™åˆ¶"></a>forEach çš„ç‰¹ç‚¹å’Œé™åˆ¶</h2><h3 id="1-æ— æ³•æå‰ç»ˆæ­¢"><a href="#1-æ— æ³•æå‰ç»ˆæ­¢" class="headerlink" title="1. æ— æ³•æå‰ç»ˆæ­¢"></a>1. æ— æ³•æå‰ç»ˆæ­¢</h3><p>forEach æ–¹æ³•ä¼šéå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ— æ³•ä¸­é€”åœæ­¢ã€‚å³ä½¿åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨ <code>return</code> è¯­å¥ï¼Œä¹Ÿåªä¼šè·³è¿‡å½“å‰å…ƒç´ çš„å¤„ç†ï¼Œè€Œä¸ä¼šåœæ­¢åç»­å…ƒç´ çš„éå†ã€‚</p><h3 id="2-ä¸æ”¹å˜åŸæ•°ç»„é•¿åº¦"><a href="#2-ä¸æ”¹å˜åŸæ•°ç»„é•¿åº¦" class="headerlink" title="2. ä¸æ”¹å˜åŸæ•°ç»„é•¿åº¦"></a>2. ä¸æ”¹å˜åŸæ•°ç»„é•¿åº¦</h3><p>forEach åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šå—åˆ°æ•°ç»„é•¿åº¦å˜åŒ–çš„å½±å“ã€‚å®ƒä¼šæ ¹æ®è°ƒç”¨æ—¶çš„æ•°ç»„é•¿åº¦è¿›è¡Œéå†ï¼Œå³ä½¿åœ¨éå†è¿‡ç¨‹ä¸­æ•°ç»„é•¿åº¦å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¸ä¼šé‡æ–°è®¡ç®—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> words = [<span class="hljs-string">&quot;one&quot;</span>, <span class="hljs-string">&quot;two&quot;</span>, <span class="hljs-string">&quot;three&quot;</span>, <span class="hljs-string">&quot;four&quot;</span>];<br>words.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">word</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(word);<br>    <span class="hljs-keyword">if</span> (word === <span class="hljs-string">&quot;two&quot;</span>) &#123;<br>        words.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>    &#125;<br>&#125;);<br><span class="hljs-comment">// è¾“å‡º:</span><br><span class="hljs-comment">// one</span><br><span class="hljs-comment">// two</span><br><span class="hljs-comment">// four</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(words); <span class="hljs-comment">// [&#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;]</span><br></code></pre></td></tr></table></figure><h3 id="3-è·³è¿‡ç©ºæ§½ä½"><a href="#3-è·³è¿‡ç©ºæ§½ä½" class="headerlink" title="3. è·³è¿‡ç©ºæ§½ä½"></a>3. è·³è¿‡ç©ºæ§½ä½</h3><p>å¯¹äºç¨€ç–æ•°ç»„ï¼ˆåŒ…å«ç©ºæ§½ä½çš„æ•°ç»„ï¼‰ï¼ŒforEach ä¼šè·³è¿‡è¿™äº›ç©ºæ§½ä½ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arraySparse = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, , <span class="hljs-number">7</span>];<br><span class="hljs-keyword">let</span> numCallbackRuns = <span class="hljs-number">0</span>;<br><br>arraySparse.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123; element &#125;);<br>    numCallbackRuns++;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123; numCallbackRuns &#125;);<br><span class="hljs-comment">// &#123; element: 1 &#125;</span><br><span class="hljs-comment">// &#123; element: 3 &#125;</span><br><span class="hljs-comment">// &#123; element: 7 &#125;</span><br><span class="hljs-comment">// &#123; numCallbackRuns: 3 &#125;</span><br></code></pre></td></tr></table></figure><h3 id="4-ä¸ç­‰å¾…-Promise"><a href="#4-ä¸ç­‰å¾…-Promise" class="headerlink" title="4. ä¸ç­‰å¾… Promise"></a>4. ä¸ç­‰å¾… Promise</h3><p>forEach ä¸ä¼šç­‰å¾… Promise çš„å®Œæˆï¼Œè¿™å¯¹äºå¼‚æ­¥æ“ä½œæ¥è¯´å¯èƒ½ä¸æ˜¯æœŸæœ›çš„è¡Œä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> ratings = [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">sumFunction</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">a, b</span>) =&gt; a + b;<br><br>ratings.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">async</span> (rating) =&gt; &#123;<br>    sum = <span class="hljs-keyword">await</span> <span class="hljs-title function_">sumFunction</span>(sum, rating);<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum);<br><span class="hljs-comment">// æœŸæœ›çš„è¾“å‡ºï¼š14</span><br><span class="hljs-comment">// å®é™…çš„è¾“å‡ºï¼š0</span><br></code></pre></td></tr></table></figure><h2 id="å°è¯•ä¸­æ–­-forEach-çš„å¸¸è§è¯¯åŒº"><a href="#å°è¯•ä¸­æ–­-forEach-çš„å¸¸è§è¯¯åŒº" class="headerlink" title="å°è¯•ä¸­æ–­ forEach çš„å¸¸è§è¯¯åŒº"></a>å°è¯•ä¸­æ–­ forEach çš„å¸¸è§è¯¯åŒº</h2><h3 id="è¯¯åŒº1ï¼šä½¿ç”¨-return-å½“ä½œ-break"><a href="#è¯¯åŒº1ï¼šä½¿ç”¨-return-å½“ä½œ-break" class="headerlink" title="è¯¯åŒº1ï¼šä½¿ç”¨ return å½“ä½œ break"></a>è¯¯åŒº1ï¼šä½¿ç”¨ return å½“ä½œ break</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âŒ å¾ˆå¤šäººä»¥ä¸ºè¿™æ ·å¯ä»¥ä¸­æ–­å¾ªç¯</span><br>numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">return</span>; <span class="hljs-comment">// è¿™åªæ˜¯è·³å‡ºå½“å‰å›è°ƒå‡½æ•°ï¼Œç›¸å½“äº continue</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2, 4, 5</span><br>&#125;);<br></code></pre></td></tr></table></figure><p><strong>å®é™…æ•ˆæœï¼š</strong> <code>return</code> åªæ˜¯è·³å‡ºå½“å‰çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œç›¸å½“äºä¼ ç»Ÿå¾ªç¯ä¸­çš„ <code>continue</code>ï¼Œè€Œä¸æ˜¯ <code>break</code>ã€‚</p><h3 id="è¯¯åŒº2ï¼šæŠ›å‡ºå¼‚å¸¸æ¥ä¸­æ–­"><a href="#è¯¯åŒº2ï¼šæŠ›å‡ºå¼‚å¸¸æ¥ä¸­æ–­" class="headerlink" title="è¯¯åŒº2ï¼šæŠ›å‡ºå¼‚å¸¸æ¥ä¸­æ–­"></a>è¯¯åŒº2ï¼šæŠ›å‡ºå¼‚å¸¸æ¥ä¸­æ–­</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âŒ æŠ€æœ¯ä¸Šå¯è¡Œï¼Œä½†ä¸æ¨è</span><br><span class="hljs-keyword">try</span> &#123;<br>    numbers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Break&#x27;</span>);<br>        &#125;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2</span><br>    &#125;);<br>&#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>    <span class="hljs-comment">// æ•è·å¼‚å¸¸</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é—®é¢˜ï¼š</strong></p><ul><li>æ»¥ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶</li><li>æ€§èƒ½å¼€é”€å¤§</li><li>ä»£ç å¯è¯»æ€§å·®</li><li>è¿èƒŒäº†å¼‚å¸¸å¤„ç†çš„è®¾è®¡åˆè¡·</li></ul><h2 id="æ­£ç¡®çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#æ­£ç¡®çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="æ­£ç¡®çš„æ›¿ä»£æ–¹æ¡ˆ"></a>æ­£ç¡®çš„æ›¿ä»£æ–¹æ¡ˆ</h2><h3 id="1-ä½¿ç”¨ä¼ ç»Ÿçš„-for-å¾ªç¯"><a href="#1-ä½¿ç”¨ä¼ ç»Ÿçš„-for-å¾ªç¯" class="headerlink" title="1. ä½¿ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯"></a>1. ä½¿ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âœ… å¯ä»¥ä½¿ç”¨ break å’Œ continue</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numbers.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (numbers[i] === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æ­£ç¡®ä¸­æ–­</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers[i]); <span class="hljs-comment">// è¾“å‡º: 1, 2</span><br>&#125;<br><br><span class="hljs-comment">// âœ… for...of å¾ªç¯ä¹Ÿæ”¯æŒ</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> numbers) &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æ­£ç¡®ä¸­æ–­</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨-some-æ–¹æ³•"><a href="#2-ä½¿ç”¨-some-æ–¹æ³•" class="headerlink" title="2. ä½¿ç”¨ some() æ–¹æ³•"></a>2. ä½¿ç”¨ some() æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ some() å®ç°å¯ä¸­æ–­çš„éå†</span><br>numbers.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¿”å› true ä¸­æ–­éå†</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// è¿”å› false ç»§ç»­éå†</span><br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="3-ä½¿ç”¨-every-æ–¹æ³•"><a href="#3-ä½¿ç”¨-every-æ–¹æ³•" class="headerlink" title="3. ä½¿ç”¨ every() æ–¹æ³•"></a>3. ä½¿ç”¨ every() æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ every() å®ç°å¯ä¸­æ–­çš„éå†</span><br>numbers.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// è¿”å› false ä¸­æ–­éå†</span><br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¿”å› true ç»§ç»­éå†</span><br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="4-ä½¿ç”¨-find-æˆ–-findIndex"><a href="#4-ä½¿ç”¨-find-æˆ–-findIndex" class="headerlink" title="4. ä½¿ç”¨ find() æˆ– findIndex()"></a>4. ä½¿ç”¨ find() æˆ– findIndex()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âœ… å½“æ‰¾åˆ°ç›®æ ‡æ—¶è‡ªåŠ¨åœæ­¢</span><br><span class="hljs-keyword">const</span> found = numbers.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">num</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// è¾“å‡º: 1, 2, 3</span><br>    <span class="hljs-keyword">return</span> num === <span class="hljs-number">3</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(found); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><h3 id="5-ä½¿ç”¨-forâ€¦in-å’Œ-forâ€¦ofï¼ˆé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ï¼‰"><a href="#5-ä½¿ç”¨-forâ€¦in-å’Œ-forâ€¦ofï¼ˆé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ï¼‰" class="headerlink" title="5. ä½¿ç”¨ forâ€¦in å’Œ forâ€¦ofï¼ˆé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ï¼‰"></a>5. ä½¿ç”¨ forâ€¦in å’Œ forâ€¦ofï¼ˆé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ï¼‰</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ for...in éå†ç´¢å¼•</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> index <span class="hljs-keyword">in</span> numbers) &#123;<br>    <span class="hljs-keyword">if</span> (numbers[index] === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(numbers[index]);<br>&#125;<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ for...of éå†å€¼</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> numbers) &#123;<br>    <span class="hljs-keyword">if</span> (num === <span class="hljs-number">3</span>) &#123;<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å®é™…åº”ç”¨åœºæ™¯"><a href="#å®é™…åº”ç”¨åœºæ™¯" class="headerlink" title="å®é™…åº”ç”¨åœºæ™¯"></a>å®é™…åº”ç”¨åœºæ™¯</h2><h3 id="åœºæ™¯1ï¼šæ•°æ®éªŒè¯"><a href="#åœºæ™¯1ï¼šæ•°æ®éªŒè¯" class="headerlink" title="åœºæ™¯1ï¼šæ•°æ®éªŒè¯"></a>åœºæ™¯1ï¼šæ•°æ®éªŒè¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> users = [<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;alice@example.com&#x27;</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;invalid-email&#x27;</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Charlie&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;charlie@example.com&#x27;</span> &#125;<br>];<br><br><span class="hljs-comment">// âŒ ä½¿ç”¨ forEach æ— æ³•æå‰ä¸­æ–­</span><br><span class="hljs-keyword">let</span> hasInvalidEmail = <span class="hljs-literal">false</span>;<br>users.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (!user.<span class="hljs-property">email</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;@&#x27;</span>)) &#123;<br>        hasInvalidEmail = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">// æ— æ³•ä¸­æ–­ï¼Œä»ä¼šç»§ç»­æ£€æŸ¥å‰©ä½™ç”¨æˆ·</span><br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ some å¯ä»¥æå‰ä¸­æ–­</span><br><span class="hljs-keyword">const</span> hasInvalidEmail2 = users.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> !user.<span class="hljs-property">email</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;@&#x27;</span>));<br></code></pre></td></tr></table></figure><h3 id="åœºæ™¯2ï¼šæœç´¢åŠŸèƒ½"><a href="#åœºæ™¯2ï¼šæœç´¢åŠŸèƒ½" class="headerlink" title="åœºæ™¯2ï¼šæœç´¢åŠŸèƒ½"></a>åœºæ™¯2ï¼šæœç´¢åŠŸèƒ½</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> products = [<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;iPhone&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">999</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Samsung&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">899</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Google Pixel&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">799</span> &#125;<br>];<br><br><span class="hljs-comment">// âŒ ä½¿ç”¨ forEach æ•ˆç‡ä½</span><br><span class="hljs-keyword">let</span> foundProduct = <span class="hljs-literal">null</span>;<br>products.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (product.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;iPhone&#x27;</span>)) &#123;<br>        foundProduct = product;<br>        <span class="hljs-comment">// æ— æ³•ä¸­æ–­ï¼Œç»§ç»­éå†å‰©ä½™äº§å“</span><br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ find æ•ˆç‡é«˜</span><br><span class="hljs-keyword">const</span> foundProduct2 = products.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> <br>    product.<span class="hljs-property">name</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;iPhone&#x27;</span>)<br>);<br></code></pre></td></tr></table></figure><h3 id="åœºæ™¯3ï¼šæ¡ä»¶å¤„ç†"><a href="#åœºæ™¯3ï¼šæ¡ä»¶å¤„ç†" class="headerlink" title="åœºæ™¯3ï¼šæ¡ä»¶å¤„ç†"></a>åœºæ™¯3ï¼šæ¡ä»¶å¤„ç†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> tasks = [<span class="hljs-string">&#x27;task1&#x27;</span>, <span class="hljs-string">&#x27;task2&#x27;</span>, <span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-string">&#x27;task4&#x27;</span>];<br><br><span class="hljs-comment">// âŒ forEach æ— æ³•å¤„ç†é”™è¯¯ååœæ­¢</span><br>tasks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (task === <span class="hljs-string">&#x27;error&#x27;</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Error encountered&#x27;</span>);<br>        <span class="hljs-comment">// æ— æ³•åœæ­¢ï¼Œä¼šç»§ç»­å¤„ç†åç»­ä»»åŠ¡</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processing <span class="hljs-subst">$&#123;task&#125;</span>`</span>);<br>&#125;);<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ for...of å¯ä»¥ä¼˜é›…å¤„ç†</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> task <span class="hljs-keyword">of</span> tasks) &#123;<br>    <span class="hljs-keyword">if</span> (task === <span class="hljs-string">&#x27;error&#x27;</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Error encountered, stopping&#x27;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processing <span class="hljs-subst">$&#123;task&#125;</span>`</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è®¾è®¡å“²å­¦çš„æ·±å±‚æ€è€ƒ"><a href="#è®¾è®¡å“²å­¦çš„æ·±å±‚æ€è€ƒ" class="headerlink" title="è®¾è®¡å“²å­¦çš„æ·±å±‚æ€è€ƒ"></a>è®¾è®¡å“²å­¦çš„æ·±å±‚æ€è€ƒ</h2><h3 id="å‡½æ•°å¼-vs-å‘½ä»¤å¼"><a href="#å‡½æ•°å¼-vs-å‘½ä»¤å¼" class="headerlink" title="å‡½æ•°å¼ vs å‘½ä»¤å¼"></a>å‡½æ•°å¼ vs å‘½ä»¤å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å‘½ä»¤å¼é£æ ¼ - å…³æ³¨&quot;å¦‚ä½•åš&quot;</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (condition) <span class="hljs-keyword">break</span>;<br>    <span class="hljs-title function_">doSomething</span>(array[i]);<br>&#125;<br><br><span class="hljs-comment">// å‡½æ•°å¼é£æ ¼ - å…³æ³¨&quot;åšä»€ä¹ˆ&quot;</span><br>array<br>    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !condition)<br>    .<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-title function_">doSomething</span>(item));<br></code></pre></td></tr></table></figure><p>forEach ä½“ç°äº†å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ï¼š</p><ul><li><strong>å£°æ˜å¼</strong>ï¼šæè¿°è¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯å¦‚ä½•åš</li><li><strong>ä¸å¯å˜æ€§</strong>ï¼šä¸æ”¹å˜åŸæ•°ç»„</li><li><strong>é«˜é˜¶å‡½æ•°</strong>ï¼šæ¥å—å‡½æ•°ä½œä¸ºå‚æ•°</li><li><strong>å‰¯ä½œç”¨åˆ†ç¦»</strong>ï¼šå°†éå†é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘åˆ†ç¦»</li></ul><h3 id="ä¸ºä»€ä¹ˆä¸æ”¯æŒä¸­æ–­ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸æ”¯æŒä¸­æ–­ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ”¯æŒä¸­æ–­ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸æ”¯æŒä¸­æ–­ï¼Ÿ</h3><ol><li><strong>ä¸€è‡´æ€§</strong>ï¼šä¿æŒå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€è‡´æ€§</li><li><strong>ç®€æ´æ€§</strong>ï¼šé¿å…å¤æ‚çš„æ§åˆ¶æµ</li><li><strong>å¯é¢„æµ‹æ€§</strong>ï¼šç¡®ä¿å›è°ƒå‡½æ•°è¢«æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡</li><li><strong>å¹¶è¡ŒåŒ–æ½œåŠ›</strong>ï¼šä¸ºæœªæ¥çš„å¹¶è¡Œå¤„ç†ç•™ä¸‹ç©ºé—´</li></ol><h2 id="æœ€ä½³å®è·µå»ºè®®"><a href="#æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="æœ€ä½³å®è·µå»ºè®®"></a>æœ€ä½³å®è·µå»ºè®®</h2><h3 id="é€‰æ‹©åˆé€‚çš„éå†æ–¹æ³•"><a href="#é€‰æ‹©åˆé€‚çš„éå†æ–¹æ³•" class="headerlink" title="é€‰æ‹©åˆé€‚çš„éå†æ–¹æ³•"></a>é€‰æ‹©åˆé€‚çš„éå†æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// âœ… æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•</span><br><br><span class="hljs-comment">// 1. éœ€è¦å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œï¼Œä¸éœ€è¦ä¸­æ–­</span><br>array.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item));<br><br><span class="hljs-comment">// 2. éœ€è¦æŸ¥æ‰¾ç‰¹å®šå…ƒç´ </span><br><span class="hljs-keyword">const</span> found = array.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === targetId);<br><br><span class="hljs-comment">// 3. éœ€è¦æ£€æŸ¥æ¡ä»¶</span><br><span class="hljs-keyword">const</span> hasValidItems = array.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">isValid</span>);<br><span class="hljs-keyword">const</span> allValid = array.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">isValid</span>);<br><br><span class="hljs-comment">// 4. éœ€è¦å¤æ‚çš„æ§åˆ¶æµ</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> array) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldSkip</span>(item)) <span class="hljs-keyword">continue</span>;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldStop</span>(item)) <span class="hljs-keyword">break</span>;<br>    <span class="hljs-title function_">process</span>(item);<br>&#125;<br><br><span class="hljs-comment">// 5. éœ€è¦ç´¢å¼•å’Œå¤æ‚é€»è¾‘</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-comment">// å¤æ‚çš„ç´¢å¼•æ“ä½œ</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ€§èƒ½è€ƒè™‘"><a href="#æ€§èƒ½è€ƒè™‘" class="headerlink" title="æ€§èƒ½è€ƒè™‘"></a>æ€§èƒ½è€ƒè™‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// âœ… åœ¨å¤§æ•°ç»„ä¸­æŸ¥æ‰¾æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨å¯ä¸­æ–­çš„æ–¹æ³•</span><br><span class="hljs-keyword">const</span> largeArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// å¥½ï¼šå¯ä»¥æå‰ä¸­æ–­</span><br><span class="hljs-keyword">const</span> found = largeArray.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item === target);<br><br><span class="hljs-comment">// å·®ï¼šå¿…é¡»éå†æ•´ä¸ªæ•°ç»„</span><br><span class="hljs-keyword">let</span> result = <span class="hljs-literal">null</span>;<br>largeArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (item === target &amp;&amp; !result) &#123;<br>        result = item;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="å¤„ç†å¼‚æ­¥æ“ä½œ"><a href="#å¤„ç†å¼‚æ­¥æ“ä½œ" class="headerlink" title="å¤„ç†å¼‚æ­¥æ“ä½œ"></a>å¤„ç†å¼‚æ­¥æ“ä½œ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// âŒ forEach ä¸ä¼šç­‰å¾… Promise</span><br><span class="hljs-keyword">const</span> urls = [<span class="hljs-string">&#x27;url1&#x27;</span>, <span class="hljs-string">&#x27;url2&#x27;</span>, <span class="hljs-string">&#x27;url3&#x27;</span>];<br>urls.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">async</span> (url) =&gt; &#123;<br>    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);<br>&#125;);<br><br><span class="hljs-comment">// âœ… ä½¿ç”¨ for...of ç­‰å¾…æ¯ä¸ª Promise</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUrls</span>(<span class="hljs-params">urls</span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> url <span class="hljs-keyword">of</span> urls) &#123;<br>        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// âœ… æˆ–è€…ä½¿ç”¨ Promise.all å¹¶è¡Œå¤„ç†</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUrlsParallel</span>(<span class="hljs-params">urls</span>) &#123;<br>    <span class="hljs-keyword">const</span> promises = urls.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">url</span> =&gt;</span> <span class="hljs-title function_">fetch</span>(url));<br>    <span class="hljs-keyword">const</span> responses = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);<br>    responses.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response));<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>forEach ä¸èƒ½è¢«ä¸­æ–­çš„æ ¹æœ¬åŸå› æ˜¯ï¼š</p><ol><li><strong>è®¾è®¡å“²å­¦</strong>ï¼šforEach æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°ï¼Œå¼ºè°ƒå£°æ˜å¼å’Œä¸å¯å˜æ€§</li><li><strong>è¯­æ³•é™åˆ¶</strong>ï¼šbreak&#x2F;continue åªèƒ½åœ¨å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨å‡½æ•°ä¸­ä½¿ç”¨</li><li><strong>ä¸€è‡´æ€§è€ƒè™‘</strong>ï¼šä¿æŒ API çš„ç®€æ´å’Œå¯é¢„æµ‹æ€§</li></ol><p><strong>å®ç”¨å»ºè®®ï¼š</strong></p><ul><li>éœ€è¦ä¸­æ–­æ—¶ï¼Œé€‰æ‹© <code>for</code>ã€<code>for...of</code>ã€<code>some</code>ã€<code>every</code>ã€<code>find</code> ç­‰æ–¹æ³•</li><li>forEach é€‚ç”¨äºéœ€è¦å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œä¸”ä¸éœ€è¦ä¸­æ–­çš„åœºæ™¯</li></ul>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>forEach</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux å¿…å­¦ï¼šVimå·¥å…·ä½¿ç”¨æ–¹æ³•</title>
    <link href="/blog/2025/08/21/linux-Vim%E4%BD%BF%E7%94%A8/"/>
    <url>/blog/2025/08/21/linux-Vim%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="Linux-å¿…å­¦ï¼šVimå·¥å…·ä½¿ç”¨æ–¹æ³•"><a href="#Linux-å¿…å­¦ï¼šVimå·¥å…·ä½¿ç”¨æ–¹æ³•" class="headerlink" title="Linux å¿…å­¦ï¼šVimå·¥å…·ä½¿ç”¨æ–¹æ³•"></a>Linux å¿…å­¦ï¼šVimå·¥å…·ä½¿ç”¨æ–¹æ³•</h1><p>åœ¨ Linux æ±Ÿæ¹–é‡Œï¼ŒVim å ªç§° â€œç¼–è¾‘å™¨ä¹‹ç¥â€ã€‚å®ƒä¸ä»…èƒ½è®©ä½ åŒæ‰‹ä¸ç¦»é”®ç›˜å®Œæˆæ‰€æœ‰æ“ä½œï¼Œæ›´èƒ½é€šè¿‡ä»£ç é«˜äº®ã€æ™ºèƒ½è¡¥å…¨ã€å¤šçª—å£ç¼–è¾‘ç­‰é»‘ç§‘æŠ€ï¼ŒæŠŠæ•²ä»£ç å˜æˆä¸€åœºæŒ‡å°–èˆè¹ˆã€‚</p><p><img src="https://s3.bmp.ovh/imgs/2025/12/31/e5bf3023e7f4c3e0.png" alt="å›¾ç‰‡"></p><h2 id="ğŸš€åŸºç¡€æ“ä½œï¼šä¸‰æ‹›è§£é”-Vim-ä¸–ç•Œ"><a href="#ğŸš€åŸºç¡€æ“ä½œï¼šä¸‰æ‹›è§£é”-Vim-ä¸–ç•Œ" class="headerlink" title="ğŸš€åŸºç¡€æ“ä½œï¼šä¸‰æ‹›è§£é” Vim ä¸–ç•Œ"></a>ğŸš€åŸºç¡€æ“ä½œï¼šä¸‰æ‹›è§£é” Vim ä¸–ç•Œ</h2><p>Vim æœ‰ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å¼</p><p><strong>å‘½ä»¤æ¨¡å¼ï¼ˆå¯åŠ¨å³è¿›å…¥ï¼‰ï¼š</strong></p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">iåˆ‡æ¢è¾“å…¥æ¨¡å¼ï¼ˆ<span class="hljs-built_in">Insert</span>ï¼‰<br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">x</span>åˆ é™¤å…‰æ ‡å­—ç¬¦<br></code></pre></td></tr></table></figure><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:wq</span>ä¿å­˜å¹¶é€€å‡ºï¼ˆç»å…¸ç»„åˆé”®ï¼‰<br></code></pre></td></tr></table></figure><p><strong>è¾“å…¥æ¨¡å¼ï¼šå°½æƒ…æ‰“å­—ï¼Œå·¦ä¸‹è§’ä¼šæ˜¾ç¤º</strong><code>--INSERT--</code></p><p>**åº•çº¿å‘½ä»¤æ¨¡å¼ï¼š**è¾“å…¥<code>:``set nu</code>æ˜¾ç¤ºè¡Œå·ï¼Œ<code>:s/old/new/g</code>æ‰¹é‡æ›¿æ¢</p><h2 id="ğŸ› ï¸å¿«æ·é”®åº“ï¼šè®©æ“ä½œé£èµ·æ¥"><a href="#ğŸ› ï¸å¿«æ·é”®åº“ï¼šè®©æ“ä½œé£èµ·æ¥" class="headerlink" title="ğŸ› ï¸å¿«æ·é”®åº“ï¼šè®©æ“ä½œé£èµ·æ¥"></a>ğŸ› ï¸å¿«æ·é”®åº“ï¼šè®©æ“ä½œé£èµ·æ¥</h2><h3 id="å…‰æ ‡ç§»åŠ¨ï¼ˆå‘Šåˆ«é¼ æ ‡ï¼ï¼‰"><a href="#å…‰æ ‡ç§»åŠ¨ï¼ˆå‘Šåˆ«é¼ æ ‡ï¼ï¼‰" class="headerlink" title="å…‰æ ‡ç§»åŠ¨ï¼ˆå‘Šåˆ«é¼ æ ‡ï¼ï¼‰"></a>å…‰æ ‡ç§»åŠ¨ï¼ˆå‘Šåˆ«é¼ æ ‡ï¼ï¼‰</h3><ul><li><code>w è·³åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å¤´</code></li><li><code>ggå›åˆ°æ–‡ä»¶é¡¶éƒ¨</code></li><li><code>Gç›´è¾¾æ–‡ä»¶æœ«å°¾</code></li></ul><h3 id="ç¼–è¾‘é­”æ³•"><a href="#ç¼–è¾‘é­”æ³•" class="headerlink" title="ç¼–è¾‘é­”æ³•"></a>ç¼–è¾‘é­”æ³•</h3><ul><li><code>ddåˆ é™¤æ•´è¡Œï¼ˆ&quot;Double Delete&quot;ï¼‰</code></li><li><code>yyå¤åˆ¶å½“å‰è¡Œï¼ˆ&quot;Yank&quot;ï¼‰</code></li><li><code>pç²˜è´´åˆ°å…‰æ ‡åï¼ˆ&quot;Put&quot;ï¼‰</code></li></ul><h2 id="ğŸ”è¿›é˜¶æŠ€èƒ½ï¼šæ•ˆç‡ç¿»å€ç§˜ç±"><a href="#ğŸ”è¿›é˜¶æŠ€èƒ½ï¼šæ•ˆç‡ç¿»å€ç§˜ç±" class="headerlink" title="ğŸ”è¿›é˜¶æŠ€èƒ½ï¼šæ•ˆç‡ç¿»å€ç§˜ç±"></a>ğŸ”è¿›é˜¶æŠ€èƒ½ï¼šæ•ˆç‡ç¿»å€ç§˜ç±</h2><h3 id="æŸ¥æ‰¾æ›¿æ¢"><a href="#æŸ¥æ‰¾æ›¿æ¢" class="headerlink" title="æŸ¥æ‰¾æ›¿æ¢"></a>æŸ¥æ‰¾æ›¿æ¢</h3><ul><li><code>/keywordå‘ä¸‹æœç´¢ï¼ˆå›è½¦ånä¸‹ä¸€ä¸ªï¼ŒNä¸Šä¸€ä¸ªï¼‰</code></li><li><code>:%s/old/new/gå…¨æ–‡æ›¿æ¢ï¼ˆè®°å¾—å¤‡ä»½ï¼ï¼‰</code></li></ul><h3 id="å¤šçª—å£æ“ä½œ"><a href="#å¤šçª—å£æ“ä½œ" class="headerlink" title="å¤šçª—å£æ“ä½œ"></a>å¤šçª—å£æ“ä½œ</h3><ul><li><code>:spæ°´å¹³åˆ†å‰²çª—å£</code></li><li><code>Ctrl+w  + æ–¹å‘é”® åˆ‡æ¢çª—å£</code></li></ul><h3 id="å®å½•åˆ¶"><a href="#å®å½•åˆ¶" class="headerlink" title="å®å½•åˆ¶"></a>å®å½•åˆ¶</h3><ol><li><code>qaå¼€å§‹å½•åˆ¶ï¼ˆa ä¸ºä»»æ„å­—æ¯ï¼‰</code></li><li>æ‰§è¡Œæ“ä½œï¼ˆå¦‚<code>ddp</code>äº¤æ¢è¡Œï¼‰</li><li><code>q ç»“æŸå½•åˆ¶</code></li><li><code>@aé‡å¤æ’­æ”¾</code></li></ol><h2 id="âš™ï¸ä¸ªæ€§åŒ–é…ç½®ï¼šæ‰“é€ ä¸“å±ç¼–è¾‘å™¨"><a href="#âš™ï¸ä¸ªæ€§åŒ–é…ç½®ï¼šæ‰“é€ ä¸“å±ç¼–è¾‘å™¨" class="headerlink" title="âš™ï¸ä¸ªæ€§åŒ–é…ç½®ï¼šæ‰“é€ ä¸“å±ç¼–è¾‘å™¨"></a>âš™ï¸ä¸ªæ€§åŒ–é…ç½®ï¼šæ‰“é€ ä¸“å±ç¼–è¾‘å™¨</h2><p>ç¼–è¾‘<code>~/.vimrc</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹é­”æ³•ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-keyword">set</span> nu          <span class="hljs-comment">&quot;æ˜¾ç¤ºè¡Œå·&quot;</span><br><span class="hljs-keyword">set</span> <span class="hljs-comment">tabstop=4</span>   <span class="hljs-comment">&quot;Tabä¸º4ç©ºæ ¼&quot;</span><br>syntax <span class="hljs-comment">on</span>       <span class="hljs-comment">&quot;ä»£ç é«˜äº®&quot;</span><br>colorscheme <span class="hljs-comment">desert</span> <span class="hljs-comment">&quot;æŠ¤çœ¼é…è‰²&quot;</span><br></code></pre></td></tr></table></figure><h2 id="ğŸ’¡å®‰è£…æ–¹æ³•"><a href="#ğŸ’¡å®‰è£…æ–¹æ³•" class="headerlink" title="ğŸ’¡å®‰è£…æ–¹æ³•"></a>ğŸ’¡å®‰è£…æ–¹æ³•</h2><h3 id="Red-Hat-CentOS-Fedora-ç³»ï¼ˆDNF-YUMåŒ…ç®¡ç†ï¼‰"><a href="#Red-Hat-CentOS-Fedora-ç³»ï¼ˆDNF-YUMåŒ…ç®¡ç†ï¼‰" class="headerlink" title="Red Hat&#x2F;CentOS&#x2F;Fedora ç³»ï¼ˆDNF&#x2F;YUMåŒ…ç®¡ç†ï¼‰"></a><strong>Red Hat&#x2F;CentOS&#x2F;Fedora ç³»ï¼ˆDNF&#x2F;YUMåŒ…ç®¡ç†ï¼‰</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Fedora/CentOS 8+ ä½¿ç”¨DNFï¼š</span><br><span class="hljs-built_in">sudo</span> dnf install vim-enhanced<br><span class="hljs-comment"># CentOS 7åŠä»¥ä¸‹ä½¿ç”¨YUMï¼š</span><br><span class="hljs-built_in">sudo</span> yum install vim-enhanced<br></code></pre></td></tr></table></figure><h3 id="Debian-Ubuntu-ç³»ï¼ˆAPTåŒ…ç®¡ç†ï¼‰"><a href="#Debian-Ubuntu-ç³»ï¼ˆAPTåŒ…ç®¡ç†ï¼‰" class="headerlink" title="Debian&#x2F;Ubuntu ç³»ï¼ˆAPTåŒ…ç®¡ç†ï¼‰"></a><strong>Debian&#x2F;Ubuntu ç³»ï¼ˆAPTåŒ…ç®¡ç†ï¼‰</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ï¼ˆå¯é€‰ä½†æ¨èï¼‰</span><br><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-comment"># å®‰è£…Vim</span><br><span class="hljs-built_in">sudo</span> apt install vim<br></code></pre></td></tr></table></figure><h3 id="openSUSEï¼ˆZypperåŒ…ç®¡ç†ï¼‰"><a href="#openSUSEï¼ˆZypperåŒ…ç®¡ç†ï¼‰" class="headerlink" title="openSUSEï¼ˆZypperåŒ…ç®¡ç†ï¼‰"></a><strong>openSUSEï¼ˆZypperåŒ…ç®¡ç†ï¼‰</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper install vim<br></code></pre></td></tr></table></figure><h3 id="éªŒè¯å®‰è£…"><a href="#éªŒè¯å®‰è£…" class="headerlink" title="éªŒè¯å®‰è£…"></a><strong>éªŒè¯å®‰è£…</strong></h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> --<span class="hljs-keyword">version</span><br># æˆ–è¿è¡Œ <span class="hljs-keyword">vim</span> è¿›å…¥ç¼–è¾‘å™¨<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSæ‰‹å†™å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼(Event Bus)</title>
    <link href="/blog/2025/08/02/js-eventBus/"/>
    <url>/blog/2025/08/02/js-eventBus/</url>
    
    <content type="html"><![CDATA[<h1 id="æ‰‹å†™å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼"><a href="#æ‰‹å†™å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼" class="headerlink" title="æ‰‹å†™å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼"></a>æ‰‹å†™å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼</h1><h3 id="ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼ï¼Ÿ</h3><p><em><strong>æ‰“ä¸ªæ¯”æ–¹ï¼š</strong></em></p><ul><li>æƒ³è±¡ä¸€ä¸ª <strong>å¾®ä¿¡å…¬ä¼—å·å¹³å°</strong>ã€‚</li><li>å†™æ–‡ç« çš„äººå°±æ˜¯ <strong>å‘å¸ƒè€… (Publisher)</strong> ã€‚</li><li>çœ‹æ–‡ç« çš„äººå°±æ˜¯ <strong>è®¢é˜…è€… (Subscriber)</strong> ã€‚</li><li>å¾®ä¿¡å…¬ä¼—å·å¹³å°æœ¬èº«å°±æ˜¯ <strong>äº‹ä»¶é€šé“&#x2F;æ¶ˆæ¯ä»£ç†&#x2F;äº‹ä»¶æ€»çº¿ (Event Channel&#x2F;Message Broker&#x2F;Event Bus)</strong> ã€‚</li><li>ä½œè€…å†™å¥½æ–‡ç« åï¼Œä¸æ˜¯ç›´æ¥å‘ç»™è¯»è€…ï¼Œè€Œæ˜¯ <strong>å‘å¸ƒ (Publish)</strong> åˆ°å…¬ä¼—å·å¹³å°ä¸Šï¼Œè¯´â€œæˆ‘å†™äº†ä¸€ç¯‡å…³äºâ€˜è®¾è®¡æ¨¡å¼â€™çš„æ–‡ç« â€ã€‚</li><li>è¯»è€…å¯¹â€œè®¾è®¡æ¨¡å¼â€æ„Ÿå…´è¶£ï¼Œå°± <strong>è®¢é˜… (Subscribe)</strong> äº†è¿™ä¸ªä¸»é¢˜ï¼ˆTopicï¼‰ã€‚</li><li>å¹³å°è´Ÿè´£ <strong>æŠŠæ¶ˆæ¯ä»å‘å¸ƒè€…ä¼ é€’ç»™è®¢é˜…è€…</strong>ã€‚å½“æœ‰æ–°çš„â€œè®¾è®¡æ¨¡å¼â€æ–‡ç« å‘å¸ƒæ—¶ï¼Œå¹³å°ä¼šè‡ªåŠ¨æ¨é€ç»™æ‰€æœ‰è®¢é˜…äº†è¯¥ä¸»é¢˜çš„è¯»è€…ã€‚</li><li>å…³é”®ç‚¹ï¼šä½œè€… <strong>ä¸çŸ¥é“</strong> è°è®¢é˜…äº†ä»–çš„æ–‡ç« ï¼›è¯»è€… <strong>ä¹Ÿä¸çŸ¥é“</strong> æ–‡ç« å…·ä½“æ˜¯è°å†™çš„ï¼ˆé™¤éä½œè€…ç½²åï¼‰ã€‚ä»–ä»¬åªå’Œå¹³å°æ‰“äº¤é“ã€‚</li></ul><blockquote><p>ç®€å•æ¥è¯´ï¼šè¯»è€…çœ‹åˆ°è‡ªå·±å–œæ¬¢çš„æ–‡ç« ï¼Œåˆ™ä¼šç‚¹å‡»è®¢é˜…ï¼Œå¹³å°æ”¶åˆ°åå°†è®¢é˜…æ¶ˆæ¯å…ˆå­˜å‚¨èµ·æ¥ï¼Œç­‰åˆ°å‘å¸ƒè€…å‘å¸ƒäº†è¯¥ç±»æ–‡ç« ï¼Œåˆ™å¹³å°æ‰¾åˆ°å–œæ¬¢è¯¥æ–‡ç« çš„è®¢é˜…æ¶ˆæ¯ï¼Œå°†å…¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å‘è¯»è€…æ¨èè¯¥æ–‡ç« ã€‚</p></blockquote><h3 id="é‚£ä¹ˆè¦å¦‚ä½•å®ç°å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆè¦å¦‚ä½•å®ç°å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆè¦å¦‚ä½•å®ç°å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼å‘¢ï¼Ÿ"></a>é‚£ä¹ˆè¦å¦‚ä½•å®ç°å‘å¸ƒè®¢é˜…è®¾è®¡æ¨¡å¼å‘¢ï¼Ÿ</h3><p>åº•å±‚é€»è¾‘ï¼šå®šä¹‰ä¸€ä¸ª<strong>EventEmitter</strong>ç±»ï¼Œè¯¥ç±»å†…éƒ¨å®šä¹‰äº†<strong>è®¢é˜…å‡½æ•°on</strong>ï¼Œ<strong>å‘å¸ƒå‡½æ•°emit</strong>ä»¥åŠ<strong>enventListå¯¹è±¡</strong>ï¼ˆç”¨äºå­˜å‚¨è®¢é˜…æ¶ˆæ¯çš„ï¼‰ï¼Œå†åˆ›å»ºä¸€ä¸ªEventEmitterç±»çš„**_eventå®ä¾‹**ï¼ˆäº‹ä»¶æ€»çº¿ï¼‰ï¼Œæ¯å½“æœ‰è®¢é˜…ä¿¡æ¯ï¼Œ_eventåˆ™è°ƒç”¨onæ–¹æ³•å°†å›è°ƒå‡½æ•°ï¼ˆè®¢é˜…è€…ï¼‰ä¸ç‰¹å®šäº‹ä»¶åç§°å…³è”èµ·æ¥ï¼Œå­˜å‚¨åœ¨å†…éƒ¨çš„ eventList å¯¹è±¡ä¸­ã€‚åªè¦ç­‰åˆ°å‘å¸ƒæ–‡ç« æ—¶ï¼Œ_eventè°ƒç”¨emitæ–¹æ³•æŸ¥æ‰¾å¯¹åº”äº‹ä»¶çš„æ‰€æœ‰å›è°ƒå‡½æ•°å¹¶æ‰§è¡Œï¼Œå®ç°äº†å‘å¸ƒè€…ä¸è®¢é˜…è€…çš„è§£è€¦ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventEmitter</span>&#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//å®šä¹‰eventListå¯¹è±¡ï¼Œç”¨äºå­˜å‚¨å„ç±»æ–‡ç« çš„è®¢é˜…äº‹ä»¶</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>=&#123;&#125;<br>    &#125;<br>    <span class="hljs-comment">//è®¢é˜…å‡½æ•°ï¼ŒeventNameæœªè®¢é˜…çš„ä¹¦ç±ç±»å‹ï¼Œcbè®¢é˜…è€…çš„å›è°ƒå‡½æ•°ï¼Œå‘å¸ƒæ—¶è°ƒç”¨</span><br>    <span class="hljs-title function_">on</span>(<span class="hljs-params">eventName,cb</span>)&#123;<span class="hljs-comment">//è®¢é˜…äº‹ä»¶</span><br>        <span class="hljs-comment">//å½“å¯¹è±¡å†…ä¸å­˜åœ¨è¯¥ç±»è®¢é˜…ä¹¦ç±ï¼Œåˆ™æ·»åŠ ä¸€ä¸ªæ–°æ•°ç»„è¿›è¡Œå­˜å‚¨</span><br>        <span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName])&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName]=[]<br>        &#125;<br>        <span class="hljs-comment">//å°†ä¹¦ç±ç±»å‹è®¾ä¸ºé”®ï¼Œè®¢é˜…è€…çš„å›è°ƒå‡½æ•°åŠ å…¥åˆ°è¯¥ç±»çš„æ•°ç»„ä¸­</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName].<span class="hljs-title function_">push</span>(cb)<br>    &#125;<br>    <span class="hljs-comment">//å‘å¸ƒå‡½æ•°ï¼Œå½“å‘å¸ƒè€…å‘å¸ƒæ–‡ç« æ—¶ï¼Œäº‹ä»¶æ€»çº¿åˆ™è°ƒç”¨è¯¥å‡½æ•°ï¼Œæ‰§è¡Œæ‰€æœ‰è¯¥ç±»æ–‡ç« çš„å›è°ƒå‡½æ•°</span><br>    <span class="hljs-comment">//eventNameè¡¨ç¤ºè¦å‘å¸ƒçš„æ–‡ç« çš„ç±»åˆ«</span><br>    <span class="hljs-title function_">emit</span>(<span class="hljs-params">eventName</span>)&#123;<span class="hljs-comment">//å‘å¸ƒäº‹ä»¶</span><br>        <span class="hljs-comment">//æŸ¥æ‰¾è®¢é˜…æ¶ˆæ¯å¯¹è±¡ä¸­æœ‰æ— è¯¥ç±»æ–‡ç« çš„è®¢é˜…æ¶ˆæ¯</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[enventName])&#123;<br>        <span class="hljs-comment">//å°†è®¢é˜…çš„äº‹ä»¶å›è°ƒå‡½æ•°å¤åˆ¶ä¸€ä»½ï¼Œé¿å…ç›´æ¥æ“ä½œè®¢é˜…çš„äº‹ä»¶å›è°ƒå‡½æ•°æ•°ç»„</span><br>            <span class="hljs-keyword">const</span> handlers=<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName].<span class="hljs-title function_">slice</span>()<br>            <span class="hljs-comment">//éå†è®¢é˜…çš„äº‹ä»¶å›è°ƒå‡½æ•°æ•°ç»„ï¼Œæ‰§è¡Œæ¯ä¸ªå›è°ƒå‡½æ•°</span><br>            handlers.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>                <span class="hljs-title function_">item</span>()<br>            &#125;)<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//åˆ›å»ºäº‹ä»¶æ€»çº¿_event</span><br><span class="hljs-keyword">let</span> _event=<span class="hljs-keyword">new</span> <span class="hljs-title class_">EventEmitter</span>()<br><span class="hljs-comment">//è®¢é˜…è€…kangï¼Œ</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">kang</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å°åº·æ”¶åˆ°æ–‡å­¦ç±»æ–‡ç« &#x27;</span>)<br>&#125;<br><span class="hljs-comment">//è®¢é˜…è€…liu</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">liu</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å°åˆ˜æ”¶åˆ°è‰ºæœ¯ç±»æ–‡ç« &#x27;</span>)<br>&#125;<br><span class="hljs-comment">//è®¢é˜…è€…cheng</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">cheng</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å°æˆæ”¶åˆ°ç§‘å­¦ç±»æ–‡ç« &#x27;</span>)<br>&#125;<br>_event.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;wenxue&#x27;</span>,kang)<span class="hljs-comment">//è®¢é˜…äº‹ä»¶&#x27;wenxue&#x27;ï¼Œè®¢é˜…è€…kang</span><br>_event.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;kexue&#x27;</span>,cheng)<span class="hljs-comment">//è®¢é˜…äº‹ä»¶&#x27;kexue&#x27;ï¼Œè®¢é˜…è€…cheng</span><br>_event.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;wenxue&#x27;</span>)<span class="hljs-comment">//å‘å¸ƒäº‹ä»¶&#x27;wenxue&#x27;--&gt;è®¢é˜…è€…kangæ‰§è¡Œ </span><br>_event.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;kexue&#x27;</span>)<span class="hljs-comment">//å‘å¸ƒäº‹ä»¶&#x27;hasCar&#x27;--&gt;è®¢é˜…è€…chengæ‰§è¡Œ </span><br></code></pre></td></tr></table></figure><p><strong>ç®€å•æ€»ç»“</strong>ï¼šäº‹ä»¶æ€»çº¿è°ƒç”¨onæ–¹æ³•å°†å°åº·å’Œå°åˆ˜çš„è®¢é˜…æ¶ˆæ¯åˆ†åˆ«å­˜å‚¨åˆ°æ–‡å­¦å’Œè‰ºæœ¯ç±»è®¢é˜…æ•°ç»„å†…ï¼Œå½“å‘å¸ƒè€…å‘å¸ƒäº†æ–‡å­¦ç±»ä¹¦ç±æ—¶ï¼Œäº‹ä»¶æ€»çº¿åˆ™ä¼šè°ƒç”¨emitæ–¹æ³•ï¼Œå°†è¯¥ä¹¦ç±æ¨èç»™å°åº·ï¼Œå°åº·åˆ™ä¼šæ”¶åˆ°æ–‡å­¦ç±»ä¹¦ç±ï¼Œä½†å°åˆ˜æ”¶ä¸åˆ°ï¼Œå°åˆ˜åªæœ‰å½“è‰ºæœ¯ç±»ä¹¦ç±å‘å¸ƒæ—¶æ‰ä¼šæ”¶åˆ°ã€‚</p><h3 id="å¦‚ä½•å®ç°å–æ¶ˆè®¢é˜…å‘¢ï¼Ÿ"><a href="#å¦‚ä½•å®ç°å–æ¶ˆè®¢é˜…å‘¢ï¼Ÿ" class="headerlink" title="å¦‚ä½•å®ç°å–æ¶ˆè®¢é˜…å‘¢ï¼Ÿ"></a>å¦‚ä½•å®ç°å–æ¶ˆè®¢é˜…å‘¢ï¼Ÿ</h3><p><strong>å¤§ä½“æ€è·¯</strong>ï¼šå°±æ˜¯åœ¨EventEmitterç±»å†…å†<strong>æ·»åŠ ä¸€ä¸ªoffæ–¹æ³•ç”¨äºå–æ¶ˆè®¢é˜…</strong>ï¼Œå½“æœ‰è¯»è€…æƒ³å–æ¶ˆè®¢é˜…æ—¶ï¼Œäº‹ä»¶æ€»çº¿åˆ™è°ƒç”¨offæ–¹æ³•ï¼Œå°†è¯¥è¯»è€…çš„è®¢é˜…æ¶ˆæ¯ä»å…¶è®¢é˜…çš„é‚£ç±»ä¹¦ç±çš„æ•°ç»„å†…åˆ é™¤å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//eventNameä¸ºè¦å–æ¶ˆå“ªç±»ä¹¦ç±çš„è®¢é˜…ï¼Œcbä¸ºè®¢é˜…è€…çš„å›è°ƒå‡½æ•°</span><br><span class="hljs-title function_">off</span>(<span class="hljs-params">eventName,cb</span>)&#123;<span class="hljs-comment">//å–æ¶ˆè®¢é˜…äº‹ä»¶</span><br>    <span class="hljs-comment">//æŸ¥æ‰¾è¯¥è¯»è€…æ˜¯å¦è®¢é˜…è¿‡è¯¥ç±»ä¹¦ç±</span><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName].<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>item===cb))&#123;<br>        <span class="hljs-keyword">return</span> <br>    &#125;<br>    <span class="hljs-keyword">const</span> handlers=<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventList</span>[eventName]<br>    <span class="hljs-comment">//å°†è®¢é˜…çš„äº‹ä»¶å›è°ƒå‡½æ•°æ•°ç»„ä¸­ï¼Œä¸å–æ¶ˆè®¢é˜…çš„äº‹ä»¶å›è°ƒå‡½æ•°ä¸åŒçš„å›è°ƒå‡½æ•°ä¿ç•™ï¼Œç›¸åŒçš„å›è°ƒå‡½æ•°åˆ é™¤</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">enventList</span>[eventName]=handlers.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>item!==cb)<br>&#125;<br>_event.<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;wenxue&#x27;</span>,kang)<span class="hljs-comment">//è¡¨ç¤ºè®¢é˜…è€…kangå–æ¶ˆäº†æ–‡å­¦ç±»ä¹¦ç±çš„è®¢é˜…äº‹ä»¶</span><br></code></pre></td></tr></table></figure><h3 id="å¦‚ä½•å®ç°å•æ¬¡è®¢é˜…å‘¢"><a href="#å¦‚ä½•å®ç°å•æ¬¡è®¢é˜…å‘¢" class="headerlink" title="å¦‚ä½•å®ç°å•æ¬¡è®¢é˜…å‘¢?"></a>å¦‚ä½•å®ç°å•æ¬¡è®¢é˜…å‘¢?</h3><p><strong>å¤§ä½“æ€è·¯ï¼š</strong></p><ol><li>åˆ›å»º<strong>åŒ…è£…å‡½æ•°wrap</strong>ï¼ˆå½¢æˆé—­åŒ…ç¯å¢ƒï¼‰</li></ol><ul><li>é—­åŒ…æ•è·ï¼šåŸå§‹å›è°ƒ<code>cb</code>ã€äº‹ä»¶åç§°<code>eventName</code>ã€å½“å‰<code>this</code>ä¸Šä¸‹æ–‡</li></ul><ol><li>wrapå‡½æ•°å†…éƒ¨é€»è¾‘ï¼š</li></ol><ul><li>æ‰§è¡ŒåŸå§‹å›è°ƒ<code>cb()</code></li><li>è°ƒç”¨<code>this.off(eventName, wrap)</code><strong>ç§»é™¤è‡ªèº«</strong></li></ul><ol><li>ä½¿ç”¨<code>this.on(eventName, wrap)</code>å°†wrapå‡½æ•°æ·»åŠ åˆ°è®¢é˜…æ¶ˆæ¯æ•°ç»„å†…</li></ol><p><strong>å½“äº‹ä»¶è§¦å‘æ—¶ï¼š</strong></p><ul><li>æ‰§è¡Œwrapå‡½æ•°</li><li>å…ˆæ‰§è¡ŒåŸå§‹å›è°ƒ</li><li>éšåç§»é™¤wrapè‡ªèº«</li><li>å®ç°<strong>åªè§¦å‘ä¸€æ¬¡</strong>çš„æ•ˆæœ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">once</span>(<span class="hljs-params">eventName,cb</span>)&#123;<span class="hljs-comment">//å•æ¬¡è®¢é˜…</span><br>    <span class="hljs-comment">//åˆ›å»ºwrapå‡½æ•°ï¼Œå…·æœ‰é—­åŒ…ç‰¹æ€§ï¼Œwrapå‡½æ•°ä¼šè®°ä½å½“å‰çš„cbå‡½æ•°ä»¥åŠeventNameå’Œthiså€¼ï¼Œå½“å…¶è¢«è°ƒç”¨æ—¶å¼•ç”¨</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">wrap</span>=(<span class="hljs-params"></span>)=&gt;&#123;<br>        <span class="hljs-title function_">cb</span>()<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(eventName,wrap)<br>    &#125;<br>    <span class="hljs-comment">//å°†wrapæ·»åŠ åˆ°è®¢é˜…æ¶ˆæ¯å†…ï¼Œå‘å¸ƒæ—¶è°ƒç”¨</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(eventName,wrap)<br>&#125;<br>_event.<span class="hljs-title function_">once</span>(<span class="hljs-string">&#x27;yishu&#x27;</span>,liu)<span class="hljs-comment">//å•æ¬¡è®¢é˜…äº‹ä»¶&#x27;yishu&#x27;ï¼Œè®¢é˜…è€…liu</span><br>_event.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;yishu&#x27;</span>)<span class="hljs-comment">//å‘å¸ƒäº‹ä»¶&#x27;yishu&#x27;--&gt;è®¢é˜…è€…liuæ‰§è¡Œ </span><br>_event.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;yishu&#x27;</span>)<span class="hljs-comment">//å‘å¸ƒäº‹ä»¶&#x27;yishu&#x27;--&gt;è®¢é˜…è€…liuä¸æ‰§è¡Œ </span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Event Bus</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>remé€‚é…PCç«¯å’Œç§»åŠ¨ç«¯</title>
    <link href="/blog/2025/01/09/css-fitter/"/>
    <url>/blog/2025/01/09/css-fitter/</url>
    
    <content type="html"><![CDATA[<h1 id="remé€‚é…PCç«¯å’Œç§»åŠ¨ç«¯-ä¸‰ç§æ–¹å¼"><a href="#remé€‚é…PCç«¯å’Œç§»åŠ¨ç«¯-ä¸‰ç§æ–¹å¼" class="headerlink" title="remé€‚é…PCç«¯å’Œç§»åŠ¨ç«¯(ä¸‰ç§æ–¹å¼)"></a>remé€‚é…PCç«¯å’Œç§»åŠ¨ç«¯(ä¸‰ç§æ–¹å¼)</h1><h3 id="ä¸€ã€åª’ä½“æŸ¥è¯¢-æ ¹æ®å±å¹•å°ºå¯¸-è®¾ç½®remçš„å€¼"><a href="#ä¸€ã€åª’ä½“æŸ¥è¯¢-æ ¹æ®å±å¹•å°ºå¯¸-è®¾ç½®remçš„å€¼" class="headerlink" title="ä¸€ã€åª’ä½“æŸ¥è¯¢,æ ¹æ®å±å¹•å°ºå¯¸,è®¾ç½®remçš„å€¼"></a>ä¸€ã€åª’ä½“æŸ¥è¯¢,æ ¹æ®å±å¹•å°ºå¯¸,è®¾ç½®remçš„å€¼</h3><p>å‡è®¾ç›®å‰éœ€è¦é€‚é…ç§»åŠ¨ç«¯320,360,375,1920çš„åˆ†è¾¨ç‡,æ‰ç”¨scss,è®¾ç½®ä¸€ä¸ªå˜é‡$noä¸º10,ç”¨äºåˆ†10ä»½,</p><ul><li>@mediaâ€”å¼€å¯åª’ä½“æŸ¥è¯¢</li><li>screenâ€”æŸ¥è¯¢çš„ç±»å‹(å±å¹•å®½åº¦)</li><li>max-widthæœ€å¤§å€¼</li><li>min-widthæœ€å°å€¼</li></ul><p>global.scss,åœ¨main.jsä¸­å¼•å…¥</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$no</span>: <span class="hljs-number">10</span>;<br><span class="hljs-comment">//è¡¨ç¤ºå®½åº¦æœ€å¤§å€¼ä¸º320çš„æƒ…å†µä¸‹,è®¾ç½®remä¸º 320/10 px,å³32px</span><br><span class="hljs-comment">//æ‰€ä»¥åªè¦å°äº320px,ç»Ÿä¸€remä¸º32px,è¿™æ ·å°±è®¾ç½®äº†æœ€å°å€¼</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">320px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">320px</span> / <span class="hljs-variable">$no</span><br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//è¡¨ç¤ºå®½åº¦æœ€å°å€¼ä¸º320çš„æƒ…å†µä¸‹,è®¾ç½®remä¸º 320/10 px,å³32px</span><br><span class="hljs-comment">//æ‰€ä»¥åªè¦å¤§äº320,remå€¼å°±ä¸º32px</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">320px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">320px</span> / <span class="hljs-variable">$no</span><br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//è¡¨ç¤ºå®½åº¦æœ€å°å€¼ä¸º360çš„æƒ…å†µä¸‹,è®¾ç½®remä¸º 360/10 px,å³36px</span><br><span class="hljs-comment">//æ‰€ä»¥åªè¦å¤§äºç­‰äº360,remçš„å€¼å°±ä¸º36px</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">320px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">320px</span> / <span class="hljs-variable">$no</span><br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//ä¸‹é¢ä¹Ÿæ˜¯åŒç†,åŒæ—¶åˆ©ç”¨cssä¸‹æ–¹æ ·å¼çš„è¦†ç›–æ€§,åªè¦æŒ‰é¡ºåºå†™å°±èƒ½ä¿è¯èƒ½æ£€æµ‹åˆ°</span><br><span class="hljs-comment">//è¡¨ç¤ºå®½åº¦æœ€å°å€¼ä¸º375çš„æƒ…å†µä¸‹,è®¾ç½®remä¸º 375/10 px,å³37.5px</span><br><span class="hljs-comment">//æ‰€ä»¥åªè¦å¤§äºç­‰äº375,remçš„å€¼å°±ä¸º37.5px</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">375px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">375px</span> / <span class="hljs-variable">$no</span><br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//PCç«¯é€‚é…--ä½¿ç”¨pcç«¯çš„åˆ†è¾¨ç‡å°±è¡Œ</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">1920px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1920px</span> / <span class="hljs-variable">$no</span> <br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//æœ€åè®¾ç½®ä¸ªæœ€å¤§å€¼,max-width: 1920px---&gt;æœ€å¤§å€¼ä¸º1920px</span><br><span class="hljs-comment">//åªè¦å°äº1920px,ç»Ÿä¸€remä¸º192px,è¿™æ ·å°±è®¾ç½®äº†æœ€å¤§å€¼</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1920px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1920px</span> / <span class="hljs-variable">$no</span> <br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€ååœ¨ç½‘é¡µä¸­ä½¿ç”¨remåšå•ä½,å‡å¦‚100pxåœ¨375pxä¸­é•¿åº¦å°±ç”¨2.66remåšå•ä½(æœ‰æ’ä»¶å¯ä»¥è½¬æ¢,ä¸‹æ–‡ä»‹ç»)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>   <span class="hljs-attribute">width</span>: <span class="hljs-number">2.66rem</span>;<br>   <span class="hljs-attribute">height</span>: <span class="hljs-number">2.66rem</span>;<br> &#125;<br></code></pre></td></tr></table></figure><h3 id="äºŒã€åª’ä½“æŸ¥è¯¢-flexible-js"><a href="#äºŒã€åª’ä½“æŸ¥è¯¢-flexible-js" class="headerlink" title="äºŒã€åª’ä½“æŸ¥è¯¢+flexible.js"></a>äºŒã€åª’ä½“æŸ¥è¯¢+flexible.js</h3><p>flexible.jså°±æ˜¯æ‰‹æ·˜å›¢é˜Ÿæ¨å‡ºè½¬åŒ–remçš„æ–¹æ³•,å¤åˆ¶å¼•ç”¨å°±å¥½,åŸç†å°±æ˜¯ç»™æ¯ä¸ªhtmlæ ‡ç­¾æ·»åŠ ä¸ªè¡Œå†…æ ·å¼ <code>style=&quot;font-size: xxx px &quot;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs js"> (<span class="hljs-keyword">function</span> <span class="hljs-title function_">flexible</span> (<span class="hljs-params"><span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span></span>) &#123;<br>  <span class="hljs-keyword">var</span> docEl = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span><br>  <span class="hljs-keyword">var</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span><br><br>  <span class="hljs-comment">// adjust body font size</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">setBodyFontSize</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>) &#123;<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = (<span class="hljs-number">12</span> * dpr) + <span class="hljs-string">&#x27;px&#x27;</span><br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, setBodyFontSize)<br>    &#125;<br>  &#125;<br>  <span class="hljs-title function_">setBodyFontSize</span>();<br>   <br>   <br>  <span class="hljs-comment">//è¿™é‡Œä¹Ÿæ˜¯è®¾ç½®çš„ä»½æ•°,ä¹Ÿæ˜¯ç”¨10</span><br>  <span class="hljs-comment">// set 1rem = viewWidth / 10 </span><br>  <span class="hljs-comment">// æŠŠå±å¹•å¹³å‡åˆ†æˆ10ç­‰ä»½ã€‚æ¯”å¦‚1920/10= 192 px,è¿™ä¸ªæ—¶å€™1remå°±æ˜¯192px,é…åˆvscodæ’ä»¶å¿«é€Ÿé€‚é…ï¼Œåœ¨styleä¸­ä½¿ç”¨åª’ä½“æŸ¥è¯¢ã€‚</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">setRemUnit</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> rem = docEl.<span class="hljs-property">clientWidth</span> / <span class="hljs-number">10</span><br>    docEl.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = rem + <span class="hljs-string">&#x27;px&#x27;</span><br>  &#125;<br><br>  <span class="hljs-title function_">setRemUnit</span>()<br><br>  <span class="hljs-comment">// reset rem unit on page resize</span><br>  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;resize&#x27;</span>, setRemUnit)<br>  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;pageshow&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">persisted</span>) &#123;<br>      <span class="hljs-title function_">setRemUnit</span>()<br>    &#125;<br>  &#125;)<br><br>  <span class="hljs-comment">// detect 0.5px supports</span><br>  <span class="hljs-keyword">if</span> (dpr &gt;= <span class="hljs-number">2</span>) &#123;<br>    <span class="hljs-keyword">var</span> fakeBody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;body&#x27;</span>)<br>    <span class="hljs-keyword">var</span> testElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>)<br>    testElement.<span class="hljs-property">style</span>.<span class="hljs-property">border</span> = <span class="hljs-string">&#x27;.5px solid transparent&#x27;</span><br>    fakeBody.<span class="hljs-title function_">appendChild</span>(testElement)<br>    docEl.<span class="hljs-title function_">appendChild</span>(fakeBody)<br>    <span class="hljs-keyword">if</span> (testElement.<span class="hljs-property">offsetHeight</span> === <span class="hljs-number">1</span>) &#123;<br>      docEl.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;hairlines&#x27;</span>)<br>    &#125;<br>    docEl.<span class="hljs-title function_">removeChild</span>(fakeBody)<br>  &#125;<br>&#125;(<span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span>))<br></code></pre></td></tr></table></figure><p>åœ¨main.jså¼•å…¥ <code>import &#39;@/utils/flexible&#39;</code></p><p>è®¾ç½®æœ€å¤§å€¼å’Œæœ€å°å€¼,åŠ ä¸ªimportant,æå‡æƒé‡</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">320px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">320px</span> / <span class="hljs-variable">$no</span><span class="hljs-meta">!important</span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1920px</span>) &#123;<br>  <span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1920px</span> / <span class="hljs-variable">$no</span> <span class="hljs-meta">!important</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ’ä»¶è½¬åŒ–çš„é—®é¢˜"><a href="#æ’ä»¶è½¬åŒ–çš„é—®é¢˜" class="headerlink" title="æ’ä»¶è½¬åŒ–çš„é—®é¢˜"></a>æ’ä»¶è½¬åŒ–çš„é—®é¢˜</h3><p>vscodeå®‰è£…cssremæ’ä»¶</p><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac429fc15ae54cab98b58e98eda694f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmd562SNzk5:q75.awebp?rk3s=f64ab15b&x-expires=1736691325&x-signature=8bt3rYCiLQt2r9Zgkh73ezZN5NU=" alt="Snipaste_2024-12-22_22-36-07.png"> æ‰¾åˆ°è®¾ç½®æ ¹å­—ä½“å¤§å°çš„åœ°æ–¹,å‡è®¾è®¾è®¡ç¨¿ä¸º1920,è®¾ç½®ä¸º10ç­‰ä»½,é‚£æ ¹å­—ä½“å¤§å°å°±ä¸º1920&#x2F;10&#x3D;192,ä¹‹åå†™cssçš„æ—¶å€™,åªè¦å†™ xx px,å³ä¼šæœ‰è½¬åŒ–remé€‰é¡¹</p><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb9674ebbfba4b42bfa172628698a995~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmd562SNzk5:q75.awebp?rk3s=f64ab15b&x-expires=1736691325&x-signature=kiF9tnPU0qJ40Ryh0pYAkayUb4c=" alt="Snipaste_2024-12-22_22-36-42.png"></p><h3 id="ä¸‰ã€postcss-pxtoremæ’ä»¶è‡ªåŠ¨è½¬åŒ–"><a href="#ä¸‰ã€postcss-pxtoremæ’ä»¶è‡ªåŠ¨è½¬åŒ–" class="headerlink" title="ä¸‰ã€postcss-pxtoremæ’ä»¶è‡ªåŠ¨è½¬åŒ–"></a>ä¸‰ã€postcss-pxtoremæ’ä»¶è‡ªåŠ¨è½¬åŒ–</h3><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h5><p>å¯èƒ½ä¼šæœ‰ç‰ˆæœ¬é—®é¢˜,é‡åˆ°å¯ä»¥å®‰è£…<a href="mailto:&#112;&#x6f;&#115;&#x74;&#x63;&#115;&#115;&#x2d;&#x70;&#120;&#116;&#111;&#x72;&#101;&#109;&#x40;&#x35;&#x2e;&#x31;&#46;&#x31;">postcss-pxtorem@5.1.1</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install postcss postcss-pxtorem --save-dev<br></code></pre></td></tr></table></figure><h5 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h5><p>åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª <code>postcss.config.js</code> æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-comment">//é…ç½®è‡ªè¡Œé€‰æ‹©ä½¿ç”¨,rootValueå’ŒpropListåº”è¯¥ä¸ºå¿…é€‰é¡¹</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">plugins</span>: &#123;<br>    <span class="hljs-string">&#x27;postcss-pxtorem&#x27;</span>: &#123;<br>      <span class="hljs-attr">rootValue</span>: <span class="hljs-number">37.5</span>, <span class="hljs-comment">// è¡¨ç¤ºæ ¹å…ƒç´ å­—ä½“å¤§å°æˆ–æ ¹æ®inputå‚æ•°è¿”å›æ ¹å…ƒç´ å­—ä½“å¤§å°</span><br>      <span class="hljs-attr">propList</span>: [<span class="hljs-string">&#x27;*&#x27;</span>], <span class="hljs-comment">// å¯ä»¥ä»pxæ›´æ”¹ä¸ºremçš„å±æ€§, é€šé…ç¬¦*è¡¨ç¤ºå¯ç”¨æ‰€æœ‰å±æ€§</span><br>      <span class="hljs-attr">selectorBlackList</span>: [<span class="hljs-string">&#x27;.norem&#x27;</span>], <span class="hljs-comment">// è¿‡æ»¤æ‰.noremå¼€å¤´çš„classï¼Œä¸è¿›è¡Œremè½¬æ¢</span><br>      <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç›´æ¥æ›¿æ¢åŸæ¥çš„ px å•ä½</span><br>      <span class="hljs-attr">mediaQuery</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ˜¯å¦è½¬æ¢åª’ä½“æŸ¥è¯¢ä¸­çš„ px</span><br>      <span class="hljs-attr">minPixelValue</span>: <span class="hljs-number">1</span><span class="hljs-comment">// è®¾ç½®è¦æ›¿æ¢çš„æœ€å°åƒç´ å€¼</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="åˆ›å»ºutils-rem-js-åœ¨main-jsä¸­å¼•å…¥-ä¹‹åç›´æ¥ä½¿ç”¨å•ä½px-ä¼šè‡ªåŠ¨è½¬åŒ–"><a href="#åˆ›å»ºutils-rem-js-åœ¨main-jsä¸­å¼•å…¥-ä¹‹åç›´æ¥ä½¿ç”¨å•ä½px-ä¼šè‡ªåŠ¨è½¬åŒ–" class="headerlink" title="åˆ›å»ºutils&#x2F;rem.js,åœ¨main.jsä¸­å¼•å…¥,ä¹‹åç›´æ¥ä½¿ç”¨å•ä½px,ä¼šè‡ªåŠ¨è½¬åŒ–"></a>åˆ›å»ºutils&#x2F;rem.js,åœ¨main.jsä¸­å¼•å…¥,ä¹‹åç›´æ¥ä½¿ç”¨å•ä½px,ä¼šè‡ªåŠ¨è½¬åŒ–</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-comment">// é…ç½®åŸºæœ¬å¤§å°</span><br><span class="hljs-keyword">let</span> baseSize = <span class="hljs-number">37.5</span>;<br><br><span class="hljs-comment">// è®¾ç½® rem å‡½æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">setRem</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">//å½“å‰é¡µé¢å®½åº¦ç›¸å¯¹äº375pxå±å¹•å®½çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå¯æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹ã€‚</span><br>  <span class="hljs-keyword">let</span> scale = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span> / <span class="hljs-number">375</span>;<br>  <span class="hljs-comment">//è®¾ç½®é¡µé¢æ ¹èŠ‚ç‚¹å­—ä½“å¤§å°ï¼ˆâ€œMath.min(scale, 2)â€ æŒ‡æœ€é«˜æ”¾å¤§æ¯”ä¾‹ä¸º2ï¼Œå³æœ€å¤§æ ¹å­—ä½“å¤§å°ä¸º37.5*2=75ï¼Œå¯æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚è°ƒæ•´ï¼‰</span><br>  <span class="hljs-keyword">let</span> fz = baseSize * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(scale, <span class="hljs-number">2</span>)<br>  <span class="hljs-comment">//è·å¾—æ ¹å­—ä½“å¤§å°å,ç»™å…¨éƒ¨é¡µé¢è®¾ç½®æ ¹å­—ä½“å¤§å°</span><br>  <span class="hljs-comment">//ä¸šåŠ¡éœ€è¦é™åˆ¶æ˜¾ç¤ºé¡µé¢çš„æœ€å°å€¼,æˆ‘è¿™é‡Œæ˜¯æ ¹æ®å€æ•°é™åˆ¶çš„,å› ä¸º1å€çš„å­—ä½“å¤§å°ä¸º37.5,å…·ä½“æƒ…å†µå¯ä»¥è‡ªå·±è®¾å®š</span><br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span> = scale &gt;= <span class="hljs-number">1</span> ? fz + <span class="hljs-string">&#x27;px&#x27;</span> : <span class="hljs-number">37.5</span> + <span class="hljs-string">&#x27;px&#x27;</span><br><br>&#125;<br><span class="hljs-title function_">setRem</span>(); <span class="hljs-comment">//åˆå§‹åŒ–</span><br><br><span class="hljs-comment">// é€‚é… - é‡ç½®å‡½æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">resetRem</span> (<span class="hljs-params">num</span>) &#123;<br>  <span class="hljs-keyword">if</span> (num) baseSize = <span class="hljs-title class_">Number</span>(num);<br>  <span class="hljs-title function_">setRem</span>();<br>&#125;<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">resetRem</span> = resetRem; <span class="hljs-comment">// å…¨å±€å¯è°ƒç”¨(å…¶ä»–æ–¹å¼ä¹Ÿå¯)</span><br><br><span class="hljs-comment">// æ”¹å˜çª—å£å¤§å°æ—¶é‡ç½® rem</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">onresize</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">setRem</span>()<br>&#125;;<br></code></pre></td></tr></table></figure><p>ä¸‰ç§æ–¹å¼éƒ½å¯ä»¥å®ç°é€‚é…,ä¸ªäººæ„Ÿå—å¦‚ä¸‹:</p><ul><li>ç¬¬ä¸€ç§æ¯”è¾ƒåŸç”Ÿ,æ¯å¤šé€‚é…ä¸€ä¸ªå°±å¾—å¤šå†™ä¸€ä¸ªåª’ä½“æŸ¥è¯¢</li><li>ç¬¬äºŒç§å±äºç¬¬ä¸€ç§çš„è¿›é˜¶ç‰ˆ</li><li>ç¬¬ä¸‰ç§ä¸ºæ’ä»¶è½¬åŒ–,æ›´æ–¹ä¾¿,ä½†å¯èƒ½ä¼šæœ‰ç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜</li></ul>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>remé€‚é…</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript çš„æ³›å‹</title>
    <link href="/blog/2024/12/27/ts-generics/"/>
    <url>/blog/2024/12/27/ts-generics/</url>
    
    <content type="html"><![CDATA[<h1 id="TypeScript-çš„æ³›å‹"><a href="#TypeScript-çš„æ³›å‹" class="headerlink" title="TypeScript çš„æ³›å‹"></a>TypeScript çš„æ³›å‹</h1><p>TypeScript çš„æ³›å‹ï¼ˆGenericsï¼‰æ˜¯ç”¨äºåˆ›å»ºå¯å¤ç”¨ç»„ä»¶çš„ä¸€ç§å¼ºå¤§å·¥å…·ã€‚å®ƒä»¬å…è®¸ä½ ç¼–å†™èƒ½å¤Ÿå¤„ç†ä»»æ„ç±»å‹æ•°æ®çš„å‡½æ•°ã€æ¥å£æˆ–ç±»ï¼ŒåŒæ—¶ä¿æŒä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ã€‚é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œä½ å¯ä»¥ç¡®ä¿ä»£ç çš„çµæ´»æ€§å’Œç±»å‹å®‰å…¨æ€§ã€‚</p><h3 id="æ³›å‹çš„åŸºæœ¬æ¦‚å¿µ"><a href="#æ³›å‹çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ³›å‹çš„åŸºæœ¬æ¦‚å¿µ"></a>æ³›å‹çš„åŸºæœ¬æ¦‚å¿µ</h3><ul><li><strong>æ³›å‹å‡½æ•°</strong>ï¼šå¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ç›¸åŒæˆ–ä¸åŒçš„ç±»å‹ã€‚</li><li><strong>æ³›å‹ç±»</strong>ï¼šå¯ä»¥åœ¨å®šä¹‰ç±»æ—¶æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å‚æ•°ï¼Œä½¿ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•èƒ½å¤Ÿæ“ä½œè¿™äº›ç±»å‹ã€‚</li><li><strong>æ³›å‹æ¥å£</strong>ï¼šä¸ºå®ç°è¯¥æ¥å£çš„å¯¹è±¡æä¾›ç±»å‹å‚æ•°ï¼Œä»¥ç¡®ä¿å¯¹è±¡ä¸­ç‰¹å®šæˆå‘˜çš„ç±»å‹ä¸€è‡´æ€§ã€‚</li><li><strong>æ³›å‹çº¦æŸ</strong>ï¼šé™åˆ¶æ³›å‹å‚æ•°çš„ç±»å‹èŒƒå›´ï¼Œä»¥ç¡®ä¿æŸäº›æ“ä½œåœ¨è¿™äº›ç±»å‹ä¸Šæ˜¯æœ‰æ•ˆçš„ã€‚</li></ul><h3 id="ä½¿ç”¨æ³›å‹çš„ä¾‹å­"><a href="#ä½¿ç”¨æ³›å‹çš„ä¾‹å­" class="headerlink" title="ä½¿ç”¨æ³›å‹çš„ä¾‹å­"></a>ä½¿ç”¨æ³›å‹çš„ä¾‹å­</h3><h4 id="1-æ³›å‹å‡½æ•°"><a href="#1-æ³›å‹å‡½æ•°" class="headerlink" title="1. æ³›å‹å‡½æ•°"></a>1. æ³›å‹å‡½æ•°</h4><p>æœ€ç®€å•çš„æ³›å‹ç”¨æ³•æ˜¯å®šä¹‰ä¸€ä¸ªæ³›å‹å‡½æ•°ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œå±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªèƒ½è¿”å›è¾“å…¥å€¼çš„å‡½æ•°ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> identity&lt;T&gt;(<span class="hljs-attr">arg</span>: T): T &#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br><span class="hljs-keyword">let</span> output = identity&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;myString&quot;</span>); <span class="hljs-comment">// æŒ‡å®šTä¸ºstringç±»å‹</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output);<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>identity</code> å‡½æ•°å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ç›¸åŒçš„ç±»å‹ã€‚å½“ä½ è°ƒç”¨ <code>identity</code> å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡å°–æ‹¬å· <code>&lt;T&gt;</code> æ˜¾å¼åœ°æŒ‡å®šç±»å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥è®© TypeScript è‡ªåŠ¨æ¨æ–­ç±»å‹ã€‚</p><h4 id="2-æ³›å‹ç±»"><a href="#2-æ³›å‹ç±»" class="headerlink" title="2. æ³›å‹ç±»"></a>2. æ³›å‹ç±»</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ³›å‹ç±»çš„ä¾‹å­ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ªç±»å‹å‚æ•°æ¥ç¡®ä¿å±æ€§å’Œæ–¹æ³•çš„ä¸€è‡´æ€§ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericNumber</span>&lt;T&gt; &#123;<br>    <span class="hljs-attr">zeroValue</span>: T;<br>    <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">x</span>: T, <span class="hljs-attr">y</span>: T</span>) =&gt;</span> T;<br>&#125;<br><br><span class="hljs-keyword">let</span> myGenericNumber = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericNumber</span>&lt;<span class="hljs-built_in">number</span>&gt;();<br>myGenericNumber.<span class="hljs-property">zeroValue</span> = <span class="hljs-number">0</span>;<br>myGenericNumber.<span class="hljs-property">add</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) &#123; <span class="hljs-keyword">return</span> x + y; &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myGenericNumber.<span class="hljs-title function_">add</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// è¾“å‡º30</span><br></code></pre></td></tr></table></figure><h4 id="3-æ³›å‹æ¥å£"><a href="#3-æ³›å‹æ¥å£" class="headerlink" title="3. æ³›å‹æ¥å£"></a>3. æ³›å‹æ¥å£</h4><p>ä½ å¯ä»¥ä½¿ç”¨æ³›å‹æ¥å®šä¹‰æ¥å£ï¼Œä½¿å¾—æ¥å£å¯ä»¥é€‚åº”å¤šç§ç±»å‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Lengthwise</span> &#123;<br>    <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> loggingIdentity&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Lengthwise</span>&gt;(<span class="hljs-attr">arg</span>: T): T &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arg.<span class="hljs-property">length</span>);  <span class="hljs-comment">// ç°åœ¨æˆ‘ä»¬çŸ¥é“argæœ‰lengthå±æ€§</span><br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br><br><span class="hljs-title function_">loggingIdentity</span>(&#123;<span class="hljs-attr">length</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">3</span>&#125;);<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>Lengthwise</code> æ¥å£ï¼Œå®ƒè¦æ±‚å®ç°çš„å¯¹è±¡å¿…é¡»æ‹¥æœ‰ <code>length</code> å±æ€§ã€‚ç„¶åæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ³›å‹å‡½æ•° <code>loggingIdentity</code>ï¼Œå®ƒåªæ¥å—å®ç°äº† <code>Lengthwise</code> æ¥å£çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚</p><h4 id="4-æ³›å‹çº¦æŸ"><a href="#4-æ³›å‹çº¦æŸ" class="headerlink" title="4. æ³›å‹çº¦æŸ"></a>4. æ³›å‹çº¦æŸ</h4><p>æœ‰æ—¶ä½ å¯èƒ½æƒ³è¦é™åˆ¶æ³›å‹çš„ç±»å‹èŒƒå›´ï¼Œä»¥ç¡®ä¿æŸäº›æ“ä½œæ˜¯å¯ä»¥æ‰§è¡Œçš„ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ç±»å‹çº¦æŸæ¥å®ç°ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">function</span> getProperty&lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt;(<span class="hljs-attr">obj</span>: T, <span class="hljs-attr">key</span>: K) &#123;<br>    <span class="hljs-keyword">return</span> obj[key];<br>&#125;<br><br><span class="hljs-keyword">let</span> x = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">d</span>: <span class="hljs-number">4</span> &#125;;<br><br><span class="hljs-title function_">getProperty</span>(x, <span class="hljs-string">&quot;a&quot;</span>); <span class="hljs-comment">// ok</span><br><span class="hljs-comment">// getProperty(x, &quot;m&quot;); // é”™è¯¯ï¼Œ&#x27;m&#x27; ä¸æ˜¯ &#x27;x&#x27; çš„é”®</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>K extends keyof T</code> è¡¨ç¤º <code>K</code> å¿…é¡»æ˜¯ <code>T</code> å¯¹è±¡çš„ä¸€ä¸ªæœ‰æ•ˆé”®åã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ³›å‹æ˜¯ TypeScript ä¸­éå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç¼–å†™æ›´åŠ é€šç”¨å’Œå®‰å…¨çš„ä»£ç ã€‚é€šè¿‡å®šä¹‰æ³›å‹å‡½æ•°ã€ç±»å’Œæ¥å£ï¼Œä½ å¯ä»¥åˆ›å»ºçµæ´»ä¸”ç±»å‹å®‰å…¨çš„ç»„ä»¶ï¼Œé€‚ç”¨äºå„ç§ä¸åŒç±»å‹çš„è¾“å…¥ã€‚åŒæ—¶ï¼Œæ³›å‹çº¦æŸè®©ä½ èƒ½å¤Ÿåœ¨ä¿è¯çµæ´»æ€§çš„åŒæ—¶ï¼Œç¡®ä¿ä»£ç åªèƒ½æŒ‰ç…§é¢„æœŸçš„æ–¹å¼å·¥ä½œã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ts</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TypeScript çš„æ³›å‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>react-router</title>
    <link href="/blog/2024/08/23/react-router/"/>
    <url>/blog/2024/08/23/react-router/</url>
    
    <content type="html"><![CDATA[<h1 id="react-router"><a href="#react-router" class="headerlink" title="react-router"></a>react-router</h1><h2 id="ä¸€ã€ä½¿ç”¨react-router"><a href="#ä¸€ã€ä½¿ç”¨react-router" class="headerlink" title="ä¸€ã€ä½¿ç”¨react-router"></a>ä¸€ã€ä½¿ç”¨react-router</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; createBrowserRouter, <span class="hljs-title class_">RouterProvider</span>, <span class="hljs-title class_">Navigate</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Page1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pages/page1&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Page2</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pages/page2&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Page3</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pages/page3&#x27;</span><br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/page1&#x27;</span>,<br>  <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Page1</span>,<br>&#125;, &#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/page2&#x27;</span>,<br>  <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Page2</span>,<br>&#125;, &#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/page3&#x27;</span>,<br>  <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Page3</span>,<br>&#125;])<br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">&#123;router&#125;</span> /&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€é‡å®šå‘"><a href="#äºŒã€é‡å®šå‘" class="headerlink" title="äºŒã€é‡å®šå‘"></a>äºŒã€é‡å®šå‘</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>  <span class="hljs-attr">element</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/page1&quot;</span> /&gt;</span></span>,<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€è‡ªå®šä¹‰404é¡µé¢"><a href="#ä¸‰ã€è‡ªå®šä¹‰404é¡µé¢" class="headerlink" title="ä¸‰ã€è‡ªå®šä¹‰404é¡µé¢"></a>ä¸‰ã€è‡ªå®šä¹‰404é¡µé¢</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./NotFound&#x27;</span><br>...<br>&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;*&#x27;</span>,<br>  <span class="hljs-title class_">Component</span>: <span class="hljs-title class_">NotFound</span>,<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å››ã€Linkç»„ä»¶å®ç°è·¯ç”±è·³è½¬"><a href="#å››ã€Linkç»„ä»¶å®ç°è·¯ç”±è·³è½¬" class="headerlink" title="å››ã€Linkç»„ä»¶å®ç°è·¯ç”±è·³è½¬"></a>å››ã€Linkç»„ä»¶å®ç°è·¯ç”±è·³è½¬</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#x27;/page1&#x27;</span>&gt;</span>page1<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">frouter&#125;</span> /&gt;</span></span><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h2 id="äº”ã€è·¯ç”±æŒ‰éœ€åŠ è½½"><a href="#äº”ã€è·¯ç”±æŒ‰éœ€åŠ è½½" class="headerlink" title="äº”ã€è·¯ç”±æŒ‰éœ€åŠ è½½"></a>äº”ã€è·¯ç”±æŒ‰éœ€åŠ è½½</h2><p>â€‹å€ŸåŠ©reactçš„<code>lazy</code>å’Œ<code>Suspense</code>å¯ä»¥è½»æ¾çš„å®ç°æŒ‰éœ€åŠ è½½ã€‚è·¯ç”±æŒ‰éœ€åŠ è½½æ˜¯ä¼˜åŒ–é¦–å±æ—¶é—´çš„ä¸€ä¸ªé‡è¦æ–¹æ³•ï¼Œç›¸å½“äºæŠŠä¸€ä¸ªå¤§çš„åŒ…ï¼Œæ‹†æˆäº†ä¸€ä¸ªä¸ªå°åŒ…ï¼Œåªæœ‰è®¿é—®æŸä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæ‰å»åŠ è½½å¯¹åº”çš„jsï¼Œå‡å°‘äº†é¦–å±jsçš„ä½“ç§¯ã€‚ä½¿ç”¨lazyåŠ¨æ€å¯¼å…¥ç»„ä»¶</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createBrowserRouter</span>([&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>ï¼Œ<br><span class="hljs-title class_">Component</span>: <span class="hljs-title class_">Layout</span>,<br><span class="hljs-attr">children</span>: [&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/page1&#x27;</span><br><span class="hljs-title class_">Component</span>:<span class="hljs-title function_">lazy</span>(()=<span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./pages/page1/index.tsx&#x27;</span>))<br>&#125;ï¼Œ<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/page2&#x27;</span>ï¼Œ<br><span class="hljs-title class_">Component</span>:<span class="hljs-title function_">lazy</span>(()<span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./pages/page2/index.tsx&#x27;</span>))<br>&#125;ï¼Œ<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/page3&#x27;</span><br><span class="hljs-title class_">Component</span>:<span class="hljs-title function_">lazy</span>(()=<span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./pages/page3/index.tsx&#x27;</span>)),<br>&#125;<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>,<br><span class="hljs-attr">element</span>:<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/page1&quot;</span>/&gt;</span></span><br>&#125;ï¼Œ<br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;*&#x27;</span>,<br><span class="hljs-title class_">Component</span>: <span class="hljs-title class_">NotFound</span><br>&#125;<br>])<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>router</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯è§„èŒƒæ€»ç»“(é˜¿é‡Œ)</title>
    <link href="/blog/2024/08/23/js-web/"/>
    <url>/blog/2024/08/23/js-web/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯è§„èŒƒæ€»ç»“-é˜¿é‡Œ"><a href="#å‰ç«¯è§„èŒƒæ€»ç»“-é˜¿é‡Œ" class="headerlink" title="å‰ç«¯è§„èŒƒæ€»ç»“(é˜¿é‡Œ)"></a>å‰ç«¯è§„èŒƒæ€»ç»“(é˜¿é‡Œ)</h1><h2 id="ä¸€ã€HTML"><a href="#ä¸€ã€HTML" class="headerlink" title="ä¸€ã€HTML"></a>ä¸€ã€HTML</h2><p>1.è§„å®šå­—ç¬¦ç¼–ç  meta charset</p><p>2.IE å…¼å®¹æ¨¡å¼ content&#x3D;â€IE&#x3D;Edgeâ€</p><p>3.doctypeå¤§å†™</p><p>4.å‡å°‘divï¼Œå¤šä½¿ç”¨headerï¼Œfooterç­‰è¯­ä¹‰æ ‡ç­¾</p><p>5.å±æ€§ä½¿ç”¨åŒå¼•å·</p><h2 id="äºŒã€CSS"><a href="#äºŒã€CSS" class="headerlink" title="äºŒã€CSS"></a>äºŒã€CSS</h2><ul><li>ç±»ç›®å°å†™ç”¨ä¸­åˆ’çº¿ fw-test-0010</li><li>å­ç±»é€‰æ‹©å™¨ä¸ä½¿ç”¨.xxé€‰æ‹©å™¨ä½¿ç”¨ &gt; é€‰æ‹©å™¨</li><li>ä½¿ç”¨ç¼©å†™å±æ€§</li><li>å±æ€§å•ç‹¬å ç”¨ä¸€è¡Œ</li><li>çœç•¥0åå•ä½</li><li>å‡å°‘ä½¿ç”¨IDé€‰æ‹©å™¨</li></ul><h2 id="ä¸‰ã€LESS"><a href="#ä¸‰ã€LESS" class="headerlink" title="ä¸‰ã€LESS"></a>ä¸‰ã€LESS</h2><ul><li>å…¬å…±æ–‡ä»¶æ”¾åœ¨style&#x2F;less&#x2F;commonä¸­</li><li>ä»£ç é¡ºåº @importå¼•ç”¨ @å˜é‡å£°æ˜ .pageæ ·å¼è¯´æ˜</li><li>å‡å°‘åµŒå¥—å±‚çº§ï¼ˆ&lt;20è¡Œï¼‰</li></ul><h2 id="å››ã€JavaScript"><a href="#å››ã€JavaScript" class="headerlink" title="å››ã€JavaScript"></a>å››ã€JavaScript</h2><ul><li>é©¼å³°å‘½åä¸èƒ½ä½¿ç”¨ä¸‹åˆ’çº¿</li><li>å˜é‡ã€å‡½æ•°ã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡éƒ½æ˜¯ç”¨è¯¥è§„åˆ™</li><li>å¸¸é‡å‘½åå…¨éƒ¨å¤§å†™ã€é—´éš”ä½¿ç”¨ä¸‹åˆ’çº¿ã€æ„æ€è¡¨è¾¾å®Œæ•´æ— éœ€ç®€å†™</li></ul><h2 id="äº”ã€ä»£ç æ ¼å¼"><a href="#äº”ã€ä»£ç æ ¼å¼" class="headerlink" title="äº”ã€ä»£ç æ ¼å¼"></a>äº”ã€ä»£ç æ ¼å¼</h2><ul><li>tabç¼©è¿›é»˜è®¤ä¸¤æ ¼</li><li>å­—ç¬¦ä¸²å¼•å·ä½¿ç”¨å•å¼•å·</li><li>å¯¹è±¡å£°æ˜ä½¿ç”¨å­—é¢é‡ code a &#x3D; [] Not a &#x3D; new Object()</li><li>ä½¿ç”¨ES6+è¯­æ³•</li><li>å…³é”®è¯ifâ€¦.åå¿…é¡»æœ‰å¤§æ‹¬å·</li><li>undefinedæ°¸è¿œä¸èƒ½ä½œä¸ºåˆ¤æ–­</li><li>å¾ªç¯åˆ¤æ–­ä¸èƒ½è¶…è¿‡ä¸‰å±‚</li><li>ä¸Šä¸‹æ–‡çš„thisåªèƒ½ä½¿ç”¨self</li><li>æ…ç”¨console.logä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜</li></ul><h2 id="å…­ã€Vueè§„èŒƒ"><a href="#å…­ã€Vueè§„èŒƒ" class="headerlink" title="å…­ã€Vueè§„èŒƒ"></a>å…­ã€Vueè§„èŒƒ</h2><ul><li>ç»„ä»¶åä¸ºå¤šå•è¯</li><li>ç»„ä»¶æ–‡ä»¶æ˜ä½¿ç”¨pascal-caseæ ¼å¼</li><li>åŸºç¡€ç»„ä»¶æ–‡ä»¶åä½¿ç”¨baseå¼€å¤´</li><li>å’Œçˆ¶ç»„ä»¶ç´§å¯†è€¦åˆçš„å­ç»„ä»¶åº”è¯¥ä»¥çˆ¶ç»„ä»¶åä½œä¸ºå‰ç¼€å‘½å</li><li>dataå¿…é¡»ä¸ºå‡½æ•°</li><li>Propå®šä¹‰å¿…é¡»ä½¿ç”¨é©¼å³°ã€æŒ‡å®šç±»å‹ã€åŠ ä¸Šæ³¨é‡Šè¯´æ˜ã€åŠ ä¸Šrequiredæˆ–defalutã€å¿…é¡»åŠ ä¸ŠvalidatoréªŒè¯</li><li>ç»„ä»¶æ ·å¼å¿…é¡»ä½¿ç”¨scoped</li><li>è¾ƒå¤šç‰¹æ€§å¿…é¡»æ¢è¡Œ</li><li>ç»„ä»¶æ¨¡æ¿å¿…é¡»ä½¿ç”¨ç®€å•è¡¨è¾¾å¼(æ¨¡æ¿å…ƒç´ å†…å°‘åµŒå…¥è®¡ç®—ä»£ç ï¼Œå¤šä½¿ç”¨è®¡ç®—å±æ€§computed)</li><li>æŒ‡ä»¤ä½¿ç”¨ç¼©å†™æ ¼å¼</li><li>æ ‡ç­¾é¡ºåºä¿æŒä¸€è‡´</li><li>v-forå¿…é¡»è®¾ç½®key</li><li>v-show(é«˜é¢‘å¼€å…³æ˜¾ç¤º)ä¸v-if(ä½é¢‘å¼€å…³æ˜¾ç¤º)é€‰æ‹©</li><li>scripté¡ºåº(name &gt; components &gt; mixins &gt; props &gt; data &gt; computed &gt; watch &gt; filter &gt; é’©å­å‡½æ•° &gt; methods)</li></ul><h2 id="ä¸ƒã€Vue-Routerè§„èŒƒ"><a href="#ä¸ƒã€Vue-Routerè§„èŒƒ" class="headerlink" title="ä¸ƒã€Vue Routerè§„èŒƒ"></a>ä¸ƒã€Vue Routerè§„èŒƒ</h2><ul><li>é¡µé¢è·³è½¬ç›´æ¥ä½¿ç”¨è·¯ç”±ä¼ å‚ä¸ä½¿ç”¨Vuex</li><li>ä½¿ç”¨æ‡’åŠ è½½</li><li>routerå‘½å pathã€childrenPointsæ‰ç”¨kebab-caseå‘½åï¼Œnameä½¿ç”¨ç»„ä»¶å‘½åè§„åˆ™</li><li>pathå¿…é¡»ä½¿ç”¨&#x2F;å¼€å¤´</li></ul><h2 id="å…«ã€Vueé¡¹ç›®ç»“æ„è§„èŒƒ"><a href="#å…«ã€Vueé¡¹ç›®ç»“æ„è§„èŒƒ" class="headerlink" title="å…«ã€Vueé¡¹ç›®ç»“æ„è§„èŒƒ"></a>å…«ã€Vueé¡¹ç›®ç»“æ„è§„èŒƒ</h2><ul><li>é¡¹ç›®ç»“æ„å‘½åå¿…é¡»ä¸åç«¯ç»Ÿä¸€</li><li>ä½¿ç”¨Vue-cliä½œä¸ºè„šæ‰‹æ¶</li><li>æ–‡ä»¶ç»“æ„è§„åˆ™</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs sql">srcæºç ç›®å½•<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> api    apiæ¥å£<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> aassets   é™æ€èµ„æº<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> components   å…¬å…±ç»„ä»¶<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> config    é…ç½®ä¿¡æ¯<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> constants   å¸¸é‡ä¿¡æ¯<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> directives   è‡ªå®šä¹‰æŒ‡ä»¤<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> filters     è¿‡æ»¤å™¨ï¼Œå…¨å±€å·¥å…·<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> datas   æ¨¡æ‹Ÿæ•°æ® ä¸´æ—¶æ–‡ä»¶<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> lib    å¤–éƒ¨å¼•ç”¨æ’ä»¶åŠä¿®æ”¹æ–‡ä»¶<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> mock   æ¨¡æ‹Ÿæ¥å£ ä¸´æ—¶æ–‡ä»¶<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> plugins   æ’ä»¶å…¨å±€ä½¿ç”¨<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> router   è·¯ç”±ç»Ÿä¸€ç®¡ç†<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> store  Vuexç»Ÿä¸€ç®¡ç†<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> themes   è‡ªå®šä¹‰ä¸»é¢˜æ–‡ä»¶<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> views    è§†å›¾ç›®å½•<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> role    roleæ¨¡å—å<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> role<span class="hljs-operator">-</span>list   roleåˆ—è¡¨é¡µé¢<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> role<span class="hljs-operator">-</span><span class="hljs-keyword">add</span>    roleæ–°å»ºé¡µé¢<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> role<span class="hljs-operator">-</span><span class="hljs-keyword">update</span>   roleæ›´æ–°é¡µé¢<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> index.less    roleæ¨¡å—æ ·å¼<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> components    roleæ¨¡å—é€šç”¨ç»„ä»¶æ–‡ä»¶å¤¹<br> <span class="hljs-operator">|</span> <span class="hljs-operator">-</span> employee    employeeæ¨¡å—<br></code></pre></td></tr></table></figure><h3 id="apiç›®å½•"><a href="#apiç›®å½•" class="headerlink" title="apiç›®å½•"></a>apiç›®å½•</h3><ul><li>æ–‡ä»¶ã€å˜é‡è¦ä¸åç«¯æ¥å£ä¸€è‡´</li><li>ä¸€ä¸ªcontrollerå¯¹åº”ä¸€ä¸ªapiæ–‡ä»¶</li><li>apiæ–¹æ³•åå­—è¦ä¸åç«¯api urlä¿æŒä¸€è‡´</li><li>apiæ¯ä¸ªæ–¹æ³•éƒ½è¦æ·»åŠ æ³¨é‡Š ä¸åç«¯swaggeræ–‡æ¡£ä¸€è‡´</li></ul><h3 id="assetsç›®å½•"><a href="#assetsç›®å½•" class="headerlink" title="assetsç›®å½•"></a>assetsç›®å½•</h3><ul><li>ä¸»è¦æ”¾ç½®imagesã€stylesã€iconsç­‰ï¼Œå‘½åè§„èŒƒkebab-case</li></ul><h3 id="componentsç›®å½•"><a href="#componentsç›®å½•" class="headerlink" title="componentsç›®å½•"></a>componentsç›®å½•</h3><ul><li>ç›®å½•åŠæ–‡ä»¶éƒ½æ˜¯ç”¨kebab-caseå‘½å</li></ul><h3 id="constantsç›®å½•"><a href="#constantsç›®å½•" class="headerlink" title="constantsç›®å½•"></a>constantsç›®å½•</h3><ul><li>å­˜æ”¾æ‰€æœ‰å¸¸é‡ï¼Œå¦‚éœ€æ”¾åœ¨vueä½¿ç”¨è¦å®‰è£…vue-enumæ’ä»¶ï¼ˆæšä¸¾æ’ä»¶ï¼‰</li></ul><h3 id="router-ä¸-storeç›®å½•"><a href="#router-ä¸-storeç›®å½•" class="headerlink" title="router ä¸ storeç›®å½•"></a>router ä¸ storeç›®å½•</h3><ul><li>routerä¸storeå¿…é¡»æ‹†åˆ†</li><li>routeræŒ‰ç…§viewsç»“æ„ä¿æŒä¸€è‡´</li><li>storeæŒ‰ç…§ä¸šåŠ¡æ‹†åˆ†js</li></ul><h3 id="viewsç›®å½•"><a href="#viewsç›®å½•" class="headerlink" title="viewsç›®å½•"></a>viewsç›®å½•</h3><ul><li>å‘½åä¸åç«¯ä¸€è‡´</li><li>ç»„ä»¶å‘½åç”¨PascalCaseè§„åˆ™</li></ul><h3 id="æ³¨é‡Šè¯´æ˜"><a href="#æ³¨é‡Šè¯´æ˜" class="headerlink" title="æ³¨é‡Šè¯´æ˜"></a>æ³¨é‡Šè¯´æ˜</h3><ul><li>å…¬å…±ç»„ä»¶è¯´æ˜ã€apiæ¥å£å¤„ã€storeï¼ˆstateã€mutationã€actionï¼‰å¤„ã€vue templateå¤„ã€methodså¤„ã€dataéå¸¸è§å•è¯å¤„å¿…é¡»åŠ æ³¨é‡Š</li></ul><h2 id="åã€å…¶ä»–"><a href="#åã€å…¶ä»–" class="headerlink" title="åã€å…¶ä»–"></a>åã€å…¶ä»–</h2><ul><li>ä¸è¦æ‰‹åŠ¨æ“ä½œDOM</li><li>åˆ é™¤æ— ç”¨çš„ä»£ç console.logç­‰</li></ul>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯è§„èŒƒ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>nest.jså…¥é—¨</title>
    <link href="/blog/2024/08/19/nest-introduction/"/>
    <url>/blog/2024/08/19/nest-introduction/</url>
    
    <content type="html"><![CDATA[<h1 id="nest-jså…¥é—¨"><a href="#nest-jså…¥é—¨" class="headerlink" title="nest.jså…¥é—¨"></a>nest.jså…¥é—¨</h1><h2 id="ä¸€ã€é¡¹ç›®åˆ›å»º"><a href="#ä¸€ã€é¡¹ç›®åˆ›å»º" class="headerlink" title="ä¸€ã€é¡¹ç›®åˆ›å»º"></a>ä¸€ã€é¡¹ç›®åˆ›å»º</h2><h3 id="1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„-Nest-é¡¹ç›®"><a href="#1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„-Nest-é¡¹ç›®" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„ Nest é¡¹ç›®"></a>1ã€åˆ›å»ºä¸€ä¸ªæ–°çš„ Nest é¡¹ç›®</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm i -g @nestjs/cli<br>nest new project-name<br></code></pre></td></tr></table></figure><p>å°†åˆ›å»º <code>project-name</code> ç›®å½•ï¼Œå®‰è£… node æ¨¡å—å’Œä¸€äº›å…¶ä»–æ ·æ¿æ–‡ä»¶ï¼Œå°†åˆ›å»º <code>src/</code> ç›®å½•å¹¶å¡«å……å‡ ä¸ªæ ¸å¿ƒæ–‡ä»¶ã€‚</p><p>ä»¥ä¸‹æ˜¯è¿™äº›æ ¸å¿ƒæ–‡ä»¶çš„ç®€è¦æ¦‚è¿°ï¼š</p><table><thead><tr><th><code>app.controller.ts</code></th><th>å…·æœ‰å•ä¸€è·¯ç”±çš„åŸºæœ¬æ§åˆ¶å™¨ã€‚</th></tr></thead><tbody><tr><td><code>app.controller.spec.ts</code></td><td>æ§åˆ¶å™¨çš„å•å…ƒæµ‹è¯•ã€‚</td></tr><tr><td><code>app.module.ts</code></td><td>åº”ç”¨çš„æ ¹æ¨¡å—ã€‚</td></tr><tr><td><code>app.service.ts</code></td><td>å…·æœ‰å•ä¸€æ–¹æ³•çš„åŸºæœ¬æœåŠ¡ã€‚</td></tr><tr><td><code>main.ts</code></td><td>ä½¿ç”¨æ ¸å¿ƒå‡½æ•° <code>NestFactory</code> åˆ›å»º Nest åº”ç”¨å®ä¾‹çš„åº”ç”¨å…¥å£æ–‡ä»¶ã€‚</td></tr></tbody></table><h3 id="2ã€è¿è¡Œåº”ç”¨"><a href="#2ã€è¿è¡Œåº”ç”¨" class="headerlink" title="2ã€è¿è¡Œåº”ç”¨"></a>2ã€è¿è¡Œåº”ç”¨</h3><p>å®‰è£…è¿‡ç¨‹å®Œæˆåï¼Œä½ å¯ä»¥åœ¨æ“ä½œç³»ç»Ÿå‘½ä»¤æç¤ºç¬¦ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å¯åŠ¨åº”ç”¨ç›‘å¬å…¥ç«™ HTTP è¯·æ±‚ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm run start<br></code></pre></td></tr></table></figure><p>æ­¤å‘½ä»¤å¯åŠ¨åº”ç”¨ï¼ŒHTTP æœåŠ¡å™¨ç›‘å¬ <code>src/main.ts</code> æ–‡ä»¶ä¸­å®šä¹‰çš„ç«¯å£ã€‚åº”ç”¨è¿è¡Œåï¼Œæ‰“å¼€æµè§ˆå™¨å¹¶å¯¼èˆªè‡³ <code>http://localhost:3000/</code>ã€‚ä½ åº”è¯¥ä¼šçœ‹åˆ° <code>Hello World!</code> æ¶ˆæ¯</p><h1 id="äºŒã€æ–‡ä»¶åˆ†æ"><a href="#äºŒã€æ–‡ä»¶åˆ†æ" class="headerlink" title="äºŒã€æ–‡ä»¶åˆ†æ"></a>äºŒã€æ–‡ä»¶åˆ†æ</h1><h2 id="1-main-ts"><a href="#1-main-ts" class="headerlink" title="1. main.ts"></a>1. main.ts</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">NestFactory</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/core&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppModule</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.module&#x27;</span>;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">await</span> <span class="hljs-title class_">NestFactory</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">AppModule</span>);<br>  <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);<br>&#125;<br><span class="hljs-title function_">bootstrap</span>();<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>NestFactory.create()</code> æ¥åˆ›å»ºä¸€ä¸ª NestJS åº”ç”¨ç¨‹åºçš„å®ä¾‹ï¼Œå¹¶ç›‘å¬ç«¯å£3000ä¸Šçš„è¯·æ±‚ã€‚</p><h2 id="2-app-module-ts"><a href="#2-app-module-ts" class="headerlink" title="2. app.module.ts"></a>2. app.module.ts</h2><p>app.module.tsæ˜¯ä¸€ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œä»¥.module.tsç»“å°¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Module</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppController</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.controller&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppService</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.service&#x27;</span>;<br><br>@<span class="hljs-title class_">Module</span>(&#123;<br>  <span class="hljs-attr">imports</span>: [],<br>  <span class="hljs-attr">controllers</span>: [<span class="hljs-title class_">AppController</span>],<br>  <span class="hljs-attr">providers</span>: [<span class="hljs-title class_">AppService</span>],<br>&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> &#123;&#125;<br></code></pre></td></tr></table></figure><p>æ¨¡å—æ˜¯å…·æœ‰ <code>@Module()</code> è£…é¥°å™¨çš„ç±»ï¼ŒNest ç”¨å®ƒæ¥ç»„ç»‡åº”ç”¨ç¨‹åºç»“æ„ã€‚å¯¹è£…é¥°å™¨æ¦‚å¿µä¸ç†Ÿæ‚‰çš„è¯»è€…ï¼Œå¯å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7402960438861070399">å‰ç«¯æƒ³äº†è§£åç«¯ï¼Ÿé‚£å¾—å…ˆå­¦ä¼š TypeScript è£…é¥°å™¨ï¼</a>ã€‚</p><p>åœ¨app.module.tsä¸­ï¼Œ<code>@Module()</code> è£…é¥°å™¨æ¥å—ä¸€ä¸ªæè¿°æ¨¡å—å±æ€§çš„å¯¹è±¡ï¼š</p><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>imports</td><td>å¯¼å…¥å­æ¨¡å—</td></tr><tr><td>controllers</td><td>å¯¼å…¥æ§åˆ¶å™¨</td></tr><tr><td>providers</td><td>ç”± Nest æ³¨å…¥å™¨å®ä¾‹åŒ–çš„æä¾›è€…ï¼Œå¹¶ä¸”å¯ä»¥è‡³å°‘åœ¨æ•´ä¸ªæ¨¡å—ä¸­å…±äº«</td></tr></tbody></table><p>moduleçš„å†…å®¹ä¸å¤šï¼Œä¸»è¦ç”¨æ¥ç”¨äºå®šä¹‰å’Œé…ç½®æ¨¡å—çš„æ ¸å¿ƒæ–‡ä»¶ã€‚</p><h2 id="3-app-controller-ts"><a href="#3-app-controller-ts" class="headerlink" title="3. app.controller.ts"></a>3. app.controller.ts</h2><p>app.controller.tsæ˜¯ä¸€ä¸ªæ§åˆ¶å™¨æ–‡ä»¶ï¼Œä»¥.controller.tsç»“å°¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Controller</span>, <span class="hljs-title class_">Get</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">AppService</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./app.service&#x27;</span>;<br><br>@<span class="hljs-title class_">Controller</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppController</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private readonly appService: AppService</span>) &#123;&#125;<br><br>  @<span class="hljs-title class_">Get</span>()<br>  <span class="hljs-title function_">getHello</span>(): string &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">appService</span>.<span class="hljs-title function_">getHello</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>@Controller()</code> è£…é¥°å™¨å®šä¹‰ä¸€ä¸ªåŸºæœ¬çš„æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨è´Ÿè´£å¤„ç†ä¼ å…¥çš„<strong>è¯·æ±‚</strong>å’Œå‘å®¢æˆ·ç«¯è¿”å›<strong>å“åº”</strong>ã€‚</p><p>æ„é€ å‡½æ•°ä½¿ç”¨ä¾èµ–æ³¨å…¥æœºåˆ¶æ³¨å…¥äº† AppService å®ä¾‹ï¼ˆåœ¨moduleä¸­é…ç½®çš„providers: [AppService],ï¼‰ã€‚private readonly è¡¨ç¤º appService æ˜¯ç§æœ‰çš„å¹¶ä¸”ä¸å¯æ›´æ”¹ã€‚</p><p>@Get(): æ­¤è£…é¥°å™¨å®šä¹‰äº†ä¸€ä¸ªå¤„ç†HTTP GETè¯·æ±‚çš„æ–¹æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ³•å°†å¤„ç†æ ¹URLï¼ˆå³ &#x2F;ï¼‰ä¸Šçš„GETè¯·æ±‚ã€‚å› æ­¤å½“è®¿é—®localhost:3000æ—¶ï¼Œä¼šè°ƒç”¨getHelloæ–¹æ³•ã€‚</p><p>getHelloæ–¹æ³•è°ƒç”¨äº† AppService çš„ getHello æ–¹æ³•ã€‚æ¥ä¸‹æ¥ç»§ç»­çœ‹appServiceä¸­çš„å†…å®¹ã€‚</p><p>æç¤ºï¼š<code>åœ¨controllerä¸­ï¼Œä¸è¦ç¼–å†™è¿‡å¤šçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¤æ‚çš„é€»è¾‘åº”äº¤ç»™serviceå¤„ç†</code></p><h2 id="4-app-service-ts"><a href="#4-app-service-ts" class="headerlink" title="4. app.service.ts"></a>4. app.service.ts</h2><p>app.service.tsæ˜¯ä¸€ä¸ªserviceæ–‡ä»¶ï¼Œä»¥.service.tsç»“å°¾ã€‚ä¸»è¦ç”¨äºå¤„ç†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Injectable</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@nestjs/common&#x27;</span>;<br><br>@<span class="hljs-title class_">Injectable</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppService</span> &#123;<br>  <span class="hljs-title function_">getHello</span>(): string &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello World!&#x27;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>@Injectable()</code> è£…é¥°å™¨ç”¨äºæ ‡è®°ç±»ä¸ºå¯ä»¥è¢«ä¾èµ–æ³¨å…¥ç³»ç»Ÿç®¡ç†çš„æœåŠ¡ï¼Œå³åœ¨moduleä¸­è¢«providersã€‚</p><p>getHelloæ–¹æ³•è¿”å›å­—ç¬¦ä¸²â€™Hello World!â€™ï¼Œå› æ­¤åœ¨app.controller.tsä¸­ï¼Œè°ƒç”¨this.appService.getHello()è¿”å›çš„ç»“æœæ˜¯â€™Hello World!â€™ï¼Œè®¿é—®localhost:3000æ¥å£çš„ç»“æœä¸ºâ€™Hello World!â€™ã€‚</p><h1 id="ä¸‰ã€åˆ›å»ºæ¨¡å—"><a href="#ä¸‰ã€åˆ›å»ºæ¨¡å—" class="headerlink" title="ä¸‰ã€åˆ›å»ºæ¨¡å—"></a>ä¸‰ã€åˆ›å»ºæ¨¡å—</h1><p>é€šè¿‡ä¸Šæ–‡ï¼Œç†Ÿæ‚‰äº†NestJSçš„è®¾è®¡æ¨¡å¼ï¼Œä¸»è¦å°±æ˜¯ <code>Controller</code>ã€<code>Service</code>ã€<code>Module</code> å…±åŒå½¢æˆäº†ä¸€ä¸ªæ¨¡å—ã€‚</p><ul><li><code>Controller</code>ï¼šä¼ ç»Ÿæ„ä¹‰ä¸Šçš„æ§åˆ¶å™¨ï¼Œæä¾› api æ¥å£ï¼Œè´Ÿè´£å¤„ç†è·¯ç”±ã€ä¸­è½¬ã€éªŒè¯ç­‰ä¸€äº›ç®€æ´çš„ä¸šåŠ¡ï¼›</li><li><code>Service</code>ï¼šåˆç§°ä¸º <code>Provider</code>ï¼Œ æ˜¯ä¸€ç³»åˆ—æœåŠ¡ã€repoã€å·¥å‚æ–¹æ³•ã€helper çš„æ€»ç§°ï¼Œä¸»è¦è´Ÿè´£å¤„ç†å…·ä½“çš„ä¸šåŠ¡ï¼Œå¦‚æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ã€äº‹åŠ¡ã€å¹¶å‘ç­‰é€»è¾‘ä»£ç ï¼›</li><li><code>Module</code>ï¼šè´Ÿè´£å°† <code>Controller</code> å’Œ <code>Service</code> è¿æ¥èµ·æ¥ï¼Œç±»ä¼¼äº <code>namespace</code> çš„æ¦‚å¿µï¼›</li></ul><p>ä½¿ç”¨ nest-cli æä¾›çš„æŒ‡ä»¤å¯ä»¥å¿«é€Ÿåˆ›å»ºæ–‡ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">nest g [æ–‡ä»¶ç±»å‹] [æ–‡ä»¶å] [æ–‡ä»¶ç›®å½•]<br></code></pre></td></tr></table></figure><p>æ–‡ä»¶ç›®å½•å¦‚æœä¸æä¾›ï¼Œé»˜è®¤ä¸ºæ–‡ä»¶åã€‚</p><h2 id="1-åˆ›å»ºæ¨¡å—"><a href="#1-åˆ›å»ºæ¨¡å—" class="headerlink" title="1. åˆ›å»ºæ¨¡å—"></a>1. åˆ›å»ºæ¨¡å—</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">nest g module posts<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œå‘½ä»¤åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨æ ¹æ¨¡å—app.module.tsä¸­çš„@Modelè£…é¥°å™¨çš„importsä¸­è‡ªåŠ¨å¼•å…¥äº†PostsModule</p><p>å‘½ä»¤å¯ç®€å†™ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">nest g mo posts<br></code></pre></td></tr></table></figure><h2 id="2-åˆ›å»ºæ§åˆ¶å™¨"><a href="#2-åˆ›å»ºæ§åˆ¶å™¨" class="headerlink" title="2. åˆ›å»ºæ§åˆ¶å™¨"></a>2. åˆ›å»ºæ§åˆ¶å™¨</h2><p>â€“no-specï¼šä¸ç”Ÿæˆæµ‹è¯•æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">nest g controller posts --no-spec<br></code></pre></td></tr></table></figure><p>åˆ›å»ºposts.controller.tsæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨posts.module.tsæ–‡ä»¶ä¸‹ï¼Œ@Moduleè£…é¥°å™¨çš„controllersä¸­è‡ªåŠ¨æ³¨å…¥</p><p>å‘½ä»¤å¯ç®€å†™ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">nest g co posts --no-spec<br></code></pre></td></tr></table></figure><h2 id="3-åˆ›å»ºæœåŠ¡ç±»"><a href="#3-åˆ›å»ºæœåŠ¡ç±»" class="headerlink" title="3. åˆ›å»ºæœåŠ¡ç±»"></a>3. åˆ›å»ºæœåŠ¡ç±»</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">nest g service posts --no-spec<br></code></pre></td></tr></table></figure><p>åˆ›å»ºposts.service.tsæ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨posts.module.tsæ–‡ä»¶ä¸‹ï¼Œ@Moduleè£…é¥°å™¨çš„providersä¸­è‡ªåŠ¨æ³¨å…¥</p><p>å‘½ä»¤å¯ç®€å†™ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">nest g s posts --no-spec<br></code></pre></td></tr></table></figure><p>æç¤ºï¼š<code>æ³¨æ„åˆ›å»ºé¡ºåºï¼Œå…ˆåˆ›å»ºModuleï¼Œå†åˆ›å»ºControllerå’ŒServiceï¼Œè¿™æ ·åˆ›å»ºå‡ºæ¥çš„æ–‡ä»¶åœ¨Moduleä¸­è‡ªåŠ¨æ³¨å†Œã€‚</code></p>]]></content>
    
    
    <categories>
      
      <category>nest</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nestçš„ç¬¬ä¸€ä¸ªé¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ»•ç‹é˜åº</title>
    <link href="/blog/2024/08/16/poetry-twgx/"/>
    <url>/blog/2024/08/16/poetry-twgx/</url>
    
    <content type="html"><![CDATA[<h1 id="æ»•ç‹é˜åº"><a href="#æ»•ç‹é˜åº" class="headerlink" title="æ»•ç‹é˜åº"></a>æ»•ç‹é˜åº</h1><p>è±«ç« æ•…éƒ¡ï¼Œæ´ªéƒ½æ–°åºœã€‚æ˜Ÿåˆ†ç¿¼è½¸ï¼Œåœ°æ¥è¡¡åºã€‚è¥Ÿä¸‰æ±Ÿè€Œå¸¦äº”æ¹–ï¼Œæ§è›®è†è€Œå¼•ç“¯è¶Šã€‚ç‰©åå¤©å®ï¼Œé¾™å…‰å°„ç‰›æ–—ä¹‹å¢Ÿï¼›äººæ°åœ°çµï¼Œå¾å­ºä¸‹é™ˆè•ƒä¹‹æ¦»ã€‚é›„å·é›¾åˆ—ï¼Œä¿Šé‡‡æ˜Ÿé©°ã€‚å°éšæ•å¤·å¤ä¹‹äº¤ï¼Œå®¾ä¸»å°½ä¸œå—ä¹‹ç¾ã€‚éƒ½ç£é˜å…¬ä¹‹é›…æœ›ï¼Œæ£¨æˆŸé¥ä¸´ï¼›å®‡æ–‡æ–°å·ä¹‹æ‡¿èŒƒï¼Œè¥œå¸·æš‚é©»ã€‚åæ—¬ä¼‘å‡ï¼Œèƒœå‹å¦‚äº‘ï¼›åƒé‡Œé€¢è¿ï¼Œé«˜æœ‹æ»¡åº§ã€‚è…¾è›Ÿèµ·å‡¤ï¼Œå­Ÿå­¦å£«ä¹‹è¯å®—ï¼›ç´«ç”µé’éœœï¼Œç‹å°†å†›ä¹‹æ­¦åº“ã€‚å®¶å›ä½œå®°ï¼Œè·¯å‡ºååŒºï¼›ç«¥å­ä½•çŸ¥ï¼Œèº¬é€¢èƒœé¥¯ã€‚</p><p>æ—¶ç»´ä¹æœˆï¼Œåºå±ä¸‰ç§‹ã€‚æ½¦æ°´å°½è€Œå¯’æ½­æ¸…ï¼ŒçƒŸå…‰å‡è€Œæš®å±±ç´«ã€‚ä¿¨éª–é¨‘äºä¸Šè·¯ï¼Œè®¿é£æ™¯äºå´‡é˜¿ï¼›ä¸´å¸å­ä¹‹é•¿æ´²ï¼Œå¾—å¤©äººä¹‹æ—§é¦†ã€‚å±‚å³¦è€¸ç¿ ï¼Œä¸Šå‡ºé‡éœ„ï¼›é£é˜æµä¸¹ï¼Œä¸‹ä¸´æ— åœ°ã€‚é¹¤æ±€å‡«æ¸šï¼Œç©·å²›å±¿ä¹‹è¦å›ï¼›æ¡‚æ®¿å…°å®«ï¼Œå³å†ˆå³¦ä¹‹ä½“åŠ¿ã€‚</p><p>æŠ«ç»£é—¼ï¼Œä¿¯é›•ç”ï¼Œå±±åŸæ—·å…¶ç›ˆè§†ï¼Œå·æ³½çº¡å…¶éª‡ç©ã€‚é—¾é˜æ‰‘åœ°ï¼Œé’Ÿé¸£é¼é£Ÿä¹‹å®¶ï¼›èˆ¸èˆ°å¼¥æ´¥ï¼Œé’é›€é»„é¾™ä¹‹èˆ³ã€‚äº‘é”€é›¨éœï¼Œå½©å½»åŒºæ˜ã€‚è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚æ¸”èˆŸå”±æ™šï¼Œå“ç©·å½­è ¡ä¹‹æ»¨ï¼›é›é˜µæƒŠå¯’ï¼Œå£°æ–­è¡¡é˜³ä¹‹æµ¦ã€‚</p><p>é¥è¥Ÿç”«ç•…ï¼Œé€¸å…´é„é£ã€‚çˆ½ç±å‘è€Œæ¸…é£ç”Ÿï¼Œçº¤æ­Œå‡è€Œç™½äº‘éã€‚ç¢å›­ç»¿ç«¹ï¼Œæ°”å‡Œå½­æ³½ä¹‹æ¨½ï¼›é‚ºæ°´æœ±åï¼Œå…‰ç…§ä¸´å·ä¹‹ç¬”ã€‚å››ç¾å…·ï¼ŒäºŒéš¾å¹¶ã€‚ç©·ç‡çœ„äºä¸­å¤©ï¼Œæå¨±æ¸¸äºæš‡æ—¥ã€‚å¤©é«˜åœ°è¿¥ï¼Œè§‰å®‡å®™ä¹‹æ— ç©·ï¼›å…´å°½æ‚²æ¥ï¼Œè¯†ç›ˆè™šä¹‹æœ‰æ•°ã€‚æœ›é•¿å®‰äºæ—¥ä¸‹ï¼Œç›®å´ä¼šäºäº‘é—´ã€‚åœ°åŠ¿æè€Œå—æºŸæ·±ï¼Œå¤©æŸ±é«˜è€ŒåŒ—è¾°è¿œã€‚å…³å±±éš¾è¶Šï¼Œè°æ‚²å¤±è·¯ä¹‹äººï¼Ÿèæ°´ç›¸é€¢ï¼Œå°½æ˜¯ä»–ä¹¡ä¹‹å®¢ã€‚æ€€å¸é˜è€Œä¸è§ï¼Œå¥‰å®£å®¤ä»¥ä½•å¹´ï¼Ÿ</p><p>å—Ÿä¹ï¼æ—¶è¿ä¸é½ï¼Œå‘½é€”å¤šèˆ›ã€‚å†¯å”æ˜“è€ï¼Œæå¹¿éš¾å°ã€‚å±ˆè´¾è°Šäºé•¿æ²™ï¼Œéæ— åœ£ä¸»ï¼›çªœæ¢é¸¿äºæµ·æ›²ï¼Œå²‚ä¹æ˜æ—¶ï¼Ÿæ‰€èµ–å›å­è§æœºï¼Œè¾¾äººçŸ¥å‘½ã€‚è€å½“ç›Šå£®ï¼Œå®ç§»ç™½é¦–ä¹‹å¿ƒï¼Ÿç©·ä¸”ç›Šåšï¼Œä¸å é’äº‘ä¹‹å¿—ã€‚é…Œè´ªæ³‰è€Œè§‰çˆ½ï¼Œå¤„æ¶¸è¾™ä»¥çŠ¹æ¬¢ã€‚åŒ—æµ·è™½èµŠï¼Œæ‰¶æ‘‡å¯æ¥ï¼›ä¸œéš…å·²é€ï¼Œæ¡‘æ¦†éæ™šã€‚å­Ÿå°é«˜æ´ï¼Œç©ºä½™æŠ¥å›½ä¹‹æƒ…ï¼›é˜®ç±çŒ–ç‹‚ï¼Œå²‚æ•ˆç©·é€”ä¹‹å“­ï¼</p><p>å‹ƒï¼Œä¸‰å°ºå¾®å‘½ï¼Œä¸€ä»‹ä¹¦ç”Ÿã€‚æ— è·¯è¯·ç¼¨ï¼Œç­‰ç»ˆå†›ä¹‹å¼±å† ï¼›æœ‰æ€€æŠ•ç¬”ï¼Œæ…•å®—æ‚«ä¹‹é•¿é£ã€‚èˆç°ªç¬äºç™¾é¾„ï¼Œå¥‰æ™¨æ˜äºä¸‡é‡Œã€‚éè°¢å®¶ä¹‹å®æ ‘ï¼Œæ¥å­Ÿæ°ä¹‹èŠ³é‚»ã€‚ä»–æ—¥è¶‹åº­ï¼Œå¨é™ªé²¤å¯¹ï¼›ä»Šå…¹æ§è¢‚ï¼Œå–œæ‰˜é¾™é—¨ã€‚æ¨æ„ä¸é€¢ï¼ŒæŠšå‡Œäº‘è€Œè‡ªæƒœï¼›é’ŸæœŸæ—¢é‡ï¼Œå¥æµæ°´ä»¥ä½•æƒ­ï¼Ÿ</p><p>å‘œä¹ï¼èƒœåœ°ä¸å¸¸ï¼Œç››ç­µéš¾å†ï¼›å…°äº­å·²çŸ£ï¼Œæ¢“æ³½ä¸˜å¢Ÿã€‚ä¸´åˆ«èµ è¨€ï¼Œå¹¸æ‰¿æ©äºä¼Ÿé¥¯ï¼›ç™»é«˜ä½œèµ‹ï¼Œæ˜¯æ‰€æœ›äºç¾¤å…¬ã€‚æ•¢ç«­é„™æ€€ï¼Œæ­ç–çŸ­å¼•ï¼›ä¸€è¨€å‡èµ‹ï¼Œå››éŸµä¿±æˆã€‚è¯·æ´’æ½˜æ±Ÿï¼Œå„å€¾é™†æµ·äº‘å°”ï¼š</p><p>æ»•ç‹é«˜é˜ä¸´æ±Ÿæ¸šï¼Œä½©ç‰é¸£é¸¾ç½¢æ­Œèˆã€‚</p><p>ç”»æ ‹æœé£å—æµ¦äº‘ï¼Œç å¸˜æš®å·è¥¿å±±é›¨ã€‚</p><p>é—²äº‘æ½­å½±æ—¥æ‚ æ‚ ï¼Œç‰©æ¢æ˜Ÿç§»å‡ åº¦ç§‹ã€‚</p><p>é˜ä¸­å¸å­ä»Šä½•åœ¨ï¼Ÿæ§›å¤–é•¿æ±Ÿç©ºè‡ªæµã€‚</p>]]></content>
    
    
    <categories>
      
      <category>poetry</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¯—æ­Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ´›ç¥èµ‹</title>
    <link href="/blog/2024/08/16/poetry-lsf/"/>
    <url>/blog/2024/08/16/poetry-lsf/</url>
    
    <content type="html"><![CDATA[<h1 id="æ´›ç¥èµ‹"><a href="#æ´›ç¥èµ‹" class="headerlink" title="æ´›ç¥èµ‹"></a>æ´›ç¥èµ‹</h1><p>é»„åˆä¸‰å¹´ï¼Œä½™æœäº¬å¸ˆï¼Œè¿˜æµæ´›å·ã€‚å¤äººæœ‰è¨€ï¼Œæ–¯æ°´ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚æ„Ÿå®‹ç‰å¯¹æ¥šç‹ç¥å¥³ä¹‹äº‹ï¼Œé‚ä½œæ–¯èµ‹ã€‚å…¶è¾æ›°ï¼š</p><p>ä½™ä»äº¬åŸŸï¼Œè¨€å½’ä¸œè—©ã€‚èƒŒä¼Šé˜™ï¼Œè¶Šè½˜è¾•ï¼Œç»é€šè°·ï¼Œé™µæ™¯å±±ã€‚æ—¥æ—¢è¥¿å€¾ï¼Œè½¦æ®†é©¬çƒ¦ã€‚å°”ä¹ƒç¨é©¾ä¹è˜…çš‹ï¼Œç§£é©·ä¹èŠç”°ï¼Œå®¹ä¸ä¹é˜³æ—ï¼Œæµçœ„ä¹æ´›å·ã€‚äºæ˜¯ç²¾ç§»ç¥éª‡ï¼Œå¿½ç„‰æ€æ•£ã€‚ä¿¯åˆ™æœªå¯Ÿï¼Œä»°ä»¥æ®Šè§‚ï¼Œç¹ä¸€ä¸½äººï¼Œäºå²©ä¹‹ç•”ã€‚ä¹ƒæ´å¾¡è€…è€Œå‘Šä¹‹æ›°ï¼šâ€œå°”æœ‰è§Œäºå½¼è€…ä¹ï¼Ÿå½¼ä½•äººæ–¯ï¼Ÿè‹¥æ­¤ä¹‹è‰³ä¹Ÿï¼â€å¾¡è€…å¯¹æ›°ï¼šâ€œè‡£é—»æ²³æ´›ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚ç„¶åˆ™å›ç‹ä¹‹æ‰€è§ä¹Ÿï¼Œæ— ä¹ƒæ˜¯ä¹ï¼Ÿå…¶çŠ¶è‹¥ä½•ï¼Ÿè‡£æ„¿é—»ä¹‹ã€‚â€</p><p>ä½™å‘Šä¹‹æ›°ï¼šâ€œå…¶å½¢ä¹Ÿï¼Œç¿©è‹¥æƒŠé¸¿ï¼Œå©‰è‹¥æ¸¸é¾™ã€‚è£æ›œç§‹èŠï¼ŒåèŒ‚æ˜¥æ¾ã€‚é«£é«´å…®è‹¥è½»äº‘ä¹‹è”½æœˆï¼Œé£˜é£–å…®è‹¥æµé£ä¹‹å›é›ªã€‚è¿œè€Œæœ›ä¹‹ï¼Œçšè‹¥å¤ªé˜³å‡æœéœï¼›è¿«è€Œå¯Ÿä¹‹ï¼Œç¼è‹¥èŠ™è•–å‡ºæ¸Œæ³¢ã€‚ç§¾çº¤å¾—è¡·ï¼Œä¿®çŸ­åˆåº¦ã€‚è‚©è‹¥å‰Šæˆï¼Œè…°å¦‚çº¦ç´ ã€‚å»¶é¢ˆç§€é¡¹ï¼Œçš“è´¨å‘ˆéœ²ã€‚èŠ³æ³½æ— åŠ ï¼Œé“…åå¼—å¾¡ã€‚äº‘é«»å³¨å³¨ï¼Œä¿®çœ‰è”å¨Ÿã€‚ä¸¹å”‡å¤–æœ—ï¼Œçš“é½¿å†…é²œï¼Œæ˜çœ¸å–„çï¼Œé¥è¾…æ‰¿æƒã€‚ç‘°å§¿è‰³é€¸ï¼Œä»ªé™ä½“é—²ã€‚æŸ”æƒ…ç»°æ€ï¼Œåªšäºè¯­è¨€ã€‚å¥‡æœæ—·ä¸–ï¼Œéª¨åƒåº”å›¾ã€‚æŠ«ç½—è¡£ä¹‹ç’€ç²²å…®ï¼Œç¥ç‘¶ç¢§ä¹‹åçšã€‚æˆ´é‡‘ç¿ ä¹‹é¦–é¥°ï¼Œç¼€æ˜ç ä»¥è€€èº¯ã€‚è·µè¿œæ¸¸ä¹‹æ–‡å±¥ï¼Œæ›³é›¾ç»¡ä¹‹è½»è£¾ã€‚å¾®å¹½å…°ä¹‹èŠ³è”¼å…®ï¼Œæ­¥è¸Ÿè¹°äºå±±éš…ã€‚</p><p>äºæ˜¯å¿½ç„‰çºµä½“ï¼Œä»¥é¨ä»¥å¬‰ã€‚å·¦å€šé‡‡æ—„ï¼Œå³è«æ¡‚æ——ã€‚æ”˜çš“è…•äºç¥æµ’å…®ï¼Œé‡‡æ¹æ¿‘ä¹‹ç„èŠã€‚ä½™æƒ…æ‚¦å…¶æ·‘ç¾å…®ï¼Œå¿ƒæŒ¯è¡è€Œä¸æ€¡ã€‚æ— è‰¯åª’ä»¥æ¥æ¬¢å…®ï¼Œæ‰˜å¾®æ³¢è€Œé€šè¾ã€‚æ„¿è¯šç´ ä¹‹å…ˆè¾¾å…®ï¼Œè§£ç‰ä½©ä»¥è¦ä¹‹ã€‚å—Ÿä½³äººä¹‹ä¿¡ä¿®å…®ï¼Œç¾Œä¹ ç¤¼è€Œæ˜è¯—ã€‚æŠ—ç¼ç¶ä»¥å’Œäºˆå…®ï¼ŒæŒ‡æ½œæ¸Šè€Œä¸ºæœŸã€‚æ‰§çœ·çœ·ä¹‹æ¬¾å®å…®ï¼Œæƒ§æ–¯çµä¹‹æˆ‘æ¬ºã€‚æ„Ÿäº¤ç”«ä¹‹å¼ƒè¨€å…®ï¼Œæ€…çŠ¹è±«è€Œç‹ç–‘ã€‚æ”¶å’Œé¢œè€Œé™å¿—å…®ï¼Œç”³ç¤¼é˜²ä»¥è‡ªæŒã€‚</p><p>äºæ˜¯æ´›çµæ„Ÿç„‰ï¼Œå¾™å€šå½·å¾¨ï¼Œç¥å…‰ç¦»åˆï¼Œä¹é˜´ä¹é˜³ã€‚ç«¦è½»èº¯ä»¥é¹¤ç«‹ï¼Œè‹¥å°†é£è€Œæœªç¿”ã€‚è·µæ¤’æ¶‚ä¹‹éƒçƒˆï¼Œæ­¥è˜…è–„è€ŒæµèŠ³ã€‚è¶…é•¿åŸä»¥æ°¸æ…•å…®ï¼Œå£°å“€å‰è€Œå¼¥é•¿ã€‚</p><p>å°”ä¹ƒä¼—çµæ‚æ²“ï¼Œå‘½ä¿¦å•¸ä¾£ï¼Œæˆ–æˆæ¸…æµï¼Œæˆ–ç¿”ç¥æ¸šï¼Œæˆ–é‡‡æ˜ç ï¼Œæˆ–æ‹¾ç¿ ç¾½ã€‚ä»å—æ¹˜ä¹‹äºŒå¦ƒï¼Œæºæ±‰æ»¨ä¹‹æ¸¸å¥³ã€‚å¹åŒç“œä¹‹æ— åŒ¹å…®ï¼Œå’ç‰µç‰›ä¹‹ç‹¬å¤„ã€‚æ‰¬è½»è¢¿ä¹‹çŒ—é¡å…®ï¼Œç¿³ä¿®è¢–ä»¥å»¶ä¼«ã€‚ä½“è¿…é£å‡«ï¼Œé£˜å¿½è‹¥ç¥ï¼Œå‡Œæ³¢å¾®æ­¥ï¼Œç½—è¢œç”Ÿå°˜ã€‚åŠ¨æ— å¸¸åˆ™ï¼Œè‹¥å±è‹¥å®‰ã€‚è¿›æ­¢éš¾æœŸï¼Œè‹¥å¾€è‹¥è¿˜ã€‚è½¬çœ„æµç²¾ï¼Œå…‰æ¶¦ç‰é¢œã€‚å«è¾æœªåï¼Œæ°”è‹¥å¹½å…°ã€‚åå®¹å©€å¨œï¼Œä»¤æˆ‘å¿˜é¤ã€‚</p><p>äºæ˜¯å±ç¿³æ”¶é£ï¼Œå·åé™æ³¢ã€‚å†¯å¤·é¸£é¼“ï¼Œå¥³å¨²æ¸…æ­Œã€‚è…¾æ–‡é±¼ä»¥è­¦ä¹˜ï¼Œé¸£ç‰é¸¾ä»¥å•é€ã€‚å…­é¾™ä¿¨å…¶é½é¦–ï¼Œè½½äº‘è½¦ä¹‹å®¹è£”ï¼Œé²¸é²µè¸Šè€Œå¤¹æ¯‚ï¼Œæ°´ç¦½ç¿”è€Œä¸ºå«ã€‚</p><p>äºæ˜¯è¶ŠåŒ—æ²šã€‚è¿‡å—å†ˆï¼Œçº¡ç´ é¢†ï¼Œå›æ¸…é˜³ï¼ŒåŠ¨æœ±å”‡ä»¥å¾è¨€ï¼Œé™ˆäº¤æ¥ä¹‹å¤§çº²ã€‚æ¨äººç¥ä¹‹é“æ®Šå…®ï¼Œæ€¨ç››å¹´ä¹‹è«å½“ã€‚æŠ—ç½—è¢‚ä»¥æ©æ¶•å…®ï¼Œæ³ªæµè¥Ÿä¹‹æµªæµªã€‚æ‚¼è‰¯ä¼šä¹‹æ°¸ç»å…®ï¼Œå“€ä¸€é€è€Œå¼‚ä¹¡ã€‚æ— å¾®æƒ…ä»¥æ•ˆçˆ±å…®ï¼ŒçŒ®æ±Ÿå—ä¹‹æ˜ç°ã€‚è™½æ½œå¤„äºå¤ªé˜´ï¼Œé•¿å¯„å¿ƒäºå›ç‹ã€‚å¿½ä¸æ‚Ÿå…¶æ‰€èˆï¼Œæ€…ç¥å®µè€Œè”½å…‰ã€‚</p><p>äºæ˜¯èƒŒä¸‹é™µé«˜ï¼Œè¶³å¾€ç¥ç•™ï¼Œé—æƒ…æƒ³åƒï¼Œé¡¾æœ›æ€€æ„ã€‚å†€çµä½“ä¹‹å¤å½¢ï¼Œå¾¡è½»èˆŸè€Œä¸Šæº¯ã€‚æµ®é•¿å·è€Œå¿˜è¿”ï¼Œæ€ç»µç»µè€Œå¢æ…•ã€‚å¤œè€¿è€¿è€Œä¸å¯ï¼Œæ²¾ç¹éœœè€Œè‡³æ›™ã€‚å‘½ä»†å¤«è€Œå°±é©¾ï¼Œå¾å°†å½’ä¹ä¸œè·¯ã€‚æ½é¨‘è¾”ä»¥æŠ—ç­–ï¼Œæ€…ç›˜æ¡“è€Œä¸èƒ½å»ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>poetry</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¯—æ­Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptï¼Œnewä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆåŠæ‰‹å†™å®ç°</title>
    <link href="/blog/2024/07/17/js-newFunction/"/>
    <url>/blog/2024/07/17/js-newFunction/</url>
    
    <content type="html"><![CDATA[<h1 id="newä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#newä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="newä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆ"></a>newä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆ</h1><p>newè¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params">name</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><span class="hljs-keyword">let</span> foo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>);<br></code></pre></td></tr></table></figure><blockquote><p>å½“ä»£ç æ‰§è¡Œnew Fooæ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹äº‹æƒ…ï¼š</p><ol><li>ä¸€ä¸ªç»§æ‰¿è‡ª Foo.prototype çš„æ–°å¯¹è±¡è¢«åˆ›å»º</li><li>ä½¿ç”¨æŒ‡å®šçš„å‚æ•°è°ƒç”¨æ„é€ å‡½æ•° Foo,å¹¶å°†thisç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡</li><li>ç”±æ„é€ å‡½æ•°è¿”å›çš„å¯¹è±¡å°±æ˜¯newè¡¨è¾¾å¼çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ã€‚(ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°ä¸è¿”å›å€¼ï¼Œä½†æ˜¯ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸»åŠ¨è¿”å›å¯¹è±¡ï¼Œæ¥è¦†ç›–æ­£å¸¸çš„å¯¹è±¡åˆ›å»ºæ­¥éª¤)</li></ol></blockquote><p>äº†è§£äº†newçš„åŸç†ï¼Œæˆ‘ä»¬æ¥è‡ªå·±åŠ¨æ‰‹å®ç°ä¸€ä¸ªï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ¥æ”¶ä¸å®šå‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ„é€ å‡½æ•°ï¼Œåç»­å‚æ•°è¢«æ„é€ å‡½æ•°ä½¿ç”¨</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">fn,...args</span>)&#123;<br>  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span><br>  <span class="hljs-keyword">const</span> obj = &#123;&#125;;<br>  <span class="hljs-comment">// å°†è¯¥å¯¹è±¡çš„ __proto__ å±æ€§é“¾æ¥åˆ°æ„é€ å‡½æ•°åŸå‹å¯¹è±¡</span><br>  obj.<span class="hljs-property">__proto__</span> = fn.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br>  <span class="hljs-comment">// å°†è¯¥å¯¹è±¡ä½œä¸º this ä¸Šä¸‹æ–‡è°ƒç”¨æ„é€ å‡½æ•°å¹¶æ¥æ”¶è¿”å›å€¼</span><br>  <span class="hljs-keyword">const</span> res = fn.<span class="hljs-title function_">apply</span>(obj,args);<br>  <span class="hljs-comment">// å¦‚æœè¿”å›å€¼å­˜åœ¨å¹¶ä¸”æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œè¿”å›æ„é€ å‡½æ•°è¿”å›å€¼ï¼Œå¦åˆ™è¿”å›åˆ›å»ºçš„å¯¹è±¡</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> res === <span class="hljs-string">&#x27;object&#x27;</span>?<span class="hljs-attr">res</span>:obj<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ‰‹å†™å®ç°ä¸€ä¸ªnew"><a href="#æ‰‹å†™å®ç°ä¸€ä¸ªnew" class="headerlink" title="æ‰‹å†™å®ç°ä¸€ä¸ªnew"></a>æ‰‹å†™å®ç°ä¸€ä¸ªnew</h1><h3 id="1ã€é¦–å…ˆï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹newçš„ç”¨æ³•ï¼š"><a href="#1ã€é¦–å…ˆï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹newçš„ç”¨æ³•ï¼š" class="headerlink" title="1ã€é¦–å…ˆï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹newçš„ç”¨æ³•ï¼š"></a>1ã€é¦–å…ˆï¼Œæˆ‘ä»¬å›é¡¾ä¸€ä¸‹newçš„ç”¨æ³•ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Car</span>(<span class="hljs-params">make, model, year</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">make</span> = make;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">year</span> = year;<br>&#125;<br><br><span class="hljs-keyword">const</span> car1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">&#x27;Eagle&#x27;</span>, <span class="hljs-string">&#x27;Talon TSi&#x27;</span>, <span class="hljs-number">1993</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(car1.<span class="hljs-property">make</span>);   <span class="hljs-comment">//è¾“å‡º: &quot;Eagle&quot;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€newçš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#2ã€newçš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="2ã€newçš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ"></a>2ã€newçš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ</h3><ol><li><strong>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</strong>ï¼šåˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å• JavaScript å¯¹è±¡ã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <code>newInstance</code>ã€‚</li><li><strong>æŒ‡å®šåŸå‹é“¾</strong>ï¼šå°† <code>newInstance</code> çš„ [[Prototype]] æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ï¼Œå¦åˆ™ <code>newInstance</code> å°†ä¿æŒä¸ºä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå…¶ [[Prototype]] ä¸º <code>Object.prototype</code>ã€‚</li><li><strong>æ›´æ”¹thisæŒ‡å‘</strong>ï¼šä½¿ç”¨ç»™å®šå‚æ•°æ‰§è¡Œæ„é€ å‡½æ•°ï¼Œå¹¶å°† <code>newInstance</code> ç»‘å®šä¸º this çš„ä¸Šä¸‹æ–‡ã€‚</li><li><strong>è¿”å›å€¼</strong>ï¼šè¿”å›<code>newInstance</code>ã€‚</li></ol><h3 id="3ã€æ‰‹å†™ä¸€ä¸ªnew"><a href="#3ã€æ‰‹å†™ä¸€ä¸ªnew" class="headerlink" title="3ã€æ‰‹å†™ä¸€ä¸ªnew"></a>3ã€æ‰‹å†™ä¸€ä¸ªnew</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">Fun, ...args</span>) &#123;<br>    <span class="hljs-keyword">let</span> obj = &#123;&#125;<br>    obj.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Fun</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br>    <span class="hljs-title class_">Fun</span>.<span class="hljs-title function_">apply</span>(obj, args)<br>    <span class="hljs-keyword">return</span> obj<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name,age</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>&#125;<br><span class="hljs-keyword">let</span> apple = <span class="hljs-title function_">myNew</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">&#x27;ä¸€é¢—è‹¹æœ&#x27;</span>,<span class="hljs-string">&#x27;18&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(apple.<span class="hljs-property">name</span>);   <span class="hljs-comment">//è¾“å‡ºï¼šä¸€é¢—è‹¹æœ</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(apple.<span class="hljs-property">age</span>);    <span class="hljs-comment">//è¾“å‡ºï¼š18</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±æ¨¡æ‹Ÿå‡ºäº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„<code>new</code>å‡½æ•°ï¼Œå…¶ä¸­ä¸å¥½ç†è§£çš„å°±æ˜¯ç¬¬ä¸‰è¡Œçš„<code>obj.__proto__ = Fun.prototype</code>å’Œç¬¬å››è¡Œçš„<code>Fun.apply(obj, args)</code>ã€‚</p><ul><li><strong>â€¦args</strong>ï¼šå°†å‰©ä¸‹çš„å…ƒç´ éƒ½æ”¾è¿›<code>args</code>ä¸­</li><li><strong>obj. __ proto __ &#x3D; Fun.prototype</strong>ï¼šå°† <code>obj</code> çš„åŸå‹é“¾æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§</li><li><strong>Fun.apply(obj, args)</strong>ï¼šå°†æ„é€ å‡½æ•°å†…éƒ¨çš„thisç»‘å®šåˆ°<code>obj</code>ä¸Šï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°</li></ul><p><em>é€šè¿‡è¿™ä¸€ç³»åˆ—æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°æ„é€ å‡½æ•°ä¸­çš„ <code>name</code>å’Œ <code>age</code>å±æ€§äº†</em>ã€‚</p><h3 id="çœ‹ä¼¼å®Œæˆäº†ï¼Œä½†å…¶å®è½äº†å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ˆåŸå‹é“¾ï¼‰"><a href="#çœ‹ä¼¼å®Œæˆäº†ï¼Œä½†å…¶å®è½äº†å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ˆåŸå‹é“¾ï¼‰" class="headerlink" title="çœ‹ä¼¼å®Œæˆäº†ï¼Œä½†å…¶å®è½äº†å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ˆåŸå‹é“¾ï¼‰"></a>çœ‹ä¼¼å®Œæˆäº†ï¼Œä½†å…¶å®è½äº†å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼ˆåŸå‹é“¾ï¼‰</h3><p>â€œä½ ä¸è§‰å¾—å°‘äº†äº›ä»€ä¹ˆå—ï¼Ÿâ€</p><p>å›æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡newå‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œé™¤äº†å¼•ç”¨å®ƒçš„å±æ€§ï¼Œæˆ‘ä»¬è¿˜ä¼šåšäº›ä»€ä¹ˆå‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>()<br>arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>)<br>arr.<span class="hljs-title function_">unshift</span>(<span class="hljs-number">3</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br></code></pre></td></tr></table></figure><p>å½“ç„¶æ˜¯ä½¿ç”¨å®ƒè‡ªå¸¦çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸Šé¢å¹¶æ²¡æœ‰ç»™å‡ºæ–¹æ³•ä¸Šçš„å¼•ç”¨ã€‚è¿™å°±å¾—å¼•å…¥åŸå‹é“¾è¿™ä¸ªçŸ¥è¯†ç‚¹äº†ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™Personçš„åŸå‹é“¾ä¸Šå¢åŠ æˆ‘ä»¬æƒ³è¦çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">Fun, ...args</span>) &#123;<br>    <span class="hljs-keyword">let</span> obj = &#123;&#125;<br>    obj.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Fun</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br>    <span class="hljs-title class_">Fun</span>.<span class="hljs-title function_">apply</span>(obj, args)<br>    <span class="hljs-keyword">return</span> obj<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name,age</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>&#125;<br><span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">who</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æˆ‘æ˜¯Personçš„å®ä¾‹å¯¹è±¡&#x27;</span>);<br>&#125;<br><span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myname</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>&#125;<br><span class="hljs-keyword">let</span> p = <span class="hljs-title function_">myNew</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">&#x27;ä¸€é¢—è‹¹æœ&#x27;</span>)<br>p.<span class="hljs-title function_">who</span>();      <span class="hljs-comment">// è¾“å‡ºï¼šæˆ‘æ˜¯Personçš„å®ä¾‹å¯¹è±¡</span><br>p.<span class="hljs-title function_">myname</span>();   <span class="hljs-comment">// è¾“å‡ºï¼šä¸€é¢—è‹¹æœ</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>);  <span class="hljs-comment">// è¾“å‡ºï¼šä¸€é¢—è‹¹æœ</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>new function</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript ç­–ç•¥æ¨¡å¼</title>
    <link href="/blog/2024/07/16/js-strategy/"/>
    <url>/blog/2024/07/16/js-strategy/</url>
    
    <content type="html"><![CDATA[<h1 id="js-ç­–ç•¥æ¨¡å¼"><a href="#js-ç­–ç•¥æ¨¡å¼" class="headerlink" title="js ç­–ç•¥æ¨¡å¼"></a>js ç­–ç•¥æ¨¡å¼</h1><p> ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§ç®€å•å´å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ã€‚<br> æˆ‘ä»¬å…ˆäº†è§£ä¸‹ç­–ç•¥æ¨¡å¼çš„æ¦‚å¿µï¼Œå†é€šè¿‡ä»£ç ç¤ºä¾‹æ¥æ›´æ¸…æ™°çš„è®¤è¯†å®ƒã€‚</p><p>ç­–ç•¥æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼šä¸€éƒ¨åˆ†æ˜¯å°è£…ä¸åŒç­–ç•¥çš„ç­–ç•¥ç»„ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ Contextã€‚<br>é€šè¿‡ç»„åˆå’Œå§”æ‰˜æ¥è®© Context æ‹¥æœ‰æ‰§è¡Œç­–ç•¥çš„èƒ½åŠ›ï¼Œä»è€Œå®ç°å¯å¤ç”¨ã€å¯æ‰©å±•å’Œå¯ç»´æŠ¤ï¼Œå¹¶ä¸”é¿å…å¤§é‡å¤åˆ¶ç²˜è´´çš„å·¥ä½œã€‚</p><h3 id="1ã€ä¸¾ä¾‹ä¸€"><a href="#1ã€ä¸¾ä¾‹ä¸€" class="headerlink" title="1ã€ä¸¾ä¾‹ä¸€"></a>1ã€ä¸¾ä¾‹ä¸€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> strategies = &#123;<br>    <span class="hljs-string">&quot;high&quot;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">workHours</span>) &#123;<br>        <span class="hljs-keyword">return</span> workHours * <span class="hljs-number">25</span><br>    &#125;,<br>    <span class="hljs-string">&quot;middle&quot;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">workHours</span>) &#123;<br>        <span class="hljs-keyword">return</span> workHours * <span class="hljs-number">20</span><br>    &#125;,<br>    <span class="hljs-string">&quot;low&quot;</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">workHours</span>) &#123;<br>        <span class="hljs-keyword">return</span> workHours * <span class="hljs-number">15</span><br>    &#125;,<br>&#125;<br><br><span class="hljs-keyword">const</span> calculateSalary = <span class="hljs-keyword">function</span> (<span class="hljs-params">workerLevel, workHours</span>) &#123;<br>    <span class="hljs-keyword">return</span> strategies[workerLevel](workHours)<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">calculateSalary</span>(<span class="hljs-string">&#x27;high&#x27;</span>, <span class="hljs-number">10</span>)) <span class="hljs-comment">// 250</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">calculateSalary</span>(<span class="hljs-string">&#x27;middle&#x27;</span>, <span class="hljs-number">10</span>)) <span class="hljs-comment">// 200</span><br></code></pre></td></tr></table></figure><h3 id="2ã€è§£å†³ifåˆ¤æ–­å»è·å–å€¼"><a href="#2ã€è§£å†³ifåˆ¤æ–­å»è·å–å€¼" class="headerlink" title="2ã€è§£å†³ifåˆ¤æ–­å»è·å–å€¼"></a>2ã€è§£å†³ifåˆ¤æ–­å»è·å–å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> type = <span class="hljs-string">&#x27;gas&#x27;</span><br><span class="hljs-keyword">const</span> status = &#123;<br><span class="hljs-attr">co</span>: <span class="hljs-string">&#x27;ä¸€æ°§åŒ–ç¢³&#x27;</span>,<br><span class="hljs-attr">watch</span>: <span class="hljs-string">&#x27;æ‰‹è¡¨&#x27;</span>,<br>    <span class="hljs-attr">smartWatch</span>: <span class="hljs-string">&#x27;æ‰‹ç¯&#x27;</span>,<br>    <span class="hljs-attr">gas</span>: <span class="hljs-string">&#x27;ç‡ƒæ°”&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">if</span>(status[type])&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(status[type])<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3ã€è§£å†³å¤šå±‚if-else-å»åˆ¤æ–­è°ƒç”¨æ–¹æ³•"><a href="#3ã€è§£å†³å¤šå±‚if-else-å»åˆ¤æ–­è°ƒç”¨æ–¹æ³•" class="headerlink" title="3ã€è§£å†³å¤šå±‚if else å»åˆ¤æ–­è°ƒç”¨æ–¹æ³•"></a>3ã€è§£å†³å¤šå±‚if else å»åˆ¤æ–­è°ƒç”¨æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">upgradecommd</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ–¹æ³•ä¸€&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">humanExistUpgrade</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ–¹æ³•äºŒ&#x27;</span>)<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">methodThree</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æ–¹æ³•ä¸‰&#x27;</span>)<br>&#125;<br><br><span class="hljs-keyword">const</span> deviceTypeStatus = &#123;<br>    <span class="hljs-attr">callhand</span>: &#123;<br>        <span class="hljs-string">&#x27;æ–¹æ³•ä¸€&#x27;</span>: <span class="hljs-string">&#x27;upgradecommd&#x27;</span>,<br>        <span class="hljs-string">&#x27;æ–¹æ³•äºŒ&#x27;</span>: <span class="hljs-string">&#x27;humanExistUpgrade&#x27;</span>,<br>    &#125;,<br>    <span class="hljs-attr">humanExist</span>: &#123;<br>        <span class="hljs-string">&#x27;æ–¹æ³•ä¸‰&#x27;</span>: <span class="hljs-string">&#x27;methodThree&#x27;</span>,<br>    &#125;<br>&#125;<br><span class="hljs-keyword">const</span> type = <span class="hljs-string">&#x27;æ–¹æ³•ä¸€&#x27;</span><br><span class="hljs-keyword">const</span> value = deviceTypeStatus[type]<br><span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(deviceTypeStatus)<br><span class="hljs-keyword">if</span>(keys.<span class="hljs-title function_">includes</span>(value))&#123;<br>    deviceTypeStatus[value] &amp;&amp; [statusTitle[value]]();<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç­–ç•¥æ¨¡å¼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptæ•°ç»„çš„reduceçš„é«˜çº§ç”¨æ³•</title>
    <link href="/blog/2024/07/16/js-reduceSenior/"/>
    <url>/blog/2024/07/16/js-reduceSenior/</url>
    
    <content type="html"><![CDATA[<h1 id="JSæ•°ç»„çš„reduceçš„é«˜çº§ç”¨æ³•"><a href="#JSæ•°ç»„çš„reduceçš„é«˜çº§ç”¨æ³•" class="headerlink" title="JSæ•°ç»„çš„reduceçš„é«˜çº§ç”¨æ³•"></a>JSæ•°ç»„çš„reduceçš„é«˜çº§ç”¨æ³•</h1><h3 id="1ã€å¯¹æ•°å­—æ±‚å’Œ"><a href="#1ã€å¯¹æ•°å­—æ±‚å’Œ" class="headerlink" title="1ã€å¯¹æ•°å­—æ±‚å’Œ"></a>1ã€å¯¹æ•°å­—æ±‚å’Œ</h3><p>reduce() æœ€ç›´æ¥çš„ç”¨ä¾‹ä¹‹ä¸€æ˜¯å¯¹ä¸€å †æ•°å­—æ±‚å’Œã€‚å‡è®¾æ‚¨æœ‰ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå¹¶ä¸”æ‚¨æƒ³è¦æ‰¾åˆ°æ€»å’Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> acc + curr, <span class="hljs-number">0</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum);<br><span class="hljs-comment">// Output: 15</span><br></code></pre></td></tr></table></figure><p>åªéœ€ä¸€è¡Œä»£ç ï¼Œæ‚¨å°±å¯ä»¥è®¡ç®—å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ€»å’Œã€‚ç´¯åŠ å™¨çš„åˆå§‹å€¼è®¾ç½®ä¸º0ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°†å½“å‰å…ƒç´ æ·»åŠ åˆ°ç´¯åŠ å™¨ä¸­ã€‚</p><h3 id="2ã€å±•å¹³æ•°ç»„"><a href="#2ã€å±•å¹³æ•°ç»„" class="headerlink" title="2ã€å±•å¹³æ•°ç»„"></a>2ã€å±•å¹³æ•°ç»„</h3><p>æ‚¨æ˜¯å¦æ›¾ç»å‘ç°è‡ªå·±æœ‰ä¸€ä¸ªæ•°ç»„æ•°ç»„å¹¶æƒ³ï¼šâ€œæˆ‘å¸Œæœ›æˆ‘å¯ä»¥å°†å…¶æ‰å¹³åŒ–ä¸ºä¸€ä¸ªæ•°ç»„â€ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> nestedArray = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]];<br><span class="hljs-keyword">const</span> flattenedArray = nestedArray.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> acc.<span class="hljs-title function_">concat</span>(curr), []);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(flattenedArray);<br><span class="hljs-comment">// Output: [1, 2, 3, 4, 5, 6]</span><br></code></pre></td></tr></table></figure><p>æˆ‘çŸ¥é“æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ Array.flat() æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ç„¶è€Œï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨reduce å¾ˆé‡è¦ï¼Œä»¥é˜²æ‚¨æƒ³å¯¹æ¯ä¸ªé¡¹ç›®æ‰§è¡Œé¢å¤–çš„æ“ä½œã€‚</p><h3 id="3ã€å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„"><a href="#3ã€å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„" class="headerlink" title="3ã€å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„"></a>3ã€å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç»„</h3><p>å‡è®¾æ‚¨æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›æ ¹æ®ç‰¹å®šå±æ€§å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ã€‚ reduce() æ˜¯å®Œæˆè¿™é¡¹å·¥ä½œçš„å®Œç¾å·¥å…·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> people = [<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Charlie&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Dave&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> &#125;<br>];<br><br><span class="hljs-keyword">const</span> groupedByAge = people.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (!acc[curr.<span class="hljs-property">age</span>]) &#123;<br>    acc[curr.<span class="hljs-property">age</span>] = [];<br>  &#125;<br>  acc[curr.<span class="hljs-property">age</span>].<span class="hljs-title function_">push</span>(curr);<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, &#123;&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(groupedByAge);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Output:</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">  &#x27;25&#x27;: [&#123; name: &#x27;Alice&#x27;, age: 25 &#125;, &#123; name: &#x27;Charlie&#x27;, age: 25 &#125;],</span><br><span class="hljs-comment">  &#x27;30&#x27;: [&#123; name: &#x27;Bob&#x27;, age: 30 &#125;, &#123; name: &#x27;Dave&#x27;, age: 30 &#125;]</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="4ã€åˆ›å»ºæŸ¥æ‰¾æ˜ å°„"><a href="#4ã€åˆ›å»ºæŸ¥æ‰¾æ˜ å°„" class="headerlink" title="4ã€åˆ›å»ºæŸ¥æ‰¾æ˜ å°„"></a>4ã€åˆ›å»ºæŸ¥æ‰¾æ˜ å°„</h3><p>æˆ‘ä¸ªäººæœ€å–œæ¬¢çš„æ˜¯ä½¿ç”¨reduce()ä»æ•°ç»„åˆ›å»ºæŸ¥æ‰¾æ˜ å°„ã€‚åœ¨æ€§èƒ½å’Œä»£ç å¯è¯»æ€§æ–¹é¢ï¼Œå®ƒæ”¹å˜äº†æ¸¸æˆè§„åˆ™ã€‚åœæ­¢ä½¿ç”¨é‚£äº›ç¼“æ…¢çš„ find() æˆ– filter() è°ƒç”¨ã€‚</p><p>åšäº†æ˜ å°„ä¹‹åæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> products = [<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Laptop&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">999</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Phone&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">699</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Tablet&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">499</span> &#125;,<br>];<br><br><span class="hljs-keyword">const</span> productMap = products.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  acc[curr.<span class="hljs-property">id</span>] = curr;<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, &#123;&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(productMap);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Output:</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">  &#x27;1&#x27;: &#123; id: 1, name: &#x27;Laptop&#x27;, price: 999 &#125;,</span><br><span class="hljs-comment">  &#x27;2&#x27;: &#123; id: 2, name: &#x27;Phone&#x27;, price: 699 &#125;,</span><br><span class="hljs-comment">  &#x27;3&#x27;: &#123; id: 3, name: &#x27;Tablet&#x27;, price: 499 &#125;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">// Accessing a product by ID</span><br><span class="hljs-keyword">const</span> laptop = productMap[<span class="hljs-number">1</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(laptop); <span class="hljs-comment">// </span><br><span class="hljs-title class_">Output</span>: &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Laptop&#x27;</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">999</span> &#125;<br></code></pre></td></tr></table></figure><h3 id="5ã€è®¡æ•°å‡ºç°æ¬¡æ•°"><a href="#5ã€è®¡æ•°å‡ºç°æ¬¡æ•°" class="headerlink" title="5ã€è®¡æ•°å‡ºç°æ¬¡æ•°"></a>5ã€è®¡æ•°å‡ºç°æ¬¡æ•°</h3><p>æ›¾ç»éœ€è¦è®¡ç®—æ•°ç»„ä¸­å…ƒç´ çš„å‡ºç°æ¬¡æ•°å—ï¼Ÿ reduce() å·²ç»å¸®ä½ è§£å†³äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fruits = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;apple&#x27;</span>];<br><br><span class="hljs-keyword">const</span> fruitCounts = fruits.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  acc[curr] = (acc[curr] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, &#123;&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fruitCounts);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Output:</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">  &#x27;apple&#x27;: 3,</span><br><span class="hljs-comment">  &#x27;banana&#x27;: 2,</span><br><span class="hljs-comment">  &#x27;orange&#x27;: 1</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="6ã€ç»„åˆå‡½æ•°"><a href="#6ã€ç»„åˆå‡½æ•°" class="headerlink" title="6ã€ç»„åˆå‡½æ•°"></a>6ã€ç»„åˆå‡½æ•°</h3><p>å‡½æ•°å¼ç¼–ç¨‹çˆ±å¥½è€…ä¸€å®šä¼šå–œæ¬¢è¿™ä¸ªã€‚ reduce() æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‡½æ•°ç»„åˆå·¥å…·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºé€æ­¥è½¬æ¢æ•°æ®çš„å‡½æ•°ç®¡é“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add5</span> = (<span class="hljs-params">x</span>) =&gt; x + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">multiply3</span> = (<span class="hljs-params">x</span>) =&gt; x * <span class="hljs-number">3</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">subtract2</span> = (<span class="hljs-params">x</span>) =&gt; x - <span class="hljs-number">2</span>;<br><span class="hljs-keyword">const</span> composedFunctions = [add5, multiply3, subtract2];<br><span class="hljs-keyword">const</span> result = composedFunctions.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> <span class="hljs-title function_">curr</span>(acc), <span class="hljs-number">10</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <br><span class="hljs-comment">// Output: 43</span><br></code></pre></td></tr></table></figure><h3 id="7ã€å®ç°ç®€å•çš„ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†"><a href="#7ã€å®ç°ç®€å•çš„ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†" class="headerlink" title="7ã€å®ç°ç®€å•çš„ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†"></a>7ã€å®ç°ç®€å•çš„ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†</h3><p>å¦‚æœæ‚¨ä½¿ç”¨è¿‡ Reduxï¼Œæ‚¨å°±ä¼šçŸ¥é“å®ƒåœ¨ç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€æ–¹é¢æœ‰å¤šä¹ˆå¼ºå¤§ã€‚ä½ çŒœæ€ä¹ˆäº†ï¼Ÿä½ å¯ä»¥ä½¿ç”¨reduce()æ¥å®ç°ä¸€ä¸ªç®€å•çš„ç±»ä¼¼Reduxçš„çŠ¶æ€ç®¡ç†ç³»ç»Ÿã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> initialState = &#123;<br>  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,<br>  <span class="hljs-attr">todos</span>: [],<br>&#125;;<br><br><span class="hljs-keyword">const</span> actions = [<br>  &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT_COUNT&#x27;</span> &#125;,<br>  &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;ADD_TODO&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">&#x27;Learn Array.reduce()&#x27;</span> &#125;,<br>  &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREMENT_COUNT&#x27;</span> &#125;,<br>  &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;ADD_TODO&#x27;</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">&#x27;Master TypeScript&#x27;</span> &#125;,<br>];<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state, action</span>) =&gt; &#123;<br>  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;INCREMENT_COUNT&#x27;</span>:<br>      <span class="hljs-keyword">return</span> &#123; ...state, <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> &#125;;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;ADD_TODO&#x27;</span>:<br>      <span class="hljs-keyword">return</span> &#123; ...state, <span class="hljs-attr">todos</span>: [...state.<span class="hljs-property">todos</span>, action.<span class="hljs-property">payload</span>] &#125;;<br>    <span class="hljs-attr">default</span>:<br>      <span class="hljs-keyword">return</span> state;<br>  &#125;<br>&#125;;<br><br><span class="hljs-keyword">const</span> finalState = actions.<span class="hljs-title function_">reduce</span>(reducer, initialState);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(finalState);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Output:</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">  count: 2,</span><br><span class="hljs-comment">  todos: [&#x27;Learn Array.reduce()&#x27;, &#x27;Master TypeScript&#x27;]</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="8ã€ç”Ÿæˆå”¯ä¸€å€¼"><a href="#8ã€ç”Ÿæˆå”¯ä¸€å€¼" class="headerlink" title="8ã€ç”Ÿæˆå”¯ä¸€å€¼"></a>8ã€ç”Ÿæˆå”¯ä¸€å€¼</h3><p>æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½æœ‰ä¸€ä¸ªåŒ…å«é‡å¤å€¼çš„æ•°ç»„ï¼Œå¹¶ä¸”æ‚¨éœ€è¦ä»…æå–å”¯ä¸€çš„å€¼ã€‚ reduce() å¯ä»¥å¸®åŠ©æ‚¨è½»æ¾å®ç°è¿™ä¸€ç‚¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>];<br><span class="hljs-keyword">const</span> uniqueNumbers = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (!acc.<span class="hljs-title function_">includes</span>(curr)) &#123;<br>    acc.<span class="hljs-title function_">push</span>(curr);<br>  &#125;<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, []);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueNumbers); <br><span class="hljs-comment">// Output: [1, 2, 3, 4, 5, 6]</span><br></code></pre></td></tr></table></figure><h3 id="9ã€è®¡ç®—å¹³å‡å€¼"><a href="#9ã€è®¡ç®—å¹³å‡å€¼" class="headerlink" title="9ã€è®¡ç®—å¹³å‡å€¼"></a>9ã€è®¡ç®—å¹³å‡å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> grades = [<span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">92</span>, <span class="hljs-number">88</span>, <span class="hljs-number">95</span>];<br><span class="hljs-keyword">const</span> average = grades.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr, index, array</span>) =&gt;</span> &#123;<br>  acc += curr;<br>  <span class="hljs-keyword">if</span> (index === array.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-keyword">return</span> acc / array.<span class="hljs-property">length</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, <span class="hljs-number">0</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(average); <br><span class="hljs-comment">// Output: 90</span><br></code></pre></td></tr></table></figure><h3 id="æ€§èƒ½è€ƒè™‘"><a href="#æ€§èƒ½è€ƒè™‘" class="headerlink" title="æ€§èƒ½è€ƒè™‘"></a>æ€§èƒ½è€ƒè™‘</h3><p>è™½ç„¶ Array.reduce() éå¸¸å¼ºå¤§ä¸”ç”¨é€”å¹¿æ³›ï¼Œä½†äº†è§£æ½œåœ¨çš„æ€§èƒ½ç¼ºé™·éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°ç»„æˆ–å¤æ‚æ“ä½œæ—¶ã€‚ä¸€ä¸ªå¸¸è§çš„é™·é˜±æ˜¯åœ¨æ¯æ¬¡reduce()è¿­ä»£ä¸­åˆ›å»ºæ–°çš„å¯¹è±¡æˆ–æ•°ç»„ï¼Œè¿™å¯èƒ½å¯¼è‡´è¿‡å¤šçš„å†…å­˜åˆ†é…å¹¶å½±å“æ€§èƒ½ã€‚ ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> doubledNumbers = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> [...acc, curr * <span class="hljs-number">2</span>];<br>&#125;, []);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubledNumbers); <br><span class="hljs-comment">// Output: [2, 4, 6, 8, 10]</span><br></code></pre></td></tr></table></figure><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ (â€¦) åœ¨æ¯æ¬¡è¿­ä»£ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™å¯èƒ½æ•ˆç‡ä½ä¸‹ã€‚ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥æ”¹å˜ç´¯åŠ å™¨æ•°ç»„æ¥ä¼˜åŒ–ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> doubledNumbers= numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, curr</span>) =&gt;</span> &#123;<br>  acc.<span class="hljs-title function_">push</span>(curr * <span class="hljs-number">2</span>);<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, []);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubledNumbers); <br><span class="hljs-comment">// Output: [2, 4, 6, 8, 10]</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>reduceé«˜çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nodeæ‰“åŒ…distä»£ç åˆ°æœåŠ¡å™¨</title>
    <link href="/blog/2024/07/03/node-automateCode/"/>
    <url>/blog/2024/07/03/node-automateCode/</url>
    
    <content type="html"><![CDATA[<h1 id="nodeæ‰“åŒ…distä»£ç åˆ°æœåŠ¡å™¨"><a href="#nodeæ‰“åŒ…distä»£ç åˆ°æœåŠ¡å™¨" class="headerlink" title="nodeæ‰“åŒ…distä»£ç åˆ°æœåŠ¡å™¨"></a>nodeæ‰“åŒ…distä»£ç åˆ°æœåŠ¡å™¨</h1><h3 id="1ã€nodeä»£ç "><a href="#1ã€nodeä»£ç " class="headerlink" title="1ã€nodeä»£ç "></a>1ã€nodeä»£ç </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> chalk = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;chalk&#x27;</span>)<br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>)<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Client</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;ssh2-sftp-client&#x27;</span>)<br><span class="hljs-keyword">const</span> sftp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Client</span>()<br><span class="hljs-keyword">const</span> envConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./env.config&#x27;</span>)<br><br><span class="hljs-keyword">const</span> defalutConfig = &#123;<br>  <span class="hljs-attr">port</span>: <span class="hljs-string">&#x27;80&#x27;</span>, <span class="hljs-comment">// ç«¯å£å·</span><br>  <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;root&#x27;</span>, <span class="hljs-comment">// ç”¨æˆ·å</span><br>  <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;root123&#x27;</span>, <span class="hljs-comment">// å¯†ç </span><br>  <span class="hljs-attr">localStatic</span>: <span class="hljs-string">&#x27;./dist.tar.gz&#x27;</span>,<br>&#125;<br><br><span class="hljs-keyword">const</span> config = &#123;<br>  ...defalutConfig,<br>  <span class="hljs-attr">host</span>: envConfig.<span class="hljs-property">host</span>,<br>  <span class="hljs-attr">remoteStatic</span>: envConfig.<span class="hljs-property">remoteStatic</span>,<br>&#125;<br><br><span class="hljs-keyword">const</span> error = chalk.<span class="hljs-property">bold</span>.<span class="hljs-property">red</span><br><span class="hljs-keyword">const</span> success = chalk.<span class="hljs-property">bold</span>.<span class="hljs-property">green</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">upload</span>(<span class="hljs-params">config, options</span>) &#123;<br>  <span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-string">&#x27;./dist&#x27;</span>) &amp;&amp; !fs.<span class="hljs-title function_">existsSync</span>(options.<span class="hljs-property">localStatic</span>)) &#123;<br>    <span class="hljs-keyword">return</span><br>  &#125;<br>  <span class="hljs-comment">// æ ‡å¿—ä¸Šä¼ distç›®å½•</span><br>  <span class="hljs-keyword">let</span> isDist = <span class="hljs-literal">false</span><br>  sftp<br>    .<span class="hljs-title function_">connect</span>(config)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">// åˆ¤æ–­gzæ–‡ä»¶å­˜åœ¨æ—¶ ä¸Šä¼ gz ä¸å­˜åœ¨æ—¶ä¸Šä¼ dist</span><br>      <span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(options.<span class="hljs-property">localStatic</span>)) &#123;<br>        <span class="hljs-keyword">return</span> sftp.<span class="hljs-title function_">put</span>(options.<span class="hljs-property">localStatic</span>, options.<span class="hljs-property">remoteStatic</span>)<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-string">&#x27;./dist&#x27;</span>)) &#123;<br>        isDist = <span class="hljs-literal">true</span><br>        <span class="hljs-keyword">return</span> sftp.<span class="hljs-title function_">uploadDir</span>(<span class="hljs-string">&#x27;./dist&#x27;</span>, options.<span class="hljs-property">remoteStatic</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, -<span class="hljs-number">12</span>))<br>      &#125;<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      sftp.<span class="hljs-title function_">end</span>()<br>      <span class="hljs-keyword">if</span> (!isDist) &#123;<br>        <span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">Client</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;ssh2&#x27;</span>)<br>        <span class="hljs-keyword">const</span> conn = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Client</span>()<br>        conn<br>          .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;ready&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-comment">// è¿œç¨‹è§£å‹</span><br>            <span class="hljs-keyword">const</span> remoteModule = options.<span class="hljs-property">remoteStatic</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;dist.tar.gz&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>            conn.<span class="hljs-title function_">exec</span>(<br>              <span class="hljs-string">`cd <span class="hljs-subst">$&#123;remoteModule&#125;</span>;tar xvf dist.tar.gz`</span>,<br>              <span class="hljs-function">(<span class="hljs-params">err, stream</span>) =&gt;</span> &#123;<br>                <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err<br>                stream<br>                  .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;close&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">code</span>) =&gt;</span> &#123;<br>                    code === <span class="hljs-number">0</span><br>                    conn.<span class="hljs-title function_">end</span>()<br>                    <span class="hljs-comment">// è§£å‹å®Œæˆ åˆ é™¤æœ¬åœ°æ–‡ä»¶</span><br>                    fs.<span class="hljs-title function_">unlink</span>(options.<span class="hljs-property">localStatic</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>                      <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err<br>                    &#125;)<br>                  &#125;)<br>                  .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;&#125;)<br>              &#125;<br>            )<br>          &#125;)<br>          .<span class="hljs-title function_">connect</span>(config)<br>      &#125;<br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>      sftp.<span class="hljs-title function_">end</span>()<br>    &#125;)<br>&#125;<br><br><span class="hljs-comment">// ä¸Šä¼ æ–‡ä»¶</span><br><span class="hljs-title function_">upload</span>(config, &#123;<br>  <span class="hljs-attr">localStatic</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, config.<span class="hljs-property">localStatic</span>), <span class="hljs-comment">// æœ¬åœ°æ–‡ä»¶å¤¹è·¯å¾„</span><br>  <span class="hljs-attr">remoteStatic</span>: config.<span class="hljs-property">remoteStatic</span>, <span class="hljs-comment">// æœåŠ¡å™¨æ–‡ä»¶å¤¹è·¯å¾„å™¨</span><br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="2ã€ä¸Šä¼ å‘½ä»¤"><a href="#2ã€ä¸Šä¼ å‘½ä»¤" class="headerlink" title="2ã€ä¸Šä¼ å‘½ä»¤"></a>2ã€ä¸Šä¼ å‘½ä»¤</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;vue-cli-service build&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;zip&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;cd dist &amp;&amp; tar -zcvf ../dist.tar.gz css js index.html&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;upload&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;node upload&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-attr">&quot;deploy&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;npm run build &amp;&amp; &amp;&amp; npm run zip &amp;&amp; npm run upload&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>node</category>
      
    </categories>
    
    
    <tags>
      
      <tag>node</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSåŠ¨ç”»</title>
    <link href="/blog/2024/07/02/css-animation/"/>
    <url>/blog/2024/07/02/css-animation/</url>
    
    <content type="html"><![CDATA[<h1 id="CSSåŠ¨ç”»"><a href="#CSSåŠ¨ç”»" class="headerlink" title="CSSåŠ¨ç”»"></a>CSSåŠ¨ç”»</h1><h2 id="ä¸€ã€åŠ¨ç”»åˆ†ç±»"><a href="#ä¸€ã€åŠ¨ç”»åˆ†ç±»" class="headerlink" title="ä¸€ã€åŠ¨ç”»åˆ†ç±»"></a>ä¸€ã€åŠ¨ç”»åˆ†ç±»</h2><h3 id="1-æ¸å˜åŠ¨ç”»ï¼ˆTransitionï¼‰"><a href="#1-æ¸å˜åŠ¨ç”»ï¼ˆTransitionï¼‰" class="headerlink" title="1. æ¸å˜åŠ¨ç”»ï¼ˆTransitionï¼‰"></a>1. æ¸å˜åŠ¨ç”»ï¼ˆTransitionï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šé€šè¿‡<code>transition</code>å±æ€§å®ç°å…ƒç´ ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€çš„å¹³æ»‘è¿‡æ¸¡ã€‚</li><li><strong>å±æ€§</strong>ï¼šåŒ…æ‹¬è¦è¿‡æ¸¡çš„å±æ€§ï¼ˆå¦‚<code>width</code>ã€<code>height</code>ã€<code>background-color</code>ç­‰ï¼‰ã€è¿‡æ¸¡æ—¶é—´ï¼ˆå¦‚<code>0.5s</code>ï¼‰ã€è¿åŠ¨æ›²çº¿ï¼ˆå¦‚<code>ease</code>ã€<code>linear</code>ç­‰ï¼‰ä»¥åŠä½•æ—¶å¼€å§‹ï¼ˆå¯ä»¥è®¾ç½®å»¶è¿Ÿæ—¶é—´ï¼‰ã€‚</li></ul><h3 id="2-å˜å½¢åŠ¨ç”»ï¼ˆTransformï¼‰"><a href="#2-å˜å½¢åŠ¨ç”»ï¼ˆTransformï¼‰" class="headerlink" title="2. å˜å½¢åŠ¨ç”»ï¼ˆTransformï¼‰"></a>2. å˜å½¢åŠ¨ç”»ï¼ˆTransformï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šé€šè¿‡<code>transform</code>å±æ€§å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€å€¾æ–œã€ç§»åŠ¨ç­‰2Dæˆ–3Dè½¬æ¢ã€‚</li><li>ç±»å‹ï¼š<ul><li><strong>æ—‹è½¬</strong>ï¼ˆ<code>rotate</code>ï¼‰ï¼šåŒ…æ‹¬2Dæ—‹è½¬å’Œ3Dæ—‹è½¬ï¼Œå¦‚<code>rotate(45deg)</code>ã€<code>rotateX(45deg)</code>ç­‰ã€‚</li><li><strong>ç¼©æ”¾</strong>ï¼ˆ<code>scale</code>ï¼‰ï¼šå¦‚<code>scale(2, 2)</code>è¡¨ç¤ºåœ¨Xè½´å’ŒYè½´ä¸Šéƒ½æ”¾å¤§ä¸¤å€ã€‚</li><li><strong>å€¾æ–œ</strong>ï¼ˆ<code>skew</code>ï¼‰ï¼šå¦‚<code>skew(30deg, 20deg)</code>è¡¨ç¤ºå…ƒç´ åœ¨Xè½´å€¾æ–œ30åº¦ï¼ŒYè½´å€¾æ–œ20åº¦ã€‚</li><li><strong>ç§»åŠ¨</strong>ï¼ˆ<code>translate</code>ï¼‰ï¼šå¦‚<code>translate(50px, 100px)</code>è¡¨ç¤ºå…ƒç´ å‘å³ç§»åŠ¨50pxï¼Œå‘ä¸‹ç§»åŠ¨100pxã€‚</li></ul></li></ul><h3 id="3-è‡ªå®šä¹‰åŠ¨ç”»ï¼ˆAnimationï¼‰"><a href="#3-è‡ªå®šä¹‰åŠ¨ç”»ï¼ˆAnimationï¼‰" class="headerlink" title="3. è‡ªå®šä¹‰åŠ¨ç”»ï¼ˆAnimationï¼‰"></a>3. è‡ªå®šä¹‰åŠ¨ç”»ï¼ˆAnimationï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šé€šè¿‡<code>@keyframes</code>è§„åˆ™å®šä¹‰åŠ¨ç”»åºåˆ—ï¼Œç„¶åä½¿ç”¨<code>animation</code>å±æ€§å°†åŠ¨ç”»åº”ç”¨åˆ°å…ƒç´ ä¸Šã€‚</li><li><strong>å±æ€§</strong>ï¼šåŒ…æ‹¬åŠ¨ç”»åç§°ã€åŠ¨ç”»æ—¶é•¿ã€é€Ÿåº¦æ›²çº¿ã€å»¶è¿Ÿæ—¶é—´ã€é‡å¤æ¬¡æ•°ã€åŠ¨ç”»æ–¹å‘ä»¥åŠæ‰§è¡Œå®Œæ¯•æ—¶çš„çŠ¶æ€ç­‰ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šå®šä¹‰ä¸€ä¸ªåä¸º<code>change</code>çš„åŠ¨ç”»ï¼Œä½¿å…ƒç´ å®½åº¦ä»211pxå˜åŒ–åˆ°1111pxï¼ŒæŒç»­æ—¶é—´ä¸º2ç§’ã€‚</li></ul><h3 id="4-é€å¸§åŠ¨ç”»ï¼ˆSteps-Animationï¼‰"><a href="#4-é€å¸§åŠ¨ç”»ï¼ˆSteps-Animationï¼‰" class="headerlink" title="4. é€å¸§åŠ¨ç”»ï¼ˆSteps Animationï¼‰"></a>4. é€å¸§åŠ¨ç”»ï¼ˆSteps Animationï¼‰</h3><ul><li><strong>å®šä¹‰</strong>ï¼šé€šè¿‡<code>animation-timing-function</code>å±æ€§çš„<code>steps()</code>å‡½æ•°å®ç°é€å¸§åŠ¨ç”»æ•ˆæœï¼Œå¸¸ç”¨äºç²¾çµå›¾åŠ¨ç”»ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼šåŠ¨ç”»çš„æ¯ä¸€å¸§éƒ½æ˜¯ç¦»æ•£çš„ï¼Œç±»ä¼¼äºç”µå½±èƒ¶ç‰‡ä¸­çš„æ¯ä¸€å¸§ã€‚</li></ul><h2 id="äºŒã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ"><a href="#äºŒã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ" class="headerlink" title="äºŒã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ"></a>äºŒã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ</h2><h3 id="1-åŠ¨ç”»é€æ¸æ”¹å˜å…ƒç´ çš„æ ·å¼"><a href="#1-åŠ¨ç”»é€æ¸æ”¹å˜å…ƒç´ çš„æ ·å¼" class="headerlink" title="1.åŠ¨ç”»é€æ¸æ”¹å˜å…ƒç´ çš„æ ·å¼"></a>1.åŠ¨ç”»é€æ¸æ”¹å˜å…ƒç´ çš„æ ·å¼</h3><p>åªæœ‰åœ¨æŒ‡å®šå…³é”®å¸§ä¹‹åæ‰èƒ½ä½¿ç”¨ã€‚å…³é”®å¸§æè¿°äº†åŠ¨ç”»åºåˆ—ä¸­ç‰¹å®šç‚¹ä¸ŠåŠ¨ç”»å…ƒç´ çš„å¤–è§‚ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"> <span class="hljs-selector-tag">div</span>&#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">background-color</span>: blue;<br>  <span class="hljs-attribute">animation-name</span>: square;<br>  <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">8s</span>;<br>&#125;<br><span class="hljs-keyword">@keyframes</span> square&#123;<br>  <span class="hljs-selector-tag">from</span> &#123;<span class="hljs-attribute">background-color</span>: blue;&#125;<br>  <span class="hljs-selector-tag">to</span> &#123;<span class="hljs-attribute">background-color</span>: black;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-è™šæµ®æ”¾å¤§"><a href="#2-è™šæµ®æ”¾å¤§" class="headerlink" title="2. è™šæµ®æ”¾å¤§"></a>2. è™šæµ®æ”¾å¤§</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css">  </span><br><span class="language-css">  <span class="hljs-selector-class">.zoom-on-hover</span> &#123;  </span><br><span class="language-css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>; <span class="hljs-comment">/* ç¤ºä¾‹å®½åº¦ */</span>  </span><br><span class="language-css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>; <span class="hljs-comment">/* ç¤ºä¾‹é«˜åº¦ */</span>  </span><br><span class="language-css">    <span class="hljs-attribute">background-color</span>: skyblue; <span class="hljs-comment">/* ç¤ºä¾‹èƒŒæ™¯è‰² */</span>  </span><br><span class="language-css">    <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease; <span class="hljs-comment">/* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */</span>  </span><br><span class="language-css">  &#125;  </span><br><span class="language-css">  </span><br><span class="language-css">  <span class="hljs-selector-class">.zoom-on-hover</span><span class="hljs-selector-pseudo">:hover</span> &#123;  </span><br><span class="language-css">    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.2</span>); <span class="hljs-comment">/* é¼ æ ‡æ‚¬åœæ—¶æ”¾å¤§1.2å€ */</span>  </span><br><span class="language-css">  &#125;  </span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>  <br>  <br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;zoom-on-hover&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  <br>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="3-è‰²ç›¸æ—‹è½¬åŠ¨ç”»"><a href="#3-è‰²ç›¸æ—‹è½¬åŠ¨ç”»" class="headerlink" title="3. è‰²ç›¸æ—‹è½¬åŠ¨ç”»"></a>3. è‰²ç›¸æ—‹è½¬åŠ¨ç”»</h3><p>åœ¨ç½‘ç«™çš„ä¸»è¦éƒ¨åˆ†å’ŒæŒ‰é’®ä¸Šæ·»åŠ è‰²ç›¸æ—‹è½¬åŠ¨ç”»ã€‚</p><p>ä¾‹å¦‚ï¼Œå¤©æ°”é¢„æŠ¥ç½‘ç«™çš„ä¸»è¦éƒ¨åˆ†å°†å› æ­¤è€Œå˜å¾—ä»¤äººæƒŠè‰³ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">35deg</span>, <span class="hljs-number">#8C52FF</span>, <span class="hljs-number">#C669FF</span>);<br>  <span class="hljs-attribute">animation</span>: hue-rotate <span class="hljs-number">3s</span> linear infinite alternate;<br>&#125;<br><span class="hljs-keyword">@keyframes</span> hue-rotate &#123;<br>  <span class="hljs-selector-tag">to</span> &#123;<br>    <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">hue-rotate</span>(<span class="hljs-number">85deg</span>);<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CSSåŠ¨ç”»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSéšè—æ»šåŠ¨æ¡å’Œæ–‡å­—</title>
    <link href="/blog/2024/07/02/css-scrollbar/"/>
    <url>/blog/2024/07/02/css-scrollbar/</url>
    
    <content type="html"><![CDATA[<h1 id="CSSéšè—æ»šåŠ¨æ¡å’Œæ–‡å­—"><a href="#CSSéšè—æ»šåŠ¨æ¡å’Œæ–‡å­—" class="headerlink" title="CSSéšè—æ»šåŠ¨æ¡å’Œæ–‡å­—"></a>CSSéšè—æ»šåŠ¨æ¡å’Œæ–‡å­—</h1><h3 id="ä¸€ã€éšè—æ»šåŠ¨æ¡"><a href="#ä¸€ã€éšè—æ»šåŠ¨æ¡" class="headerlink" title="ä¸€ã€éšè—æ»šåŠ¨æ¡"></a>ä¸€ã€éšè—æ»šåŠ¨æ¡</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/**</span><br><span class="hljs-comment">*elementï¼šéœ€è¦éšè—çš„å…ƒç´ </span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">/** è°·æ­Œ */</span><br><span class="hljs-selector-class">.element</span>::-webkit-scrollbar &#123; <br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span> <span class="hljs-meta">!important</span><br>&#125;<br><br><span class="hljs-selector-class">.element</span> &#123; <br>    -ms-<span class="hljs-attribute">overflow</span>-style: none; <span class="hljs-comment">/** IE 10+ */</span><br>    <span class="hljs-attribute">overflow</span>: -moz-scrollbars-none; <span class="hljs-comment">/** Firefox */</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="äºŒã€éšè—æ–‡å­—"><a href="#äºŒã€éšè—æ–‡å­—" class="headerlink" title="äºŒã€éšè—æ–‡å­—"></a>äºŒã€éšè—æ–‡å­—</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><br><span class="hljs-selector-class">.hidden</span> &#123;<br>    <span class="hljs-attribute">white-space</span>: nowrap; <span class="hljs-comment">/* ä¸æ¢è¡Œ */</span><br>    <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-comment">/* è¶…å‡ºéƒ¨åˆ†éšè— */</span><br>    <span class="hljs-attribute">text-overflow</span>: ellipsis; <span class="hljs-comment">/* æ·»åŠ çœç•¥å· */</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¸‰ã€è®¾ç½®æ»šåŠ¨æ¡çš„é¢œè‰²"><a href="#ä¸‰ã€è®¾ç½®æ»šåŠ¨æ¡çš„é¢œè‰²" class="headerlink" title="ä¸‰ã€è®¾ç½®æ»šåŠ¨æ¡çš„é¢œè‰²"></a>ä¸‰ã€è®¾ç½®æ»šåŠ¨æ¡çš„é¢œè‰²</h3><p>1.è®¾ç½®è°·æ­Œæµè§ˆå™¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* æ•´ä¸ªæ»šåŠ¨æ¡åŒºåŸŸ */</span><br>::-webkit-scrollbar &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;  <span class="hljs-comment">/* å‚ç›´æ»šåŠ¨æ¡å®½åº¦ */</span><br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>; <span class="hljs-comment">/* æ°´å¹³æ»šåŠ¨æ¡é«˜åº¦ */</span><br>&#125;<br> <br><span class="hljs-comment">/* æ»šåŠ¨æ¡è½¨é“ */</span><br>::-webkit-scrollbar-track &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#f1f1f1</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;<br>&#125;<br> <br><span class="hljs-comment">/* æ»šåŠ¨æ¡æ»‘å— */</span><br>::-webkit-scrollbar-thumb &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#888</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;<br>&#125;<br> <br><span class="hljs-comment">/* æ»‘å—æ‚¬åœçŠ¶æ€ */</span><br>::-webkit-scrollbar-thumb:hover &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#555</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.é€šç”¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* é€šç”¨è®¾ç½® */</span><br><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">scrollbar-width</span>: thin;<br>    <span class="hljs-attribute">scrollbar-color</span>: <span class="hljs-number">#888</span> <span class="hljs-number">#f1f1f1</span>;<br>&#125;<br> <br><span class="hljs-comment">/* WebKitæµè§ˆå™¨å¢å¼ºè®¾ç½® */</span><br><span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>:<span class="hljs-number">0</span>) &#123;<br>    ::-webkit-scrollbar &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">12px</span>;<br>        <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;<br>    &#125;<br>    ::-webkit-scrollbar-track &#123;<br>        <span class="hljs-attribute">background</span>: <span class="hljs-number">#f1f1f1</span>;<br>    &#125;<br>    ::-webkit-scrollbar-thumb &#123;<br>        <span class="hljs-attribute">background</span>: <span class="hljs-number">#888</span>;<br>        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>éšè—æ»šåŠ¨æ¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TSæ³›å‹</title>
    <link href="/blog/2024/01/02/ts-genericity/"/>
    <url>/blog/2024/01/02/ts-genericity/</url>
    
    <content type="html"><![CDATA[<h1 id="TSæ³›å‹"><a href="#TSæ³›å‹" class="headerlink" title="TSæ³›å‹"></a>TSæ³›å‹</h1><h3 id="ä¸€ã€Exclude"><a href="#ä¸€ã€Exclude" class="headerlink" title="ä¸€ã€Exclude"></a>ä¸€ã€Exclude</h3><p><code>Exclude&lt;T, U&gt;</code>ï¼šä½œç”¨ç®€å•è¯´å°±æ˜¯æŠŠ <code>T</code> é‡Œé¢çš„ <code>U</code> å»æ‰ï¼Œå†è¿”å› <code>T</code> é‡Œè¿˜å‰©ä¸‹çš„ã€‚<code>T</code> å’Œ <code>U</code> å¿…é¡»æ˜¯åŒç§ç±»å‹(å…·ä½“ç±»å‹&#x2F;å­—é¢é‡ç±»å‹)ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;;<br><span class="hljs-comment">// type T1  = number; </span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;b&#x27;</span> | <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span> | <span class="hljs-string">&#x27;d&#x27;</span>&gt;;<br><span class="hljs-comment">// type T2  = &#x27;a&#x27; | &#x27;c&#x27;;</span><br></code></pre></td></tr></table></figure><h3 id="äºŒã€Extract"><a href="#äºŒã€Extract" class="headerlink" title="äºŒã€Extract"></a>äºŒã€Extract</h3><p><code>Extract&lt;T, U&gt;</code>ï¼šä½œç”¨æ˜¯å–å‡º <code>T</code> é‡Œé¢çš„ <code>U</code> ï¼Œè¿”å›ã€‚ä½œç”¨å’Œ <code>Exclude</code> åˆšå¥½ç›¸åï¼Œä¼ å‚ä¹Ÿæ˜¯ä¸€æ ·çš„</p><p>çœ‹ä¾‹å­ç†è§£ <code>Extract</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Extract</span>&lt;<span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;b&#x27;</span> | <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;d&#x27;</span>&gt;;<br><span class="hljs-comment">// type T1  = &#x27;a&#x27;;</span><br><br><span class="hljs-comment">// æºç å®šä¹‰</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Extract</span>&lt;T, U&gt; = T <span class="hljs-keyword">extends</span> U ? T : <span class="hljs-built_in">never</span><br></code></pre></td></tr></table></figure><h3 id="ä¸‰ã€Omit"><a href="#ä¸‰ã€Omit" class="headerlink" title="ä¸‰ã€Omit"></a>ä¸‰ã€Omit</h3><p><code>Omit&lt;T, K&gt;</code>ï¼šä½œç”¨æ˜¯æŠŠ <code>T(å¯¹è±¡ç±»å‹)</code> é‡Œè¾¹çš„ <code>K</code> å»æ‰ï¼Œè¿”å› <code>T</code> é‡Œè¿˜å‰©ä¸‹çš„</p><p><code>Omit</code> çš„ä½œç”¨å’Œ <code>Exclude</code> æ˜¯ä¸€æ ·çš„ï¼Œéƒ½èƒ½åšç±»å‹è¿‡æ»¤å¹¶å¾—åˆ°æ–°ç±»å‹ã€‚</p><p>ä¸åŒçš„æ˜¯ <code>Exclude</code> ä¸»è¦æ˜¯å¤„ç†è”åˆç±»å‹ï¼Œä¸”ä¼šè§¦å‘åˆ†å‘ï¼Œè€Œ <code>Omit</code> ä¸»è¦æ˜¯å¤„ç†å¯¹è±¡ç±»å‹ï¼Œæ‰€ä»¥è‡ªç„¶çš„è¿™ä¿©å‚æ•°ä¹Ÿä¸ä¸€æ ·ã€‚</p><p>ç”¨æ³•å¦‚ä¸‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// è¿™ç§åœºæ™¯ type å’Œ interface æ˜¯ä¸€æ ·çš„ï¼Œåé¢å°±ä¸é‡å¤è¯´æ˜äº†</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">User</span>, <span class="hljs-string">&#x27;age&#x27;</span>&gt;<br><span class="hljs-comment">// type T1 = &#123; name: string &#125;</span><br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// keyof any å°±æ˜¯ string | number | symbol</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Omit</span>&lt;T, K <span class="hljs-keyword">extends</span> keyof <span class="hljs-built_in">any</span>&gt; = &#123; [P <span class="hljs-keyword">in</span> <span class="hljs-title class_">Exclude</span>&lt;keyof T, K&gt;]: T[P]; &#125;<br></code></pre></td></tr></table></figure><ul><li>é¦–å…ˆç¬¬ä¸€ä¸ªå‚æ•° <code>T</code> è¦ä¼ å¯¹è±¡ç±»å‹ï¼Œ <code>type</code> æˆ– <code>interface</code> éƒ½å¯ä»¥</li><li>ç¬¬äºŒä¸ªå‚æ•° <code>K</code> é™åˆ¶äº†ç±»å‹åªèƒ½æ˜¯ <code>string | number | symbol</code>ï¼Œè¿™ä¸€ç‚¹è·Ÿ <code>js</code> é‡Œçš„å¯¹è±¡æ˜¯ä¸€ä¸ªæ„æ€ï¼Œå¯¹è±¡ç±»å‹çš„å±æ€§ååªæ”¯æŒè¿™ä¸‰ç§ç±»å‹</li><li><code>in</code> æ˜¯æ˜ å°„ç±»å‹ï¼Œç”¨æ¥æ˜ å°„éå†æšä¸¾ç±»å‹ã€‚å¤§ç™½è¯å°±æ˜¯å¾ªç¯ã€å¾ªç¯è¯­æ³•ï¼Œéœ€è¦é…åˆè”åˆç±»å‹æ¥å¯¹ç±»å‹è¿›è¡Œéå†ã€‚<code>in</code> çš„å³è¾¹æ˜¯å¯éå†çš„æšä¸¾ç±»å‹ï¼Œå·¦è¾¹æ˜¯éå†å‡ºæ¥çš„æ¯ä¸€é¡¹</li><li>ç”¨ <code>Exclude</code> å»é™¤æ‰ä¼ å…¥çš„å±æ€§åï¼Œå†éå†å‰©ä¸‹çš„å±æ€§ï¼Œç”Ÿæˆæ–°çš„ç±»å‹è¿”å›</li></ul><p>ç¤ºä¾‹è§£æï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>    <span class="hljs-attr">gender</span>: <span class="hljs-built_in">string</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Omit</span>&lt;T, K <span class="hljs-keyword">extends</span> keyof <span class="hljs-built_in">any</span>&gt; = &#123; [P <span class="hljs-keyword">in</span> <span class="hljs-title class_">Exclude</span>&lt;keyof T, K&gt;]: T[P]; &#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">User</span>, <span class="hljs-string">&#x27;age&#x27;</span>&gt;<br><span class="hljs-comment">// type T1 = &#123; name: string, gender: string &#125;</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è°ƒç”¨ <code>Omit</code> ä¼ å…¥çš„å‚æ•°æ˜¯æ­£ç¡®çš„ï¼Œæ‰€ä»¥å°±åˆ†æä¸€ä¸‹åé¢çš„æ‰§è¡Œé€»è¾‘ï¼š</p><ul><li><code>Exclude&lt;keyof T, K&gt;</code> ç­‰äº <code>Exclude&lt;&#39;name&#39;|&#39;age&#39;|&#39;gender&#39;, &#39;age&#39;&gt;</code>ï¼Œè¿”å›çš„ç»“æœå°±æ˜¯ <code>&#39;name&#39;|&#39;gender</code></li><li>ç„¶åéå† <code>&#39;name&#39;|&#39;gender&#39;</code>ï¼Œç¬¬ä¸€æ¬¡å¾ªç¯ <code>P</code> å°±æ˜¯ <code>name</code>ï¼Œè¿”å› <code>T[P]</code> å°±æ˜¯ <code>User[&#39;name&#39;]</code></li><li>ç¬¬äºŒæ¬¡å¾ªç¯ <code>P</code> å°±æ˜¯ <code>gender</code>ï¼Œè¿”å› <code>T[P]</code> å°±æ˜¯ <code>User[&#39;gender&#39;]</code>ï¼Œç„¶åå¾ªç¯ç»“æŸ</li><li>ç»“æœå°±æ˜¯ <code>{ name: string, gender: string }</code></li></ul><h3 id="å››ã€Pick"><a href="#å››ã€Pick" class="headerlink" title="å››ã€Pick"></a>å››ã€Pick</h3><p><code>Pick&lt;T, K&gt;</code> ï¼šä½œç”¨æ˜¯å–å‡º <code>T(å¯¹è±¡ç±»å‹)</code> é‡Œè¾¹å„¿çš„ <code>K</code>ï¼Œè¿”å›ã€‚</p><p>å¥½åƒå’Œ <code>Omit</code> åˆšå¥½ç›¸åï¼Œ<code>Omit</code> æ˜¯ä¸è¦ <code>K</code> ï¼Œ<code>Pick</code> æ˜¯åªè¦ <code>K</code></p><p>ä¼ å‚æ–¹å¼å’Œ <code>Omit</code> æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸èµ˜è¿°äº†ï¼Œç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>    <span class="hljs-attr">gender</span>: <span class="hljs-built_in">string</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">User</span>, <span class="hljs-string">&#x27;name&#x27;</span> | <span class="hljs-string">&#x27;gender&#x27;</span>&gt;<br><span class="hljs-comment">// type T1 = &#123; name: string, gender: string &#125;</span><br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Pick</span>&lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt; = &#123; [P <span class="hljs-keyword">in</span> K]: T[P]; &#125;<br></code></pre></td></tr></table></figure><ul><li>å¯ä»¥çœ‹åˆ°ç­‰å·å·¦è¾¹åšäº†æ³›å‹çº¦æŸï¼Œé™åˆ¶äº†ç¬¬äºŒä¸ªå‚æ•° <code>K</code> å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå‚æ•° <code>T</code> é‡Œçš„å±æ€§ã€‚</li><li>å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥è”åˆç±»å‹ï¼Œä¼šè§¦å‘åˆ†å‘ï¼Œä»¥æ­¤æ¥ç¡®ä¿å‡†ç¡®æ€§ï¼Œè”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªå•ç‹¬ç±»å‹éƒ½å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªå¯¹è±¡ç±»å‹ä¸­çš„å±æ€§(ä¸é™åˆ¶çš„è¯å³è¾¹å°±è¦å‡ºé”™äº†)</li><li>å‚æ•°éƒ½æ­£ç¡®ä¹‹åï¼Œç­‰å·å³è¾¹çš„é€»è¾‘å…¶å®å°±æ˜¯å’Œ <code>Omit</code> ä¸€æ¨¡ä¸€æ ·çš„äº†ï¼Œç›´æ¥éå† <code>K</code>ï¼Œå–å‡ºè¿”å›å°±å®Œäº‹å„¿äº†</li></ul><h3 id="äº”ã€Record"><a href="#äº”ã€Record" class="headerlink" title="äº”ã€Record"></a>äº”ã€Record</h3><p><code>Record&lt;K, T&gt;</code>ï¼šä½œç”¨æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªå¯¹è±¡ã€‚<code>K</code> ä¸ºå¯¹è±¡çš„ <code>key</code> æˆ– <code>key</code> çš„ç±»å‹ï¼Œ<code>T</code> ä¸º <code>value</code> æˆ– <code>value</code> çš„ç±»å‹ã€‚</p><p>ä½ æœ‰æ²¡æœ‰è¿™æ ·ç”¨è¿‡ â†“</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">obj</span>:<span class="hljs-built_in">any</span> = &#123;&#125;<br></code></pre></td></tr></table></figure><p>åæ­£æˆ‘æœ‰ï¼Œå…¶å®ç”¨ <code>Record</code> å®šä¹‰å¯¹è±¡ï¼Œåœ¨å·¥ä½œä¸­è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œè€Œä¸”éå¸¸çµæ´»ï¼Œä¸åŒçš„å¯¹è±¡å®šä¹‰ä¸Šä¹Ÿä¼šæœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œå¦‚ä¸‹</p><p><strong>ç©ºå¯¹è±¡</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// neverï¼Œä¼šé™åˆ¶ä¸ºç©ºå¯¹è±¡</span><br><span class="hljs-comment">// any æŒ‡çš„æ˜¯ string | number | symbol è¿™å‡ ä¸ªç±»å‹éƒ½è¡Œ</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">any</span>, <span class="hljs-built_in">never</span>&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj1</span>:<span class="hljs-variable constant_">T1</span> = &#123;&#125; <span class="hljs-comment">// ok</span><br><span class="hljs-comment">// let obj1: T1 = &#123;a:1&#125; è¿™æ ·ä¸è¡Œï¼Œåªèƒ½æ˜¯ç©ºå¯¹è±¡</span><br></code></pre></td></tr></table></figure><p><strong>ä»»æ„å¯¹è±¡</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// ä»»æ„å¯¹è±¡ï¼Œunknown æˆ– &#123;&#125; è¡¨ç¤ºå¯¹è±¡å†…å®¹ä¸é™ï¼Œç©ºå¯¹è±¡ä¹Ÿè¡Œ</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">any</span>, <span class="hljs-built_in">unknown</span>&gt;<br><span class="hljs-comment">// æˆ–</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">any</span>, &#123;&#125;&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj2</span>:<span class="hljs-variable constant_">T1</span> = &#123;&#125; <span class="hljs-comment">// ok</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj3</span>:<span class="hljs-variable constant_">T1</span> = &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>&#125;  <span class="hljs-comment">// ok</span><br></code></pre></td></tr></table></figure><p><strong>è‡ªå®šä¹‰å¯¹è±¡ key</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> keys = <span class="hljs-string">&#x27;name&#x27;</span> | <span class="hljs-string">&#x27;age&#x27;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Record</span>&lt;keys, <span class="hljs-built_in">string</span>&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj1</span>:<span class="hljs-variable constant_">T1</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ²å&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;18&#x27;</span><br>    <span class="hljs-comment">// age: 18  æŠ¥é”™ï¼Œç¬¬äºŒä¸ªå‚æ•° string è¡¨ç¤º value å€¼éƒ½åªèƒ½æ˜¯ string ç±»å‹</span><br>&#125;<br><br><span class="hljs-comment">// å¦‚æœéœ€è¦ value æ˜¯ä»»æ„ç±»å‹ï¼Œä¸‹é¢ä¸¤ä¸ªéƒ½è¡Œ</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Record</span>&lt;keys, <span class="hljs-built_in">unknown</span>&gt;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-title class_">Record</span>&lt;keys, &#123;&#125;&gt;<br></code></pre></td></tr></table></figure><p><strong>è‡ªå®šä¹‰å¯¹è±¡ value</strong></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> keys = <span class="hljs-string">&#x27;a&#x27;</span> | <span class="hljs-string">&#x27;b&#x27;</span><br><span class="hljs-comment">// type æˆ– interface éƒ½ä¸€æ ·</span><br><span class="hljs-keyword">type</span> values&lt;T&gt; = &#123;<br>    <span class="hljs-attr">name</span>?: T,<br>    <span class="hljs-attr">age</span>?: T,<br>    <span class="hljs-attr">gender</span>?: <span class="hljs-built_in">string</span><br>&#125;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰ value ç±»å‹</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Record</span>&lt;keys, values&lt;<span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>&gt;&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>:<span class="hljs-variable constant_">T1</span> = &#123;<br>    <span class="hljs-attr">a</span>: &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ²å&#x27;</span> &#125;,<br>    <span class="hljs-attr">b</span>: &#123; <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> &#125;<br>&#125;<br><br><span class="hljs-comment">// å›ºå®š value å€¼</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Record</span>&lt;keys, <span class="hljs-number">111</span>&gt;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">obj1</span>:<span class="hljs-variable constant_">T2</span> = &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">111</span>,<br>    <span class="hljs-attr">b</span>: <span class="hljs-number">111</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Record</span>&lt;K <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>, T&gt; = &#123; [P <span class="hljs-keyword">in</span> K]: T; &#125;<br></code></pre></td></tr></table></figure><p>å·¦è¾¹é™åˆ¶äº†ç¬¬ä¸€ä¸ªå‚æ•° <code>K</code> åªèƒ½æ˜¯ <code>string | number | symbol</code> ç±»å‹ï¼Œå¯ä»¥æ˜¯è”åˆç±»å‹ï¼Œå› ä¸ºå³è¾¹éå† <code>K</code> äº†ï¼Œç„¶åéå†å‡ºæ¥çš„æ¯ä¸ªå±æ€§çš„å€¼ï¼Œç›´æ¥èµ‹å€¼ä¸ºä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°</p><h3 id="å…­ã€Partial"><a href="#å…­ã€Partial" class="headerlink" title="å…­ã€Partial"></a>å…­ã€Partial</h3><p><code>Partial&lt;T&gt;</code>ï¼šä½œç”¨ç”Ÿæˆä¸€ä¸ªå°† <code>T(å¯¹è±¡ç±»å‹)</code> é‡Œæ‰€æœ‰å±æ€§éƒ½å˜æˆå¯é€‰çš„ä¹‹åçš„æ–°ç±»å‹</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">User</span>&gt;<br><span class="hljs-comment">// ç®€å•è¯´ T1 å’Œ T2 æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = &#123;<br>    <span class="hljs-attr">name</span>?: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Partial</span>&lt;T&gt; = &#123; [P <span class="hljs-keyword">in</span> keyof T]?: T[P]; &#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸‹çœ‹æºç å®šä¹‰çš„æ˜¯ä¸æ˜¯ç‰¹åˆ«ç®€å•ï¼Œå°±æ˜¯å¾ªç¯ä¼ è¿›æ¥çš„å¯¹è±¡ç±»å‹ï¼Œç»™æ¯ä¸ªå±æ€§åŠ ä¸ª <code>?</code> å˜æˆå¯é€‰å±ç”Ÿ</p><h3 id="ä¸ƒã€Required"><a href="#ä¸ƒã€Required" class="headerlink" title="ä¸ƒã€Required"></a>ä¸ƒã€Required</h3><p><code>Required&lt;T&gt;</code>ï¼šä½œç”¨å’Œ <code>Partial&lt;T&gt;</code> åˆšå¥½ç›¸åï¼Œ<code>Partial</code> æ˜¯è¿”å›æ‰€æœ‰å±æ€§éƒ½æ˜¯<strong>éå¿…å¡«</strong>çš„å¯¹è±¡ç±»å‹ï¼Œè€Œ <code>Required</code> åˆ™æ˜¯è¿”å›æ‰€æœ‰å±æ€§éƒ½æ˜¯<strong>å¿…å¡«é¡¹</strong>çš„å¯¹è±¡ç±»å‹ã€‚å‚æ•° <code>T</code> ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>?: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">User</span>&gt;<br><span class="hljs-comment">// ç®€å•è¯´ T1 å’Œ T2 æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Required</span>&lt;T&gt; = &#123; [P <span class="hljs-keyword">in</span> keyof T]-?: T[P]; &#125;<br></code></pre></td></tr></table></figure><p>å’Œ <code>Partial</code> çš„æºç å®šä¹‰ç›¸æ¯”åŸºæœ¬ä¸€æ ·çš„ï¼Œåªæ˜¯è¿™é‡Œå¤šäº†ä¸ªå‡å· <code>-</code>ï¼Œæ²¡é”™ï¼Œå°±æ˜¯å‡å»çš„æ„æ€ï¼Œ<code>-?</code> å°±æ˜¯å»æ‰ <code>?</code>ï¼Œç„¶åå°±å˜æˆå¿…å¡«é¡¹äº†ï¼Œè¿™æ ·è§£é‡Šæ˜¯ä¸æ˜¯å¾ˆå¥½ç†è§£</p><h3 id="å…«ã€Readonly"><a href="#å…«ã€Readonly" class="headerlink" title="å…«ã€Readonly"></a>å…«ã€Readonly</h3><p><code>Readonly&lt;T&gt;</code> ï¼šä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªæ‰€æœ‰å±æ€§éƒ½æ˜¯åªè¯»ä¸å¯ä¿®æ”¹çš„å¯¹è±¡ç±»å‹ï¼Œä¸ <code>Partial</code> å’Œ <code>Required</code> æ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚å‚æ•° <code>T</code> ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Readonly</span>&lt;<span class="hljs-title class_">User</span>&gt;<br><span class="hljs-comment">// ç®€å•è¯´ T1 å’Œ T2 æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = &#123;<br>    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>?: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Readonly</span>&lt;T&gt; = &#123; <span class="hljs-keyword">readonly</span> [P <span class="hljs-keyword">in</span> keyof T]: T[P]; &#125;<br></code></pre></td></tr></table></figure><h3 id="ä¹ã€NonNullable"><a href="#ä¹ã€NonNullable" class="headerlink" title="ä¹ã€NonNullable"></a>ä¹ã€NonNullable</h3><p><code>NonNullable&lt;T&gt;</code>ï¼šä½œç”¨æ˜¯å»æ‰ <code>T</code> ä¸­çš„ <code>null</code> å’Œ <code>undefined</code>ã€‚<code>T</code> ä¸ºå­—é¢é‡&#x2F;å…·ä½“ç±»å‹çš„è”åˆç±»å‹ï¼Œå¦‚æœæ˜¯å¯¹è±¡ç±»å‹æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚å¦‚ä¸‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">NonNullable</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>&gt;;<br><span class="hljs-comment">// type T1 = string | number</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">NonNullable</span>&lt;<span class="hljs-built_in">string</span>[] | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>&gt;;    <br><span class="hljs-comment">// type T2 = string[]</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span><br>    <span class="hljs-attr">age</span>: <span class="hljs-literal">undefined</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T4</span> = <span class="hljs-title class_">NonNullable</span>&lt;<span class="hljs-variable constant_">T3</span>&gt; <span class="hljs-comment">// å¯¹è±¡æ˜¯ä¸è¡Œçš„</span><br></code></pre></td></tr></table></figure><p>æºç å®šä¹‰</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-comment">// 4.8ç‰ˆæœ¬ä¹‹å‰çš„ç‰ˆæœ¬</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">NonNullable</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span> ? <span class="hljs-built_in">never</span> : T;<br><span class="hljs-comment">// 4.8</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">NonNullable</span>&lt;T&gt; = T &amp; &#123;&#125;<br></code></pre></td></tr></table></figure><p><code>TS 4.8ç‰ˆæœ¬</code> ä¹‹å‰çš„å°±æ˜¯ç”¨ä¸€ä¸ªä¸‰å…ƒè¡¨è¾¾å¼æ¥è¿‡æ»¤ <code>null | undefined</code>ã€‚è€Œåœ¨ <code>4.8</code> ç‰ˆæœ¬ç›´æ¥å°±æ˜¯ <code>T &amp; {}</code>ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼Ÿå…¶å®æ˜¯å› ä¸ºè¿™ä¸ªç‰ˆæœ¬å¯¹ <code>--strictNullChecks</code> åšäº†å¢åŠ ï¼Œè¿™ä¸»è¦ä½“ç°è¿˜æ˜¯åœ¨è”åˆç±»å‹å’Œäº¤å‰ç±»å‹ä¸Šï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Ÿ</p><p>åœ¨ <code>js</code> ä¸­éƒ½çŸ¥é“ä¸‡ç‰©çš†å¯¹è±¡ï¼ŒåŸå‹é“¾çš„æœ€ç»ˆç‚¹çš„æ­£å¸¸å¯¹è±¡å°±æ˜¯ <code>Object</code> äº†(<code>null</code> ç®—ä¸æ­£å¸¸çš„)ï¼Œæ•°æ®ç±»å‹éƒ½æ˜¯åœ¨åŸå‹é“¾ä¸­ç»§æ‰¿äº <code>Object</code> æ´¾ç”Ÿå‡ºæ¥çš„ã€‚</p><p>åœ¨ <code>ts</code> ä¸­ä¹Ÿä¸€æ ·ï¼Œç”±äº <code>{}</code> æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ‰€ä»¥é™¤äº† <code>null</code> å’Œ <code>undefined</code> ä¹‹å¤–çš„åŸºç¡€ç±»å‹éƒ½å¯ä»¥è§†ä½œç»§æ‰¿äº <code>{}</code> æ´¾ç”Ÿå‡ºæ¥çš„ã€‚æˆ–è€…è¯´å¦‚æœä¸€ä¸ªå€¼ä¸æ˜¯ <code>null</code> å’Œ <code>undefined</code> å°±ç­‰äº <code>è¿™ä¸ªå€¼ &amp; {}</code> çš„ç»“æœï¼Œå¦‚ä¸‹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-string">&#x27;a&#x27;</span> &amp; &#123;&#125;;  <span class="hljs-comment">// &#x27;a&#x27;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-built_in">number</span> &amp; &#123;&#125;;  <span class="hljs-comment">// number</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-built_in">object</span> &amp; &#123;&#125;;  <span class="hljs-comment">// object</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T4</span> = &#123; <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span> &#125; &amp; &#123;&#125;;  <span class="hljs-comment">// &#123; a: string &#125;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T5</span> = <span class="hljs-literal">null</span> &amp; &#123;&#125;;  <span class="hljs-comment">// never</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T6</span> = <span class="hljs-literal">undefined</span> &amp; &#123;&#125;;  <span class="hljs-comment">// never</span><br></code></pre></td></tr></table></figure><p>å¦‚æœ <code>T &amp; {}</code> ä¸­çš„ <code>T</code> ä¸æ˜¯ <code>null/undefined</code> å°±å¯ä»¥è®¤ä¸ºå®ƒè‚¯å®šç¬¦åˆ <code>{}</code> ç±»å‹ï¼Œå°±å¯ä»¥æŠŠ <code>{}</code> ä»äº¤å‰ç±»å‹ä¸­å»æ‰äº†ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¼šè¢«åˆ¤ä¸º <code>never</code>ï¼Œè€Œ <code>never</code> æ˜¯ä¼šè¢«å¿½ç•¥çš„(ä¸Šé¢ <code>Exclude</code> æºç å®šä¹‰é‡Œæœ‰æåˆ°)ï¼Œæ‰€ä»¥åœ¨ç»“æœé‡Œè‡ªç„¶å°±æ’é™¤æ‰äº† <code>null</code> å’Œ <code>undefined</code>ã€‚</p><p>è¿˜æœ‰å¦‚æœ <code>T &amp; {}</code> ä¸­çš„ <code>T</code> æ˜¯è”åˆç±»å‹ï¼Œæ˜¯ä¼šè§¦å‘åˆ†å‘çš„</p><h3 id="åã€Awaited"><a href="#åã€Awaited" class="headerlink" title="åã€Awaited"></a>åã€Awaited</h3><p><code>Awaited&lt;T&gt;</code>ï¼šä½œç”¨æ˜¯è·å– <code>async/await</code> å‡½æ•°æˆ– <code>promise</code> çš„ <code>then()</code> æ–¹æ³•çš„è¿”å›å€¼çš„ç±»å‹ã€‚è€Œä¸”è‡ªå¸¦é€’å½’æ•ˆæœï¼Œå¦‚æœæ˜¯è¿™æ ·åµŒå¥—çš„å¼‚æ­¥æ–¹æ³•ï¼Œä¹Ÿèƒ½æ‹¿åˆ°æœ€ç»ˆçš„è¿”å›å€¼ç±»å‹</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-comment">// Promise</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Awaited</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;;<br><span class="hljs-comment">// type T1 = string</span><br><br><span class="hljs-comment">// åµŒå¥— Promiseï¼Œä¼šé€’å½’</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Awaited</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt;&gt;&gt;;<br><span class="hljs-comment">// type T2 = number</span><br><br><span class="hljs-comment">// è”åˆç±»å‹ï¼Œä¼šè§¦å‘åˆ†å‘</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-title class_">Awaited</span>&lt;<span class="hljs-built_in">boolean</span> | <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt;&gt;;<br><span class="hljs-comment">// type T3 = number | boolean</span><br></code></pre></td></tr></table></figure><p>æ¥çœ‹ä¸‹æºç å®šä¹‰ï¼Œçœ‹ä¸‹åˆ°åº•æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Œæ˜¯æ€ä¹ˆæ‹¿åˆ°ç»“æœçš„å‘¢ï¼Ÿ</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-comment">// æºç å®šä¹‰</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Awaited</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span><br>? T<br>: T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span> &amp; &#123; <span class="hljs-title function_">then</span>(<span class="hljs-attr">onfulfilled</span>: infer F): <span class="hljs-built_in">any</span> &#125;<br>? F <span class="hljs-title function_">extends</span> (<span class="hljs-attr">value</span>: infer V, ...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span><br>? <span class="hljs-title class_">Awaited</span>&lt;V&gt;<br>: <span class="hljs-built_in">never</span><br>: T<br></code></pre></td></tr></table></figure><p>æ³›å‹æ¡ä»¶æœ‰ç‚¹å¤šï¼Œå°±æ¢äº†ä¸‹è¡Œï¼Œæ–¹ä¾¿çœ‹</p><ul><li><p>å¦‚æœ <code>T</code> æ˜¯ <code>null</code> æˆ– <code>undefined</code> å°±ç›´æ¥è¿”å› <code>T</code></p></li><li><p>å¦‚æœ <code>T</code> æ˜¯å¯¹è±¡ç±»å‹ï¼Œå¹¶ä¸”é‡Œé¢æœ‰ <code>then</code>æ–¹æ³•ï¼Œå°±ç”¨ <code>infer</code>  ç±»å‹æ¨æ–­å‡º <code>then</code></p><p>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>onfulfilled</code>çš„ç±»å‹èµ‹å€¼ç»™ <code>F</code>ï¼Œ<code>onfulfilled</code>å…¶å®å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ <code>resolve</code>ã€‚æ‰€ä»¥è¿™é‡Œå¯ä»¥çœ‹å‡ºæˆ–è€…å‡†ç¡®çš„è¯´ï¼Œ<code>Awaited</code> æ‹¿çš„ä¸æ˜¯ <code>then()</code> çš„è¿”å›å€¼ç±»å‹ï¼Œè€Œæ˜¯<code>resolve()</code> çš„è¿”å›å€¼ç±»å‹</p><ul><li><p>æ—¢ç„¶ <code>F</code>æ˜¯å›è°ƒå‡½æ•° <code>resolve</code>ï¼Œå°±æ¨æ–­å‡ºè¯¥å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹èµ‹å€¼ç»™ <code>V</code>ï¼Œ<code>resolve</code>çš„å‚æ•°è‡ªç„¶å°±æ˜¯è¿”å›å€¼</p></li><li><p>ä¼ å…¥ <code>V</code> é€’å½’è°ƒç”¨</p></li><li><p><code>F</code> ä¸æ˜¯å‡½æ•°å°±è¿”å› <code>never</code></p></li></ul></li><li><p>å¦‚æœ <code>T</code> ä¸æ˜¯å¯¹è±¡ç±»å‹ æˆ–è€… æ˜¯å¯¹è±¡ä½†æ²¡æœ‰ <code>then</code> æ–¹æ³•ï¼Œè¿”å› <code>T</code> ï¼Œå°±æ˜¯æœ€åä¸€è¡Œçš„ <code>T</code></p></li></ul><h3 id="åä¸€ã€Parameters"><a href="#åä¸€ã€Parameters" class="headerlink" title="åä¸€ã€Parameters"></a>åä¸€ã€Parameters</h3><p><code>Parameters&lt;T&gt;</code>ï¼šä½œç”¨æ˜¯è·å–å‡½æ•°æ‰€æœ‰å‚æ•°çš„ç±»å‹é›†åˆï¼Œè¿”å›çš„æ˜¯å…ƒç»„ã€‚<code>T</code> è‡ªç„¶å°±æ˜¯å‡½æ•°äº†</p><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params"><span class="hljs-attr">arg</span>: &#123; a: <span class="hljs-built_in">number</span>; b: <span class="hljs-built_in">string</span> &#125;</span>): <span class="hljs-built_in">void</span>;<br><br><span class="hljs-comment">// æ²¡æœ‰å‚æ•°çš„å‡½æ•°</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">string</span>&gt;;<br><span class="hljs-comment">// type T1 = []</span><br><br><span class="hljs-comment">// ä¸€ä¸ªå‚æ•°çš„å‡½æ•°</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>&gt;;<br><span class="hljs-comment">// type T2 = [s: string]</span><br><br><span class="hljs-comment">// æ³›å‹å‚æ•°çš„å‡½æ•°</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-title class_">Parameters</span>&lt;&lt;T&gt;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">arg</span>: T</span>) =&gt;</span> T&gt;;<br><span class="hljs-comment">// type T3 = [arg: unknown]</span><br><br><span class="hljs-comment">// typeof f1 ç»“æœä¸º (arg: &#123; a: number; b: string &#125;) =&gt; void</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T4</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-keyword">typeof</span> f1&gt;;<br><span class="hljs-comment">// type T4 = [arg: &#123;</span><br><span class="hljs-comment">//     a: number;</span><br><span class="hljs-comment">//     b: string;</span><br><span class="hljs-comment">// &#125;]</span><br><br><span class="hljs-comment">// any å’Œ never</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T5</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-built_in">any</span>&gt;;<br><span class="hljs-comment">// type T5 = unknown[]</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T6</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-built_in">never</span>&gt;;<br><span class="hljs-comment">// type T6 = never</span><br><br><span class="hljs-comment">// ä¸‹é¢è¿™æ ·ä¼ å‚æ˜¯ä¼šæŠ¥é”™çš„</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T7</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-built_in">string</span>&gt;;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T8</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-title class_">Function</span>&gt;;<br> <span class="hljs-comment">// æºç å®šä¹‰</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Parameters</span>&lt;T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span>&gt; = T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: infer P) =&gt; <span class="hljs-built_in">any</span> ? P : <span class="hljs-built_in">never</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é™åˆ¶äº†å‡½æ•°ç±»å‹ï¼Œç„¶å <code>...args</code> å–å‚æ•°å’Œ <code>js</code> ä¸­çš„ç”¨æ³•æ˜¯ä¸€æ ·çš„ï¼Œ<code>infer</code> è¡¨ç¤ºå¾…æ¨æ–­çš„ç±»å‹å˜é‡ï¼Œæ‰“æ–­å‡º <code>...args</code> å–åˆ°çš„ç±»å‹èµ‹å€¼ç»™ <code>P</code></p><h3 id="åäºŒã€ReturnType"><a href="#åäºŒã€ReturnType" class="headerlink" title="åäºŒã€ReturnType"></a>åäºŒã€ReturnType</h3><p><code>ReturnType&lt;T&gt;</code>ï¼šä½œç”¨æ˜¯è·å–å‡½æ•°è¿”å›å€¼çš„ç±»å‹ã€‚<code>T</code> ä¸ºå‡½æ•°</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params"></span>): &#123; <span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span> &#125;;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">string</span>&gt;;<br><span class="hljs-comment">// type T1 = string</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">s</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>&gt;;<br><span class="hljs-comment">// type T2 = void</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-title class_">ReturnType</span>&lt;&lt;T&gt;<span class="hljs-function">() =&gt;</span> T&gt;;<br><span class="hljs-comment">// type T3 = unknown</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T4</span> = <span class="hljs-title class_">ReturnType</span>&lt;&lt;T <span class="hljs-keyword">extends</span> U, U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>[]&gt;<span class="hljs-function">() =&gt;</span> T&gt;;<br><span class="hljs-comment">// type T4 = number[]</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T5</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> f1&gt;;<br><span class="hljs-comment">// type T5 = &#123;</span><br><span class="hljs-comment">//     a: number;</span><br><span class="hljs-comment">//     b: string;</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-comment">// any å’Œ never</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T6</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-built_in">any</span>&gt;;<br><span class="hljs-comment">// type T6 = any</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T7</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-built_in">never</span>&gt;;<br><span class="hljs-comment">// type T7 = never</span><br><br><span class="hljs-comment">// ä¸‹é¢è¿™æ ·æ˜¯ä¸è¡Œçš„</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T8</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-built_in">string</span>&gt;;<br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T9</span> = <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-title class_">Function</span>&gt;;<br> <span class="hljs-comment">// æºç å®šä¹‰</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">ReturnType</span>&lt;T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span>&gt; = T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; infer R ? R : <span class="hljs-built_in">any</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æºç å®šä¹‰ä¸Šå’Œ <code>Parameters</code> æ˜¯åŸºæœ¬ä¸€æ ·çš„ï¼Œåªæ˜¯æŠŠç±»å‹æ¨æ–­çš„å‚æ•°æ¢æˆè¿”å›å€¼äº†</p><h3 id="åä¸‰ã€ConstructorParameters-InstanceType"><a href="#åä¸‰ã€ConstructorParameters-InstanceType" class="headerlink" title="åä¸‰ã€ConstructorParameters&#x2F;InstanceType"></a>åä¸‰ã€ConstructorParameters&#x2F;InstanceType</h3><p>æˆ‘ä»¬çŸ¥é“ <code>Parameters</code> å’Œ <code>ReturnType</code> è¿™ä¸€å¯¹æ˜¯è·å–æ™®é€š&#x2F;ç®­å¤´å‡½æ•°çš„<strong>å‚æ•°ç±»å‹é›†åˆ</strong>ä»¥åŠ<strong>è¿”å›å€¼ç±»å‹</strong>çš„äº†ï¼Œè¿˜æœ‰ä¸€å¯¹ç»„åˆ<code>ConstructorParameters</code> å’Œ <code>InstanceType</code> æ˜¯è·å–<strong>æ„é€ å‡½æ•°</strong>çš„å‚æ•°ç±»å‹é›†åˆä»¥åŠ<strong>è¿”å›å€¼ç±»å‹</strong>çš„ã€‚</p><h3 id="åå››ã€Uppercase-Lowercase"><a href="#åå››ã€Uppercase-Lowercase" class="headerlink" title="åå››ã€Uppercase&#x2F;Lowercase"></a>åå››ã€Uppercase&#x2F;Lowercase</h3><p>Uppercaseçš„ä½œç”¨æ˜¯è½¬æ¢å…¨éƒ¨å­—æ¯å¤§å†™ï¼ŒLowercaseçš„ä½œç”¨æ˜¯è½¬æ¢å…¨éƒ¨å­—æ¯å°å†™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Uppercase</span>&lt;<span class="hljs-string">&quot;abcd&quot;</span>&gt;<br><span class="hljs-comment">// type T1 = &quot;ABCD&quot;</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Lowercase</span>&lt;<span class="hljs-string">&quot;ABCD&quot;</span>&gt;<br><span class="hljs-comment">// type T2 = &quot;abcd&quot;</span><br></code></pre></td></tr></table></figure><h3 id="åäº”ã€Capitalize-Uncapitalize"><a href="#åäº”ã€Capitalize-Uncapitalize" class="headerlink" title="åäº”ã€Capitalize&#x2F;Uncapitalize"></a>åäº”ã€Capitalize&#x2F;Uncapitalize</h3><p>Capitalizeçš„ä½œç”¨æ˜¯è½¬æ¢é¦–å­—æ¯å¤§å°å†™ï¼ŒUncapitalizeçš„ä½œç”¨æ˜¯è½¬æ¢éé¦–å­—æ¯å¤§å°å†™ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"> <span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Capitalize</span>&lt;<span class="hljs-string">&quot;abcd efg&quot;</span>&gt;<br><span class="hljs-comment">// type T1 = &quot;Abcd efg&quot;</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Uncapitalize</span>&lt;<span class="hljs-string">&quot;ABCD EFG&quot;</span>&gt;<br><span class="hljs-comment">// type T2 = &quot;aBCD EFG&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ts</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TSæ³›å‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSæ–°ç‰¹æ€§ï¼ˆES10ã€ES11ã€ES12ï¼‰</title>
    <link href="/blog/2023/12/15/js-es-new/"/>
    <url>/blog/2023/12/15/js-es-new/</url>
    
    <content type="html"><![CDATA[<h1 id="ES10"><a href="#ES10" class="headerlink" title="ES10"></a>ES10</h1><p>ES2019ï¼ˆES10ï¼‰æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ğŸ‘‡ï¼š</p><ul><li><code>Array.prototype.{flat, flatMap}</code>æ‰å¹³åŒ–åµŒå¥—æ•°ç»„</li><li><code>Object.fromEntries</code></li><li><code>String.prototype.{trimStart, trimEnd}</code></li><li><code>Symbol.prototype.description</code></li><li><code>Optional catch binding</code></li><li>Array.prototype.sort() is now required to be stable</li></ul><h2 id="ä¸€ã€Array-prototype-flat-flatMap-æ‰å¹³åŒ–åµŒå¥—æ•°ç»„"><a href="#ä¸€ã€Array-prototype-flat-flatMap-æ‰å¹³åŒ–åµŒå¥—æ•°ç»„" class="headerlink" title="ä¸€ã€Array.prototype.{flat, flatMap} æ‰å¹³åŒ–åµŒå¥—æ•°ç»„"></a>ä¸€ã€<code>Array.prototype.{flat, flatMap}</code> æ‰å¹³åŒ–åµŒå¥—æ•°ç»„</h2><h3 id="1-1-Array-prototype-flat"><a href="#1-1-Array-prototype-flat" class="headerlink" title="1.1 Array.prototype.flat"></a>1.1 Array.prototype.flat</h3><p><code>flat()</code>æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦éå†é€’å½’<strong>æ•°ç»„</strong>ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p><p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜æ—§æ•°ç»„ã€‚</p><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">arr.<span class="hljs-title function_">flat</span>([depth]);<br></code></pre></td></tr></table></figure><ul><li><code>depth</code> æ˜¯æ•°ç»„éå†çš„æ·±åº¦ï¼Œé»˜è®¤æ˜¯1ã€‚</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [[[[<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]]]];<br>arr.<span class="hljs-title function_">flat</span>();          <span class="hljs-comment">// [1, 2, [[[3, 4]]]]</span><br>arr.<span class="hljs-title function_">flat</span>(<span class="hljs-number">3</span>);         <span class="hljs-comment">// [1, 2, [3, 4]]</span><br>arr.<span class="hljs-title function_">flat</span>(-<span class="hljs-number">1</span>);        <span class="hljs-comment">// [1, 2, [[[[3, 4]]]]]</span><br>arr.<span class="hljs-title function_">flat</span>(<span class="hljs-title class_">Infinity</span>);  <span class="hljs-comment">// [1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><ul><li><code>flat()</code>ä¼šç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, , , <span class="hljs-number">3</span>];<br>arr.<span class="hljs-title function_">flat</span>();           <span class="hljs-comment">// [1, 2, 3]</span><br></code></pre></td></tr></table></figure><h4 id="æ‰‹æ’•-flat"><a href="#æ‰‹æ’•-flat" class="headerlink" title="æ‰‹æ’• flat"></a>æ‰‹æ’• flat</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">customFlat</span>(<span class="hljs-params">arr, depth = <span class="hljs-number">1</span></span>) &#123;<br>  <span class="hljs-keyword">if</span>(!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr) || depth &lt;= <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> arr;<br>  &#125;<br>  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre, cur</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr)) &#123;<br>         <span class="hljs-keyword">return</span> pre.<span class="hljs-title function_">concat</span>(<span class="hljs-title function_">customFlat</span>(cur, depth - <span class="hljs-number">1</span>));<br>      &#125;<br>      <span class="hljs-keyword">return</span> pre.<span class="hljs-title function_">concat</span>(cur);<br>  &#125;, []);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h4><ul><li><code>reduce</code>ä¸<code>concat</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]];<br>arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">arr, val</span>) =&gt;</span> arr.<span class="hljs-title function_">concat</span>(val), []);<br></code></pre></td></tr></table></figure><ul><li><code>...</code> æ‰©å±•è¿ç®—ç¬¦ä¸<code>concat</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]];<br>[].<span class="hljs-title function_">concat</span>(...arr);<br></code></pre></td></tr></table></figure><p><a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">æ›´å¤šæ›¿æ¢æ–¹å¼è¯·æŸ¥çœ‹MDN</a></p><h3 id="1-2-Array-prototype-flatMap"><a href="#1-2-Array-prototype-flatMap" class="headerlink" title="1.2 Array.prototype.flatMap"></a>1.2 Array.prototype.flatMap</h3><p><code>flatMap()</code>æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ•°ç»„ï¼ˆ<strong>æ·±åº¦å€¼ä¸º1</strong>ï¼‰çš„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚</p><p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœã€‚</p><h4 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">arr.<span class="hljs-title function_">flatMap</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">callback</span>(<span class="hljs-params">currentVal[, index[, array]]</span>) &#123;<br><br>&#125;[, thisArg])<br></code></pre></td></tr></table></figure><ul><li>callback: å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„æ‰€è°ƒç”¨çš„å‡½æ•°<ul><li>currentVal: å½“å‰æ•°ç»„åœ¨å¤„ç†çš„å…ƒç´ </li><li>index: å¯é€‰ï¼Œæ­£åœ¨å¤„ç†çš„å…ƒç´ ç´¢å¼•</li><li>array: å¯é€‰ï¼Œè¢«è°ƒç”¨çš„æ•°ç»„</li></ul></li><li>thisArg: æ‰§è¡Œcallbackå‡½æ•°æ—¶ä½¿ç”¨çš„thiså€¼</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;My name&#x27;</span>, <span class="hljs-string">&#x27;is&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;Lisa&#x27;</span>];<br><span class="hljs-keyword">let</span> newArr1 = arr.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">cur</span> =&gt;</span> cur.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>));<br><span class="hljs-keyword">let</span> newArr2 = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">cur</span> =&gt;</span> cur.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArr1); <span class="hljs-comment">// [&quot;My&quot;, &quot;name&quot;, &quot;is&quot;, &quot;&quot;, &quot;Lisa&quot;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArr2); <span class="hljs-comment">// [[&quot;My&quot;, &quot;name&quot;], [&quot;is&quot;], [&quot;&quot;], [&quot;Lisa&quot;]]</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€Object-fromEntries"><a href="#äºŒã€Object-fromEntries" class="headerlink" title="äºŒã€Object.fromEntries"></a>äºŒã€<code>Object.fromEntries</code></h2><p><code>fromEntries()</code> æ–¹æ³•ä¼šæŠŠé”®å€¼å¯¹åˆ—è¡¨è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡</p><p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ªæ–°çš„å¯¹è±¡</p><h3 id="è¯­æ³•-2"><a href="#è¯­æ³•-2" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">js<br> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(iterable)<br></code></pre></td></tr></table></figure><ul><li>iterable: Arrayã€Mapç­‰å¯è¿­ä»£å¯¹è±¡</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]]);<br><span class="hljs-keyword">let</span> mapToObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(map);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mapToObj);  <span class="hljs-comment">// &#123;a: 1, b: 2&#125;</span><br><br><span class="hljs-keyword">let</span> arr = [[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]];<br><span class="hljs-keyword">let</span> arrToObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(arr);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrToObj);   <span class="hljs-comment">// &#123;a: 1, b: 2&#125;</span><br><br><span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>&#125;;<br><span class="hljs-keyword">let</span> newObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<br>  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj).<span class="hljs-title function_">map</span>(<br>    <span class="hljs-function">(<span class="hljs-params">[key, val]</span>) =&gt;</span> [key, val * <span class="hljs-number">2</span>]<br>  )<br>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newObj);   <span class="hljs-comment">// &#123;a: 2, b: 4&#125;</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€String-prototype-trimStart-trimEnd"><a href="#ä¸‰ã€String-prototype-trimStart-trimEnd" class="headerlink" title="ä¸‰ã€String.prototype.{trimStart, trimEnd}"></a>ä¸‰ã€<code>String.prototype.{trimStart, trimEnd}</code></h2><h3 id="3-1-String-prototype-trimStart"><a href="#3-1-String-prototype-trimStart" class="headerlink" title="3.1 String.prototype.trimStart"></a>3.1 <code>String.prototype.trimStart</code></h3><p><code>trimStart()</code> æ–¹æ³•ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²çš„å¼€å¤´çš„ç©ºç™½å­—ç¬¦ã€‚</p><p><code>trimLeft()</code> æ˜¯å®ƒçš„åˆ«åã€‚</p><p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼å·²ç»è¢«å»é™¤æ‰äº†ã€‚</p><h4 id="è¯­æ³•-3"><a href="#è¯­æ³•-3" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">str.<span class="hljs-title function_">trimStart</span>();<br>str.<span class="hljs-title function_">trimLeft</span>();<br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;    a b cd  &#x27;</span>;<br>str.<span class="hljs-title function_">trimStart</span>();   <span class="hljs-comment">// &#x27;a b cd  &#x27;</span><br>str.<span class="hljs-title function_">trimLeft</span>();    <span class="hljs-comment">// &#x27;a b cd  &#x27;</span><br></code></pre></td></tr></table></figure><h3 id="3-2-String-prototype-trimEnd"><a href="#3-2-String-prototype-trimEnd" class="headerlink" title="3.2 String.prototype.trimEnd"></a>3.2 <code>String.prototype.trimEnd</code></h3><p><code>trimEnd()</code> æ–¹æ³•ç”¨æ¥åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºç™½å­—ç¬¦ã€‚</p><p><code>trimRight()</code> æ˜¯å®ƒçš„åˆ«å</p><p><strong>è¿”å›å€¼</strong>ï¼šä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼å·²ç»è¢«å»é™¤äº†</p><h4 id="è¯­æ³•-4"><a href="#è¯­æ³•-4" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">str.<span class="hljs-title function_">trimEnd</span>()<br>str.<span class="hljs-title function_">trimRight</span>()<br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;    a b cd  &#x27;</span>;<br>str.<span class="hljs-title function_">trimEnd</span>();                           <span class="hljs-comment">// &#x27;    a b cd&#x27;</span><br>str.<span class="hljs-title function_">trimRight</span>();                         <span class="hljs-comment">// &#x27;    a b cd&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="å››ã€Symbol-prototype-description"><a href="#å››ã€Symbol-prototype-description" class="headerlink" title="å››ã€Symbol.prototype.description"></a>å››ã€<code>Symbol.prototype.description</code></h2><p><code>description</code> æ˜¯ä¸€ä¸ªåªè¯»å±æ€§</p><p><strong>è¿”å›å€¼</strong>ï¼šå®ƒè¿”å›Symbolå¯¹è±¡çš„å¯é€‰æè¿°çš„å­—ç¬¦ä¸²</p><h3 id="è¯­æ³•-5"><a href="#è¯­æ³•-5" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;myDescription&#x27;</span>).<span class="hljs-property">description</span>;<br><span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>.<span class="hljs-property">description</span>;<br><span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;foo&#x27;</span>).<span class="hljs-property">description</span>;<br></code></pre></td></tr></table></figure><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;foo&#x27;</span>).<span class="hljs-property">description</span>;      <span class="hljs-comment">// &#x27;foo&#x27;</span><br><span class="hljs-title class_">Symbol</span>().<span class="hljs-property">description</span>;           <span class="hljs-comment">// undefined</span><br><span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">&#x27;foo&#x27;</span>).<span class="hljs-property">description</span>;  <span class="hljs-comment">// &#x27;foo&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="äº”ã€Optional-catch-binding"><a href="#äº”ã€Optional-catch-binding" class="headerlink" title="äº”ã€Optional catch binding"></a>äº”ã€<code>Optional catch binding</code></h2><p>å¯é€‰çš„æ•è·ç»‘å®šï¼Œå…è®¸çœç•¥catchç»‘å®šå’Œå®ƒåé¢çš„åœ†æ‹¬å·</p><p>ä»¥å‰çš„ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">try</span> &#123;<br><br>&#125; <span class="hljs-keyword">catch</span>(err) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;err&#x27;</span>, err);<br>&#125;<br></code></pre></td></tr></table></figure><p>ES10 çš„ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">try</span> &#123;<br><br>&#125; <span class="hljs-keyword">catch</span> &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å…­ã€JSON-stringify-çš„å¢å¼ºåŠ›"><a href="#å…­ã€JSON-stringify-çš„å¢å¼ºåŠ›" class="headerlink" title="å…­ã€JSON.stringify() çš„å¢å¼ºåŠ›"></a>å…­ã€<code>JSON.stringify()</code> çš„å¢å¼ºåŠ›</h2><p><code>JSON.stringify()</code> åœ¨ ES10 ä¿®å¤äº†å¯¹äºä¸€äº›è¶…å‡ºèŒƒå›´çš„ Unicode å±•ç¤ºé”™è¯¯çš„é—®é¢˜ï¼Œæ‰€ä»¥é‡åˆ° 0xD800-0xDFF ä¹‹å†…çš„å­—ç¬¦ä¼šå› ä¸ºæ— æ³•ç¼–ç æˆ UTF-8 è¿›è€Œå¯¼è‡´æ˜¾ç¤ºé”™è¯¯ã€‚åœ¨ ES10 å®ƒä¼šç”¨è½¬ä¹‰å­—ç¬¦çš„æ–¹å¼æ¥å¤„ç†è¿™éƒ¨åˆ†å­—ç¬¦è€Œéç¼–ç çš„æ–¹å¼ï¼Œè¿™æ ·å°±ä¼šæ­£å¸¸æ˜¾ç¤ºäº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-string">&#x27;ğŸ˜Š&#x27;</span>); <span class="hljs-comment">// &#x27;&quot;ğŸ˜Š&quot;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€ä¿®è®¢-Function-prototype-toString"><a href="#ä¸ƒã€ä¿®è®¢-Function-prototype-toString" class="headerlink" title="ä¸ƒã€ä¿®è®¢ Function.prototype.toString()"></a>ä¸ƒã€ä¿®è®¢ <code>Function.prototype.toString()</code></h2><p>ä»¥å‰çš„ toString æ–¹æ³•æ¥è‡ª <code>Object.prototype.toString()</code>ï¼Œç°åœ¨ çš„ <code>Function.prototype.toString()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºå½“å‰å‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸²ã€‚ä»¥å‰åªä¼šè¿”å›è¿™ä¸ªå‡½æ•°ï¼Œä¸ä¼šåŒ…å«ç©ºæ ¼ã€æ³¨é‡Šç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// es10æ–°ç‰¹æ€§</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;imooc&#x27;</span>)<br>  &#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(foo.<span class="hljs-title function_">toString</span>());<br><span class="hljs-comment">// function foo() &#123;</span><br><span class="hljs-comment">//     // es10æ–°ç‰¹æ€§</span><br><span class="hljs-comment">//     console.log(&#x27;imooc&#x27;)</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><h1 id="ES11"><a href="#ES11" class="headerlink" title="ES11"></a>ES11</h1><p>ES2020(ES11)æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ğŸ‘‡ï¼š</p><ul><li>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish coalescing Operatorï¼‰</li><li>å¯é€‰é“¾ Optional chaining</li><li>globalThis</li><li>BigInt</li><li><code>String.prototype.matchAll()</code></li><li><code>Promise.allSettled()</code></li><li>Dynamic importï¼ˆæŒ‰éœ€ importï¼‰</li></ul><h2 id="ä¸€ã€ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish-coalescing-Operatorï¼‰"><a href="#ä¸€ã€ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish-coalescing-Operatorï¼‰" class="headerlink" title="ä¸€ã€ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish coalescing Operatorï¼‰"></a>ä¸€ã€ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆNullish coalescing Operatorï¼‰</h2><h3 id="1-1-ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ-ï¼‰"><a href="#1-1-ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="1.1 ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰"></a>1.1 ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ<code>??</code>ï¼‰</h3><p><strong>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</strong>ï¼ˆ<code>??</code>ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦è¾¹çš„æ“ä½œæ•°ä¸º <code>null</code> æˆ– <code>undefined</code> çš„æ—¶å€™ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œç¬¦ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œç¬¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">undefined</span> ?? <span class="hljs-string">&#x27;foo&#x27;</span>  <span class="hljs-comment">// &#x27;foo&#x27;</span><br><span class="hljs-literal">null</span> ?? <span class="hljs-string">&#x27;foo&#x27;</span>  <span class="hljs-comment">// &#x27;foo&#x27;</span><br><span class="hljs-string">&#x27;foo&#x27;</span> ?? <span class="hljs-string">&#x27;bar&#x27;</span> <span class="hljs-comment">// &#x27;foo&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="1-2-é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ-ï¼‰"><a href="#1-2-é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="1.2 é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ||ï¼‰"></a>1.2 é€»è¾‘æˆ–æ“ä½œç¬¦ï¼ˆ<code>||</code>ï¼‰</h3><p><strong>é€»è¾‘æˆ–æ“ä½œç¬¦</strong>ï¼ˆ<code>||</code>ï¼‰ï¼Œä¼šåœ¨å·¦ä¾§æ“ä½œæ•°ä¸ºå‡å€¼æ—¶è¿”å›å³ä¾§æ“ä½œæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½¿ç”¨ <code>||</code> æ¥ä¸ºæŸäº›å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¯èƒ½ä¼šå‡ºç°æ„æ–™ä¹‹å¤–çš„æƒ…å†µã€‚æ¯”å¦‚ 0ã€â€™â€™ã€NaNã€falseï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">0</span> || <span class="hljs-number">1</span>  <span class="hljs-comment">// 1</span><br><span class="hljs-number">0</span> ?? <span class="hljs-number">1</span>  <span class="hljs-comment">// 0</span><br><br><span class="hljs-string">&#x27;&#x27;</span> || <span class="hljs-string">&#x27;bar&#x27;</span>  <span class="hljs-comment">// &#x27;bar&#x27;</span><br><span class="hljs-string">&#x27;&#x27;</span> ?? <span class="hljs-string">&#x27;bar&#x27;</span>  <span class="hljs-comment">// &#x27;&#x27;</span><br><br><span class="hljs-title class_">NaN</span> || <span class="hljs-number">1</span>  <span class="hljs-comment">// 1</span><br><span class="hljs-title class_">NaN</span> ?? <span class="hljs-number">1</span>  <span class="hljs-comment">// NaN</span><br><br><span class="hljs-literal">false</span> || <span class="hljs-string">&#x27;bar&#x27;</span>  <span class="hljs-comment">// &#x27;bar&#x27;</span><br><span class="hljs-literal">false</span> ?? <span class="hljs-string">&#x27;bar&#x27;</span>  <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><h3 id="1-3-æ³¨æ„"><a href="#1-3-æ³¨æ„" class="headerlink" title="1.3 æ³¨æ„"></a>1.3 æ³¨æ„</h3><p>ä¸å¯ä»¥å°† <code>??</code> ä¸ ANDï¼ˆ<code>&amp;&amp;</code>ï¼‰ORï¼ˆ<code>||</code>ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-literal">null</span> || <span class="hljs-literal">undefined</span> ?? <span class="hljs-string">&quot;foo&quot;</span>; <span class="hljs-comment">// æŠ›å‡º SyntaxError</span><br><span class="hljs-literal">true</span> || <span class="hljs-literal">undefined</span> ?? <span class="hljs-string">&quot;foo&quot;</span>; <span class="hljs-comment">// æŠ›å‡º SyntaxError</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€å¯é€‰é“¾-Optional-chaining"><a href="#äºŒã€å¯é€‰é“¾-Optional-chaining" class="headerlink" title="äºŒã€å¯é€‰é“¾ Optional chaining"></a>äºŒã€å¯é€‰é“¾ Optional chaining</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p><strong>å¯é€‰é“¾æ“ä½œç¬¦</strong>ï¼ˆ<code>?.</code>ï¼‰å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨éƒ½æ˜¯å¦æœ‰æ•ˆã€‚<code>?.</code> æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº<code>.</code>é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸º <code>null</code> æˆ– <code>undefined</code> æ—¶ä¸ä¼šæŠ¥é”™ï¼Œè¯¥é“¾è·¯è¡¨è¾¾å¼è¿”å›å€¼ä¸º <code>undefined</code>ã€‚</p><p>ä»¥å‰çš„å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> street = user &amp;&amp; user.<span class="hljs-property">address</span> &amp;&amp; user.<span class="hljs-property">address</span>.<span class="hljs-property">street</span>;<br><span class="hljs-keyword">const</span> num = user &amp;&amp; user.<span class="hljs-property">address</span> &amp;&amp; user.<span class="hljs-property">address</span>.<span class="hljs-property">getNum</span> &amp;&amp; user.<span class="hljs-property">address</span>.<span class="hljs-title function_">getNum</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(street, num);<br></code></pre></td></tr></table></figure><p>ES11 çš„å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> street2 = user?.<span class="hljs-property">address</span>?.<span class="hljs-property">street</span>;<br><span class="hljs-keyword">const</span> num2 = user?.<span class="hljs-property">address</span>?.<span class="hljs-property">getNum</span>?.();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(street2, num2);<br></code></pre></td></tr></table></figure><h3 id="æ³¨æ„-1"><a href="#æ³¨æ„-1" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> object = &#123;&#125;;<br>object?.<span class="hljs-property">property</span> = <span class="hljs-number">1</span>; <span class="hljs-comment">// Uncaught SyntaxError: Invalid left-hand side in assignment</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€globalThis"><a href="#ä¸‰ã€globalThis" class="headerlink" title="ä¸‰ã€globalThis"></a>ä¸‰ã€globalThis</h2><p>ä»¥å‰ï¼Œåœ¨ Web ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>window</code>ã€<code>self</code> å–åˆ°å…¨å±€å¯¹è±¡ï¼Œåœ¨ node.js ä¸­ï¼Œå¿…é¡»ä½¿ç”¨ <code>global</code>ã€‚</p><p>åœ¨æ¾æ•£æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­è¿”å› <code>this</code> æ¥è·å–å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼å’Œæ¨¡å—ç¯å¢ƒä¸‹ï¼Œ<code>this</code> ä¼šè¿”å› <code>undefined</code>ã€‚</p><p>ä»¥å‰è¦è·å–å…¨å±€å¯¹è±¡ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getGlobal</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> self !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>      <span class="hljs-keyword">return</span> self<br>  &#125;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span><br>  &#125;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">global</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">global</span><br>  &#125;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;æ— æ³•æ‰¾åˆ°å…¨å±€å¯¹è±¡&#x27;</span>)<br>&#125;<br><br><span class="hljs-keyword">const</span> globals = <span class="hljs-title function_">getGlobal</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(globals)<br></code></pre></td></tr></table></figure><p>ç°åœ¨ <code>globalThis</code> æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼æ¥è·å–ä¸åŒç¯å¢ƒä¸‹çš„å…¨å±€å¯¹è±¡è‡ªèº«å€¼ã€‚</p><h2 id="å››ã€BigInt"><a href="#å››ã€BigInt" class="headerlink" title="å››ã€BigInt"></a>å››ã€BigInt</h2><p>BigInt æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œç”¨æ¥åˆ›å»ºæ¯” 2^53 - 1ï¼ˆNumber å¯åˆ›å»ºçš„æœ€å¤§æ•°å­—ï¼‰ æ›´å¤§çš„æ•´æ•°ã€‚å¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„å¤§çš„<strong>æ•´æ•°</strong></p><h3 id="å¦‚ä½•å®šä¹‰ä¸€ä¸ª-BigInt"><a href="#å¦‚ä½•å®šä¹‰ä¸€ä¸ª-BigInt" class="headerlink" title="å¦‚ä½•å®šä¹‰ä¸€ä¸ª BigInt"></a>å¦‚ä½•å®šä¹‰ä¸€ä¸ª BigInt</h3><ul><li>åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ  nï¼Œä¾‹å¦‚ <code>10n</code></li><li>è°ƒç”¨å‡½æ•° <code>BigInt()</code> å¹¶ä¼ é€’ä¸€ä¸ªæ•´æ•°å€¼æˆ–å­—ç¬¦ä¸²å€¼ï¼Œä¾‹å¦‚ <code>BigInt(10)</code></li></ul><h3 id="BigInt-çš„ç‰¹ç‚¹"><a href="#BigInt-çš„ç‰¹ç‚¹" class="headerlink" title="BigInt çš„ç‰¹ç‚¹"></a>BigInt çš„ç‰¹ç‚¹</h3><ul><li><p>BigInt ä¸èƒ½ç”¨äº Math å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼›</p></li><li><p>BigInt ä¸èƒ½ä¸ä»»ä½• Number å®ä¾‹æ··åˆè¿ç®—ï¼Œä¸¤è€…å¿…é¡»è½¬æ¢æˆåŒä¸€ç§ç±»å‹ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼ŒBigInt åœ¨è½¬æ¢æˆ Number æ—¶å¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦ã€‚</p></li><li><p>å½“ä½¿ç”¨ BigInt æ—¶ï¼Œå¸¦å°æ•°çš„è¿ç®—ä¼šè¢«å‘ä¸‹å–æ•´</p></li><li><p>BigInt å’Œ Number ä¸æ˜¯ä¸¥æ ¼ç›¸ç­‰ï¼Œä½†æ˜¯å®½æ¾ç›¸ç­‰</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">0n</span> === <span class="hljs-number">0</span> <span class="hljs-comment">// false</span><br><span class="hljs-number">0n</span> == <span class="hljs-number">0</span>  <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><ul><li>BigInt å’Œ Number å¯ä»¥æ¯”è¾ƒ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">2n</span> &gt; <span class="hljs-number">2</span>   <span class="hljs-comment">// false</span><br><span class="hljs-number">2n</span> &gt; <span class="hljs-number">1</span>   <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><ul><li>BigInt å’Œ Number å¯ä»¥æ··åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ’åº</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> mixed = [<span class="hljs-number">4n</span>, <span class="hljs-number">6</span>, -<span class="hljs-number">12n</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0n</span>];<br>mixed.<span class="hljs-title function_">sort</span>();  <span class="hljs-comment">// [-12n, 0, 0n, 10, 4n, 4, 6] </span><br></code></pre></td></tr></table></figure><ul><li>è¢« Object åŒ…è£…çš„ BigInt ä½¿ç”¨ object çš„æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ¯”è¾ƒï¼Œåªç”¨åŒä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒæ—¶æ‰ç›¸ç­‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">0n</span> === <span class="hljs-title class_">Object</span>(<span class="hljs-number">0n</span>); <span class="hljs-comment">// false</span><br><span class="hljs-title class_">Object</span>(<span class="hljs-number">0n</span>) === <span class="hljs-title class_">Object</span>(<span class="hljs-number">0n</span>); <span class="hljs-comment">// false</span><br><span class="hljs-keyword">const</span> o = <span class="hljs-title class_">Object</span>(<span class="hljs-number">0n</span>);<br>o === o <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h3 id="BigInt-çš„æ–¹æ³•"><a href="#BigInt-çš„æ–¹æ³•" class="headerlink" title="BigInt çš„æ–¹æ³•"></a>BigInt çš„æ–¹æ³•</h3><h4 id="BigInt-asIntN"><a href="#BigInt-asIntN" class="headerlink" title="BigInt.asIntN()"></a>BigInt.asIntN()</h4><p>å°† BigInt å€¼è½¬æ¢ä¸ºä¸€ä¸ª -2^(width-1) ä¸ 2^(width-1) - 1 ä¹‹é—´çš„æœ‰ç¬¦å·æ•´æ•°ã€‚</p><h4 id="BigInt-asUintN"><a href="#BigInt-asUintN" class="headerlink" title="BigInt.asUintN()"></a>BigInt.asUintN()</h4><p>å°†ä¸€ä¸ª BigInt å€¼è½¬æ¢ä¸º 0 ä¸ 2^(width) - 1 ä¹‹é—´çš„æ— ç¬¦å·æ•´æ•°ã€‚</p><h4 id="BigInt-prototype-toLocaleString"><a href="#BigInt-prototype-toLocaleString" class="headerlink" title="BigInt.prototype.toLocaleString()"></a>BigInt.prototype.toLocaleString()</h4><p>è¿”å›æ­¤æ•°å­—çš„ language-sensitive å½¢å¼çš„å­—ç¬¦ä¸²ã€‚è¦†ç›– <code>Object.prototype.toLocaleString()</code> æ–¹æ³•ã€‚</p><h4 id="BigInt-prototype-toString"><a href="#BigInt-prototype-toString" class="headerlink" title="BigInt.prototype.toString()"></a>BigInt.prototype.toString()</h4><p>è¿”å›ä»¥æŒ‡å®šåŸºæ•° (base) è¡¨ç¤ºæŒ‡å®šæ•°å­—çš„å­—ç¬¦ä¸²ã€‚è¦†ç›– <code>Object.prototype.toString()</code> æ–¹æ³•ã€‚</p><h4 id="BigInt-prototype-valueOf"><a href="#BigInt-prototype-valueOf" class="headerlink" title="BigInt.prototype.valueOf()"></a>BigInt.prototype.valueOf()</h4><p>è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸºå…ƒå€¼ã€‚è¦†ç›– <code>Object.prototype.valueOf()</code> æ–¹æ³•ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä¼šæœ‰-Bigint-çš„ææ¡ˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰-Bigint-çš„ææ¡ˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰ Bigint çš„ææ¡ˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šæœ‰ Bigint çš„ææ¡ˆï¼Ÿ</h3><p>JavaScript ä¸­ <code>Number.MAX_SAFE_INTEGER</code>è¡¨ç¤ºæœ€å¤§å®‰å…¨æ•°å­—ï¼Œè®¡ç®—ç»“æœæ˜¯ 9007199254740991ï¼Œå³åœ¨è¿™ä¸ªæ•°å­—èŒƒå›´å†…ä¸ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±ï¼ˆå°æ•°é™¤å¤–ï¼‰ã€‚ä½†æ˜¯ä¸€æ—¦è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œjs å°±ä¼šå‡ºç°è®¡ç®—ä¸å‡†ç¡®çš„æƒ…å†µï¼Œè¿™åœ¨å¤§æ•°è®¡ç®—çš„æ—¶å€™å°±ä¸å¾—ä¸ä¾é ä¸€äº›ç¬¬ä¸‰æ–¹åº“è¿›è¡Œè§£å†³ï¼Œå› æ­¤å®˜æ–¹æå‡ºäº† BigInt æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p><h2 id="äº”ã€String-prototype-matchAll"><a href="#äº”ã€String-prototype-matchAll" class="headerlink" title="äº”ã€String.prototype.matchAll()"></a>äº”ã€<code>String.prototype.matchAll()</code></h2><p>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœåŠåˆ†ç»„æ•è·ç»„çš„è¿­ä»£å™¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> regexp = <span class="hljs-regexp">/t(e)(st(\d?))/g</span>;<br><span class="hljs-keyword">const</span> str = <span class="hljs-string">&#x27;test1test2&#x27;</span>;<br><br><span class="hljs-keyword">const</span> array = [...str.<span class="hljs-title function_">matchAll</span>(regexp)];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array[<span class="hljs-number">0</span>]);  <span class="hljs-comment">// [&quot;test1&quot;, &quot;e&quot;, &quot;st1&quot;, &quot;1&quot;]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array[<span class="hljs-number">1</span>]); <span class="hljs-comment">// [&quot;test2&quot;, &quot;e&quot;, &quot;st2&quot;, &quot;2&quot;]</span><br></code></pre></td></tr></table></figure><h2 id="å…­ã€Promise-allSettled"><a href="#å…­ã€Promise-allSettled" class="headerlink" title="å…­ã€Promise.allSettled()"></a>å…­ã€<code>Promise.allSettled()</code></h2><p>ç±»æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªåœ¨æ‰€æœ‰ç»™å®šçš„ promise éƒ½å·²ç» fulfilled æˆ– rejected åçš„ promiseï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡è¡¨ç¤ºå¯¹åº”çš„ promise ç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([<br>    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">33</span>),<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">66</span>), <span class="hljs-number">0</span>)),<br>    <span class="hljs-number">99</span>,<br>    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;an error&quot;</span>)),<br>  ]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">values</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(values)); <br><br><span class="hljs-comment">// [</span><br><span class="hljs-comment">//   &#123; status: &#x27;fulfilled&#x27;, value: 33 &#125;,</span><br><span class="hljs-comment">//   &#123; status: &#x27;fulfilled&#x27;, value: 66 &#125;,</span><br><span class="hljs-comment">//   &#123; status: &#x27;fulfilled&#x27;, value: 99 &#125;,</span><br><span class="hljs-comment">//   &#123; status: &#x27;rejected&#x27;, reason: Error: an error &#125;</span><br><span class="hljs-comment">// ]</span><br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€Dynamic-importï¼ˆæŒ‰éœ€-importï¼‰"><a href="#ä¸ƒã€Dynamic-importï¼ˆæŒ‰éœ€-importï¼‰" class="headerlink" title="ä¸ƒã€Dynamic importï¼ˆæŒ‰éœ€ importï¼‰"></a>ä¸ƒã€Dynamic importï¼ˆæŒ‰éœ€ importï¼‰</h2><p><code>import</code> å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™ï¼Œå†åŠ è½½æŸä¸ªæ¨¡å—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./dialogBox.js&#x27;</span>)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">dialogBox</span> =&gt;</span> &#123;<br>    dialogBox.<span class="hljs-title function_">open</span>();<br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">/* Error handling */</span><br>  &#125;)<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="ES12"><a href="#ES12" class="headerlink" title="ES12"></a>ES12</h1><p>ES 2021ï¼ˆES12ï¼‰æ–°å¢äº†å¦‚ä¸‹æ–°ç‰¹æ€§ğŸ‘‡ï¼š</p><ul><li>é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ&amp;&amp;&#x3D;ï¼Œ||&#x3D;ï¼Œ??&#x3D;ï¼‰</li><li><code>String.prototype.replaceAll()</code></li><li>æ•°å­—åˆ†éš”ç¬¦</li><li><code>Promise.any</code></li></ul><h2 id="ä¸€ã€é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ-ï¼Œ-ï¼Œ-ï¼‰"><a href="#ä¸€ã€é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ-ï¼Œ-ï¼Œ-ï¼‰" class="headerlink" title="ä¸€ã€é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ&amp;&amp;&#x3D;ï¼Œ||&#x3D;ï¼Œ??&#x3D;ï¼‰"></a>ä¸€ã€é€»è¾‘è¿ç®—ç¬¦å’Œèµ‹å€¼è¡¨è¾¾å¼ï¼ˆ&amp;&amp;&#x3D;ï¼Œ||&#x3D;ï¼Œ??&#x3D;ï¼‰</h2><h3 id="1-1"><a href="#1-1" class="headerlink" title="1.1 &amp;&amp;&#x3D;"></a>1.1 &amp;&amp;&#x3D;</h3><p>é€»è¾‘ä¸èµ‹å€¼è¿ç®—ç¬¦ <code>x &amp;&amp;= y</code> ç­‰ä»·äº <code>x &amp;&amp; (x=y)</code>ï¼šæ„æ€æ˜¯å½“ x ä¸ºçœŸæ—¶ï¼Œx &#x3D; yã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">let</span> b = <span class="hljs-number">0</span>;<br><br>a &amp;&amp;= <span class="hljs-number">2</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// 2</span><br><br>b &amp;&amp;= <span class="hljs-number">2</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);  <span class="hljs-comment">// 0</span><br></code></pre></td></tr></table></figure><h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2 ||&#x3D;"></a>1.2 ||&#x3D;</h3><p>é€»è¾‘æˆ–èµ‹å€¼è¿ç®—ç¬¦ <code>x ||= y</code> ç­‰ä»·äº <code>x || (x = y)</code>ï¼šæ„æ€æ˜¯ä»…åœ¨ x ä¸º false çš„æ—¶å€™ï¼Œx &#x3D; yã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> a = &#123; <span class="hljs-attr">duration</span>: <span class="hljs-number">50</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;&#x27;</span> &#125;;<br><br>a.<span class="hljs-property">duration</span> ||= <span class="hljs-number">10</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">duration</span>);  <span class="hljs-comment">// 50</span><br><br>a.<span class="hljs-property">title</span> ||= <span class="hljs-string">&#x27;title is empty.&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">title</span>);  <span class="hljs-comment">// &quot;title is empty&quot;</span><br></code></pre></td></tr></table></figure><h3 id="1-3"><a href="#1-3" class="headerlink" title="1.3 ??&#x3D;"></a>1.3 ??&#x3D;</h3><p>é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦ <code>x ??= y</code> ç­‰ä»·äº <code>x ?? (x = y)</code>ï¼šæ„æ€æ˜¯ä»…åœ¨ x ä¸º null æˆ– undefined çš„æ—¶å€™ï¼Œx &#x3D; yã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> a = &#123; <span class="hljs-attr">duration</span>: <span class="hljs-number">50</span> &#125;;<br><br>a.<span class="hljs-property">duration</span> ??= <span class="hljs-number">10</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">duration</span>);  <span class="hljs-comment">// 50</span><br><br>a.<span class="hljs-property">speed</span> ??= <span class="hljs-number">25</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">speed</span>);  <span class="hljs-comment">// 25</span><br></code></pre></td></tr></table></figure><h2 id="äºŒã€String-prototype-replaceAll"><a href="#äºŒã€String-prototype-replaceAll" class="headerlink" title="äºŒã€String.prototype.replaceAll()"></a>äºŒã€<code>String.prototype.replaceAll()</code></h2><p>è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ»¡è¶³ pattern çš„éƒ¨åˆ†éƒ½ä¼šè¢« replacement æ›¿æ¢æ‰ã€‚åŸå­—ç¬¦ä¸²ä¿æŒä¸å˜ã€‚</p><ul><li>pattern å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ– RegExpï¼›</li><li>replacement å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªåœ¨æ¯æ¬¡è¢«åŒ¹é…è¢«è°ƒç”¨çš„å‡½æ•°ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">js<br> <span class="hljs-string">&#x27;aabbcc&#x27;</span>.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>);  <span class="hljs-comment">// &#x27;aa..cc&#x27;</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢å€¼æ—¶ï¼Œå¿…é¡»æ˜¯å…¨å±€çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-string">&#x27;aabbcc&#x27;</span>.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/b/</span>, <span class="hljs-string">&#x27;.&#x27;</span>);  <span class="hljs-comment">// TypeError: replaceAll must be called with a global RegExp</span><br><br><span class="hljs-string">&#x27;aabbcc&#x27;</span>.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-regexp">/b/g</span>, <span class="hljs-string">&#x27;.&#x27;</span>);  <span class="hljs-comment">// &quot;aa..cc&quot;</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ•°å­—åˆ†éš”ç¬¦"><a href="#ä¸‰ã€æ•°å­—åˆ†éš”ç¬¦" class="headerlink" title="ä¸‰ã€æ•°å­—åˆ†éš”ç¬¦"></a>ä¸‰ã€æ•°å­—åˆ†éš”ç¬¦</h2><p>ES12 å…è®¸ JavaScript çš„æ•°å€¼ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ä½œä¸ºåˆ†éš”ç¬¦ï¼Œä½†æ˜¯æ²¡æœ‰è§„å®šé—´éš”çš„ä½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">123_00</span><br></code></pre></td></tr></table></figure><p>å°æ•°å’Œç§‘å­¦è®°æ•°æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">0.1_23</span><br><span class="hljs-number">1e10_00</span><br></code></pre></td></tr></table></figure><p>âš ï¸ æ³¨æ„ï¼š</p><ul><li>ä¸èƒ½æ”¾åœ¨æ•°å€¼çš„æœ€å‰é¢å’Œæœ€åé¢ï¼›</li><li>ä¸èƒ½å°†ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„åˆ†éš”ç¬¦è¿åœ¨ä¸€èµ·ï¼›</li><li>å°æ•°ç‚¹çš„å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ï¼›</li><li>ç§‘å­¦è®°æ•°æ³•é‡Œï¼Œe æˆ– E å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚</li></ul><h2 id="å››ã€Promise-any"><a href="#å››ã€Promise-any" class="headerlink" title="å››ã€Promise.any"></a>å››ã€<code>Promise.any</code></h2><p>æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹è¿”å›ã€‚</p><p>åªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆ fulfilled çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ fulfilled çŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆ rejected çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ rejected çŠ¶æ€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">promise1</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise1&quot;</span>);<br>      <span class="hljs-comment">//  reject(&quot;error promise1 &quot;);</span><br>    &#125;, <span class="hljs-number">3000</span>);<br>  &#125;);<br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">promise2</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise2&quot;</span>);<br>      <span class="hljs-comment">// reject(&quot;error promise2 &quot;);</span><br>    &#125;, <span class="hljs-number">1000</span>);<br>  &#125;);<br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">promise3</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;promise3&quot;</span>);<br>      <span class="hljs-comment">// reject(&quot;error promise3 &quot;);</span><br>    &#125;, <span class="hljs-number">2000</span>);<br>  &#125;);<br>&#125;;<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([<span class="hljs-title function_">promise1</span>(), <span class="hljs-title function_">promise2</span>(), <span class="hljs-title function_">promise3</span>()])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">first</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸ å°±ä¼šè¿”å›ç¬¬ä¸€ä¸ªè¯·æ±‚æˆåŠŸçš„</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first); <span class="hljs-comment">// ä¼šè¿”å›promise2</span><br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// æ‰€æœ‰ä¸‰ä¸ªå…¨éƒ¨è¯·æ±‚å¤±è´¥ æ‰ä¼šæ¥åˆ°è¿™é‡Œ</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error&quot;</span>, error);<br>  &#125;);<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([<span class="hljs-title function_">promise1</span>(), <span class="hljs-title function_">promise2</span>(), <span class="hljs-title function_">promise3</span>()])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">first</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸ å°±ä¼šè¿”å›ç¬¬ä¸€ä¸ªè¯·æ±‚æˆåŠŸçš„</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first); <span class="hljs-comment">// ä¼šè¿”å›promise2</span><br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// æ‰€æœ‰ä¸‰ä¸ªå…¨éƒ¨è¯·æ±‚å¤±è´¥ æ‰ä¼šæ¥åˆ°è¿™é‡Œ</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error&quot;</span>, error);<br>  &#125;);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ES</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯å¸¸ç”¨npmã€yarnã€pnpmå‘½ä»¤</title>
    <link href="/blog/2023/12/15/linux-common/"/>
    <url>/blog/2023/12/15/linux-common/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯å¸¸ç”¨å‘½ä»¤"><a href="#å‰ç«¯å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å‰ç«¯å¸¸ç”¨å‘½ä»¤"></a>å‰ç«¯å¸¸ç”¨å‘½ä»¤</h1><h2 id="ä¸€ã€npmå‘½ä»¤"><a href="#ä¸€ã€npmå‘½ä»¤" class="headerlink" title="ä¸€ã€npmå‘½ä»¤"></a>ä¸€ã€npmå‘½ä»¤</h2><h3 id="1-åŸºç¡€å‘½ä»¤"><a href="#1-åŸºç¡€å‘½ä»¤" class="headerlink" title="1.åŸºç¡€å‘½ä»¤"></a>1.åŸºç¡€å‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm init<span class="hljs-comment">#åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„npmé¡¹ç›®ï¼Œè·³è¿‡npm initå‘½ä»¤è¡Œæ¥å£(CLI)ã€‚</span><br>npm install<span class="hljs-comment">#æ ¹æ®é¡¹ç›®ä¸­çš„package.jsonæ–‡ä»¶è‡ªåŠ¨ä¸‹è½½é¡¹ç›®æ‰€éœ€çš„å…¨éƒ¨ä¾èµ–ã€‚</span><br>npm install åŒ…å --save-dev<span class="hljs-comment">#å®‰è£…çš„åŒ…åªç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œä¼šå‡ºç°åœ¨package.jsonæ–‡ä»¶ä¸­çš„dependencieså±æ€§ä¸­ã€‚</span><br>npm install åŒ…å --save<span class="hljs-comment">#å®‰è£…çš„åŒ…éœ€è¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„ï¼Œä¼šå‡ºç°åœ¨package.jsonæ–‡ä»¶ä¸­çš„dependencieså±æ€§ä¸­ã€‚</span><br>npm list<span class="hljs-comment">#æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å·²å®‰è£…çš„nodeåŒ…ã€‚</span><br>npm list -g<span class="hljs-comment">#æŸ¥çœ‹å…¨å±€å·²ç»å®‰è£…è¿‡çš„nodeåŒ…ã€‚</span><br>npm update <span class="hljs-comment">#åŒ…åï¼šæ›´æ–°æŒ‡å®šåŒ…ã€‚</span><br>npm uninstall <span class="hljs-comment">#åŒ…åï¼šå¸è½½æŒ‡å®šåŒ…ã€‚</span><br>npm config list<span class="hljs-comment">#æŸ¥çœ‹é…ç½®ä¿¡æ¯ã€‚</span><br>npm info åŒ…å<span class="hljs-comment">#æŸ¥çœ‹åŒ…çš„è¯¦ç»†ä¿¡æ¯ã€‚</span><br>npm search å­—ç¬¦ä¸²/æ­£åˆ™è¡¨è¾¾å¼<span class="hljs-comment">#æœç´¢npmä»“åº“ã€‚</span><br>npm <span class="hljs-built_in">logout</span><span class="hljs-comment">#é€€å‡ºnpmçš„ç™»å½•çŠ¶æ€ã€‚</span><br>npm login<span class="hljs-comment">#ç™»å½•npmï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</span><br>npm <span class="hljs-built_in">whoami</span><span class="hljs-comment">#æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·åã€‚</span><br>npm cache clean<span class="hljs-comment">#æ¸…ç†npmç¼“å­˜ã€‚</span><br>npm cache verify<span class="hljs-comment">#æ£€æŸ¥npmç¼“å­˜çš„æœ‰æ•ˆæ€§ã€‚</span><br></code></pre></td></tr></table></figure><h3 id="2-è¿›é˜¶å‘½ä»¤"><a href="#2-è¿›é˜¶å‘½ä»¤" class="headerlink" title="2.è¿›é˜¶å‘½ä»¤"></a>2.è¿›é˜¶å‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config listï¼šåˆ—å‡ºnpmçš„æ‰€æœ‰é…ç½®ã€‚<br>npm config editï¼šç¼–è¾‘npmçš„é…ç½®æ–‡ä»¶ã€‚<br>npm unpublish åŒ…åï¼šä»npmä»“åº“ä¸­åˆ é™¤æŒ‡å®šçš„åŒ…ã€‚<br>npm config get always-authï¼šè·å–npmå§‹ç»ˆè¿›è¡Œèº«ä»½éªŒè¯çš„è®¾ç½®ã€‚<br>npm config <span class="hljs-built_in">set</span> always-auth <span class="hljs-literal">false</span>ï¼šå–æ¶ˆè®¾ç½®npmå§‹ç»ˆè¿›è¡Œèº«ä»½éªŒè¯ã€‚<br>npm config <span class="hljs-built_in">set</span> email [email]**ï¼šè®¾ç½®npmçš„é‚®ç®±åœ°å€ã€‚<br>npm config <span class="hljs-built_in">set</span> username [username]**ï¼šè®¾ç½®npmçš„ç”¨æˆ·åã€‚<br>npm config <span class="hljs-built_in">rm</span> usernameï¼šåˆ é™¤npmçš„ç”¨æˆ·åé…ç½®ã€‚<br>npm config <span class="hljs-built_in">rm</span> emailï¼šåˆ é™¤npmçš„é‚®ç®±åœ°å€é…ç½®ã€‚<br>npm config <span class="hljs-built_in">env</span>ï¼šæ‰“å°å‡ºé…ç½®ç›¸å…³çš„ç¯å¢ƒå˜é‡ã€‚<br>npm config listï¼šåˆ—å‡ºæ‰€æœ‰çš„é…ç½®é€‰é¡¹åŠå…¶å€¼ã€‚<br>npm config delete **ï¼šåˆ é™¤ç‰¹å®šçš„é…ç½®é€‰é¡¹ã€‚<br><br><span class="hljs-comment"># è®¾ç½®æ·˜å®çš„é•œåƒæº</span><br>npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com<br><span class="hljs-comment"># è…¾è®¯äº‘é•œåƒæº</span><br>npm config <span class="hljs-built_in">set</span> registry http://mirrors.cloud.tencent.com/npm/<br><span class="hljs-comment"># åä¸ºäº‘é•œåƒæº</span><br>npm config <span class="hljs-built_in">set</span> registry https://mirrors.huaweicloud.com/repository/npm/<br><span class="hljs-comment"># å®˜æ–¹é»˜è®¤å…¨å±€é•œåƒ</span><br>npm config <span class="hljs-built_in">set</span> registry https://registry.npmjs.org<br><span class="hljs-comment"># æ£€æŸ¥å½“å‰é•œåƒ</span><br>npm config get registry<br></code></pre></td></tr></table></figure><h2 id="äºŒã€yarnå‘½ä»¤"><a href="#äºŒã€yarnå‘½ä»¤" class="headerlink" title="äºŒã€yarnå‘½ä»¤"></a>äºŒã€yarnå‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment">#1ã€å®‰è£…yarn </span><br>npm install -g yarn<br><br><span class="hljs-comment">#2ã€å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·ï¼š </span><br>yarn --version<br><br><span class="hljs-comment">#3ã€åˆå§‹åŒ–é¡¹ç›® </span><br>yarn init <span class="hljs-comment"># åŒnpm initï¼Œæ‰§è¡Œè¾“å…¥ä¿¡æ¯åï¼Œä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶</span><br>yarnçš„é…ç½®é¡¹ï¼š <br>yarn config list <span class="hljs-comment"># æ˜¾ç¤ºæ‰€æœ‰é…ç½®é¡¹</span><br>yarn config get &lt;key&gt; <span class="hljs-comment"># æ˜¾ç¤ºæŸé…ç½®é¡¹</span><br>yarn config delete &lt;key&gt; <span class="hljs-comment"># åˆ é™¤æŸé…ç½®é¡¹</span><br>yarn config <span class="hljs-built_in">set</span> &lt;key&gt; &lt;value&gt; [-g|--global] <span class="hljs-comment">#è®¾ç½®é…ç½®é¡¹</span><br>yarn config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com <span class="hljs-comment"># æ·»åŠ æ·˜å®æº</span><br><br><span class="hljs-comment">#4ã€å®‰è£…åŒ…ï¼š </span><br>yarn install <span class="hljs-comment"># å®‰è£…package.jsoné‡Œæ‰€æœ‰åŒ…ï¼Œå¹¶å°†åŒ…åŠå®ƒçš„æ‰€æœ‰ä¾èµ–é¡¹ä¿å­˜è¿›yarn.lock</span><br>yarn install --flat <span class="hljs-comment"># å®‰è£…ä¸€ä¸ªåŒ…çš„å•ä¸€ç‰ˆæœ¬</span><br>yarn install --force <span class="hljs-comment"># å¼ºåˆ¶é‡æ–°ä¸‹è½½æ‰€æœ‰åŒ…</span><br>yarn install --production <span class="hljs-comment"># åªå®‰è£…dependenciesé‡Œçš„åŒ…</span><br>yarn install --no-lockfile <span class="hljs-comment"># ä¸è¯»å–æˆ–ç”Ÿæˆyarn.lock</span><br>yarn install --pure-lockfile <span class="hljs-comment"># ä¸ç”Ÿæˆyarn.lock</span><br><br><span class="hljs-comment">#5ã€æ·»åŠ åŒ…ï¼ˆä¼šæ›´æ–°package.jsonå’Œyarn.lockï¼‰</span><br>yarn add [package] <span class="hljs-comment">#  åœ¨å½“å‰çš„é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªä¾èµ–åŒ…ï¼Œä¼šè‡ªåŠ¨æ›´æ–°åˆ°package.jsonå’Œyarn.lockæ–‡ä»¶ä¸­</span><br>yarn add [package]@[version] <span class="hljs-comment">#  å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ä¸»è¦ç‰ˆæœ¬ï¼Œå¦‚æœéœ€è¦ç²¾ç¡®åˆ°å°ç‰ˆæœ¬ï¼Œä½¿ç”¨-Eå‚æ•°</span><br>yarn add [package]@[tag] <span class="hljs-comment">#  å®‰è£…æŸä¸ªtagï¼ˆæ¯”å¦‚beta,nextæˆ–è€…latestï¼‰</span><br><br><span class="hljs-comment"># ä¸æŒ‡å®šä¾èµ–ç±»å‹é»˜è®¤å®‰è£…åˆ°dependenciesé‡Œï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šä¾èµ–ç±»å‹ï¼š</span><br><br>yarn add --dev/-D <span class="hljs-comment">#  åŠ åˆ° devDependencies</span><br>yarn add --peer/-P <span class="hljs-comment">#  åŠ åˆ° peerDependencies</span><br>yarn add --optional/-O <span class="hljs-comment">#  åŠ åˆ° optionalDependencies</span><br><br><span class="hljs-comment"># é»˜è®¤å®‰è£…åŒ…çš„ä¸»è¦ç‰ˆæœ¬é‡Œçš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤å¯ä»¥æŒ‡å®šç‰ˆæœ¬ï¼š</span><br><br><span class="hljs-comment"># å®‰è£…åŒ…çš„ç²¾ç¡®ç‰ˆæœ¬ã€‚ä¾‹å¦‚yarn add test@1.2.3ä¼šæ¥å—1.9.1ç‰ˆï¼Œä½†æ˜¯yarn add test@1.2.3 --exactåªä¼šæ¥å—1.2.3ç‰ˆ</span><br><br>yarn add --exact/-E <br><br><span class="hljs-comment">#  å®‰è£…åŒ…çš„æ¬¡è¦ç‰ˆæœ¬é‡Œçš„æœ€æ–°ç‰ˆã€‚ä¾‹å¦‚yarn add foo@1.2.3 --tildeä¼šæ¥å—1.2.9ï¼Œä½†ä¸æ¥å—1.3.0</span><br><br>yarn add --tilde/-T <br><br><span class="hljs-comment">#6ã€å‘å¸ƒåŒ…</span><br>yarn publish<br><br><span class="hljs-comment">#7ã€ç§»é™¤ä¸€ä¸ªåŒ… </span><br>yarn remove &lt;packageName&gt;ï¼šç§»é™¤ä¸€ä¸ªåŒ…ï¼Œä¼šè‡ªåŠ¨æ›´æ–°package.jsonå’Œyarn.lock<br><br><span class="hljs-comment">#8ã€æ›´æ–°ä¸€ä¸ªä¾èµ– </span><br>yarn upgrade ç”¨äºæ›´æ–°åŒ…åˆ°åŸºäºè§„èŒƒèŒƒå›´çš„æœ€æ–°ç‰ˆæœ¬<br><br><span class="hljs-comment">#9ã€è¿è¡Œè„šæœ¬ </span><br>yarn run ç”¨æ¥æ‰§è¡Œåœ¨ package.json ä¸­ scripts å±æ€§ä¸‹å®šä¹‰çš„è„šæœ¬<br><br><span class="hljs-comment">#10ã€æ˜¾ç¤ºæŸä¸ªåŒ…çš„ä¿¡æ¯ </span><br>yarn info &lt;packageName&gt; å¯ä»¥ç”¨æ¥æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯<br><br><span class="hljs-comment">#11ã€ç¼“å­˜ </span><br>yarn cache <br>yarn cache list <span class="hljs-comment"># åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ… </span><br>yarn cache <span class="hljs-built_in">dir</span> <span class="hljs-comment"># è¿”å› å…¨å±€ç¼“å­˜ä½ç½® </span><br>yarn cache clean <span class="hljs-comment"># æ¸…é™¤ç¼“å­˜</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€pnpm"><a href="#ä¸‰ã€pnpm" class="headerlink" title="ä¸‰ã€pnpm"></a>ä¸‰ã€pnpm</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬pnpm</span><br>npm install -g pnpm@6.32.2<br><br><span class="hljs-comment">#å®‰è£…è½¯ä»¶åŒ…åŠå…¶ä¾èµ–çš„ä»»ä½•è½¯ä»¶åŒ… å¦‚æœworkspaceæœ‰é…ç½®ä¼šä¼˜å…ˆä»workspaceå®‰è£…</span><br>pnpm add &lt;pkg&gt;<br><span class="hljs-comment">#å®‰è£…é¡¹ç›®æ‰€æœ‰ä¾èµ–</span><br>pnpm install<br><span class="hljs-comment">#æ›´æ–°è½¯ä»¶åŒ…çš„æœ€æ–°ç‰ˆæœ¬</span><br>pnpm update<br><span class="hljs-comment">#ç§»é™¤é¡¹ç›®ä¾èµ–</span><br>pnpm remove<br><span class="hljs-comment">#è¿è¡Œè„šæœ¬</span><br>pnpm run<br><span class="hljs-comment">#åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶</span><br>pnpm init<br><span class="hljs-comment">#ä»¥ä¸€ä¸ªæ ‘å½¢ç»“æ„è¾“å‡ºæ‰€æœ‰çš„å·²å®‰è£…packageçš„ç‰ˆæœ¬åŠå…¶ä¾èµ–</span><br>pnpm list<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>npmã€yarnã€pnpm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutter å¸¸ç”¨å‘½ä»¤</title>
    <link href="/blog/2023/12/15/linux-flutter/"/>
    <url>/blog/2023/12/15/linux-flutter/</url>
    
    <content type="html"><![CDATA[<h1 id="Flutter-å¸¸ç”¨å‘½ä»¤"><a href="#Flutter-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Flutter å¸¸ç”¨å‘½ä»¤"></a>Flutter å¸¸ç”¨å‘½ä»¤</h1><h3 id="ä¸€ã€ç¯å¢ƒå®‰è£…"><a href="#ä¸€ã€ç¯å¢ƒå®‰è£…" class="headerlink" title="ä¸€ã€ç¯å¢ƒå®‰è£…"></a>ä¸€ã€ç¯å¢ƒå®‰è£…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter --version  <span class="hljs-comment">#æŸ¥çœ‹å½“å‰å®‰è£…çš„flutter ç‰ˆæœ¬</span><br>flutter upgrade    <span class="hljs-comment">#å‡çº§å½“å‰çš„flutter ç‰ˆæœ¬</span><br>flutter doctor    <span class="hljs-comment">#æ£€æŸ¥ç¯å¢ƒå®‰è£…æ˜¯å¦å®Œæˆ</span><br>flutter emulators  <span class="hljs-comment">#è·å–æ¨¡æ‹Ÿå™¨åˆ—è¡¨ï¼ˆiOSã€Androidæ¨¡æ‹Ÿå™¨ï¼‰</span><br>flutter channel    <span class="hljs-comment">#æŸ¥çœ‹flutter sdkçš„æ‰€æœ‰åˆ†æ”¯</span><br>flutter channel stable <span class="hljs-comment">#åˆ‡æ¢sdkåˆ†æ”¯</span><br>flutter   <span class="hljs-comment">#è·å–flutteræ‰€æœ‰å‘½ä»¤</span><br>flutter <span class="hljs-built_in">help</span><span class="hljs-comment">#æŸ¥çœ‹å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</span><br>flutter analyze<span class="hljs-comment">#åˆ†æä»£ç </span><br></code></pre></td></tr></table></figure><h3 id="äºŒã€é¡¹ç›®ç¼–è¯‘è¿è¡Œ"><a href="#äºŒã€é¡¹ç›®ç¼–è¯‘è¿è¡Œ" class="headerlink" title="äºŒã€é¡¹ç›®ç¼–è¯‘è¿è¡Œ"></a>äºŒã€é¡¹ç›®ç¼–è¯‘è¿è¡Œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter clean  <span class="hljs-comment">#æ¸…ç©ºbuildç›®å½•</span><br>flutter pub get <span class="hljs-comment">#è·å–pubæ’ä»¶åŒ…</span><br>flutter run --è®¾å¤‡åç§°  <span class="hljs-comment">#è¿è¡Œé¡¹ç›®åˆ°æŒ‡å®šè®¾å¤‡</span><br>flutter packages get  <span class="hljs-comment">#è·å–flutteré¡¹ç›®ä¸­ä»¥æ¥çš„åŒ…ï¼Œä¸åŒ…æ‹¬flutter sdk</span><br>flutter packages upgrade <span class="hljs-comment">#æ›´æ–°flutteré¡¹ç›®æ‰€æœ‰ä¾èµ–åŒ…ï¼Œä¸åŒ…æ‹¬flutter sdk</span><br></code></pre></td></tr></table></figure><h3 id="ä¸‰ã€æ‰“åŒ…"><a href="#ä¸‰ã€æ‰“åŒ…" class="headerlink" title="ä¸‰ã€æ‰“åŒ…"></a>ä¸‰ã€æ‰“åŒ…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter build apk --release --target-platform android-arm64 <span class="hljs-comment">#ç”ŸæˆæŒ‡å®šCPUæ¶æ„çš„apk</span><br>flutter build ios <span class="hljs-comment">#iOSæ‰“åŒ… è¿™ä¸€æ­¥å¹¶ä¸èƒ½ç”Ÿæˆipaæ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨Xcode æ‰“åŒ…</span><br></code></pre></td></tr></table></figure><h3 id="å››ã€åˆ›å»ºé¡¹ç›®"><a href="#å››ã€åˆ›å»ºé¡¹ç›®" class="headerlink" title="å››ã€åˆ›å»ºé¡¹ç›®"></a>å››ã€åˆ›å»ºé¡¹ç›®</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter create --project-name hello_flutter --org cn.coderpig --platforms=android,ios --android-language java --ios-language objc hello_flutter <br><br><span class="hljs-comment"># ä¸Šè¿°å‚æ•°è§£æ (æ›´å¤šå‚æ•°å¯ä»¥é”®å…¥ flutter create --help æŸ¥çœ‹æ›´å¤šè¯¦ç»†å‚æ•° )ï¼š</span><br><br><span class="hljs-comment"># --project-name â†’ é¡¹ç›®åç§°ï¼Œåªèƒ½ç”± å°å†™å­—æ¯ã€ä¸‹åˆ’çº¿ å’Œ æ•°å­— ç»„æˆï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼šxxx is not a valid Dart package name</span><br><span class="hljs-comment"># --org â†’ é¡¹ç›®åŒ…å</span><br><span class="hljs-comment"># --platforms â†’ é™å®šæ”¯æŒçš„å¹³å°ï¼Œè¿™é‡Œé™å®šåªæ”¯æŒ android å’Œ ios</span><br><span class="hljs-comment"># --android-language â†’ è®¾å®šå®‰å“ç«¯é¡¹ç›®è¯­è¨€ï¼Œå¯é€‰å€¼ï¼šjava, kotlin(é»˜è®¤)</span><br><span class="hljs-comment"># --ios-language â†’ è®¾ç½®iOSç«¯é¡¹ç›®è¯­è¨€ï¼Œå¯é€‰å€¼ï¼šobjc, swift(é»˜è®¤)</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter common</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue2 ç»„ä»¶é€šä¿¡æ–¹å¼</title>
    <link href="/blog/2023/12/13/vue-components/"/>
    <url>/blog/2023/12/13/vue-components/</url>
    
    <content type="html"><![CDATA[<h1 id="vue2-ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#vue2-ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="vue2 ç»„ä»¶é€šä¿¡æ–¹å¼"></a>vue2 ç»„ä»¶é€šä¿¡æ–¹å¼</h1><h2 id="1-çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#1-çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="1.çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>1.çˆ¶å­ç»„ä»¶ä¼ å€¼</h2><p> çˆ¶ç»„ä»¶é€šè¿‡ props å±æ€§å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡ $emit æ–¹æ³•å‘çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶ã€‚<br> vueç»„ä»¶é€šä¿¡æ–¹å¼ï¼š</p><ul><li>props</li><li>emit</li><li>vuex<br> ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component</span> <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">send</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params">message</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">message</span>: <span class="hljs-title class_">String</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;send&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ props å±æ€§å‘å­ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º message çš„æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡ $emit æ–¹æ³•å‘çˆ¶ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º send çš„äº‹ä»¶ï¼Œå¹¶å°† message æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚çˆ¶ç»„ä»¶é€šè¿‡ @send ç›‘å¬å­ç»„ä»¶çš„ send äº‹ä»¶ï¼Œå¹¶åœ¨ handleSend æ–¹æ³•ä¸­è·å– message æ•°æ®ã€‚</p><h2 id="1-å…„å¼Ÿç»„ä»¶ä¼ å€¼"><a href="#1-å…„å¼Ÿç»„ä»¶ä¼ å€¼" class="headerlink" title="1.å…„å¼Ÿç»„ä»¶ä¼ å€¼"></a>1.å…„å¼Ÿç»„ä»¶ä¼ å€¼</h2><p>åœ¨ Vue.js ä¸­ã€‚å…„å¼Ÿç»„ä»¶å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶çš„ props å±æ€§æ¥ä¼ é€’æ•°æ®ï¼Œé€šè¿‡ $emit æ–¹æ³•æ¥è§¦å‘äº‹ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-1</span> <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">send</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-2</span> <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-2</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent1.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent2</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent2.vue&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent1</span>,</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent2</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params">message</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶1 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">message</span>: <span class="hljs-title class_">String</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;send&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶2 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">message</span>: <span class="hljs-title class_">String</span></span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œçˆ¶ç»„ä»¶åŒ…å«äº†ä¸¤ä¸ªå­ç»„ä»¶ï¼šChildComponent1 å’Œ ChildComponent2ã€‚ChildComponent1 é€šè¿‡ props å±æ€§å‘çˆ¶ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º message çš„æ•°æ®ï¼Œé€šè¿‡ $emit æ–¹æ³•å‘çˆ¶ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º send çš„äº‹ä»¶ï¼Œå¹¶å°† message æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚çˆ¶ç»„ä»¶æ¥æ”¶åˆ°å­ç»„ä»¶1çš„ send äº‹ä»¶åï¼Œå°† message æ•°æ®ä¿å­˜åœ¨è‡ªå·±çš„ data ä¸­ï¼Œå¹¶é€šè¿‡ props å±æ€§å°† message æ•°æ®ä¼ é€’ç»™ ChildComponent2ã€‚</p><h2 id="3-è·¨çº§ç»„ä»¶ä¼ å€¼"><a href="#3-è·¨çº§ç»„ä»¶ä¼ å€¼" class="headerlink" title="3.è·¨çº§ç»„ä»¶ä¼ å€¼"></a>3.è·¨çº§ç»„ä»¶ä¼ å€¼</h2><p> è·¨çº§ç»„ä»¶å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶çš„ props å±æ€§æ¥ä¼ é€’æ•°æ®ï¼Œé€šè¿‡ $emit æ–¹æ³•æ¥è§¦å‘äº‹ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-1</span> <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">send</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-3</span> <span class="hljs-attr">:message</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-3</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent1.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent3</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent3.vue&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent1</span>,</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent3</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params">message</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = message;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶1 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">message</span>: <span class="hljs-title class_">String</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&#x27;send&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶3 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">message</span>: <span class="hljs-title class_">String</span></span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œçˆ¶ç»„ä»¶åŒ…å«äº†ä¸¤ä¸ªå­ç»„ä»¶ï¼šChildComponent1 å’Œ ChildComponent3ã€‚ChildComponent1 é€šè¿‡ props å±æ€§å‘çˆ¶ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º message çš„æ•°æ®ï¼Œé€šè¿‡ $emit æ–¹æ³•å‘çˆ¶ç»„ä»¶ä¼ é€’äº†ä¸€ä¸ªåä¸º send çš„äº‹ä»¶ï¼Œå¹¶å°† message æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚çˆ¶ç»„ä»¶æ¥æ”¶åˆ°å­ç»„ä»¶1çš„ send äº‹ä»¶åï¼Œå°† message æ•°æ®ä¿å­˜åœ¨è‡ªå·±çš„ data ä¸­ï¼Œå¹¶é€šè¿‡ props å±æ€§å°† message æ•°æ®ä¼ é€’ç»™ ChildComponent3ã€‚</p><h2 id="4-Vuex-çŠ¶æ€ç®¡ç†"><a href="#4-Vuex-çŠ¶æ€ç®¡ç†" class="headerlink" title="4.Vuex çŠ¶æ€ç®¡ç†"></a>4.Vuex çŠ¶æ€ç®¡ç†</h2><p>åœ¨ Vue.js ä¸­ï¼Œç»„ä»¶ä¼ å€¼çš„å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨ Vuex çŠ¶æ€ç®¡ç†ã€‚Vuex æ˜¯ä¸€ç§çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„å…±äº«çŠ¶æ€ã€‚Vuex ä¸­çš„çŠ¶æ€å¯ä»¥è¢«ä»»ä½•ç»„ä»¶è®¿é—®å’Œä¿®æ”¹ï¼Œå› æ­¤å¯ä»¥ç”¨æ¥å®ç°ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">child-component-3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component-3</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent1.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent3</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ChildComponent3.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent1</span>,</span><br><span class="language-javascript">    <span class="hljs-title class_">ChildComponent3</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  store</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶1 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleSend&quot;</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; mapActions &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    ...<span class="hljs-title function_">mapActions</span>([<span class="hljs-string">&#x27;sendMessage&#x27;</span>]),</span><br><span class="language-javascript">    <span class="hljs-title function_">handleSend</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendMessage</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- å­ç»„ä»¶3 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; mapState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">    ...<span class="hljs-title function_">mapState</span>([<span class="hljs-string">&#x27;message&#x27;</span>])</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡å¼•å…¥ store å¯¹è±¡æ¥ä½¿ç”¨ Vuex çŠ¶æ€ç®¡ç†ã€‚å­ç»„ä»¶1é€šè¿‡ mapActions æ–¹æ³•å°† sendMessage æ–¹æ³•æ˜ å°„åˆ°ç»„ä»¶ä¸­ï¼Œå¹¶åœ¨ handleSend æ–¹æ³•ä¸­è°ƒç”¨ sendMessage æ–¹æ³•æ¥å‘é€æ¶ˆæ¯ã€‚sendMessage æ–¹æ³•å°†æ¶ˆæ¯ä¿å­˜åœ¨ Vuex çš„ state ä¸­ã€‚å­ç»„ä»¶3é€šè¿‡ mapState æ–¹æ³•å°† message å±æ€§æ˜ å°„åˆ°ç»„ä»¶ä¸­ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ message å±æ€§æ¥æ˜¾ç¤ºæ¶ˆæ¯ã€‚</p><h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5.æ€»ç»“"></a>5.æ€»ç»“</h2><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† Vue.js ä¸­çš„ç»„ä»¶ä¼ å€¼æœºåˆ¶ï¼ŒåŒ…æ‹¬çˆ¶å­ç»„ä»¶ä¼ å€¼ã€å…„å¼Ÿç»„ä»¶ä¼ å€¼ã€è·¨çº§ç»„ä»¶ä¼ å€¼å’Œä½¿ç”¨ Vuex çŠ¶æ€ç®¡ç†ç­‰å¤šç§æ–¹å¼ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“çš„åœºæ™¯å’Œéœ€æ±‚æ¥é€‰æ‹©åˆé€‚çš„æ–¹å¼æ¥å®ç°ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ³¨æ„ä¼ é€’æ•°æ®çš„ç±»å‹å’Œæ ¼å¼ï¼Œä»¥ä¿è¯æ•°æ®çš„æ­£ç¡®æ€§å’Œå¯é æ€§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»„ä»¶ä¼ å€¼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutterç»„ä»¶å’Œè·¯ç”±</title>
    <link href="/blog/2023/12/08/flutter-components/"/>
    <url>/blog/2023/12/08/flutter-components/</url>
    
    <content type="html"><![CDATA[<h1 id="flutter-ç»„ä»¶å’Œè·¯ç”±"><a href="#flutter-ç»„ä»¶å’Œè·¯ç”±" class="headerlink" title="flutter ç»„ä»¶å’Œè·¯ç”±"></a>flutter ç»„ä»¶å’Œè·¯ç”±</h1><h3 id="1-è·¯ç”±"><a href="#1-è·¯ç”±" class="headerlink" title="1.è·¯ç”±"></a>1.è·¯ç”±</h3><p>å®é™…çš„é¡¹ç›®ï¼Œæ˜¯æœ‰å¤šä¸ªä¸åŒçš„é¡µé¢çš„ï¼Œé¡µé¢ä¹‹é—´çš„è·³è½¬ï¼Œå°±è¦ç”¨åˆ°è·¯ç”±äº†ã€‚ æˆ‘ä»¬å¢åŠ ä¸€ä¸ªlisté¡µé¢ï¼Œç‚¹å‡»Homeé¡µçš„â€œClick Meâ€æŒ‰é’®ï¼Œè·³è½¬åˆ°åˆ—è¡¨é¡µlistã€‚</p><h4 id="1-1-å•ä¸ªé¡µé¢çš„è·³è½¬"><a href="#1-1-å•ä¸ªé¡µé¢çš„è·³è½¬" class="headerlink" title="1.1 å•ä¸ªé¡µé¢çš„è·³è½¬"></a>1.1 å•ä¸ªé¡µé¢çš„è·³è½¬</h4><p>å¢åŠ list.dart</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-comment">//å®šä¹‰åˆ—è¡¨widgetçš„list</span><br>    <span class="hljs-built_in">List</span>&lt;Widget&gt; list=&lt;Widget&gt;[];<br><br>    <span class="hljs-comment">//Demoæ•°æ®å®šä¹‰</span><br>    <span class="hljs-keyword">var</span> data=[<br>      &#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®AAA&quot;</span>,<span class="hljs-string">&quot;subtitle&quot;</span>:<span class="hljs-string">&quot;ASDFASDFASDF&quot;</span>&#125;,<br>      &#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®bbb&quot;</span>,<span class="hljs-string">&quot;subtitle&quot;</span>:<span class="hljs-string">&quot;ASDFASDFASDF&quot;</span>&#125;,<br>      &#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">3</span>,<span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®ccc&quot;</span>,<span class="hljs-string">&quot;subtitle&quot;</span>:<span class="hljs-string">&quot;ASDFASDFASDF&quot;</span>&#125;,<br>      &#123;<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">4</span>,<span class="hljs-string">&quot;title&quot;</span>:<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®eee&quot;</span>,<span class="hljs-string">&quot;subtitle&quot;</span>:<span class="hljs-string">&quot;ASDFASDFASDF&quot;</span>&#125;,<br>    ];<br><br>    <span class="hljs-comment">//æ ¹æ®Demoæ•°æ®ï¼Œæ„é€ åˆ—è¡¨ListTileç»„ä»¶list</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> data) &#123;<br>      <span class="hljs-built_in">print</span>(item[<span class="hljs-string">&quot;title&quot;</span>]);<br><br>      list.add( ListTile( <br>          title: Text(item[<span class="hljs-string">&quot;title&quot;</span>],style: TextStyle(fontSize: <span class="hljs-number">18.0</span>) ),<br>          subtitle: Text(item[<span class="hljs-string">&quot;subtitle&quot;</span>]),<br>          leading:  Icon( Icons.fastfood, color:Colors.orange ),<br>          trailing: Icon(Icons.keyboard_arrow_right)<br>      ));<br>    &#125;<br><br>    <span class="hljs-comment">//è¿”å›æ•´ä¸ªé¡µé¢</span><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;List Page&quot;</span>),<br>      ),<br>      body: Center(<br>        child: ListView(<br>          children: list,<br>        )<br>      ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨main.dartå¢åŠ listé¡µé¢çš„å¼•å…¥</p><p>import â€˜list.dartâ€™;</p><p>ä¿®æ”¹Homeé¡µçš„æŒ‰é’®äº‹ä»¶ï¼Œå¢åŠ Navigator.pushè·³è½¬</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart">FlatButton(<br>  color: Colors.blue,textColor: Colors.white,<br>  onPressed: () &#123;    <br>      Navigator.push(context, MaterialPageRoute(builder:(context) &#123;<br>        <span class="hljs-keyword">return</span>  ListPage();<br>      &#125;));<br>    &#125;,<br>    child: Text(<span class="hljs-string">&quot;Click ME&quot;</span>,style: TextStyle(fontSize: <span class="hljs-number">20.0</span>) ),<br>)<br></code></pre></td></tr></table></figure><p>æ ¸å¿ƒæ–¹æ³•å°±æ˜¯ï¼š Navigator.push(context,MaterialPageRoute)</p><p>è·³è½¬ç¤ºä¾‹ï¼š</p><h4 id="1-2-æ›´å¤šé¡µé¢è·³è½¬ä½¿ç”¨è·¯ç”±è¡¨"><a href="#1-2-æ›´å¤šé¡µé¢è·³è½¬ä½¿ç”¨è·¯ç”±è¡¨" class="headerlink" title="1.2 æ›´å¤šé¡µé¢è·³è½¬ä½¿ç”¨è·¯ç”±è¡¨"></a>1.2 æ›´å¤šé¡µé¢è·³è½¬ä½¿ç”¨è·¯ç”±è¡¨</h4><p>åœ¨MaterialAppä¸­ï¼Œæœ‰ä¸€ä¸ªå±æ€§æ˜¯routesï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è·¯ç”±è¿›è¡Œå‘½åï¼Œè¿™æ ·è·³è½¬çš„æ—¶å€™ï¼Œåªéœ€è¦ä½¿ç”¨å¯¹åº”çš„è·¯ç”±åå­—å³å¯ï¼Œå¦‚ï¼š Navigator.pushNamed(context, RouterName) ã€‚ç‚¹å‡»ä¸¤ä¸ªä¸åŒçš„æŒ‰é’®ï¼Œåˆ†åˆ«è·³è½¬åˆ°ListPageï¼Œå’ŒPage2å»ã€‚</p><p>Main.dartä¿®æ”¹ä¸€ä¸‹å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;list.dart&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;page2.dart&#x27;</span>;<br><br><span class="hljs-keyword">void</span> main() =&gt; runApp(MyApp());<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>    <span class="hljs-keyword">return</span> MaterialApp(<br>      title: <span class="hljs-string">&#x27;Flutter Demo&#x27;</span>,<br>      <span class="hljs-comment">//è·¯ç”±è¡¨å®šä¹‰</span><br>      routes:&#123;<br>        <span class="hljs-string">&quot;ListPage&quot;</span>:(context)=&gt; ListPage(),<br>        <span class="hljs-string">&quot;Page2&quot;</span>:(context)=&gt; Page2(),<br>      &#125;,<br>      home: MyHomePage(),<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span></span>&#123;<br>  <span class="hljs-meta">@override</span><br>  MyHomePageState createState() =&gt; MyHomePageState();<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyHomePage</span>&gt;</span>&#123;<br>   <span class="hljs-meta">@override</span><br>   Widget build(BuildContext context) &#123;<br>       <span class="hljs-keyword">return</span> Scaffold(<br>          appBar: AppBar(<br>            title: Text(<span class="hljs-string">&quot;æˆ‘æ˜¯Title&quot;</span>),<br>          ),<br>          body: Center(<br>            child:Column(<br>              children:&lt;Widget&gt;[<br>                RaisedButton(<br>                  child: Text(<span class="hljs-string">&quot;Clikc to ListPage&quot;</span> ),<br>                  onPressed: () &#123;<br>                    <span class="hljs-comment">//æ ¹æ®å‘½åè·¯ç”±åšè·³è½¬</span><br>                    Navigator.pushNamed(context, <span class="hljs-string">&quot;ListPage&quot;</span>);<br>                  &#125;,<br>                ),<br>                RaisedButton(<br>                  child: Text(<span class="hljs-string">&quot;Click to Page2&quot;</span> ),<br>                  onPressed: () &#123;<br>                    <span class="hljs-comment">//æ ¹æ®å‘½åè·¯ç”±åšè·³è½¬</span><br>                    Navigator.pushNamed(context, <span class="hljs-string">&quot;Page2&quot;</span>);<br>                  &#125;,<br>                )<br>              ]<br>            )<br>          )<br>      );<br>  &#125;  <br><br>&#125;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p>å½“æˆ‘ä»¬æœ‰äº†è·¯ç”±ä»¥åï¼Œå°±å¯ä»¥å¼€å§‹åœ¨ä¸€ä¸ªé¡¹ç›®é‡Œç”¨ä¸åŒçš„é¡µé¢ï¼Œå»å­¦ä¹ ä¸åŒçš„åŠŸèƒ½äº†ã€‚</p><h4 id="1-3-è·¯ç”±ä¼ å‚"><a href="#1-3-è·¯ç”±ä¼ å‚" class="headerlink" title="1.3 è·¯ç”±ä¼ å‚"></a>1.3 è·¯ç”±ä¼ å‚</h4><p>åˆ—è¡¨é¡µè·³è½¬åˆ°è¯¦æƒ…é¡µï¼Œéœ€è¦è·¯ç”±ä¼ å‚ï¼Œè¿™ä¸ªåœ¨flutterä½“ç³»é‡Œï¼Œåˆæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œåœ¨main.darté‡Œï¼Œå¢åŠ è¯¦æƒ…é¡µDedailPageçš„è·¯ç”±é…ç½®</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-comment">//è·¯ç”±è¡¨å®šä¹‰</span><br>  routes:&#123;<br>    <span class="hljs-string">&quot;ListPage&quot;</span>:(context)=&gt; ListPage(),<br>    <span class="hljs-string">&quot;Page2&quot;</span>:(context)=&gt; Page2(),<br>    <span class="hljs-string">&quot;DetailPage&quot;</span>:(context)=&gt; DetailPage(), <span class="hljs-comment">//å¢åŠ è¯¦æƒ…é¡µçš„è·¯ç”±é…ç½®</span><br>  &#125;,<br></code></pre></td></tr></table></figure><p>å¹¶ä¿®æ”¹ListPageé‡ŒListTileçš„ç‚¹å‡»äº‹ä»¶ï¼Œå¢åŠ è·¯ç”±è·³è½¬ä¼ å‚ï¼Œè¿™é‡Œæ˜¯å°†æ•´ä¸ªitemæ•°æ®å¯¹è±¡ä¼ é€’</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dart">ListTile( <br>  title: Text(item[<span class="hljs-string">&quot;title&quot;</span>],style: TextStyle(fontSize: <span class="hljs-number">18.0</span>) ),<br>  subtitle: Text(item[<span class="hljs-string">&quot;subtitle&quot;</span>]),<br>  leading:  Icon( Icons.fastfood, color:Colors.orange ),<br>  trailing: Icon(Icons.keyboard_arrow_right),<br>  onTap:()&#123;<br>    <span class="hljs-comment">//ç‚¹å‡»çš„æ—¶å€™ï¼Œè¿›è¡Œè·¯ç”±è·³è½¬ä¼ å‚</span><br>      Navigator.pushNamed(context, <span class="hljs-string">&quot;DetailPage&quot;</span>, arguments:item);<br>  &#125;,<br>)<br></code></pre></td></tr></table></figure><p>è¯¦æƒ…é¡µDetailPageé‡Œï¼Œè·å–ä¼ å‚å¹¶æ˜¾ç¤º</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DetailPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br>     <span class="hljs-comment">//è·å–è·¯ç”±ä¼ å‚</span><br>     <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span> args = ModalRoute.of(context).settings.arguments;<br><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Detail Page&quot;</span>),<br>      ),<br>      body: <br>        <span class="hljs-keyword">new</span> Column(<br>          children: &lt;Widget&gt;[<br>             Text(<span class="hljs-string">&quot;æˆ‘æ˜¯Detailé¡µé¢&quot;</span>),<br>             Text(<span class="hljs-string">&quot;id:<span class="hljs-subst">$&#123;args[<span class="hljs-string">&#x27;id&#x27;</span>]&#125;</span>&quot;</span> ),<br>             Text(<span class="hljs-string">&quot;id:<span class="hljs-subst">$&#123;args[<span class="hljs-string">&#x27;title&#x27;</span>]&#125;</span>&quot;</span>),<br>             Text(<span class="hljs-string">&quot;id:<span class="hljs-subst">$&#123;args[<span class="hljs-string">&#x27;subtitle&#x27;</span>]&#125;</span>&quot;</span>)<br>          ],<br>        )<br>      );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demoæ•ˆæœï¼š</p><h3 id="2-widget"><a href="#2-widget" class="headerlink" title="2.widget"></a>2.widget</h3><p>Flutteræä¾›äº†å¾ˆå¤šé»˜è®¤çš„ç»„ä»¶ï¼Œè€Œæ¯ä¸ªç»„ä»¶çš„éƒ½ç»§æ‰¿è‡ªwidget ã€‚ åœ¨Flutterçœ¼é‡Œï¼š ä¸€åˆ‡éƒ½æ˜¯widget ã€‚ è¿™å¥çœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Ÿ è¿˜è®°å¾—åœ¨webpacké‡Œï¼Œä¸€åˆ‡éƒ½æ˜¯moduleå—ï¼Ÿ ç±»ä¼¼çš„è¿˜æœ‰javaçš„ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚è²Œä¼¼ä»»ä½•ä¸€ä¸ªæŠ€æœ¯ï¼Œæœ€åéƒ½æ˜¯ç”¨å“²å­¦ä½œä¸ºæŒ‡å¯¼æ€æƒ³ã€‚</p><p>widgetï¼Œä½œä¸ºå¯è§†åŒ–çš„UIç»„ä»¶ï¼ŒåŒ…å«äº†æ˜¾ç¤ºUIã€åŠŸèƒ½äº¤äº’ä¸¤éƒ¨åˆ†ã€‚å¤§çš„widgetï¼Œä¹Ÿå¯ä»¥ç”±å¤šä¸ªå°çš„widgetç»„åˆè€Œæˆã€‚</p><p>å¸¸ç”¨çš„widgetç»„ä»¶ï¼š</p><h4 id="2-1-Text"><a href="#2-1-Text" class="headerlink" title="2.1 Text"></a>2.1 Text</h4><p>Demo:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dart">Text(<br>  <span class="hljs-string">&quot;Hello world&quot;</span>,<br>  style: TextStyle(<br>      fontSize: <span class="hljs-number">50</span>,<br>      fontWeight: FontWeight.bold,<br>      color:Color(<span class="hljs-number">0xFF0000ff</span>)<br>    )<br>  ),<br></code></pre></td></tr></table></figure><p>Textçš„æ ·å¼ï¼Œæ¥è‡ªå¦ä¸€ä¸ªwidgetï¼šTextStyleã€‚ è€ŒTextStyleé‡Œçš„colorï¼Œåˆæ˜¯å¦ä¸€ä¸ªwidget Colorçš„å®ä¾‹ã€‚</p><p>å¦‚æœç”¨flutterçš„ç¼©è¿›çš„æ–¹æ³•ï¼Œçœ‹èµ·æ¥ç¡®å®æœ‰ç‚¹ä¸‘é™‹ï¼Œä¹ æƒ¯å†™CSSçš„å‰ç«¯åŒå­¦ï¼Œå¯ä»¥çœ‹çœ‹ä¸‹é¢çš„é£æ ¼ï¼š</p><p>Text( â€œHello worldâ€, style: TextStyle( fontSize: 50,fontWeight: FontWeight.bold,color:Color(0xFF0000ff) ) )<br>å†™æˆä¸€è¡Œï¼Œæ˜¯ä¸æ˜¯å°±é¡ºçœ¼å¤šäº†ï¼Ÿè¿™ç®—å‰ç«¯æ¶ä¹ å—ï¼Ÿ _</p><h4 id="2-2-Button"><a href="#2-2-Button" class="headerlink" title="2.2 Button"></a>2.2 Button</h4><p>å¯¹äºflutteræ¥è¯´ï¼ŒButtonå°±æä¾›äº†å¾ˆå¤šç§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»–ä»¬çš„åŒºåˆ«ï¼š</p><p>RaisedButton: å‡¸èµ·çš„æŒ‰é’®</p><p>FlatButtonï¼šæ‰å¹³åŒ–æŒ‰é’®</p><p>OutlineButtonï¼šå¸¦è¾¹æ¡†æŒ‰é’®</p><p>IconButtonï¼šå¸¦å›¾æ ‡æŒ‰é’®</p><p>æŒ‰é’®æµ‹è¯•é¡µdart:</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ButtonPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Button Page&quot;</span>),<br>      ),<br>      body: Column(<br>        children: &lt;Widget&gt;[<br>          RaisedButton(<br>              child: Text(<span class="hljs-string">&quot;æˆ‘æ˜¯ RaiseButton&quot;</span> ),<br>              onPressed: () &#123;&#125;,<br>          ),<br>            FlatButton(<br>              child: Text(<span class="hljs-string">&quot;æˆ‘æ˜¯ FlatButton&quot;</span> ),<br>              color: Colors.blue,<br>              onPressed: () &#123;&#125;,<br>          ),<br>          OutlineButton(<br>              child: Text(<span class="hljs-string">&quot;æˆ‘æ˜¯ OutlineButton&quot;</span> ),<br>              textColor: Colors.blue,<br>              onPressed: () &#123;&#125;,<br>          ),<br>          IconButton(<br>              icon: Icon(Icons.add),<br>              onPressed: () &#123;&#125;,<br>          )  <br>        ]<br>      )<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Demo:</p><p>é¡¹ç›®ä¸­è¦ç”¨å“ªä¸ªï¼Œå°±å„å–æ‰€éœ€å§~</p><h4 id="2-3-Container"><a href="#2-3-Container" class="headerlink" title="2.3 Container"></a>2.3 Container</h4><p>Containeræ˜¯éå¸¸å¸¸ç”¨çš„ä¸€ä¸ªwidgetï¼Œä»–ä¸€èˆ¬æ˜¯ç”¨ä½œä¸€ä¸ªå®¹å™¨ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä»–çš„åŸºç¡€å±æ€§ï¼Œé¡ºä¾¿å¯ä»¥æƒ³æƒ³ä»–åƒHTMLé‡Œçš„å•¥ï¼Ÿ</p><p>åŸºç¡€å±æ€§ï¼šwidthï¼Œheightï¼Œcolorï¼Œchild</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dart">body: Center(<br>  child: Container(<br>      color: Colors.blue,<br>      width: <span class="hljs-number">200</span>,<br>      height: <span class="hljs-number">200</span>,<br>      child: Text(<span class="hljs-string">&quot;Hello Container &quot;</span>,style:TextStyle(fontSize: <span class="hljs-number">20</span>,color: Colors.white)),<br>  )<br>)<br></code></pre></td></tr></table></figure><p>Padding</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸è®¾ç½®å®½é«˜ï¼Œç”¨ padding åœ¨å†…éƒ¨æ’‘å¼€å¢åŠ ç•™ç™½ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dart">Container(<br>  color: Colors.blue,<br>  padding: EdgeInsets.all(<span class="hljs-number">30</span>),<br>  child: Text(<span class="hljs-string">&quot;Hello Container &quot;</span>,style:TextStyle(fontSize: <span class="hljs-number">20</span>,color: Colors.white)),<br>)<br></code></pre></td></tr></table></figure><p>Margin</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ margin ï¼Œåœ¨å®¹å™¨çš„å¤–éƒ¨æ’‘å¼€å¢åŠ åç§»é‡ï¼Œ</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">Container(<br>  color: Colors.blue,<br>  padding: EdgeInsets.all(<span class="hljs-number">30</span>),<br>  margin: EdgeInsets.only(left: <span class="hljs-number">150</span>,top: <span class="hljs-number">0</span>,right: <span class="hljs-number">0</span>,bottom: <span class="hljs-number">0</span>),<br>  child: Text(<span class="hljs-string">&quot;Hello Container &quot;</span>,style:TextStyle(fontSize: <span class="hljs-number">20</span>,color: Colors.white)),<br>)<br></code></pre></td></tr></table></figure><p>Transform</p><p>æˆ‘ä»¬è¿˜å¯ä»¥ç»™è¿™ä¸ªçŸ©å½¢ï¼Œä½¿ç”¨tansformåšä¸€äº›å˜åŒ–ï¼Œæ¯”å¦‚ï¼Œæ—‹è½¬ä¸€ä¸ªè§’åº¦</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">Container(<br>  color: Colors.blue,<br>  padding: EdgeInsets.all(<span class="hljs-number">30</span>),<br>  child: Text(<span class="hljs-string">&quot;Hello Container &quot;</span>,style:TextStyle(fontSize: <span class="hljs-number">20</span>,color: Colors.white)),<br>  transform: Matrix4.rotationZ(<span class="hljs-number">0.5</span>)<br>)<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œï¼Œå¥½å¤šå‰ç«¯åŒå­¦è¦è¯´äº†ï¼Œå¥½ç†Ÿæ‚‰å•Šã€‚ å¯¹ï¼Œä»–å°±æ˜¯å¾ˆåƒHtmlé‡Œçš„ä¸€ä¸ªä¸œè¥¿ï¼š DIV ï¼Œä½ ç¡®å®å¯ä»¥å¯¹åº”çš„å»åŠ å¼ºç†è§£ã€‚</p><h4 id="2-4-Image"><a href="#2-4-Image" class="headerlink" title="2.4 Image"></a>2.4 Image</h4><h5 id="2-4-1-ç½‘ç»œå›¾ç‰‡åŠ è½½"><a href="#2-4-1-ç½‘ç»œå›¾ç‰‡åŠ è½½" class="headerlink" title="2.4.1 ç½‘ç»œå›¾ç‰‡åŠ è½½"></a>2.4.1 ç½‘ç»œå›¾ç‰‡åŠ è½½</h5><p>ä½¿ç”¨NetworkImageï¼Œå¯ä»¥åšç½‘ç»œå›¾ç‰‡çš„åŠ è½½ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dart">child:Image(<br>  image: NetworkImage(<span class="hljs-string">&quot;https://mat1.gtimg.com/pingjs/ext2020/qqindex2018/dist/img/qq_logo_2x.png&quot;</span>),<br>  width: <span class="hljs-number">200.0</span>,<br>)<br></code></pre></td></tr></table></figure><h5 id="2-4-2-æœ¬åœ°å›¾ç‰‡åŠ è½½"><a href="#2-4-2-æœ¬åœ°å›¾ç‰‡åŠ è½½" class="headerlink" title="2.4.2 æœ¬åœ°å›¾ç‰‡åŠ è½½"></a>2.4.2 æœ¬åœ°å›¾ç‰‡åŠ è½½</h5><p>åŠ è½½æœ¬åœ°å›¾ç‰‡ï¼Œå°±ç¨å¾®å¤æ‚ä¸€äº›ï¼Œé¦–å…ˆè¦æŠŠå›¾ç‰‡çš„è·¯å¾„é…ç½®ï¼ŒåŠ å…¥åˆ°ä¹‹å‰è¯´è¿‡çš„pubspec.yamlé…ç½®æ–‡ä»¶é‡Œå»:</p><p>image</p><p>åŠ è½½æœ¬åœ°å›¾ç‰‡æ—¶ä½¿ç”¨AssetImageï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dart">child:Image(<br>  image: AssetImage(<span class="hljs-string">&quot;assets/images/logo.png&quot;</span>),<br>  width: <span class="hljs-number">200.0</span>,<br>)<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å†™ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart">Image.asset(<span class="hljs-string">&quot;assets/images/logo.png&quot;</span>,width:<span class="hljs-number">200.0</span>)<br></code></pre></td></tr></table></figure><p>flutteræä¾›çš„ç»„ä»¶å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä¸¾ä¾‹è¯´æ˜ï¼Œæœ‰å…´è¶£çš„è¿˜æ˜¯å»ºè®®å¤§å®¶å»çœ‹APIï¼š <a href="https://api.flutter.dev/">https://api.flutter.dev/</a></p><h3 id="3-å¸ƒå±€"><a href="#3-å¸ƒå±€" class="headerlink" title="3.å¸ƒå±€"></a>3.å¸ƒå±€</h3><p>æˆ‘ä»¬å·²ç»äº†è§£äº†è¿™ä¹ˆå¤šç»„ä»¶ï¼Œé‚£ä¹ˆæ€ä¹ˆç»˜åˆ¶ä¸€ä¸ªå®Œæ•´çš„é¡µé¢å‘¢ï¼Ÿ è¿™å°±åˆ°äº†é¡µé¢å¸ƒå±€çš„éƒ¨åˆ†äº†ã€‚</p><h4 id="3-1-Row-Column-Center-è¡Œåˆ—è½´å¸ƒå±€"><a href="#3-1-Row-Column-Center-è¡Œåˆ—è½´å¸ƒå±€" class="headerlink" title="3.1 Row &amp; Column &amp; Center è¡Œåˆ—è½´å¸ƒå±€"></a>3.1 Row &amp; Column &amp; Center è¡Œåˆ—è½´å¸ƒå±€</h4><p>å­—é¢æ„ä¹‰ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œè¡Œå¸ƒå±€ã€åˆ—å¸ƒå±€ã€å±…ä¸­å¸ƒå±€ï¼Œè¿™äº›å¸ƒå±€å¯¹äºFlutteræ¥è¯´ï¼Œä¹Ÿéƒ½æ˜¯ä¸€ä¸ªä¸ªçš„widgetã€‚</p><p>åŒºåˆ«åœ¨äºï¼Œrowã€column æ˜¯æœ‰å¤šä¸ªchildrençš„widgetï¼Œ è€ŒCenteræ˜¯åªæœ‰ 1ä¸ªchildçš„ widgetã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs dart">Row(<br>  children:&lt;Widget&gt;[]<br>) <br><br>Column(<br>  children:&lt;Widget&gt;[]<br>)    <br><br>Center(<br>  child:Text(<span class="hljs-string">&quot;Hello&quot;</span>)<br>ï¼‰<br></code></pre></td></tr></table></figure><h4 id="3-2-Align-è§’å®šä½å¸ƒå±€"><a href="#3-2-Align-è§’å®šä½å¸ƒå±€" class="headerlink" title="3.2 Align è§’å®šä½å¸ƒå±€"></a>3.2 Align è§’å®šä½å¸ƒå±€</h4><p>æˆ‘ä»¬å¸¸å¸¸åœ¨Containeré‡Œï¼Œéœ€è¦æ˜¾ç¤ºçš„å†…å®¹åœ¨å·¦ä¸Šè§’ï¼Œå·¦ä¸‹è§’ï¼Œå³ä¸Šè§’ï¼Œå³ä¸‹è§’ã€‚ åœ¨htmlæ—¶ä»£ï¼Œä½¿ç”¨CSSå¯ä»¥å¾ˆå®¹æ˜“çš„å®ç°ï¼Œä½†æ˜¯flutteré‡Œï¼Œå¿…é¡»ä¾èµ–Align è¿™ä¸ªå®šä½çš„Widget</p><p>å³ä¸‹è§’å®šä½ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs dart">child: Container(<br>  color: Colors.blue,<br>  width: <span class="hljs-number">300</span>,<br>  height: <span class="hljs-number">200</span>,<br>  child: Align(<br>    alignment: Alignment.bottomRight,<br>    child:Text(<span class="hljs-string">&quot;Hello Align &quot;</span>,style:TextStyle(fontSize: <span class="hljs-number">20</span>,color: Colors.white)),<br>  )<br>)<br></code></pre></td></tr></table></figure><p>æ˜¾ç¤ºæ•ˆæœï¼š</p><p>Alignmentæä¾›äº†å¤šç§å®šä½ä¾›é€‰æ‹©ï¼Œè¿˜ç®—æ˜¯å¾ˆè´´å¿ƒçš„ã€‚</p><h4 id="3-3-Stack-Positioned-ç»å¯¹å®šä½"><a href="#3-3-Stack-Positioned-ç»å¯¹å®šä½" class="headerlink" title="3.3 Stack &amp; Positioned ç»å¯¹å®šä½"></a>3.3 Stack &amp; Positioned ç»å¯¹å®šä½</h4><p>å½“ç„¶è¿˜æœ‰ç»å¯¹å®šä½çš„éœ€æ±‚ï¼Œè¿™åœ¨cssé‡Œï¼Œä½¿ç”¨positionï¼šabsoluteå°±æå®šäº†ï¼Œä½†æ˜¯åœ¨flutteré‡Œï¼Œéœ€è¦å€ŸåŠ©stack+ positionedä¸¤ä¸ªwidgetä¸€èµ·ç»„åˆä½¿ç”¨ã€‚</p><p>Stack: æ”¯æŒå…ƒç´ å †å </p><p>Positionedï¼šæ”¯æŒç»å¯¹å®šä½</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dart">child:Stack(<br>  children: &lt;Widget&gt;[<br>      Image.network(<span class="hljs-string">&quot;https://ossweb-img.qq.com/upload/adw/image/20191022/627bdf586e0de8a29d5a48b86700a790.jpeg&quot;</span>),<br>      Positioned(<br>        top: <span class="hljs-number">20</span>,<br>        right: <span class="hljs-number">10</span>,<br>        child:Image.asset(<span class="hljs-string">&quot;assets/images/logo.png&quot;</span>,width:<span class="hljs-number">200.0</span>)<br>      )<br>  ],<br>)<br></code></pre></td></tr></table></figure><h4 id="3-4-Flex-Expanded-æµå¼å¸ƒå±€"><a href="#3-4-Flex-Expanded-æµå¼å¸ƒå±€" class="headerlink" title="3.4 Flex &amp; Expanded æµå¼å¸ƒå±€"></a>3.4 Flex &amp; Expanded æµå¼å¸ƒå±€</h4><p>Flexæµå¼å¸ƒå±€ä½œä¸ºå‰ç«¯åŒå­¦éƒ½ç†Ÿæ‚‰ï¼Œä¹‹å‰è®²è¿‡çš„Rowï¼ŒColumnï¼Œå…¶å®éƒ½æ˜¯ç»§æ‰¿è‡ªFlexï¼Œä¹Ÿå±äºæµå¼å¸ƒå±€ã€‚</p><p>å¦‚æœè½´å‘ä¸ç¡®å®šï¼Œä½¿ç”¨Flexï¼Œé€šè¿‡ä¿®æ”¹ directionçš„å€¼è®¾å®šè½´å‘<br>å¦‚æœè½´å‘å·²ç¡®å®šï¼Œä½¿ç”¨Rowï¼ŒColumnï¼Œå¸ƒå±€æ›´ç®€æ´ï¼Œæ›´æœ‰è¯­ä¹‰åŒ–</p><p>Flexæµ‹è¯•é¡µï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlexPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>&#123;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Flex Page&quot;</span>),<br>      ),<br>      body:  Flex(<br>          direction: Axis.horizontal,<br>          children: &lt;Widget&gt;[<br>            Container(<br>              width: <span class="hljs-number">30</span>,<br>              height: <span class="hljs-number">100</span>,<br>              color: Colors.blue,<br>            ),<br>            Expanded(<br>              flex: <span class="hljs-number">1</span>,<br>              child: Container(<br>                height: <span class="hljs-number">100.0</span>,<br>                color: Colors.red,<br>              ),<br>            ),<br>            Expanded(<br>              flex: <span class="hljs-number">1</span>,<br>              child: Container(<br>                height: <span class="hljs-number">100.0</span>,<br>                color: Colors.green,<br>              ),<br>            ),<br>          ],<br>        ),<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ä¸­ï¼Œè½´å‘æ¨ªå‘æ’åˆ—ï¼Œæœ€å·¦è¾¹ä¸€ä¸ªå›ºå®šå®½åº¦çš„Containerï¼Œå³è¾¹ä¸¤ä¸ªExpandedï¼Œå„è‡ªå å‰©ä¸‹çš„å®½åº¦çš„ä¸€åŠã€‚</p><h3 id="4-åŠ¨ç”»"><a href="#4-åŠ¨ç”»" class="headerlink" title="4.åŠ¨ç”»"></a>4.åŠ¨ç”»</h3><p>Flutteræ—¢ç„¶è¯´äº†ï¼Œä¸€åˆ‡éƒ½æ˜¯Widgetï¼ŒåŒ…æ‹¬åŠ¨ç”»å®ç°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªWidgetã€‚ æˆ‘ä»¬è¿˜æ˜¯çœ‹ä¸€ä¸ªç¤ºä¾‹</p><h4 id="4-1-ç®€å•åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºï¼š"><a href="#4-1-ç®€å•åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºï¼š" class="headerlink" title="4.1 ç®€å•åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºï¼š"></a>4.1 ç®€å•åŠ¨ç”»ï¼šæ·¡å…¥æ·¡å‡ºï¼š</h4><p>ä½¿ç”¨flutteræä¾›çš„ç°æˆçš„Widgetï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:flutter/material.dart&#x27;</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  _AnimatePage  createState()=&gt; _AnimatePage();<br>&#125; <br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AnimatePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">AnimatePage</span>&gt; </span>&#123;<br>  <span class="hljs-built_in">bool</span> _visible=<span class="hljs-keyword">true</span>;<br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Animate Page&quot;</span>),<br>      ),<br>      body: <br>        Center(<br>          child: Column(<br>            children: &lt;Widget&gt;[<br>              AnimatedOpacity(<br>                opacity: _visible ? <span class="hljs-number">1.0</span>:<span class="hljs-number">0.0</span>,<br>                duration: <span class="hljs-built_in">Duration</span>(milliseconds: <span class="hljs-number">1000</span>),<br>                child: Image.asset(<span class="hljs-string">&quot;assets/images/logo.png&quot;</span>),<br>              ),<br>              RaisedButton(<br>                child: Text(<span class="hljs-string">&quot;æ˜¾ç¤ºéšè—&quot;</span>),<br>                onPressed: ()&#123;<br>                  setState(() &#123;<br>                    _visible=!_visible;<br>                  &#125;);<br>                &#125;,<br>              ),<br>            ],<br>          ),<br>        )    <br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­çš„AnimatedOpacityå°±æ˜¯åŠ¨ç”»é€æ˜åº¦å˜åŒ–çš„çš„Widgetï¼Œè€Œè¢«é€æ˜åº¦æ§åˆ¶å˜åŒ–çš„Imageåˆ™æ˜¯AnimatedOpacityçš„å­å…ƒç´ ã€‚è¿™ä¸ªå’Œä»¥å¾€å‰ç«¯å†™åŠ¨ç”»çš„æ–¹å¼ï¼Œå°±å®Œå…¨ä¸ä¸€æ ·äº†ï¼Œéœ€è¦æ”¹å˜ä¸€ä¸‹æ€ç»´æ–¹å¼ã€‚</p><p>Demoæ•ˆæœ</p><h4 id="4-2-å¤æ‚ä¸€äº›çš„åŠ¨ç”»ï¼šæ”¾å¤§ç¼©å°"><a href="#4-2-å¤æ‚ä¸€äº›çš„åŠ¨ç”»ï¼šæ”¾å¤§ç¼©å°" class="headerlink" title="4.2 å¤æ‚ä¸€äº›çš„åŠ¨ç”»ï¼šæ”¾å¤§ç¼©å°"></a>4.2 å¤æ‚ä¸€äº›çš„åŠ¨ç”»ï¼šæ”¾å¤§ç¼©å°</h4><p>å½“å†™å¤æ‚ä¸€äº›åŠ¨ç”»çš„æ—¶å€™ï¼Œæ²¡æœ‰å¯¹åº”çš„widgetç»„ä»¶ï¼Œå°±éœ€è¦è‡ªå·±ä½¿ç”¨Animationï¼Œå’ŒAnimationControllerï¼Œä»¥åŠTweenæ¥ç»„åˆã€‚</p><p>Animation: ä¿å­˜åŠ¨ç”»çš„å€¼å’ŒçŠ¶æ€</p><p>AnimationController: æ§åˆ¶åŠ¨ç”»ï¼ŒåŒ…å«ï¼šå¯åŠ¨forward()ã€åœæ­¢stop()ã€åå‘æ’­æ”¾reverse()ç­‰æ–¹æ³•</p><p>Tween: æä¾›beginï¼Œendä½œä¸ºåŠ¨ç”»å˜åŒ–çš„å–å€¼èŒƒå›´</p><p>Curveï¼šè®¾ç½®åŠ¨ç”»ä½¿ç”¨æ›²çº¿å˜åŒ–ï¼Œå¦‚éåŒ€é€ŸåŠ¨ç”»ï¼Œå…ˆåŠ é€Ÿï¼Œåå‡é€Ÿç­‰çš„è®¾å®šã€‚</p><p>åŠ¨ç”»ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnimatePage2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>&#123;<br>  _AnimatePage  createState()=&gt; _AnimatePage();<br>&#125; <br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AnimatePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">AnimatePage2</span>&gt;  <span class="hljs-title">with</span> <span class="hljs-title">SingleTickerProviderStateMixin</span> </span>&#123;<br><br>  Animation&lt;<span class="hljs-built_in">double</span>&gt; animation;<br>  AnimationController controller;<br><br>  initState() &#123;<br>    <span class="hljs-keyword">super</span>.initState();<br>    controller =  AnimationController(duration:  <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">3</span>), vsync: <span class="hljs-keyword">this</span>);<br><br>     <span class="hljs-comment">//ä½¿ç”¨å¼¹æ€§æ›²çº¿ï¼Œæ•°æ®å˜åŒ–ä»0åˆ°300</span><br>     animation = CurvedAnimation(parent: controller, curve: Curves.bounceIn);<br>     animation = Tween(begin: <span class="hljs-number">0.0</span>, end: <span class="hljs-number">300.0</span>).animate(animation)<br>      ..addListener(() &#123;<br>        setState(() &#123;<br>        &#125;);<br>      &#125;);<br><br>    <span class="hljs-comment">//å¯åŠ¨åŠ¨ç”»(æ­£å‘æ‰§è¡Œ)</span><br>    controller.forward();<br>  &#125;<br><br>  <span class="hljs-meta">@override</span><br>  Widget build(BuildContext context) &#123;<br><br>    <span class="hljs-keyword">return</span> Scaffold(<br>      appBar: AppBar(<br>        title: Text(<span class="hljs-string">&quot;Animate Page&quot;</span>),<br>      ),<br>      body: <br>        Center(<br>          child: Image.asset(<br>            <span class="hljs-string">&quot;assets/images/logo.png&quot;</span>,<br>            width: animation.value, <br>            height: animation.value<br>          ),<br>        )  <br>      );   <br>  &#125;<br><br>  dispose() &#123;<br>    <span class="hljs-comment">//è·¯ç”±é”€æ¯æ—¶éœ€è¦é‡Šæ”¾åŠ¨ç”»èµ„æº</span><br>    controller.dispose();<br>    <span class="hljs-keyword">super</span>.dispose();<br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œ åœ¨è·¯ç”±é”€æ¯çš„æ—¶å€™ï¼Œéœ€è¦é‡Šæ”¾åŠ¨ç”»èµ„æºï¼Œå¦åˆ™å®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ ã€‚</p><h3 id="5-httpè¯·æ±‚"><a href="#5-httpè¯·æ±‚" class="headerlink" title="5.httpè¯·æ±‚"></a>5.httpè¯·æ±‚</h3><p>åšä¸šåŠ¡é€»è¾‘ï¼Œæ€»ç¦»ä¸å¼€httpè¯·æ±‚ï¼Œæ¥ä¸‹æ¥ï¼Œå°±æ¥çœ‹ä¸‹flutterçš„httpè¯·æ±‚æ˜¯å¦‚ä½•åšçš„ã€‚</p><h4 id="5-1-HttpClient"><a href="#5-1-HttpClient" class="headerlink" title="5.1 HttpClient"></a>5.1 HttpClient</h4><p>httpClientåœ¨ dart:ioåº“ä¸­ï¼Œä¸éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“å°±å¯ä»¥ä½¿ç”¨ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:convert&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;dart:io&#x27;</span>;<br><br>Future _getByHttpClient() <span class="hljs-keyword">async</span>&#123;<br>    <span class="hljs-comment">//æ¥å£åœ°å€</span><br>    <span class="hljs-keyword">const</span> url=<span class="hljs-string">&quot;https://www.demo.com/api&quot;</span>;<br><br>    <span class="hljs-comment">//å®šä¹‰httpClient</span><br>    HttpClient client = <span class="hljs-keyword">new</span> HttpClient();<br>    <span class="hljs-comment">//å®šä¹‰request</span><br>    HttpClientRequest request = <span class="hljs-keyword">await</span> client.getUrl(<span class="hljs-built_in">Uri</span>.parse(url));<br>    <span class="hljs-comment">//å®šä¹‰reponse</span><br>    HttpClientResponse response = <span class="hljs-keyword">await</span> request.close();<br>    <span class="hljs-comment">//respinseè¿”å›çš„æ•°æ®ï¼Œæ˜¯å­—ç¬¦ä¸²</span><br>    <span class="hljs-built_in">String</span> responseBody = <span class="hljs-keyword">await</span> response.transform(utf8.decoder).join();<br>    <span class="hljs-comment">//å…³é—­httpClient</span><br>    client.close();<br>    <span class="hljs-comment">//å­—ç¬¦ä¸²éœ€è¦è½¬åŒ–ä¸ºJSON</span><br>    <span class="hljs-keyword">var</span> json= jsonDecode(responseBody);<br>    <span class="hljs-keyword">return</span> json;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>æ€»çš„çœ‹èµ·æ¥ï¼Œä»£ç è¿˜æ˜¯æŒºç¹ççš„ï¼Œä½¿ç”¨èµ·æ¥å¹¶ä¸æ–¹ä¾¿ã€‚</p><h4 id="5-2-http"><a href="#5-2-http" class="headerlink" title="5.2 http"></a>5.2 http</h4><p>è¿™æ˜¯Dart.devæä¾›çš„ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œåœ°å€ï¼š <a href="https://pub.dev/packages/http">https://pub.dev/packages/http</a></p><p>éœ€è¦å…ˆåœ¨pubspec.yamlé‡Œæ·»åŠ ç±»åº“åº”ç”¨</p><p>dependencies:<br>  flutter:<br>    sdk: flutter<br>  json_annotation: ^2.0.0<br>  http: ^0.12.0+2<br>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dart">Future _getByDartHttp() <span class="hljs-keyword">async</span> &#123;<br>  <span class="hljs-comment">// æ¥å£åœ°å€</span><br> <span class="hljs-keyword">const</span> url=<span class="hljs-string">&quot;https://www.demo.com/api&quot;</span>;<span class="hljs-comment">//è·å–æ¥å£çš„è¿”å›å€¼</span><br> <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(url);<br> <span class="hljs-comment">//æ¥å£çš„è¿”å›å€¼è½¬åŒ–ä¸ºJSON</span><br> <span class="hljs-keyword">var</span> json = jsonDecode(response.body); <br> <span class="hljs-keyword">return</span> json;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•ï¼Œæ¯”ä¸Šé¢çš„httpClientç®€æ´äº†è®¸å¤šã€‚</p><p>Dio<br>å›½å†…ä½¿ç”¨æœ€å¹¿æ³›çš„ï¼Œè¿˜æ˜¯flutterchinaåœ¨githubä¸Šæä¾›çš„Dioç¬¬ä¸‰æ–¹åº“ï¼Œç›®å‰Starè¾¾åˆ°äº†5800å¤šä¸ªã€‚</p><p>å®˜ç½‘åœ°å€ï¼š <a href="https://github.com/flutterchina/dio">https://github.com/flutterchina/dio</a></p><p>ä½¿ç”¨Dioï¼Œå› ä¸ºæ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰€ä»¥åŒæ ·è¦å…ˆåœ¨ pubspec.yaml æ·»åŠ ç¬¬ä¸‰æ–¹åº“å¼•ç”¨ã€‚</p><p>dependencies:<br>  flutter:<br>    sdk: flutter<br>  json_annotation: ^2.0.0<br>  dio: 2.1.16<br>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;package:dio/dio.dart&#x27;</span>;<br><br>Future _getByDio() <span class="hljs-keyword">async</span>&#123;<br><br>      <span class="hljs-comment">// æ¥å£åœ°å€</span><br>      <span class="hljs-keyword">const</span> url=<span class="hljs-string">&quot;https://www.demo.com/api&quot;</span>;<br><br>      <span class="hljs-comment">//å®šä¹‰ Dioå®ä¾‹</span><br>      Dio dio = <span class="hljs-keyword">new</span> Dio();<br>      <span class="hljs-comment">//è·å–dioè¿”å›çš„Response</span><br>      Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(url);<br>      <span class="hljs-comment">//è¿”å›å€¼è½¬åŒ–ä¸ºJSON</span><br>      <span class="hljs-keyword">var</span> json=jsonDecode(response.data);<br>      <span class="hljs-keyword">return</span> json;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£è°ƒç”¨ä¹Ÿæ˜¯æ¯”httpclientç®€å•å¾ˆå¤šï¼Œå¯èƒ½ç”±äºfluterchinaåœ¨ä»–çš„å®˜æ–¹æ•™ç¨‹é‡Œï¼ŒæåŠ›æ¨èè¿™ä¸ªdioåº“ï¼Œæ‰€ä»¥ç›®å‰è¿™ä¸ªç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨æƒ…å†µæœ€ä¸ºå¹¿æ³›ã€‚å’ŒDart.devçš„httpä¸åŒçš„æ˜¯ï¼Œä»–éœ€è¦newä¸€ä¸ªDioçš„å®ä¾‹ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ä¼ å…¥æ›´å¤šçš„æ‰©å±•é…ç½®å‚æ•°ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dart">BaseOptions options = <span class="hljs-keyword">new</span> BaseOptions(<br>    baseUrl: <span class="hljs-string">&quot;https://www.xx.com/api&quot;</span>,<br>    connectTimeout: <span class="hljs-number">5000</span>,<br>    receiveTimeout: <span class="hljs-number">3000</span>,<br>);<br>Dio dio = <span class="hljs-keyword">new</span> Dio(options);<br></code></pre></td></tr></table></figure><h3 id="6-ç¼ºç‚¹"><a href="#6-ç¼ºç‚¹" class="headerlink" title="6.ç¼ºç‚¹"></a>6.ç¼ºç‚¹</h3><p>å­¦ä¹ Flutterçš„è¿‡ç¨‹ä¸­ï¼Œå…¶å®è¿˜æ˜¯æœ‰å¾ˆå¤šåå·å’Œéœ€è¦åæ§½çš„åœ°æ–¹ã€‚</p><h4 id="6-1-å¢™"><a href="#6-1-å¢™" class="headerlink" title="6.1 å¢™"></a>6.1 å¢™</h4><p>å› ä¸ºæœ‰å¢™åœ¨ï¼Œæ‰€ä»¥åœ¨é…ç½®flutterï¼Œæˆ–è€…ä¸‹è½½flutteræ’ä»¶å’Œç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œéœ€è¦å¢™å†…å¤–æ¥å›åˆ‡æ¢ã€‚</p><h4 id="6-2-ç»„ä»¶è¿‡åº¦è®¾è®¡"><a href="#6-2-ç»„ä»¶è¿‡åº¦è®¾è®¡" class="headerlink" title="6.2 ç»„ä»¶è¿‡åº¦è®¾è®¡"></a>6.2 ç»„ä»¶è¿‡åº¦è®¾è®¡</h4><p>æä¾›çš„å„ç§widgetç»„ä»¶å¾ˆå¤šï¼Œä½†æ˜¯çœŸæ­£æ ¸å¿ƒçš„ç»„ä»¶ã€å¸¸ç”¨çš„ç»„ä»¶ï¼Œä¹Ÿå°±å“ªäº›ã€‚ æ¯”å¦‚Flex å’Œcolumnã€rowçš„å…³ç³»ï¼Œæ¯”å¦‚ï¼ŒTween ä¸IntTweenï¼ŒColorTweenï¼ŒSizeTweenç­‰20å¤šä¸ªTweenå­ç±»ä¹‹é—´çš„å…³ç³»ï¼Œä½ éœ€è¦èŠ±å¾ˆå¤§çš„ç²¾åŠ›ï¼Œå»çœ‹æ¯ä¸ªå…·ä½“å­ç±»çš„å®ç°å·®åˆ«ã€‚</p><h4 id="6-3-åµŒå¥—å¤ªå¤šä¸é€‚åº”"><a href="#6-3-åµŒå¥—å¤ªå¤šä¸é€‚åº”" class="headerlink" title="6.3 åµŒå¥—å¤ªå¤šä¸é€‚åº”"></a>6.3 åµŒå¥—å¤ªå¤šä¸é€‚åº”</h4><p>å› ä¸ºåµŒå¥—å±‚çº§å¾ˆå¤šï¼Œè€Œä¸”å¸ƒå±€ã€åŠ¨ç”»ã€åŠŸèƒ½éƒ½åœ¨ä¸€èµ·ï¼Œç¬¬ä¸€æ¬¡ä¸Šæ‰‹Flutterå’ŒDartï¼Œè¿™ç§åµŒå¥—å…³ç³»è®©äººå¾ˆæ™•èœï¼Œè¿™ä¸ªåªèƒ½å»æ…¢æ…¢å…‹æœã€‚ å¦å¤–ï¼Œå¤šå¼€å‘è‡ªå®šä¹‰çš„ç»„ä»¶ï¼Œå¯ä»¥è®©åµŒå¥—å…³ç³»çœ‹èµ·æ¥æ¸…æ™°ä¸€äº›ã€‚</p><h4 id="6-4-å¸ƒå±€ä¿®æ”¹ä¼šå¯¼è‡´åµŒå¥—å…³ç³»ä¿®æ”¹"><a href="#6-4-å¸ƒå±€ä¿®æ”¹ä¼šå¯¼è‡´åµŒå¥—å…³ç³»ä¿®æ”¹" class="headerlink" title="6.4 å¸ƒå±€ä¿®æ”¹ä¼šå¯¼è‡´åµŒå¥—å…³ç³»ä¿®æ”¹"></a>6.4 å¸ƒå±€ä¿®æ”¹ä¼šå¯¼è‡´åµŒå¥—å…³ç³»ä¿®æ”¹</h4><p>å‰ç«¯çš„html+cssåˆ†ç¦»ä¸–ç•Œé‡Œï¼Œä¸æ”¹å˜åµŒå¥—å…³ç³»ï¼Œä¿®æ”¹CSSå°±å¯ä»¥è°ƒæ•´å¸ƒå±€ã€‚ ä½†æ˜¯åœ¨Flutteré‡Œå› ä¸ºå¸ƒå±€ä¹Ÿæ˜¯åµŒå¥—å…³ç³»ï¼Œè¿™å°±å¯¼è‡´å¿…é¡»å»æ”¹å˜åµŒå¥—å…³ç³»ã€‚ è¦è®©åµŒå¥—æ›´ç®€å•å˜åŠ¨å½±å“æ›´å°ï¼Œé¡µé¢æ‹†åˆ†æˆå­ç»„ä»¶å˜å¾—å°¤ä¸ºé‡è¦ã€‚</p><h4 id="6-5-Dartè¯­è¨€å‡çº§"><a href="#6-5-Dartè¯­è¨€å‡çº§" class="headerlink" title="6.5 Dartè¯­è¨€å‡çº§"></a>6.5 Dartè¯­è¨€å‡çº§</h4><p>æ²¡é”™ï¼Œè¯­è¨€å‡çº§ä¹Ÿä¼šå¯¼è‡´å­¦ä¹ çš„å›°æ‰°ï¼Œå¤–é¢çš„èµ„æ–™æ–°æ—§éƒ½æœ‰ï¼Œæ¯”å¦‚æœ‰äº›æ˜¯ new Text() ,æœ‰äº›ç›´æ¥æ˜¯Text() ï¼Œæ–°æ‰‹ä¸Šè·¯ä¼šå¾ˆæ™•èœã€‚ å…¶å®è¿™éƒ½æ˜¯Dartè¯­è¨€å‡çº§å¯¼è‡´çš„ï¼Œè®°ä½Dartå‡çº§2.Xä»¥åï¼Œéƒ½ä¸ä½¿ç”¨newäº†ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»çœ‹ä¸‹Dartçš„å‡çº§å˜æ›´è¯´æ˜ã€‚</p><h4 id="6-6-ä¸èƒ½çƒ­æ›´æ–°"><a href="#6-6-ä¸èƒ½çƒ­æ›´æ–°" class="headerlink" title="6.6 ä¸èƒ½çƒ­æ›´æ–°"></a>6.6 ä¸èƒ½çƒ­æ›´æ–°</h4><p>å¹´ä¸­çš„æ—¶å€™ï¼ŒGoogleå®˜æ–¹å®£å¸ƒflutteræš‚ä¸å®˜æ–¹æ”¯æŒçƒ­æ›´æ–°ï¼Œä½†æ˜¯é—²é±¼å›¢é˜Ÿå·²ç»æœ‰äº†è‡ªå·±çš„çƒ­æ›´æ–°æ–¹æ¡ˆã€‚ å…³äºçƒ­æ›´æ–°ï¼Œåªèƒ½é™è§‚å…¶å˜äº†ã€‚ æ€§èƒ½ã€å¼€å‘æ•ˆç‡ã€çƒ­æ›´æ–°ï¼Œæ€»æ˜¯è¦æœ‰å–èˆçš„ã€‚å³ä½¿æ˜¯é—²é±¼å›¢é˜Ÿï¼Œçƒ­æ›´æ–°ä¹Ÿæ˜¯ä»˜å‡ºäº†ä¸€ç‚¹ç‚¹æ€§èƒ½ä¸‹é™çš„ä»£ä»·çš„ï¼Œè¿™æ˜¯ä½ é€‰æ‹©flutterçš„åˆè¡·å—ï¼Ÿè¿˜æ˜¯é‚£å¥è¯ï¼šæƒè¡¡å¾—å¤±</p>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»„ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flutterå¼€å‘ç¯å¢ƒæ­å»º</title>
    <link href="/blog/2023/12/08/flutter-configuration/"/>
    <url>/blog/2023/12/08/flutter-configuration/</url>
    
    <content type="html"><![CDATA[<h1 id="Flutterå…¥é—¨æ•™ç¨‹-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#Flutterå…¥é—¨æ•™ç¨‹-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="Flutterå…¥é—¨æ•™ç¨‹-å¼€å‘ç¯å¢ƒæ­å»º"></a>Flutterå…¥é—¨æ•™ç¨‹-å¼€å‘ç¯å¢ƒæ­å»º</h1><p>å­¦ä¹ Flutterï¼Œé¦–å…ˆéœ€è¦æ­å»ºå¥½Flutterçš„å¼€å‘ç¯å¢ƒï¼Œä¸‹é¢æˆ‘å°†ä¸€æ­¥æ­¥å¸¦é¢†å¤§å®¶æ­å»ºå¼€å‘ç¯å¢ƒå¹¶ä¸”æˆåŠŸè¿è¡Œflutteré¡¹ç›®ã€‚<br>Flutterç¯å¢ƒé…ç½®ä¸»è¦æœ‰è¿™å‡ ç‚¹ï¼š<br><code>ç³»ç»Ÿé…ç½®è¦æ±‚</code><br><code>Javaç¯å¢ƒ</code><br><code>Flutter SDK</code><br><code>Android å¼€å‘ç¯å¢ƒ</code></p><h3 id="ä¸€ã€ç³»ç»Ÿé…ç½®è¦æ±‚"><a href="#ä¸€ã€ç³»ç»Ÿé…ç½®è¦æ±‚" class="headerlink" title="ä¸€ã€ç³»ç»Ÿé…ç½®è¦æ±‚"></a>ä¸€ã€ç³»ç»Ÿé…ç½®è¦æ±‚</h3><p>æ“ä½œç³»ç»Ÿï¼šWindows 7 SP1 æˆ–æ›´é«˜çš„ç‰ˆæœ¬ï¼ˆåŸºäº x86-64 çš„ 64 ä½æ“ä½œç³»ç»Ÿï¼‰</p><p>ç£ç›˜ç©ºé—´ï¼šé™¤å®‰è£… IDE å’Œä¸€äº›å·¥å…·ä¹‹å¤–è¿˜åº”æœ‰è‡³å°‘ 1.64 GB çš„ç©ºé—´</p><p>Gitç¯å¢ƒï¼šè¦è®© Flutteråœ¨å¼€ç¯å¢ƒä¸­æ­£å¸¸ä½¿ç”¨ï¼Œå°±è¦æœ‰gitç¯å¢ƒ</p><h3 id="äºŒã€Java-ç¯å¢ƒé…ç½®"><a href="#äºŒã€Java-ç¯å¢ƒé…ç½®" class="headerlink" title="äºŒã€Java ç¯å¢ƒé…ç½®"></a>äºŒã€Java ç¯å¢ƒé…ç½®</h3><p>è¿™é‡Œéœ€è¦å®‰è£… Java ç¯å¢ƒï¼Œå› ä¸ºFlutteræ˜¯åŸºäºAndroidçš„ï¼Œè¿™é‡Œå°±ä¸å¤šç»†è¯´<br>Javaç¯å¢ƒä¸‹è½½åœ°å€ï¼šJava Downloads | Oracle</p><p>è¿™é‡Œç›´æ¥ä¸‹è½½64ä½å®‰è£…åŒ…ï¼Œè§£å‹ä¸€ç›´ç‚¹ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å°±æå®šäº†.</p><p>æ€ä¹ˆæ£€æµ‹javaæ˜¯å¦å®‰è£…æˆåŠŸå‘¢ï¼Ÿ</p><p>1ã€å¿«æ·é”®ï¼š win+R ï¼Œè¾“å…¥cmdï¼ŒæŒ‰ä¸‹å›è½¦</p><p>2ã€å¯ä»¥é€‰æ‹©è¾“å…¥ java  javac  java -version ä¸‰ä¸ªdocå‘½ä»¤è¿›è¡Œæ£€æŸ¥</p><p>è¾“å…¥java + å›è½¦ï¼Œå‡ºç°ç»“æœè¯æ˜å®‰è£…æˆåŠŸ.</p><h3 id="ä¸‰ã€Flutter-SDK"><a href="#ä¸‰ã€Flutter-SDK" class="headerlink" title="ä¸‰ã€Flutter SDK"></a>ä¸‰ã€Flutter SDK</h3><p> Flutter SDKä¸‹è½½åœ°å€ï¼š<a href="https://flutter.cn/docs/development/tools/sdk/releases">https://flutter.cn/docs/development/tools/sdk/releases</a></p><p>é€‰æ‹©æœ€æ–°ç‰ˆæœ¬ä¸‹è½½å³å¯ï¼Œä¸‹è½½æˆåŠŸåå°†å‹ç¼©åŒ…è§£å‹ï¼Œè§£å‹å­˜æ”¾è·¯å¾„æ”¾åœ¨ä½ æƒ³æ”¾ç½® Flutter SDK çš„è·¯å¾„ä¸­ï¼ˆæˆ‘çš„æ˜¯D:\Android\flutterï¼‰</p><p>æ³¨æ„ï¼šè¯·å‹¿å°† Flutter å®‰è£…åœ¨éœ€è¦é«˜æƒé™çš„æ–‡ä»¶å¤¹å†…ï¼Œä¾‹å¦‚ C:\Program Files\</p><p>æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ flutter å‘½ä»¤çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœè¾“å‡ºå¦‚ä¸‹ç•Œé¢å°±è¡¨ç¤ºflutterå®‰è£…æˆåŠŸå•¦ï¼š</p><p>å°† Flutter çš„è¿è¡Œæ–‡ä»¶è·¯å¾„åŠ å…¥åˆ° PATH ç¯å¢ƒå˜é‡ï¼š</p><p>å³å‡»ã€æ­¤ç”µè„‘ã€‘é€‰æ‹©ã€å±æ€§ã€‘&#x3D;&#x3D;&gt;é€‰æ‹©ã€é«˜çº§ç³»ç»Ÿè®¾ç½®ã€‘&#x3D;&#x3D;&gt;é€‰æ‹©ã€ç¯å¢ƒå˜é‡ã€‘ï¼Œåœ¨ã€ç”¨æˆ·å˜é‡ã€‘ä¸€æ ä¸­ï¼Œé€‰æ‹©ã€Pathã€‘</p><p>åŒå‡»è¿›å…¥Pathæ¡ç›®ï¼Œç‚¹å‡»ã€æ–°å»ºã€‘å°†ä½ å®‰è£…çš„flutterååœ¨å®Œæ•´è·¯å¾„ä½œä¸ºæ–°å˜é‡çš„å€¼</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sh">path<br>E:\flutter_windows_3.16.3-stable\flutter\bin<br><br>FLUTTER_STORAGE_BASE_URL<br>https://storage.flutter-io.cn<br><br>PUB_HOSTED_URL<br>https://pub.flutter-io.cn<br></code></pre></td></tr></table></figure><p>FLUTTER_STORAGE_BASE_URLã€PUB_HOSTED_URL ç”¨æ¥é…ç½®å›½å†…çš„flutterç¯å¢ƒ</p><p>ç„¶åä¸€ç›´ç‚¹å‡»ç¡®å®šå°±OKå•¦</p><p>åœ¨å°† Path å˜é‡æ›´æ–°åï¼Œæ‰“å¼€ä¸€ä¸ªæ–°çš„æ§åˆ¶å°çª—å£ï¼šè¾“å…¥ flutter doctor å‘½ä»¤ï¼Œå¦‚æœå®ƒæç¤ºæœ‰ä»»ä½•çš„å¹³å°ç›¸å…³ä¾èµ–ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦æŒ‰ç…§æŒ‡ç¤ºå®Œæˆè¿™äº›é…ç½®ã€‚</p><p>ç®€å•æ¥çœ‹ï¼Œdoctoræ˜¯åŒ»ç”Ÿçš„æ„æ€ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å¯¹flutterç¯å¢ƒè¿›è¡Œæ£€æŸ¥ï¼Œå¹¶å°†æ£€æµ‹ç»“æœä»¥æŠ¥å‘Šå½¢å¼å‘ˆç°å‡ºæ¥ï¼Œç„¶åæ ¹æ®æ£€æŸ¥æŠ¥å‘Šä¾æ¬¡è§£å†³ç°æœ‰ç¯å¢ƒç¼ºé™·é—®é¢˜</p><p>è¿™é‡Œå¦‚æœæ˜¯åˆšå®‰è£…flutterï¼Œæœ‰äº›æ£€æŸ¥é¡¹å¸¦æœ‰çº¢è‰²çš„[Ã—]ï¼Œæˆ‘è¿™é‡Œæœ‰æ˜¾ç¤º[âˆš]å’Œ[!]</p><p>[Ã—]è¡¨ç¤ºè¿˜ä¸èƒ½æ­£å¸¸è¿è¡Œ<br>[!]è¡¨ç¤ºè¿˜å­˜åœ¨ä¸€äº›é—®é¢˜<br>åªæœ‰å…¨éƒ¨ä¸º[âˆš]ï¼Œç³»ç»Ÿç¯å¢ƒæ‰æ˜¯å®Œå…¨å®‰è£…å¥½ï¼Œä½ çš„æ£€æŸ¥æŠ¥å‘Šæ‰æ˜¯æ²¡æ¯›ç—…çš„</p><p>æœ‰å‰çš„é€‰é¡¹çš„ä¸€äº›å¸¸è§é—®é¢˜</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs txt">1.cmdline-tools component is missing æ²¡æœ‰å®‰è£…cmdline-toolså‘½ä»¤å·¥å…·<br>2.Android license status unknown ç¼ºå°‘androidè¯ä¹¦<br>3.Visual Studio - develop Windows apps æ²¡æœ‰å®‰è£…Visual Studio<br></code></pre></td></tr></table></figure><p>ç°åœ¨å°±æ¥çœ‹çœ‹ä¸Šè¿°è¿™ä¸ªè­¦å‘Šï¼Œæ ¹æ®å®ƒçš„æç¤ºï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œï¼š </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter doctor --android-licenses <br></code></pre></td></tr></table></figure><p>ï¼Œæ‰§è¡Œè¿™æ¡å‘½ä»¤åï¼Œä¼šæœ‰ä¸€ç³»åˆ—é€‰æ‹©ï¼Œå…¨éƒ¨é€‰æ‹©yå°±å¥½ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“å®ƒæ˜¯ä¸ªå•¥ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œç ”ç©¶ï¼‰</p><p>ç„¶åæˆ‘ä»¬å†æ¥æ‰§è¡Œï¼š </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter doctor <br></code></pre></td></tr></table></figure><p>å…¨éƒ¨ä¸ºâˆšçš„é€‰é¡¹åˆ™ä½ çš„ç¯å¢ƒå°±å®Œå…¨å®‰è£…å¥½äº†</p><h3 id="å››ã€è®¾ç½®Androidå¼€å‘ç¯å¢ƒ"><a href="#å››ã€è®¾ç½®Androidå¼€å‘ç¯å¢ƒ" class="headerlink" title="å››ã€è®¾ç½®Androidå¼€å‘ç¯å¢ƒ"></a>å››ã€è®¾ç½®Androidå¼€å‘ç¯å¢ƒ</h3><p>å·²ç»æ­£ç¡®å®‰è£…flutterå¼€å‘ç¯å¢ƒï¼Œä½†æ˜¯è¿˜éœ€è¦é…ç½®ä¸‹Androidçš„å¼€å‘ç¯å¢ƒï¼Œå› ä¸ºFlutter ä¾èµ– Android Studio çš„å…¨é‡å®‰è£…æ¥ä¸ºå…¶æä¾› Android å¹³å°çš„æ”¯æŒ</p><h4 id="1-å®‰è£…-Android-Studio"><a href="#1-å®‰è£…-Android-Studio" class="headerlink" title="1.å®‰è£… Android Studio"></a>1.å®‰è£… Android Studio</h4><p>Android Studioä¸‹è½½åœ°å€ï¼š<a href="https://developer.android.google.cn/studio">https://developer.android.google.cn/studio</a></p><h4 id="2-å®‰è£…Android-SDK"><a href="#2-å®‰è£…Android-SDK" class="headerlink" title="2.å®‰è£…Android SDK"></a>2.å®‰è£…Android SDK</h4><p>Android SDKä¸‹è½½åœ°å€ï¼š<a href="https://www.androiddevtools.cn/">https://www.androiddevtools.cn</a></p><p>è¿›å…¥å®˜ç½‘æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ° SDK Tools é€‰é¡¹ï¼š</p><p>ç‚¹å‡»ä¸‹è½½Android SDKå‹ç¼©åŒ…ï¼š</p><p>ä¸‹è½½æˆåŠŸå¹¶è§£å‹å®‰è£…åˆ°è‡ªå®šä¹‰ç›®å½•ï¼Œè§£å‹åæ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</p><p>è¿è¡Œ flutter doctor ç¡®ä¿ Flutter å·²ç»å®šä½åˆ°äº†ä½ çš„ Android Studio çš„å®‰è£…ä½ç½®ã€‚<br>å¦‚æœ Flutter å¹¶æœªå®šä½åˆ°ï¼Œè¿è¡Œ </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">flutter config --android-studio-dir &lt;directory&gt; <br></code></pre></td></tr></table></figure><p>è®¾ç½®ä½ çš„ Android Studio çš„å®‰è£…ç›®å½•</p><h4 id="3-åˆ›å»ºè™šæ‹Ÿæœº"><a href="#3-åˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="3.åˆ›å»ºè™šæ‹Ÿæœº"></a>3.åˆ›å»ºè™šæ‹Ÿæœº</h4><p>é¦–å…ˆæ‰“å¼€æˆ‘ä»¬çš„Android Studioå¼€å‘å·¥å…·ï¼Œç¬¬ä¸€æ¬¡å®‰è£…æ‰“å¼€ç•Œé¢çš„å·¦ä¾§é€‰æ‹©ã€Pluginã€‘é€‰é¡¹ï¼Œç„¶åæœç´¢å¹¶å®‰è£…ã€Flutterã€‘æ’ä»¶ï¼Œå®‰è£…ã€flutterã€‘æ’ä»¶çš„åŒæ—¶ä¸€å¹¶å®‰è£…äº†ã€Dartã€‘æ’ä»¶ã€‚</p><p>å®‰è£…å¥½æ’ä»¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªFlutteré¡¹ç›®ï¼š</p><p>è¿™é‡Œéœ€è¦é€‰æ‹©ä½ çš„Flutter SDKå®‰è£…ç›®å½•ï¼Œç‚¹å‡»ã€Nextã€‘ï¼Œè¾“å…¥é¡¹ç›®åç§°ï¼š</p><p>æ³¨æ„ï¼šé¡¹ç›®å‘½åè§„èŒƒä¸€èˆ¬æ˜¯å•è¯å°å†™ï¼Œå¤šä¸ªå•è¯ä¹‹é—´ç”¨_è¿æ¥ï¼Œå¦‚ï¼šhello_world</p><p>å¡«å†™å®Œæ¯•åç‚¹å‡»ã€Finishã€‘å®Œæˆï¼Œæ‰“å¼€é¡¹ç›®è¿›å»ç•Œé¢ï¼Œé€‰æ‹©å·¥å…·æ çš„ã€Toolsã€‘ï¼Œé€‰æ‹©ã€SDK Managerã€‘</p><p>æ­£ç¡®å¡«å†™Android SDKæ‰€åœ¨ç›®å½•ï¼š</p><p>å®‰è£…æ‰€éœ€å·¥å…·åŒ…ï¼ˆè¿™ä¸ªå¯ä»¥åœ¨åæœŸè§†æƒ…å†µè€Œå®šé€‰æ‹©ä¸‹è½½ï¼Œè¿™é‡Œåªæ˜¯åšä¸€ä¸ªæ¼”ç¤ºï¼‰ï¼š</p><p>ç„¶ååŒæ ·åœ¨Toolsé€‰é¡¹ä¸‹é€‰æ‹©ã€Device Managerã€‘ï¼Œç‚¹å‡»ã€Create deviceã€‘æŒ‰é’®åˆ›å»ºè™šæ‹Ÿæœºï¼š</p><p>è¿™é‡Œè‡ªè¡Œé€‰æ‹©æœºå‹ï¼Œç„¶åç‚¹å‡»ã€Nextã€‘ï¼š</p><p>é€‰æ‹©ä¸€ä¸ªç³»ç»Ÿæ˜ åƒå¹¶ä¸‹è½½ï¼ˆè¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰ï¼š</p><p>ä¸‹è½½å®Œæˆåç‚¹å‡»ã€Nextã€‘ï¼Œç»§ç»­ç‚¹å‡»ã€Finishã€‘å®Œæˆï¼Œç„¶åç‚¹å‡»å¯åŠ¨æŒ‰é’®ï¼Œç­‰å¾…è™šæ‹Ÿæœºå¼€å¯å³å¯ï¼š</p><h4 id="4-è¿è¡Œflutteré¡¹ç›®"><a href="#4-è¿è¡Œflutteré¡¹ç›®" class="headerlink" title="4.è¿è¡Œflutteré¡¹ç›®"></a>4.è¿è¡Œflutteré¡¹ç›®</h4><p>è™šæ‹Ÿæœºå¯åŠ¨åï¼Œæˆ‘ä»¬åªéœ€è¦ç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’debugå°±å¯è¿è¡ŒæŸ¥çœ‹flutteré¡¹ç›®ï¼š</p><p>è¿™ä¸€è¿‡ç¨‹å¯èƒ½éœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ï¼š</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„flutteré¡¹ç›®å°±æˆåŠŸè¿è¡Œå•¦~~</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¿®æ”¹main.dartæ–‡ä»¶å†…å®¹æ—¶ï¼Œæ¨¡æ‹Ÿå™¨ä¹Ÿæ˜¯å®æ—¶æ›´æ–°çš„ï¼š</p><h3 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h3><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä»æ­å»ºé¡¹ç›®ç¯å¢ƒåˆ°è¿è¡Œflutteré¡¹ç›®æ•´ä¸ªæµç¨‹æ¢³ç†å®Œæˆï¼Œå†è¿›è¡Œä¸€æ¬¡æ€»ç»“ï¼š</p><h5 id="1-é¦–å…ˆè¦æœ¬èº«ç”µè„‘ç³»ç»Ÿé…ç½®è¾¾åˆ°æŒ‡å®šè¦æ±‚"><a href="#1-é¦–å…ˆè¦æœ¬èº«ç”µè„‘ç³»ç»Ÿé…ç½®è¾¾åˆ°æŒ‡å®šè¦æ±‚" class="headerlink" title="1.é¦–å…ˆè¦æœ¬èº«ç”µè„‘ç³»ç»Ÿé…ç½®è¾¾åˆ°æŒ‡å®šè¦æ±‚"></a>1.é¦–å…ˆè¦æœ¬èº«ç”µè„‘ç³»ç»Ÿé…ç½®è¾¾åˆ°æŒ‡å®šè¦æ±‚</h5><h5 id="2-Java-ç¯å¢ƒæ­å»º"><a href="#2-Java-ç¯å¢ƒæ­å»º" class="headerlink" title="2.Java ç¯å¢ƒæ­å»º"></a>2.Java ç¯å¢ƒæ­å»º</h5><h5 id="3-è·å–Flutter-SDK"><a href="#3-è·å–Flutter-SDK" class="headerlink" title="3.è·å–Flutter SDK"></a>3.è·å–Flutter SDK</h5><h5 id="4-è®¾ç½®Android-Studioå¼€å‘ç¯å¢ƒ"><a href="#4-è®¾ç½®Android-Studioå¼€å‘ç¯å¢ƒ" class="headerlink" title="4.è®¾ç½®Android Studioå¼€å‘ç¯å¢ƒ"></a>4.è®¾ç½®Android Studioå¼€å‘ç¯å¢ƒ</h5><h5 id="5-åˆ›å»ºè™šæ‹Ÿæœº"><a href="#5-åˆ›å»ºè™šæ‹Ÿæœº" class="headerlink" title="5.åˆ›å»ºè™šæ‹Ÿæœº"></a>5.åˆ›å»ºè™šæ‹Ÿæœº</h5><h3 id="å…­ã€ç›¸å…³é…ç½®"><a href="#å…­ã€ç›¸å…³é…ç½®" class="headerlink" title="å…­ã€ç›¸å…³é…ç½®"></a>å…­ã€ç›¸å…³é…ç½®</h3><h5 id="1-é…ç½®android-studio"><a href="#1-é…ç½®android-studio" class="headerlink" title="1.é…ç½®android studio :"></a>1.é…ç½®android studio :</h5><pre><code class="hljs">https://blog.51cto.com/u_13446/6527477</code></pre><h5 id="2-flutter-ç¯å¢ƒé…ç½®ï¼Œæ•™ç¨‹ï¼š"><a href="#2-flutter-ç¯å¢ƒé…ç½®ï¼Œæ•™ç¨‹ï¼š" class="headerlink" title="2.flutter ç¯å¢ƒé…ç½®ï¼Œæ•™ç¨‹ï¼š"></a>2.flutter ç¯å¢ƒé…ç½®ï¼Œæ•™ç¨‹ï¼š</h5><pre><code class="hljs">https://www.cnblogs.com/libo-web/p/16060590.html</code></pre>]]></content>
    
    
    <categories>
      
      <category>Flutter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flutter</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜ï¼ˆç»¼åˆï¼‰</title>
    <link href="/blog/2023/10/19/interview-web/"/>
    <url>/blog/2023/10/19/interview-web/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯é¢è¯•é¢˜ï¼ˆç»¼åˆï¼‰1-0ï¼"><a href="#å‰ç«¯é¢è¯•é¢˜ï¼ˆç»¼åˆï¼‰1-0ï¼" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜ï¼ˆç»¼åˆï¼‰1.0ï¼"></a>å‰ç«¯é¢è¯•é¢˜ï¼ˆç»¼åˆï¼‰1.0ï¼</h1><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h5 id="1-è¯·è§£é‡ŠCSSçš„ç›’æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå¹¶æè¿°å…¶ç»„æˆéƒ¨åˆ†ã€‚"><a href="#1-è¯·è§£é‡ŠCSSçš„ç›’æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå¹¶æè¿°å…¶ç»„æˆéƒ¨åˆ†ã€‚" class="headerlink" title="1. è¯·è§£é‡ŠCSSçš„ç›’æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå¹¶æè¿°å…¶ç»„æˆéƒ¨åˆ†ã€‚"></a>1. è¯·è§£é‡ŠCSSçš„ç›’æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œå¹¶æè¿°å…¶ç»„æˆéƒ¨åˆ†ã€‚</h5><p>â€‹CSSçš„ç›’æ¨¡å‹æ˜¯ç”¨äºå¸ƒå±€å’Œå®šä½å…ƒç´ çš„æ¦‚å¿µã€‚å®ƒç”±å†…å®¹åŒºåŸŸã€å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ç»„æˆï¼Œè¿™äº›éƒ¨åˆ†ä¾æ¬¡åŒ…è£¹åœ¨å…ƒç´ å‘¨å›´ã€‚</p><h5 id="2-è§£é‡ŠCSSä¸­çš„é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§ã€‚"><a href="#2-è§£é‡ŠCSSä¸­çš„é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§ã€‚" class="headerlink" title="2. è§£é‡ŠCSSä¸­çš„é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§ã€‚"></a>2. è§£é‡ŠCSSä¸­çš„é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§ã€‚</h5><p>â€‹CSSé€‰æ‹©å™¨ç”¨äºé€‰æ‹©è¦åº”ç”¨æ ·å¼çš„HTMLå…ƒç´ ã€‚é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§è§„åˆ™æ˜¯ï¼šå†…è”æ ·å¼ &gt; IDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨ã€ä¼ªç±»é€‰æ‹©å™¨ &gt; å…ƒç´ é€‰æ‹©å™¨ &gt; é€šç”¨é€‰æ‹©å™¨ã€‚åŒæ—¶ï¼Œä½¿ç”¨!importantå¯ä»¥æå‡æ ·å¼çš„ä¼˜å…ˆçº§ã€‚</p><h5 id="3-è§£é‡ŠCSSä¸­çš„æµ®åŠ¨ï¼ˆfloatï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶æä¾›ä¸€ä¸ªç¤ºä¾‹ã€‚"><a href="#3-è§£é‡ŠCSSä¸­çš„æµ®åŠ¨ï¼ˆfloatï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶æä¾›ä¸€ä¸ªç¤ºä¾‹ã€‚" class="headerlink" title="3. è§£é‡ŠCSSä¸­çš„æµ®åŠ¨ï¼ˆfloatï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶æä¾›ä¸€ä¸ªç¤ºä¾‹ã€‚"></a>3. è§£é‡ŠCSSä¸­çš„æµ®åŠ¨ï¼ˆfloatï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶æä¾›ä¸€ä¸ªç¤ºä¾‹ã€‚</h5><p>â€‹æµ®åŠ¨ï¼ˆfloatï¼‰æ˜¯CSSä¸­ç”¨äºå®ç°å…ƒç´ çš„å·¦æµ®åŠ¨æˆ–å³æµ®åŠ¨ï¼Œä½¿å…¶è„±ç¦»æ–‡æ¡£æµå¹¶ç¯ç»•åœ¨å…¶å‘¨å›´çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.float-example</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="4-è§£é‡ŠCSSä¸­çš„å®šä½ï¼ˆpositionï¼‰å±æ€§åŠå…¶ä¸åŒçš„å–å€¼ã€‚"><a href="#4-è§£é‡ŠCSSä¸­çš„å®šä½ï¼ˆpositionï¼‰å±æ€§åŠå…¶ä¸åŒçš„å–å€¼ã€‚" class="headerlink" title="4. è§£é‡ŠCSSä¸­çš„å®šä½ï¼ˆpositionï¼‰å±æ€§åŠå…¶ä¸åŒçš„å–å€¼ã€‚"></a>4. è§£é‡ŠCSSä¸­çš„å®šä½ï¼ˆpositionï¼‰å±æ€§åŠå…¶ä¸åŒçš„å–å€¼ã€‚</h5><p>â€‹      å®šä½ï¼ˆpositionï¼‰å±æ€§ç”¨äºæ§åˆ¶å…ƒç´ çš„å®šä½æ–¹å¼ã€‚å¸¸è§çš„å–å€¼æœ‰ï¼šstaticï¼ˆé»˜è®¤ï¼ŒæŒ‰ç…§æ–‡æ¡£æµå®šä½ï¼‰ã€relativeï¼ˆç›¸å¯¹å®šä½ï¼‰ã€absoluteï¼ˆç»å¯¹å®šä½ï¼‰ã€fixedï¼ˆå›ºå®šå®šä½ï¼‰å’Œstickyï¼ˆç²˜æ€§å®šä½ï¼‰ã€‚</p><h5 id="5-è§£é‡ŠCSSä¸­çš„å±‚å é¡ºåºï¼ˆz-indexï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚"><a href="#5-è§£é‡ŠCSSä¸­çš„å±‚å é¡ºåºï¼ˆz-indexï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚" class="headerlink" title="5. è§£é‡ŠCSSä¸­çš„å±‚å é¡ºåºï¼ˆz-indexï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚"></a>5. è§£é‡ŠCSSä¸­çš„å±‚å é¡ºåºï¼ˆz-indexï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</h5><p>â€‹      å±‚å é¡ºåºï¼ˆz-indexï¼‰ç”¨äºæ§åˆ¶å…ƒç´ åœ¨å‚ç›´æ–¹å‘ä¸Šçš„å †å é¡ºåºã€‚å…·æœ‰è¾ƒé«˜å±‚å é¡ºåºå€¼çš„å…ƒç´ å°†æ˜¾ç¤ºåœ¨è¾ƒä½å±‚å é¡ºåºå€¼çš„å…ƒç´ ä¹‹ä¸Šã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå±‚å é¡ºåºå€¼ä¸ºautoã€‚</p><h5 id="6-è§£é‡ŠCSSä¸­çš„ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚"><a href="#6-è§£é‡ŠCSSä¸­çš„ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚" class="headerlink" title="6. è§£é‡ŠCSSä¸­çš„ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚"></a>6. è§£é‡ŠCSSä¸­çš„ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªç¤ºä¾‹ã€‚</h5><p>â€‹      ä¼ªç±»ç”¨äºå‘é€‰æ‹©å™¨æ·»åŠ ç‰¹æ®Šçš„çŠ¶æ€ï¼Œå¦‚:hoverã€:activeç­‰ã€‚ä¼ªå…ƒç´ ç”¨äºå‘é€‰æ‹©å™¨æ·»åŠ ç‰¹æ®Šçš„å…ƒç´ ï¼Œå¦‚::beforeã€::afterç­‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/* ä¼ªç±»ç¤ºä¾‹ */</span><br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">color</span>: red;<br>&#125;<br><br><span class="hljs-comment">/* ä¼ªå…ƒç´ ç¤ºä¾‹ */</span><br><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::before</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;å‰ç¼€&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="7-è§£é‡ŠCSSä¸­çš„ç›’å­æ¨¡å‹çš„ä¸¤ç§æ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ã€‚"><a href="#7-è§£é‡ŠCSSä¸­çš„ç›’å­æ¨¡å‹çš„ä¸¤ç§æ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ã€‚" class="headerlink" title="7. è§£é‡ŠCSSä¸­çš„ç›’å­æ¨¡å‹çš„ä¸¤ç§æ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ã€‚"></a>7. è§£é‡ŠCSSä¸­çš„ç›’å­æ¨¡å‹çš„ä¸¤ç§æ¨¡å¼ï¼šæ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼ã€‚</h5><p>â€‹      æ ‡å‡†æ¨¡å¼æ˜¯æŒ‰ç…§W3Cæ ‡å‡†è§£ææ¸²æŸ“é¡µé¢çš„æ¨¡å¼ã€‚æ€ªå¼‚æ¨¡å¼æ˜¯å…¼å®¹æ—§ç‰ˆæœ¬æµè§ˆå™¨çš„è§£ææ¸²æŸ“é¡µé¢çš„æ¨¡å¼ã€‚å¯ä»¥é€šè¿‡å£°æ˜æ¥æŒ‡å®šä½¿ç”¨å“ªç§æ¨¡å¼ã€‚</p><h5 id="8-è§£é‡ŠCSSä¸­çš„BFCæ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#8-è§£é‡ŠCSSä¸­çš„BFCæ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="8. è§£é‡ŠCSSä¸­çš„BFCæ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>8. è§£é‡ŠCSSä¸­çš„BFCæ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      BFCï¼ˆå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰æ˜¯CSSä¸­çš„ä¸€ç§æ¸²æŸ“æ¨¡å¼ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“ç¯å¢ƒï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰ç…§ä¸€å®šçš„è§„åˆ™è¿›è¡Œå¸ƒå±€å’Œå®šä½ã€‚BFCçš„ä½œç”¨åŒ…æ‹¬ï¼šæ¸…é™¤æµ®åŠ¨ã€é˜²æ­¢å¤–è¾¹è·é‡å ç­‰ã€‚</p><h5 id="9-è§£é‡ŠCSSä¸­çš„flexboxå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#9-è§£é‡ŠCSSä¸­çš„flexboxå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="9. è§£é‡ŠCSSä¸­çš„flexboxå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"></a>9. è§£é‡ŠCSSä¸­çš„flexboxå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      flexboxå¸ƒå±€æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºçµæ´»çš„ã€å“åº”å¼çš„å¸ƒå±€çš„CSSæ¨¡å—ã€‚å®ƒé€šè¿‡flexå®¹å™¨å’Œflexé¡¹ç›®çš„ç»„åˆæ¥å®ç°å¼ºå¤§çš„å¸ƒå±€èƒ½åŠ›ã€‚å…¶ä¼˜åŠ¿åŒ…æ‹¬ç®€å•æ˜“ç”¨ã€è‡ªé€‚åº”æ€§å¼ºã€å¯¹é½å’Œåˆ†å¸ƒæ§åˆ¶çµæ´»ç­‰ã€‚</p><h5 id="10-è§£é‡ŠCSSä¸­çš„åª’ä½“æŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#10-è§£é‡ŠCSSä¸­çš„åª’ä½“æŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="10.è§£é‡ŠCSSä¸­çš„åª’ä½“æŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>10.è§£é‡ŠCSSä¸­çš„åª’ä½“æŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      åª’ä½“æŸ¥è¯¢æ˜¯CSSä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œç”¨äºæ ¹æ®è®¾å¤‡çš„ç‰¹æ€§å’Œå±æ€§æ¥åº”ç”¨ä¸åŒçš„æ ·å¼ã€‚é€šè¿‡åª’ä½“æŸ¥è¯¢ï¼Œå¯ä»¥æ ¹æ®å±å¹•å°ºå¯¸ã€è®¾å¤‡ç±»å‹ã€åˆ†è¾¨ç‡ç­‰æ¡ä»¶æ¥ä¼˜åŒ–é¡µé¢çš„å¸ƒå±€å’Œæ ·å¼ã€‚</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h5 id="1-è§£é‡ŠJavaScriptçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜æ¯ç§ç±»å‹ã€‚"><a href="#1-è§£é‡ŠJavaScriptçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜æ¯ç§ç±»å‹ã€‚" class="headerlink" title="1. è§£é‡ŠJavaScriptçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜æ¯ç§ç±»å‹ã€‚"></a>1. è§£é‡ŠJavaScriptçš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜æ¯ç§ç±»å‹ã€‚</h5><p>â€‹      JavaScriptæœ‰ä¸ƒç§æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å­—ï¼ˆNumberï¼‰ã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€æ•°ç»„ï¼ˆArrayï¼‰ã€ç©ºå€¼ï¼ˆNullï¼‰å’Œæœªå®šä¹‰ï¼ˆUndefinedï¼‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Hello&quot;</span>;<br><span class="hljs-keyword">let</span> num = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">let</span> bool = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;John&quot;</span> &#125;;<br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> n = <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">let</span> undef;<br></code></pre></td></tr></table></figure><h5 id="2-è§£é‡ŠJavaScriptä¸­çš„å˜é‡æå‡ï¼ˆHoistingï¼‰æ˜¯ä»€ä¹ˆã€‚"><a href="#2-è§£é‡ŠJavaScriptä¸­çš„å˜é‡æå‡ï¼ˆHoistingï¼‰æ˜¯ä»€ä¹ˆã€‚" class="headerlink" title="2. è§£é‡ŠJavaScriptä¸­çš„å˜é‡æå‡ï¼ˆHoistingï¼‰æ˜¯ä»€ä¹ˆã€‚"></a>2. è§£é‡ŠJavaScriptä¸­çš„å˜é‡æå‡ï¼ˆHoistingï¼‰æ˜¯ä»€ä¹ˆã€‚</h5><p>â€‹      å˜é‡æå‡æ˜¯æŒ‡åœ¨JavaScriptä¸­ï¼Œå˜é‡å’Œå‡½æ•°å£°æ˜ä¼šåœ¨ä»£ç æ‰§è¡Œä¹‹å‰è¢«æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡å’Œå‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x); <span class="hljs-comment">// è¾“å‡º undefined</span><br><span class="hljs-keyword">var</span> x = <span class="hljs-number">5</span>;<br></code></pre></td></tr></table></figure><h5 id="3-è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚"><a href="#3-è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚" class="headerlink" title="3. è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚"></a>3. è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚</h5><p>â€‹      é—­åŒ…æ˜¯æŒ‡å‡½æ•°å¯ä»¥è®¿é—®å¹¶æ“ä½œå…¶è¯æ³•ä½œç”¨åŸŸä¹‹å¤–çš„å˜é‡ã€‚å®ƒé€šè¿‡åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œå¹¶è¿”å›è¯¥å†…éƒ¨å‡½æ•°æ¥å®ç°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>  &#125;<br>  <span class="hljs-keyword">return</span> inner;<br>&#125;<br><br><span class="hljs-keyword">let</span> closure = <span class="hljs-title function_">outer</span>();<br><span class="hljs-title function_">closure</span>(); <span class="hljs-comment">// è¾“å‡º 10</span><br></code></pre></td></tr></table></figure><h5 id="4-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent-Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent-Capturingï¼‰ã€‚"><a href="#4-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent-Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent-Capturingï¼‰ã€‚" class="headerlink" title="4. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰ã€‚"></a>4. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰ã€‚</h5><p>â€‹      äº‹ä»¶å†’æ³¡æ˜¯æŒ‡äº‹ä»¶ä»æœ€å…·ä½“çš„å…ƒç´ å¼€å§‹å‘çˆ¶å…ƒç´ é€çº§è§¦å‘ï¼Œç›´åˆ°è§¦å‘åˆ°æ ¹å…ƒç´ ã€‚äº‹ä»¶æ•è·æ˜¯æŒ‡äº‹ä»¶ä»æ ¹å…ƒç´ å¼€å§‹ï¼Œé€çº§å‘æœ€å…·ä½“çš„å…ƒç´ è§¦å‘ã€‚å¯ä»¥ä½¿ç”¨addEventListeneræ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥æ§åˆ¶æ˜¯ä½¿ç”¨äº‹ä»¶å†’æ³¡è¿˜æ˜¯äº‹ä»¶æ•è·ã€‚</p><h5 id="5-è§£é‡ŠJavaScriptä¸­çš„åŸå‹ç»§æ‰¿ï¼ˆPrototype-Inheritanceï¼‰æ˜¯ä»€ä¹ˆã€‚"><a href="#5-è§£é‡ŠJavaScriptä¸­çš„åŸå‹ç»§æ‰¿ï¼ˆPrototype-Inheritanceï¼‰æ˜¯ä»€ä¹ˆã€‚" class="headerlink" title="5. è§£é‡ŠJavaScriptä¸­çš„åŸå‹ç»§æ‰¿ï¼ˆPrototype Inheritanceï¼‰æ˜¯ä»€ä¹ˆã€‚"></a>5. è§£é‡ŠJavaScriptä¸­çš„åŸå‹ç»§æ‰¿ï¼ˆPrototype Inheritanceï¼‰æ˜¯ä»€ä¹ˆã€‚</h5><p>â€‹      åŸå‹ç»§æ‰¿æ˜¯JavaScriptä¸­å®ç°å¯¹è±¡ä¹‹é—´ç»§æ‰¿å…³ç³»çš„ä¸€ç§æœºåˆ¶ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“è®¿é—®å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æœå¯¹è±¡æœ¬èº«æ²¡æœ‰ï¼Œåˆ™ä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ã€‚å¯ä»¥ä½¿ç”¨Object.create()æ–¹æ³•æˆ–è®¾ç½®å¯¹è±¡çš„__proto__å±æ€§æ¥å®ç°åŸå‹ç»§æ‰¿ã€‚</p><h5 id="6-è§£é‡ŠJavaScriptä¸­çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç¤ºä¾‹ã€‚"><a href="#6-è§£é‡ŠJavaScriptä¸­çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç¤ºä¾‹ã€‚" class="headerlink" title="6. è§£é‡ŠJavaScriptä¸­çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç¤ºä¾‹ã€‚"></a>6. è§£é‡ŠJavaScriptä¸­çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç¤ºä¾‹ã€‚</h5><p>â€‹      å¼‚æ­¥ç¼–ç¨‹æ˜¯æŒ‡åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä¼šé˜»å¡åç»­ä»£ç æ‰§è¡Œçš„ä¸€ç§ç¼–ç¨‹æ–¹å¼ã€‚å¸¸è§çš„å¼‚æ­¥æ“ä½œåŒ…æ‹¬ç½‘ç»œè¯·æ±‚ã€å®šæ—¶å™¨ç­‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¼€å§‹&quot;</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¼‚æ­¥æ“ä½œ&quot;</span>);<br>&#125;, <span class="hljs-number">1000</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»“æŸ&quot;</span>);<br></code></pre></td></tr></table></figure><h5 id="7-è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚"><a href="#7-è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚" class="headerlink" title="7. è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚"></a>7. è§£é‡ŠJavaScriptä¸­çš„é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜ã€‚</h5><p>â€‹      é—­åŒ…æ˜¯æŒ‡å‡½æ•°å¯ä»¥è®¿é—®å¹¶æ“ä½œå…¶è¯æ³•ä½œç”¨åŸŸä¹‹å¤–çš„å˜é‡ã€‚å®ƒé€šè¿‡åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œå¹¶è¿”å›è¯¥å†…éƒ¨å‡½æ•°æ¥å®ç°ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> x = <span class="hljs-number">10</span>;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">inner</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>  &#125;<br>  <span class="hljs-keyword">return</span> inner;<br>&#125;<br><br><span class="hljs-keyword">let</span> closure = <span class="hljs-title function_">outer</span>();<br><span class="hljs-title function_">closure</span>(); <span class="hljs-comment">// è¾“å‡º 10</span><br></code></pre></td></tr></table></figure><h5 id="8-è§£é‡ŠJavaScriptä¸­çš„thiså…³é”®å­—çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚"><a href="#8-è§£é‡ŠJavaScriptä¸­çš„thiså…³é”®å­—çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚" class="headerlink" title="8. è§£é‡ŠJavaScriptä¸­çš„thiså…³é”®å­—çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚"></a>8. è§£é‡ŠJavaScriptä¸­çš„thiså…³é”®å­—çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯ã€‚</h5><p>â€‹      thiså…³é”®å­—åœ¨JavaScriptä¸­è¡¨ç¤ºå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å¯¹è±¡ã€‚å®ƒçš„å…·ä½“å–å€¼æ ¹æ®å‡½æ•°çš„è°ƒç”¨æ–¹å¼è€Œå®šã€‚åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ç¯å¢ƒä¸­ä¸ºwindowå¯¹è±¡ï¼‰ã€‚åœ¨å‡½æ•°ä¸­ï¼Œthisçš„æŒ‡å‘å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡callã€applyã€bindç­‰æ–¹æ³•æ¥æ˜¾å¼åœ°æŒ‡å®šthisçš„å€¼ã€‚</p><h5 id="9-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å§”æ‰˜ï¼ˆEvent-Delegationï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„ç¤ºä¾‹ã€‚"><a href="#9-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å§”æ‰˜ï¼ˆEvent-Delegationï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„ç¤ºä¾‹ã€‚" class="headerlink" title="9. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å§”æ‰˜ï¼ˆEvent Delegationï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„ç¤ºä¾‹ã€‚"></a>9. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å§”æ‰˜ï¼ˆEvent Delegationï¼‰æ˜¯ä»€ä¹ˆï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„ç¤ºä¾‹ã€‚</h5><p>â€‹      äº‹ä»¶å§”æ‰˜æ˜¯æŒ‡å°†äº‹ä»¶å¤„ç†ç¨‹åºç»‘å®šåˆ°çˆ¶å…ƒç´ ä¸Šï¼Œè€Œä¸æ˜¯ç›´æ¥ç»‘å®šåˆ°æ¯ä¸ªå­å…ƒç´ ä¸Šã€‚å½“äº‹ä»¶è§¦å‘æ—¶ï¼Œäº‹ä»¶ä¼šå†’æ³¡åˆ°çˆ¶å…ƒç´ ï¼Œç„¶åé€šè¿‡åˆ¤æ–­äº‹ä»¶çš„ç›®æ ‡æ¥æ‰§è¡Œç›¸åº”çš„å¤„ç†é€»è¾‘ã€‚è¿™æ ·å¯ä»¥å‡å°‘äº‹ä»¶å¤„ç†ç¨‹åºçš„æ•°é‡ï¼Œæé«˜æ€§èƒ½ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;ul id=<span class="hljs-string">&quot;list&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Item 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;list&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">&quot;LI&quot;</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">textContent</span>);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="10-è§£é‡ŠJavaScriptä¸­çš„æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨æ¨¡å—çš„ç¤ºä¾‹ã€‚"><a href="#10-è§£é‡ŠJavaScriptä¸­çš„æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨æ¨¡å—çš„ç¤ºä¾‹ã€‚" class="headerlink" title="10. è§£é‡ŠJavaScriptä¸­çš„æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨æ¨¡å—çš„ç¤ºä¾‹ã€‚"></a>10. è§£é‡ŠJavaScriptä¸­çš„æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå¹¶æä¾›ä¸€ä¸ªä½¿ç”¨æ¨¡å—çš„ç¤ºä¾‹ã€‚</h5><p>â€‹      æ¨¡å—åŒ–ç¼–ç¨‹æ˜¯æŒ‡å°†ä»£ç åˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œå¹¶é€šè¿‡å¯¼å…¥å’Œå¯¼å‡ºæ¥å®ç°æ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ES6å¼•å…¥äº†æ¨¡å—åŒ–çš„è¯­æ³•ï¼Œå¯ä»¥ä½¿ç”¨importå’Œexportå…³é”®å­—æ¥å¯¼å…¥å’Œå¯¼å‡ºæ¨¡å—ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-comment">// module.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello!&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">import</span> &#123; sayHello &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module.js&quot;</span>;<br><span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// è¾“å‡º &quot;Hello!&quot;</span><br></code></pre></td></tr></table></figure><h5 id="11-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent-Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent-Capturingï¼‰ã€‚"><a href="#11-è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent-Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent-Capturingï¼‰ã€‚" class="headerlink" title="11. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰ã€‚"></a>11. è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰å’Œäº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰ã€‚</h5><p>â€‹      äº‹ä»¶å†’æ³¡æ˜¯æŒ‡å½“ä¸€ä¸ªäº‹ä»¶åœ¨DOMæ ‘ä¸­è§¦å‘æ—¶ï¼Œå®ƒä¼šä»æœ€å†…å±‚çš„å…ƒç´ å¼€å§‹å‘å¤–ä¼ æ’­è‡³æœ€å¤–å±‚çš„å…ƒç´ ã€‚äº‹ä»¶æ•è·æ˜¯æŒ‡å½“ä¸€ä¸ªäº‹ä»¶åœ¨DOMæ ‘ä¸­è§¦å‘æ—¶ï¼Œå®ƒä¼šä»æœ€å¤–å±‚çš„å…ƒç´ å¼€å§‹å‘å†…ä¼ æ’­è‡³æœ€å†…å±‚çš„å…ƒç´ ã€‚</p><h5 id="12-ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼ˆPrototype-Chainï¼‰ï¼Ÿå¦‚ä½•åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Ÿ"><a href="#12-ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼ˆPrototype-Chainï¼‰ï¼Ÿå¦‚ä½•åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Ÿ" class="headerlink" title="12. ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼ˆPrototype Chainï¼‰ï¼Ÿå¦‚ä½•åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Ÿ"></a>12. ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼ˆPrototype Chainï¼‰ï¼Ÿå¦‚ä½•åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Ÿ</h5><p>â€‹      åŸå‹é“¾æ˜¯JavaScriptä¸­å¯¹è±¡ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘å…¶åŸå‹ï¼ˆprototypeï¼‰çš„å¼•ç”¨ã€‚é€šè¿‡åŸå‹é“¾ï¼Œå¯¹è±¡å¯ä»¥ç»§æ‰¿å…¶åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼Œé€šè¿‡å°†ä¸€ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿å¾—è¯¥å¯¹è±¡å¯ä»¥è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><h5 id="13-è§£é‡ŠJavaScriptä¸­çš„é˜²æŠ–ï¼ˆDebounceï¼‰å’ŒèŠ‚æµï¼ˆThrottleï¼‰ã€‚"><a href="#13-è§£é‡ŠJavaScriptä¸­çš„é˜²æŠ–ï¼ˆDebounceï¼‰å’ŒèŠ‚æµï¼ˆThrottleï¼‰ã€‚" class="headerlink" title="13. è§£é‡ŠJavaScriptä¸­çš„é˜²æŠ–ï¼ˆDebounceï¼‰å’ŒèŠ‚æµï¼ˆThrottleï¼‰ã€‚"></a>13. è§£é‡ŠJavaScriptä¸­çš„é˜²æŠ–ï¼ˆDebounceï¼‰å’ŒèŠ‚æµï¼ˆThrottleï¼‰ã€‚</h5><p>â€‹      é˜²æŠ–å’ŒèŠ‚æµéƒ½æ˜¯ç”¨äºæ§åˆ¶å‡½æ•°æ‰§è¡Œé¢‘ç‡çš„æŠ€æœ¯ã€‚é˜²æŠ–æŒ‡çš„æ˜¯åœ¨æŸä¸ªæ—¶é—´æ®µå†…ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¬¡è§¦å‘çš„å‡½æ•°è°ƒç”¨ã€‚èŠ‚æµæŒ‡çš„æ˜¯åœ¨æŸä¸ªæ—¶é—´æ®µå†…ï¼ŒæŒ‰ç…§å›ºå®šçš„æ—¶é—´é—´éš”æ‰§è¡Œå‡½æ•°è°ƒç”¨ã€‚</p><h5 id="14-ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰ï¼Ÿè¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚"><a href="#14-ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰ï¼Ÿè¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚" class="headerlink" title="14. ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿè¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚"></a>14. ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿè¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚</h5><p>â€‹      äº‹ä»¶å¾ªç¯æ˜¯JavaScriptä¸­å¤„ç†å¼‚æ­¥æ“ä½œçš„æœºåˆ¶ã€‚äº‹ä»¶å¾ªç¯ä¸æ–­åœ°ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œï¼Œç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºã€‚äº‹ä»¶å¾ªç¯ç”±ä¸»çº¿ç¨‹å’Œä»»åŠ¡é˜Ÿåˆ—ç»„æˆï¼Œä¸»çº¿ç¨‹è´Ÿè´£æ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡ä¼šè¢«æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²æ—¶è¢«æ‰§è¡Œã€‚</p><h5 id="15-è§£é‡ŠJavaScriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ã€‚"><a href="#15-è§£é‡ŠJavaScriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ã€‚" class="headerlink" title="15. è§£é‡ŠJavaScriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ã€‚"></a>15. è§£é‡ŠJavaScriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´ã€‚</h5><p>â€‹      æ·±æ‹·è´æ˜¯æŒ‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå°†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’ŒåµŒå¥—å¯¹è±¡çš„å±æ€§éƒ½å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚æµ…æ‹·è´æ˜¯æŒ‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå°†åŸå§‹å¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æ˜¯å…±äº«çš„ã€‚</p><h5 id="16-ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹ï¼Ÿè¯·åˆ—ä¸¾å‡ ç§å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–¹æ³•ã€‚"><a href="#16-ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹ï¼Ÿè¯·åˆ—ä¸¾å‡ ç§å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–¹æ³•ã€‚" class="headerlink" title="16. ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹ï¼Ÿè¯·åˆ—ä¸¾å‡ ç§å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–¹æ³•ã€‚"></a>16. ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹ï¼Ÿè¯·åˆ—ä¸¾å‡ ç§å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–¹æ³•ã€‚</h5><p>â€‹      å¼‚æ­¥ç¼–ç¨‹æ˜¯ä¸€ç§å¤„ç†å¯èƒ½è€—æ—¶çš„æ“ä½œè€Œä¸é˜»å¡ä¸»çº¿ç¨‹çš„ç¼–ç¨‹æ–¹å¼ã€‚å¸¸è§çš„å¤„ç†å¼‚æ­¥æ“ä½œçš„æ–¹æ³•æœ‰å›è°ƒå‡½æ•°ã€Promiseã€async&#x2F;awaitå’Œäº‹ä»¶ç›‘å¬ç­‰ã€‚</p><h5 id="17-è§£é‡ŠJavaScriptä¸­çš„Hoistingï¼ˆå˜é‡æå‡ï¼‰ã€‚"><a href="#17-è§£é‡ŠJavaScriptä¸­çš„Hoistingï¼ˆå˜é‡æå‡ï¼‰ã€‚" class="headerlink" title="17. è§£é‡ŠJavaScriptä¸­çš„Hoistingï¼ˆå˜é‡æå‡ï¼‰ã€‚"></a>17. è§£é‡ŠJavaScriptä¸­çš„Hoistingï¼ˆå˜é‡æå‡ï¼‰ã€‚</h5><p>â€‹      å˜é‡æå‡æ˜¯æŒ‡åœ¨JavaScriptä¸­ï¼Œå˜é‡å’Œå‡½æ•°çš„å£°æ˜ä¼šè¢«æå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨å˜é‡å’Œå‡½æ•°ï¼Œä½†å®ƒä»¬çš„èµ‹å€¼æˆ–å®šä¹‰ä»ç„¶åœ¨åŸæ¥çš„ä½ç½®ã€‚</p><h5 id="18-ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„ç¤ºä¾‹ã€‚"><a href="#18-ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„ç¤ºä¾‹ã€‚" class="headerlink" title="18. ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„ç¤ºä¾‹ã€‚"></a>18. ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„ç¤ºä¾‹ã€‚</h5><p>â€‹      æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å°†æ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢ä¸ºæ¥å—ä¸€ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°å‡½æ•°çš„è¿‡ç¨‹ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) &#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> add5 = <span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add5</span>(<span class="hljs-number">3</span>)); <span class="hljs-comment">// è¾“å‡ºï¼š8</span><br></code></pre></td></tr></table></figure><h5 id="19-è§£é‡ŠJavaScriptä¸­çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict-Modeï¼‰ã€‚"><a href="#19-è§£é‡ŠJavaScriptä¸­çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict-Modeï¼‰ã€‚" class="headerlink" title="19. è§£é‡ŠJavaScriptä¸­çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict Modeï¼‰ã€‚"></a>19. è§£é‡ŠJavaScriptä¸­çš„ä¸¥æ ¼æ¨¡å¼ï¼ˆStrict Modeï¼‰ã€‚</h5><p>â€‹      ä¸¥æ ¼æ¨¡å¼æ˜¯ä¸€ç§JavaScriptçš„æ‰§è¡Œæ¨¡å¼ï¼Œå®ƒæä¾›äº†æ›´ä¸¥æ ¼çš„è¯­æ³•å’Œé”™è¯¯æ£€æŸ¥ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸€äº›ä¸å®‰å…¨æˆ–ä¸æ¨èçš„è¯­æ³•ä¼šè¢«ç¦ç”¨ï¼ŒåŒæ—¶ä¼šå¼•å…¥ä¸€äº›æ–°çš„ç‰¹æ€§ï¼Œå¦‚å˜é‡å¿…é¡»å…ˆå£°æ˜æ‰èƒ½ä½¿ç”¨ã€ç¦æ­¢ä½¿ç”¨thisæŒ‡å‘å…¨å±€å¯¹è±¡ç­‰ã€‚</p><h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><h5 id="1-è§£é‡ŠTypeScriptå’ŒJavaScriptä¹‹é—´çš„å…³ç³»ã€‚"><a href="#1-è§£é‡ŠTypeScriptå’ŒJavaScriptä¹‹é—´çš„å…³ç³»ã€‚" class="headerlink" title="1. è§£é‡ŠTypeScriptå’ŒJavaScriptä¹‹é—´çš„å…³ç³»ã€‚"></a>1. è§£é‡ŠTypeScriptå’ŒJavaScriptä¹‹é—´çš„å…³ç³»ã€‚</h5><p>â€‹      TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼Œå®ƒæ·»åŠ äº†é™æ€ç±»å‹å’Œå…¶ä»–ä¸€äº›ç‰¹æ€§ã€‚TypeScriptä»£ç å¯ä»¥ç¼–è¯‘æˆJavaScriptä»£ç ï¼Œå› æ­¤å¯ä»¥åœ¨ä»»ä½•æ”¯æŒJavaScriptçš„ç¯å¢ƒä¸­è¿è¡Œã€‚</p><h5 id="2-TypeScriptä¸­çš„ç±»å‹æ³¨è§£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ³¨è§£ï¼Ÿ"><a href="#2-TypeScriptä¸­çš„ç±»å‹æ³¨è§£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ³¨è§£ï¼Ÿ" class="headerlink" title="2. TypeScriptä¸­çš„ç±»å‹æ³¨è§£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ³¨è§£ï¼Ÿ"></a>2. TypeScriptä¸­çš„ç±»å‹æ³¨è§£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ³¨è§£ï¼Ÿ</h5><p>â€‹      ç±»å‹æ³¨è§£æ˜¯æŒ‡åœ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›å€¼ç­‰åœ°æ–¹æ˜¾å¼åœ°å£°æ˜ç±»å‹ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨å†’å·ï¼ˆ:ï¼‰åè·Ÿç±»å‹æ¥æ·»åŠ ç±»å‹æ³¨è§£ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: number = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: number, b: number</span>): number &#123;<br>  <span class="hljs-keyword">return</span> a + b;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="3-TypeScriptä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æ¥å£ï¼Ÿ"><a href="#3-TypeScriptä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æ¥å£ï¼Ÿ" class="headerlink" title="3. TypeScriptä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æ¥å£ï¼Ÿ"></a>3. TypeScriptä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æ¥å£ï¼Ÿ</h5><p>â€‹      æ¥å£æ˜¯ä¸€ç§ç”¨äºå®šä¹‰å¯¹è±¡çš„ç»“æ„å’Œç±»å‹çš„è¯­æ³•ã€‚å¯ä»¥ä½¿ç”¨interfaceå…³é”®å­—æ¥å®šä¹‰æ¥å£ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">interface <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: string;<br>  <span class="hljs-attr">age</span>: number;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">person: Person</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;person.name&#125;</span>!`</span>);<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">john</span>: <span class="hljs-title class_">Person</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;;<br><span class="hljs-title function_">greet</span>(john); <span class="hljs-comment">// è¾“å‡º &quot;Hello, John!&quot;</span><br></code></pre></td></tr></table></figure><h5 id="4-TypeScriptä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»ï¼Ÿ"><a href="#4-TypeScriptä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»ï¼Ÿ" class="headerlink" title="4. TypeScriptä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»ï¼Ÿ"></a>4. TypeScriptä¸­çš„ç±»æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»ï¼Ÿ</h5><p>â€‹      ç±»æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¯¹è±¡çš„è“å›¾ï¼Œå®ƒåŒ…å«å±æ€§å’Œæ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨classå…³é”®å­—æ¥å®šä¹‰ç±»ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: string;<br>  <span class="hljs-attr">age</span>: number;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: string, age: number</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br><br>  <span class="hljs-title function_">greet</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>!`</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> john = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-number">25</span>);<br>john.<span class="hljs-title function_">greet</span>(); <span class="hljs-comment">// è¾“å‡º &quot;Hello, John!&quot;</span><br></code></pre></td></tr></table></figure><h5 id="5-TypeScriptä¸­çš„æ³›å‹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨æ³›å‹ï¼Ÿ"><a href="#5-TypeScriptä¸­çš„æ³›å‹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨æ³›å‹ï¼Ÿ" class="headerlink" title="5. TypeScriptä¸­çš„æ³›å‹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨æ³›å‹ï¼Ÿ"></a>5. TypeScriptä¸­çš„æ³›å‹æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨æ³›å‹ï¼Ÿ</h5><p>â€‹      æ³›å‹æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¯é‡ç”¨ä»£ç çš„å·¥å…·ï¼Œå®ƒå…è®¸åœ¨å®šä¹‰å‡½æ•°ã€ç±»æˆ–æ¥å£æ—¶ä½¿ç”¨å ä½ç¬¦ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨å°–æ‹¬å·ï¼ˆ&lt;&gt;ï¼‰æ¥æŒ‡å®šæ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> identity&lt;T&gt;(<span class="hljs-attr">value</span>: T): T &#123;<br>  <span class="hljs-keyword">return</span> value;<br>&#125;<br><br><span class="hljs-keyword">let</span> result = identity&lt;string&gt;(<span class="hljs-string">&quot;Hello&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// è¾“å‡º &quot;Hello&quot;</span><br></code></pre></td></tr></table></figure><h5 id="6-TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æšä¸¾ï¼Ÿ"><a href="#6-TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æšä¸¾ï¼Ÿ" class="headerlink" title="6. TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æšä¸¾ï¼Ÿ"></a>6. TypeScriptä¸­çš„æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨æšä¸¾ï¼Ÿ</h5><p>â€‹      æšä¸¾æ˜¯ä¸€ç§ç”¨äºå®šä¹‰å‘½åå¸¸é‡é›†åˆçš„è¯­æ³•ã€‚å¯ä»¥ä½¿ç”¨enumå…³é”®å­—æ¥å®šä¹‰æšä¸¾ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">enum <span class="hljs-title class_">Color</span> &#123;<br>  <span class="hljs-title class_">Red</span>,<br>  <span class="hljs-title class_">Green</span>,<br>  <span class="hljs-title class_">Blue</span>,<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(color); <span class="hljs-comment">// è¾“å‡º 1</span><br></code></pre></td></tr></table></figure><h5 id="7-TypeScriptä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—ï¼Ÿ"><a href="#7-TypeScriptä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—ï¼Ÿ" class="headerlink" title="7. TypeScriptä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—ï¼Ÿ"></a>7. TypeScriptä¸­çš„æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—ï¼Ÿ</h5><p>â€‹      æ¨¡å—æ˜¯ç”¨äºç»„ç»‡å’Œå°è£…ä»£ç çš„å•å…ƒã€‚å¯ä»¥ä½¿ç”¨exportå…³é”®å­—å°†æ¨¡å—ä¸­çš„å˜é‡ã€å‡½æ•°ã€ç±»ç­‰å¯¼å‡ºï¼Œä»¥ä¾¿å…¶ä»–æ¨¡å—å¯ä»¥ä½¿ç”¨ã€‚å¯ä»¥ä½¿ç”¨importå…³é”®å­—æ¥å¯¼å…¥å…¶ä»–æ¨¡å—çš„å¯¼å‡ºã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> <span class="hljs-comment">// module.ts</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: string</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;name&#125;</span>!`</span>);<br>&#125;<br><br><span class="hljs-comment">// main.ts</span><br><span class="hljs-keyword">import</span> &#123; greet &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./module&quot;</span>;<br><span class="hljs-title function_">greet</span>(<span class="hljs-string">&quot;John&quot;</span>); <span class="hljs-comment">// è¾“å‡º &quot;Hello, John!&quot;</span><br></code></pre></td></tr></table></figure><h5 id="8-TypeScriptä¸­çš„ç±»å‹æ¨æ–­æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Ÿ"><a href="#8-TypeScriptä¸­çš„ç±»å‹æ¨æ–­æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Ÿ" class="headerlink" title="8. TypeScriptä¸­çš„ç±»å‹æ¨æ–­æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Ÿ"></a>8. TypeScriptä¸­çš„ç±»å‹æ¨æ–­æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç±»å‹æ¨æ–­ï¼Ÿ</h5><p>â€‹      ç±»å‹æ¨æ–­æ˜¯æŒ‡TypeScriptæ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ï¼Œè€Œæ— éœ€æ˜¾å¼åœ°æ·»åŠ ç±»å‹æ³¨è§£ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> num = <span class="hljs-number">10</span>; <span class="hljs-comment">// æ¨æ–­ä¸º number ç±»å‹</span><br><span class="hljs-keyword">let</span> str = <span class="hljs-string">&quot;Hello&quot;</span>; <span class="hljs-comment">// æ¨æ–­ä¸º string ç±»å‹</span><br></code></pre></td></tr></table></figure><h5 id="9-TypeScriptä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å‘½åç©ºé—´ï¼Ÿ"><a href="#9-TypeScriptä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å‘½åç©ºé—´ï¼Ÿ" class="headerlink" title="9. TypeScriptä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å‘½åç©ºé—´ï¼Ÿ"></a>9. TypeScriptä¸­çš„å‘½åç©ºé—´æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å‘½åç©ºé—´ï¼Ÿ</h5><p>â€‹      å‘½åç©ºé—´æ˜¯ä¸€ç§ç”¨äºç»„ç»‡å’Œå°è£…ä»£ç çš„æœºåˆ¶ï¼Œå®ƒé¿å…äº†å…¨å±€å‘½åå†²çªã€‚å¯ä»¥ä½¿ç”¨namespaceå…³é”®å­—æ¥å®šä¹‰å‘½åç©ºé—´ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">namespace <span class="hljs-title class_">MyNamespace</span> &#123;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: string</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, <span class="hljs-subst">$&#123;name&#125;</span>!`</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-title class_">MyNamespace</span>.<span class="hljs-title function_">greet</span>(<span class="hljs-string">&quot;John&quot;</span>); <span class="hljs-comment">// è¾“å‡º &quot;Hello, John!&quot;</span><br></code></pre></td></tr></table></figure><h5 id="10-TypeScriptä¸­çš„ç±»å‹åˆ«åæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»å‹åˆ«åï¼Ÿ"><a href="#10-TypeScriptä¸­çš„ç±»å‹åˆ«åæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»å‹åˆ«åï¼Ÿ" class="headerlink" title="10. TypeScriptä¸­çš„ç±»å‹åˆ«åæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»å‹åˆ«åï¼Ÿ"></a>10. TypeScriptä¸­çš„ç±»å‹åˆ«åæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®šä¹‰å’Œä½¿ç”¨ç±»å‹åˆ«åï¼Ÿ</h5><p>â€‹      ç±»å‹åˆ«åæ˜¯ç»™ç±»å‹èµ·ä¸€ä¸ªåˆ«åï¼Œä»¥ä¾¿åœ¨ä»£ç ä¸­æ›´æ–¹ä¾¿åœ°å¼•ç”¨ã€‚å¯ä»¥ä½¿ç”¨typeå…³é”®å­—æ¥å®šä¹‰ç±»å‹åˆ«åã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">type <span class="hljs-title class_">Point</span> = &#123; <span class="hljs-attr">x</span>: number; <span class="hljs-attr">y</span>: number &#125;;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">printPoint</span>(<span class="hljs-params">point: Point</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`(<span class="hljs-subst">$&#123;point.x&#125;</span>, <span class="hljs-subst">$&#123;point.y&#125;</span>)`</span>);<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">p</span>: <span class="hljs-title class_">Point</span> = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-title function_">printPoint</span>(p); <span class="hljs-comment">// è¾“å‡º &quot;(1, 2)&quot;</span><br></code></pre></td></tr></table></figure><h2 id="VUE2"><a href="#VUE2" class="headerlink" title="VUE2"></a>VUE2</h2><h5 id="1-Vue-jsæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ"><a href="#1-Vue-jsæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="1. Vue.jsæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ"></a>1. Vue.jsæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</h5><p>â€‹      Vue.jsæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptæ¡†æ¶ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><p>å“åº”å¼æ•°æ®ç»‘å®šï¼šé€šè¿‡ä½¿ç”¨Vueçš„æ•°æ®ç»‘å®šè¯­æ³•ï¼Œå¯ä»¥å®ç°æ•°æ®çš„è‡ªåŠ¨æ›´æ–°ã€‚ ç»„ä»¶åŒ–å¼€å‘ï¼šVueå…è®¸å°†é¡µé¢åˆ’åˆ†ä¸ºç‹¬ç«‹çš„ç»„ä»¶ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚ è™šæ‹ŸDOMï¼šVueä½¿ç”¨è™šæ‹ŸDOMæ¥è·Ÿè¸ªé¡µé¢ä¸Šçš„å˜åŒ–ï¼Œå¹¶é«˜æ•ˆåœ°æ›´æ–°å®é™…çš„DOMã€‚ æŒ‡ä»¤ç³»ç»Ÿï¼šVueæä¾›äº†ä¸°å¯Œçš„å†…ç½®æŒ‡ä»¤ï¼Œç”¨äºå¤„ç†å¸¸è§çš„DOMæ“ä½œå’Œé€»è¾‘æ§åˆ¶ã€‚ ç”Ÿæ€ç³»ç»Ÿï¼šVueæ‹¥æœ‰åºå¤§çš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬æ’ä»¶ã€å·¥å…·å’Œç¬¬ä¸‰æ–¹åº“ï¼Œå¯ä»¥æ»¡è¶³å„ç§å¼€å‘éœ€æ±‚ã€‚</p><h5 id="2-Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#2-Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="2. Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>2. Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h5><p>â€‹      Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯é€šè¿‡v-modelæŒ‡ä»¤å®ç°çš„ã€‚v-modelå¯ä»¥åœ¨è¡¨å•å…ƒç´ ï¼ˆå¦‚ã€ã€ï¼‰ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚å½“ç”¨æˆ·è¾“å…¥æ”¹å˜è¡¨å•å…ƒç´ çš„å€¼æ—¶ï¼Œæ•°æ®æ¨¡å‹ä¼šè‡ªåŠ¨æ›´æ–°ï¼›åä¹‹ï¼Œå½“æ•°æ®æ¨¡å‹çš„å€¼æ”¹å˜æ—¶ï¼Œè¡¨å•å…ƒç´ ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p><h5 id="3-Vueä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#3-Vueä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="3. Vueä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ"></a>3. Vueä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ</h5><p>â€‹      Vueä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­åŒ…æ‹¬beforeCreateã€createdã€beforeMountã€mountedã€beforeUpdateã€updatedã€beforeDestroyå’Œdestroyedã€‚å®ƒä»¬çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p><p>beforeCreate created beforeMount mounted beforeUpdate updated beforeDestroy destroyed</p><h5 id="4-Vueä¸­çš„è®¡ç®—å±æ€§å’Œç›‘å¬å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#4-Vueä¸­çš„è®¡ç®—å±æ€§å’Œç›‘å¬å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="4. Vueä¸­çš„è®¡ç®—å±æ€§å’Œç›‘å¬å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>4. Vueä¸­çš„è®¡ç®—å±æ€§å’Œç›‘å¬å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      è®¡ç®—å±æ€§æ˜¯åŸºäºä¾èµ–çš„å±æ€§ï¼Œå®ƒæ ¹æ®å…¶ä¾èµ–çš„æ•°æ®åŠ¨æ€è®¡ç®—å¾—å‡ºå€¼ã€‚è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜æœºåˆ¶ï¼Œåªæœ‰åœ¨ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚ç›‘å¬å™¨æ˜¯ç”¨äºç›‘å¬æ•°æ®çš„å˜åŒ–å¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç›‘å¬å™¨ä¼šç«‹å³æ‰§è¡ŒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p><h5 id="5-Vueä¸­çš„ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿ"><a href="#5-Vueä¸­çš„ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿ" class="headerlink" title="5. Vueä¸­çš„ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿ"></a>5. Vueä¸­çš„ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿ</h5><p>â€‹      Vueä¸­çš„ç»„ä»¶é€šä¿¡æ–¹å¼åŒ…æ‹¬ï¼š</p><p>çˆ¶å­ç»„ä»¶é€šä¿¡ï¼šé€šè¿‡propså‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶é€šè¿‡äº‹ä»¶å‘çˆ¶ç»„ä»¶å‘é€æ¶ˆæ¯ã€‚ å­çˆ¶ç»„ä»¶é€šä¿¡ï¼šå­ç»„ä»¶é€šè¿‡$emitè§¦å‘äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ç›‘å¬äº‹ä»¶å¹¶å“åº”ã€‚ å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼šé€šè¿‡å…±äº«çš„çˆ¶ç»„ä»¶æ¥ä¼ é€’æ•°æ®æˆ–é€šè¿‡äº‹ä»¶æ€»çº¿ï¼ˆEvent Busï¼‰è¿›è¡Œé€šä¿¡ã€‚ è·¨çº§ç»„ä»¶é€šä¿¡ï¼šé€šè¿‡provideå’Œinjectæ¥åœ¨ç¥–å…ˆç»„ä»¶ä¸­æä¾›æ•°æ®ï¼Œç„¶ååœ¨åä»£ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</p><h5 id="6-Vueä¸­çš„è·¯ç”±æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#6-Vueä¸­çš„è·¯ç”±æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="6. Vueä¸­çš„è·¯ç”±æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>6. Vueä¸­çš„è·¯ç”±æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h5><p>â€‹      Vueä¸­çš„è·¯ç”±æ˜¯é€šè¿‡Vue Routerå®ç°çš„ã€‚Vue Routeræ˜¯Vue.jså®˜æ–¹æä¾›çš„è·¯ç”±ç®¡ç†å™¨ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨Vueåº”ç”¨ä¸­å®ç°å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ã€‚Vue Routeré€šè¿‡é…ç½®è·¯ç”±æ˜ å°„å…³ç³»ï¼Œå°†URLè·¯å¾„ä¸ç»„ä»¶è¿›è¡Œå…³è”ï¼Œå¹¶æä¾›å¯¼èˆªåŠŸèƒ½ï¼Œä½¿ç”¨æˆ·å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹åˆ‡æ¢è§†å›¾ã€‚</p><h5 id="7-Vueä¸­çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚"><a href="#7-Vueä¸­çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚" class="headerlink" title="7. Vueä¸­çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚"></a>7. Vueä¸­çš„æŒ‡ä»¤æœ‰å“ªäº›ï¼Ÿä¸¾ä¾‹è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚</h5><p>â€‹      Vueä¸­å¸¸ç”¨çš„æŒ‡ä»¤åŒ…æ‹¬ï¼š</p><p>v-ifï¼šæ ¹æ®è¡¨è¾¾å¼çš„å€¼æ¡ä»¶æ€§åœ°æ¸²æŸ“å…ƒç´ ã€‚ v-forï¼šæ ¹æ®æ•°ç»„æˆ–å¯¹è±¡çš„æ•°æ®è¿›è¡Œå¾ªç¯æ¸²æŸ“ã€‚ v-bindï¼šç”¨äºåŠ¨æ€ç»‘å®šå±æ€§æˆ–å“åº”å¼åœ°æ›´æ–°å±æ€§ã€‚ v-onï¼šç”¨äºç›‘å¬DOMäº‹ä»¶å¹¶æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ã€‚ v-modelï¼šç”¨äºåœ¨è¡¨å•å…ƒç´ ä¸Šå®ç°åŒå‘æ•°æ®ç»‘å®šã€‚ ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;div v-<span class="hljs-keyword">if</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;æ˜¾ç¤ºå†…å®¹&lt;/div&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><br>&lt;img v-bind:src=&quot;imageUrl&quot;&gt;<br><br>&lt;button v-on:click=&quot;handleClick&quot;&gt;ç‚¹å‡»æŒ‰é’®&lt;/button&gt;<br><br>&lt;input v-model=&quot;message&quot;&gt;<br></code></pre></td></tr></table></figure><h5 id="8-Vueä¸­çš„watchå’Œcomputedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#8-Vueä¸­çš„watchå’Œcomputedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="8. Vueä¸­çš„watchå’Œcomputedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>8. Vueä¸­çš„watchå’Œcomputedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      watchå’Œcomputedéƒ½å¯ä»¥ç”¨äºç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œä½†å®ƒä»¬çš„ç”¨æ³•å’Œå®ç°æ–¹å¼ç•¥æœ‰ä¸åŒã€‚watchç”¨äºç›‘å¬æŒ‡å®šçš„æ•°æ®å˜åŒ–ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚computedç”¨äºæ ¹æ®ä¾èµ–çš„æ•°æ®åŠ¨æ€è®¡ç®—å¾—å‡ºä¸€ä¸ªæ–°çš„å€¼ï¼Œå¹¶å°†è¯¥å€¼ç¼“å­˜èµ·æ¥ï¼Œåªæœ‰åœ¨ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚</p><h5 id="9-Vueä¸­çš„mixinæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#9-Vueä¸­çš„mixinæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="9. Vueä¸­çš„mixinæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>9. Vueä¸­çš„mixinæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h5><p>â€‹      Mixinæ˜¯ä¸€ç§ç”¨äºåœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«ä»£ç çš„æ–¹å¼ã€‚Mixinå¯ä»¥åŒ…å«ç»„ä»¶é€‰é¡¹ï¼ˆå¦‚æ•°æ®ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ï¼‰ï¼Œå¹¶å°†å…¶åˆå¹¶åˆ°ä½¿ç”¨Mixinçš„ç»„ä»¶ä¸­ã€‚è¿™æ ·å¯ä»¥å®ç°ä»£ç çš„å¤ç”¨å’Œç»„ä»¶çš„æ‰©å±•ï¼Œå‡å°‘é‡å¤ç¼–å†™ç›¸ä¼¼ä»£ç çš„å·¥ä½œã€‚</p><h5 id="10-Vueä¸­çš„keep-aliveæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#10-Vueä¸­çš„keep-aliveæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="10. Vueä¸­çš„keep-aliveæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>10. Vueä¸­çš„keep-aliveæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h5><p>â€‹      æ˜¯Vueä¸­çš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œç”¨äºç¼“å­˜åŠ¨æ€ç»„ä»¶ã€‚å½“ç»„ä»¶åŒ…è£¹åœ¨ä¸­æ—¶ï¼Œç»„ä»¶çš„çŠ¶æ€å°†è¢«ä¿ç•™ï¼ŒåŒ…æ‹¬å®ƒçš„å®ä¾‹ã€çŠ¶æ€å’ŒDOMç»“æ„ã€‚è¿™æ ·å¯ä»¥é¿å…åœ¨ç»„ä»¶åˆ‡æ¢æ—¶é‡å¤åˆ›å»ºå’Œé”€æ¯ç»„ä»¶ï¼Œæé«˜æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p><h5 id="11-è¯·è§£é‡ŠVue-jsä¸­çš„ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒåœ¨Vueä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#11-è¯·è§£é‡ŠVue-jsä¸­çš„ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒåœ¨Vueä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="11. è¯·è§£é‡ŠVue.jsä¸­çš„ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒåœ¨Vueä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ"></a>11. è¯·è§£é‡ŠVue.jsä¸­çš„ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒåœ¨Vueä¸­çš„åº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      ä¾èµ–æ³¨å…¥æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†ä¾èµ–å…³ç³»ä»ä¸€ä¸ªç»„ä»¶ä¼ é€’åˆ°å¦ä¸€ä¸ªç»„ä»¶ã€‚åœ¨Vueä¸­ï¼Œä¾èµ–æ³¨å…¥é€šè¿‡provideå’Œinjecté€‰é¡¹å®ç°ã€‚çˆ¶ç»„ä»¶é€šè¿‡provideæä¾›æ•°æ®ï¼Œç„¶åå­ç»„ä»¶é€šè¿‡injectæ³¨å…¥è¿™äº›æ•°æ®ã€‚å®ƒåœ¨è·¨å¤šä¸ªå±‚çº§çš„ç»„ä»¶é€šä¿¡ä¸­éå¸¸æœ‰ç”¨ã€‚</p><h5 id="12-Vue-jsä¸­çš„æ¸²æŸ“å‡½æ•°ï¼ˆRender-Functionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸æ¨¡æ¿ï¼ˆTemplateï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#12-Vue-jsä¸­çš„æ¸²æŸ“å‡½æ•°ï¼ˆRender-Functionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸æ¨¡æ¿ï¼ˆTemplateï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="12. Vue.jsä¸­çš„æ¸²æŸ“å‡½æ•°ï¼ˆRender Functionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸æ¨¡æ¿ï¼ˆTemplateï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>12. Vue.jsä¸­çš„æ¸²æŸ“å‡½æ•°ï¼ˆRender Functionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸æ¨¡æ¿ï¼ˆTemplateï¼‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      æ¸²æŸ“å‡½æ•°æ˜¯ä¸€ç§ç”¨JavaScriptä»£ç ç¼–å†™ç»„ä»¶çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥åŠ¨æ€åœ°ç”Ÿæˆè™šæ‹ŸDOMã€‚ä¸æ¨¡æ¿ç›¸æ¯”ï¼Œæ¸²æŸ“å‡½æ•°æä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œæ§åˆ¶åŠ›ï¼Œå¯ä»¥å¤„ç†æ›´å¤æ‚çš„é€»è¾‘å’ŒåŠ¨æ€æ¸²æŸ“éœ€æ±‚ã€‚</p><h5 id="13-Vue-jsä¸­çš„æ’æ§½ï¼ˆSlotï¼‰æ˜¯ä»€ä¹ˆï¼Ÿè¯·æä¾›ä¸€ä¸ªå…·æœ‰å‘½åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½çš„ç¤ºä¾‹ã€‚"><a href="#13-Vue-jsä¸­çš„æ’æ§½ï¼ˆSlotï¼‰æ˜¯ä»€ä¹ˆï¼Ÿè¯·æä¾›ä¸€ä¸ªå…·æœ‰å‘½åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½çš„ç¤ºä¾‹ã€‚" class="headerlink" title="13. Vue.jsä¸­çš„æ’æ§½ï¼ˆSlotï¼‰æ˜¯ä»€ä¹ˆï¼Ÿè¯·æä¾›ä¸€ä¸ªå…·æœ‰å‘½åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½çš„ç¤ºä¾‹ã€‚"></a>13. Vue.jsä¸­çš„æ’æ§½ï¼ˆSlotï¼‰æ˜¯ä»€ä¹ˆï¼Ÿè¯·æä¾›ä¸€ä¸ªå…·æœ‰å‘½åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½çš„ç¤ºä¾‹ã€‚</h5><p>â€‹      æ’æ§½æ˜¯ä¸€ç§ç”¨äºåœ¨ç»„ä»¶ä¸­æ‰©å±•å†…å®¹çš„æœºåˆ¶ã€‚å‘½åæ’æ§½å…è®¸çˆ¶ç»„ä»¶å‘å­ç»„ä»¶æ’å…¥å…·æœ‰ç‰¹å®šåç§°çš„å†…å®¹ï¼Œè€Œä½œç”¨åŸŸæ’æ§½å…è®¸å­ç»„ä»¶å°†æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!-- çˆ¶ç»„ä»¶ --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;data&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br>&lt;!-- å­ç»„ä»¶ --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span>é»˜è®¤æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;computedData&quot;</span>&gt;</span>&#123;&#123; computedData &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="14-Vue-jsä¸­çš„åŠ¨ç”»ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„åŠ¨ç”»ç¤ºä¾‹ã€‚"><a href="#14-Vue-jsä¸­çš„åŠ¨ç”»ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„åŠ¨ç”»ç¤ºä¾‹ã€‚" class="headerlink" title="14. Vue.jsä¸­çš„åŠ¨ç”»ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„åŠ¨ç”»ç¤ºä¾‹ã€‚"></a>14. Vue.jsä¸­çš„åŠ¨ç”»ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„åŠ¨ç”»ç¤ºä¾‹ã€‚</h5><p>â€‹      Vue.jsçš„åŠ¨ç”»ç³»ç»Ÿé€šè¿‡CSSè¿‡æ¸¡å’ŒåŠ¨ç”»ç±»å®ç°ã€‚é€šè¿‡åœ¨å…ƒç´ ä¸Šæ·»åŠ è¿‡æ¸¡ç±»æˆ–åŠ¨ç”»ç±»ï¼Œå¯ä»¥è§¦å‘ç›¸åº”çš„è¿‡æ¸¡æ•ˆæœæˆ–åŠ¨ç”»æ•ˆæœã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;transition name=<span class="hljs-string">&quot;fade&quot;</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span>æ˜¾ç¤ºå†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/transition&gt;<br><br>&lt;!-- <span class="hljs-variable constant_">CSS</span>æ ·å¼ --&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.fade-enter-active</span>, <span class="hljs-selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.5s</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.fade-enter</span>, <span class="hljs-selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="15-Vue-jsä¸­çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ•è·å’Œå¤„ç†Vueç»„ä»¶ä¸­çš„é”™è¯¯ï¼Ÿ"><a href="#15-Vue-jsä¸­çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ•è·å’Œå¤„ç†Vueç»„ä»¶ä¸­çš„é”™è¯¯ï¼Ÿ" class="headerlink" title="15. Vue.jsä¸­çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ•è·å’Œå¤„ç†Vueç»„ä»¶ä¸­çš„é”™è¯¯ï¼Ÿ"></a>15. Vue.jsä¸­çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ•è·å’Œå¤„ç†Vueç»„ä»¶ä¸­çš„é”™è¯¯ï¼Ÿ</h5><p>â€‹      Vue.jsæä¾›äº†å…¨å±€çš„é”™è¯¯å¤„ç†æœºåˆ¶å’Œç»„ä»¶çº§åˆ«çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚å…¨å±€é”™è¯¯å¤„ç†å¯ä»¥é€šè¿‡errorCapturedé’©å­å‡½æ•°æ•è·å’Œå¤„ç†é”™è¯¯ã€‚ç»„ä»¶çº§åˆ«çš„é”™è¯¯å¤„ç†å¯ä»¥é€šè¿‡errorCapturedé’©å­å‡½æ•°æˆ–errorHandleré€‰é¡¹æ•è·å’Œå¤„ç†é”™è¯¯ã€‚</p><h5 id="16-Vue-jsä¸­çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜åŠ¿å’Œé™åˆ¶ï¼Ÿ"><a href="#16-Vue-jsä¸­çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜åŠ¿å’Œé™åˆ¶ï¼Ÿ" class="headerlink" title="16. Vue.jsä¸­çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜åŠ¿å’Œé™åˆ¶ï¼Ÿ"></a>16. Vue.jsä¸­çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ä¼˜åŠ¿å’Œé™åˆ¶ï¼Ÿ</h5><p>â€‹      æœåŠ¡ç«¯æ¸²æŸ“æ˜¯æŒ‡åœ¨æœåŠ¡å™¨ä¸Šç”ŸæˆHTMLå†…å®¹å¹¶å°†å…¶å‘é€åˆ°æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“çš„è¿‡ç¨‹ã€‚Vue.jså¯ä»¥è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œæä¾›æ›´å¥½çš„é¦–æ¬¡åŠ è½½æ€§èƒ½å’ŒSEOä¼˜åŒ–ã€‚ç„¶è€Œï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ä¹Ÿå¸¦æ¥äº†ä¸€äº›é™åˆ¶ï¼Œå¦‚å¢åŠ äº†æœåŠ¡å™¨è´Ÿè½½å’Œå¼€å‘å¤æ‚æ€§ã€‚</p><h5 id="17-Vue-jsä¸­çš„å“åº”å¼æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é™åˆ¶ï¼Ÿ"><a href="#17-Vue-jsä¸­çš„å“åº”å¼æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é™åˆ¶ï¼Ÿ" class="headerlink" title="17. Vue.jsä¸­çš„å“åº”å¼æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é™åˆ¶ï¼Ÿ"></a>17. Vue.jsä¸­çš„å“åº”å¼æ•°ç»„æœ‰å“ªäº›é™åˆ¶ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é™åˆ¶ï¼Ÿ</h5><p>â€‹      Vue.jsçš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°ç»„çš„å˜å¼‚æ–¹æ³•ï¼ˆå¦‚pushã€popã€spliceç­‰ï¼‰æ˜¯æ— æ³•è¿½è¸ªçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé™åˆ¶ï¼ŒVueæä¾›äº†ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå¦‚Vue.setã€vm.$setå’ŒArray.prototype.spliceã€‚è¿™äº›æ–¹æ³•å¯ä»¥ç”¨äºæ›´æ–°æ•°ç»„å¹¶ä¿æŒå“åº”å¼ã€‚</p><h5 id="18-Vue-jsä¸­çš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›å¸¸è§çš„æŠ€å·§ï¼Ÿ"><a href="#18-Vue-jsä¸­çš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›å¸¸è§çš„æŠ€å·§ï¼Ÿ" class="headerlink" title="18. Vue.jsä¸­çš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›å¸¸è§çš„æŠ€å·§ï¼Ÿ"></a>18. Vue.jsä¸­çš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›å¸¸è§çš„æŠ€å·§ï¼Ÿ</h5><p>â€‹      å¸¸è§çš„Vue.jsæ€§èƒ½ä¼˜åŒ–æŠ€å·§åŒ…æ‹¬ï¼š</p><p>ä½¿ç”¨v-ifå’Œv-foræ—¶æ³¨æ„é¿å…ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ åˆç†ä½¿ç”¨computedå±æ€§å’Œwatchç›‘å¬å™¨ã€‚ ä½¿ç”¨keep-aliveç»„ä»¶ç¼“å­˜ç»„ä»¶çŠ¶æ€ã€‚ ä½¿ç”¨å¼‚æ­¥ç»„ä»¶è¿›è¡ŒæŒ‰éœ€åŠ è½½ã€‚ é¿å…åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤æ‚çš„è¡¨è¾¾å¼ã€‚ ä½¿ç”¨keyå±æ€§ç®¡ç†ç»„ä»¶å’Œå…ƒç´ çš„å¤ç”¨ã€‚ åˆç†ä½¿ç”¨æ‡’åŠ è½½å’Œåˆ†å‰²ä»£ç ã€‚</p><h5 id="19-Vue-jsä¸­çš„è·¯ç”±å¯¼èˆªå®ˆå«æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#19-Vue-jsä¸­çš„è·¯ç”±å¯¼èˆªå®ˆå«æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="19. Vue.jsä¸­çš„è·¯ç”±å¯¼èˆªå®ˆå«æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ"></a>19. Vue.jsä¸­çš„è·¯ç”±å¯¼èˆªå®ˆå«æœ‰å“ªäº›ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ</h5><p>â€‹      Vue.jsä¸­çš„è·¯ç”±å¯¼èˆªå®ˆå«åŒ…æ‹¬å…¨å±€å‰ç½®å®ˆå«ã€å…¨å±€è§£æå®ˆå«ã€å…¨å±€åç½®å®ˆå«ã€è·¯ç”±ç‹¬äº«å®ˆå«å’Œç»„ä»¶å†…å®ˆå«ã€‚å®ƒä»¬çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p><p>å…¨å±€å‰ç½®å®ˆå«ï¼ˆbeforeEachï¼‰ è·¯ç”±ç‹¬äº«å®ˆå«ï¼ˆbeforeEnterï¼‰ è§£æå®ˆå«ï¼ˆbeforeResolveï¼‰ ç»„ä»¶å†…å®ˆå«ï¼ˆbeforeRouteEnterã€beforeRouteUpdateã€beforeRouteLeaveï¼‰ å…¨å±€åç½®å®ˆå«ï¼ˆafterEachï¼‰</p><h5 id="20-Vue-jsä¸­çš„å•å…ƒæµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„å•å…ƒæµ‹è¯•ç¤ºä¾‹ã€‚"><a href="#20-Vue-jsä¸­çš„å•å…ƒæµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„å•å…ƒæµ‹è¯•ç¤ºä¾‹ã€‚" class="headerlink" title="20. Vue.jsä¸­çš„å•å…ƒæµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„å•å…ƒæµ‹è¯•ç¤ºä¾‹ã€‚"></a>20. Vue.jsä¸­çš„å•å…ƒæµ‹è¯•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿè¯·æä¾›ä¸€ä¸ªç®€å•çš„å•å…ƒæµ‹è¯•ç¤ºä¾‹ã€‚</h5><p>â€‹      Vue.jsçš„å•å…ƒæµ‹è¯•å¯ä»¥ä½¿ç”¨å·¥å…·å¦‚Jestæˆ–Mochaè¿›è¡Œã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ç»„ä»¶ä»£ç </span><br><span class="hljs-comment">// MyComponent.vue</span><br>&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my-component&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;increment&quot;</span>&gt;</span>å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="hljs-comment">// å•å…ƒæµ‹è¯•ä»£ç </span><br><span class="hljs-comment">// MyComponent.spec.js</span><br><span class="hljs-keyword">import</span> &#123; shallowMount &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vue/test-utils&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./MyComponent.vue&#x27;</span><br><br><span class="hljs-title function_">describe</span>(<span class="hljs-string">&#x27;MyComponent&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;renders message correctly&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">shallowMount</span>(<span class="hljs-title class_">MyComponent</span>)<br>    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;span&#x27;</span>).<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br>  &#125;)<br><br>  <span class="hljs-title function_">it</span>(<span class="hljs-string">&#x27;increments count when button is clicked&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">shallowMount</span>(<span class="hljs-title class_">MyComponent</span>)<br>    wrapper.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;button&#x27;</span>).<span class="hljs-title function_">trigger</span>(<span class="hljs-string">&#x27;click&#x27;</span>)<br>    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-property">vm</span>.<span class="hljs-property">count</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">1</span>)<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="VUE3"><a href="#VUE3" class="headerlink" title="VUE3"></a>VUE3</h2><h5 id="1-Vue-js-3ä¸­çš„Composition-APIæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Options-APIæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-Vue-js-3ä¸­çš„Composition-APIæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Options-APIæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1. Vue.js 3ä¸­çš„Composition APIæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Options APIæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1. Vue.js 3ä¸­çš„Composition APIæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Options APIæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      Composition APIæ˜¯Vue.js 3ä¸­å¼•å…¥çš„ä¸€ç§æ–°çš„ç»„ç»‡ç»„ä»¶é€»è¾‘çš„æ–¹å¼ã€‚å®ƒå…è®¸å¼€å‘è€…é€šè¿‡å‡½æ•°çš„æ–¹å¼ç»„ç»‡å’Œé‡ç”¨é€»è¾‘ï¼Œè€Œä¸æ˜¯é€šè¿‡é€‰é¡¹å¯¹è±¡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒOptions APIæ˜¯Vue.js 2ä¸­å¸¸ç”¨çš„ç»„ç»‡ç»„ä»¶é€»è¾‘çš„æ–¹å¼ï¼Œé€šè¿‡é€‰é¡¹å¯¹è±¡ä¸­çš„å±æ€§æ¥å®šä¹‰ç»„ä»¶çš„æ•°æ®ã€æ–¹æ³•ç­‰ã€‚</p><h5 id="2-Vue-js-3ä¸­çš„Teleportæ˜¯ä»€ä¹ˆï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªTeleportçš„ç¤ºä¾‹ã€‚"><a href="#2-Vue-js-3ä¸­çš„Teleportæ˜¯ä»€ä¹ˆï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªTeleportçš„ç¤ºä¾‹ã€‚" class="headerlink" title="2. Vue.js 3ä¸­çš„Teleportæ˜¯ä»€ä¹ˆï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªTeleportçš„ç¤ºä¾‹ã€‚"></a>2. Vue.js 3ä¸­çš„Teleportæ˜¯ä»€ä¹ˆï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªTeleportçš„ç¤ºä¾‹ã€‚</h5><p>â€‹      Teleportæ˜¯Vue.js 3ä¸­å¼•å…¥çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºå°†ç»„ä»¶çš„å†…å®¹æ¸²æŸ“åˆ°DOMæ ‘ä¸­çš„ä»»æ„ä½ç½®ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"> &lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showModal = true&quot;</span>&gt;</span>æ‰“å¼€æ¨¡æ€æ¡†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;body&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">modal</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;showModal&quot;</span> @<span class="hljs-attr">close</span>=<span class="hljs-string">&quot;showModal = false&quot;</span>&gt;</span>æ¨¡æ€æ¡†å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">modal</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">teleport</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h5 id="3-Vue-js-3ä¸­çš„å“åº”å¼ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒä¸Vue-js-2ä¸­çš„å“åº”å¼ç³»ç»Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#3-Vue-js-3ä¸­çš„å“åº”å¼ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒä¸Vue-js-2ä¸­çš„å“åº”å¼ç³»ç»Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="3. Vue.js 3ä¸­çš„å“åº”å¼ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒä¸Vue.js 2ä¸­çš„å“åº”å¼ç³»ç»Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>3. Vue.js 3ä¸­çš„å“åº”å¼ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå®ƒä¸Vue.js 2ä¸­çš„å“åº”å¼ç³»ç»Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      Vue.js 3ä¸­çš„å“åº”å¼ç³»ç»Ÿä½¿ç”¨äº†Proxyå¯¹è±¡æ¥å®ç°ã€‚ä¸Vue.js 2ä¸­çš„å“åº”å¼ç³»ç»Ÿç›¸æ¯”ï¼ŒVue.js 3çš„å“åº”å¼ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„æ€§èƒ½å’Œæ›´ç»†ç²’åº¦çš„è¿½è¸ªï¼Œèƒ½å¤Ÿæ›´å‡†ç¡®åœ°æ£€æµ‹åˆ°æ•°æ®çš„å˜åŒ–ï¼Œå¹¶ä¸”æ”¯æŒåµŒå¥—çš„å“åº”å¼æ•°æ®ã€‚</p><h5 id="4-Vue-js-3ä¸­çš„Suspenseæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#4-Vue-js-3ä¸­çš„Suspenseæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="4. Vue.js 3ä¸­çš„Suspenseæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>4. Vue.js 3ä¸­çš„Suspenseæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Suspenseæ˜¯Vue.js 3ä¸­å¼•å…¥çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºå¤„ç†å¼‚æ­¥ç»„ä»¶çš„åŠ è½½çŠ¶æ€ã€‚å®ƒå¯ä»¥åœ¨å¼‚æ­¥ç»„ä»¶åŠ è½½å®Œæˆä¹‹å‰æ˜¾ç¤ºä¸€ä¸ªå ä½ç¬¦ï¼Œå¹¶åœ¨åŠ è½½å®Œæˆåæ¸²æŸ“å¼‚æ­¥ç»„ä»¶çš„å†…å®¹ã€‚è¿™æ ·å¯ä»¥æ›´å¥½åœ°å¤„ç†å¼‚æ­¥ç»„ä»¶çš„åŠ è½½è¿‡ç¨‹ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><h5 id="5-Vue-js-3ä¸­çš„provideå’Œinjectæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªprovideå’Œinjectçš„ç¤ºä¾‹ã€‚"><a href="#5-Vue-js-3ä¸­çš„provideå’Œinjectæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªprovideå’Œinjectçš„ç¤ºä¾‹ã€‚" class="headerlink" title="5. Vue.js 3ä¸­çš„provideå’Œinjectæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªprovideå’Œinjectçš„ç¤ºä¾‹ã€‚"></a>5. Vue.js 3ä¸­çš„provideå’Œinjectæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªprovideå’Œinjectçš„ç¤ºä¾‹ã€‚</h5><p>â€‹      provideå’Œinjectç”¨äºå®ç°ç»„ä»¶ä¹‹é—´çš„ä¾èµ–æ³¨å…¥ã€‚é€šè¿‡åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨provideæä¾›æ•°æ®ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨injectæ³¨å…¥è¿™äº›æ•°æ®ã€‚ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">      <span class="hljs-comment">// çˆ¶ç»„ä»¶</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Parent</span> = &#123;<br>  <span class="hljs-attr">provide</span>: &#123;<br>    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello&#x27;</span><br>  &#125;,<br>  <span class="hljs-comment">// ...</span><br>&#125;<br><br><span class="hljs-comment">// å­ç»„ä»¶</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = &#123;<br>  <span class="hljs-attr">inject</span>: [<span class="hljs-string">&#x27;message&#x27;</span>],<br>  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>); <span class="hljs-comment">// è¾“å‡ºï¼šHello</span><br>  &#125;,<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="6-Vue-js-3ä¸­çš„åŠ¨ç”»ç³»ç»Ÿæœ‰å“ªäº›æ”¹è¿›ï¼Ÿè¯·åˆ—ä¸¾å‡ ä¸ªæ”¹è¿›ä¹‹å¤„ã€‚"><a href="#6-Vue-js-3ä¸­çš„åŠ¨ç”»ç³»ç»Ÿæœ‰å“ªäº›æ”¹è¿›ï¼Ÿè¯·åˆ—ä¸¾å‡ ä¸ªæ”¹è¿›ä¹‹å¤„ã€‚" class="headerlink" title="6. Vue.js 3ä¸­çš„åŠ¨ç”»ç³»ç»Ÿæœ‰å“ªäº›æ”¹è¿›ï¼Ÿè¯·åˆ—ä¸¾å‡ ä¸ªæ”¹è¿›ä¹‹å¤„ã€‚"></a>6. Vue.js 3ä¸­çš„åŠ¨ç”»ç³»ç»Ÿæœ‰å“ªäº›æ”¹è¿›ï¼Ÿè¯·åˆ—ä¸¾å‡ ä¸ªæ”¹è¿›ä¹‹å¤„ã€‚</h5><p>â€‹      Vue.js 3ä¸­çš„åŠ¨ç”»ç³»ç»Ÿç›¸æ¯”Vue.js 2æœ‰ä»¥ä¸‹æ”¹è¿›ä¹‹å¤„ï¼š</p><p>æ›´å¥½çš„æ€§èƒ½ï¼šVue.js 3çš„åŠ¨ç”»ç³»ç»Ÿä½¿ç”¨äº†æ›´é«˜æ•ˆçš„åŠ¨ç”»å¼•æ“ï¼Œæä¾›äº†æ›´å¥½çš„æ€§èƒ½ã€‚ æ›´ç®€æ´çš„è¯­æ³•ï¼šVue.js 3çš„åŠ¨ç”»ç³»ç»Ÿä½¿ç”¨äº†æ›´ç®€æ´çš„è¯­æ³•ï¼Œä½¿å¾—åŠ¨ç”»çš„å®šä¹‰å’Œä½¿ç”¨æ›´åŠ ç›´è§‚å’Œæ–¹ä¾¿ã€‚ æ”¯æŒæ›´å¤šçš„åŠ¨ç”»ç‰¹æ€§ï¼šVue.js 3çš„åŠ¨ç”»ç³»ç»Ÿæ”¯æŒæ›´å¤šçš„åŠ¨ç”»ç‰¹æ€§ï¼Œå¦‚äº¤äº’å¼åŠ¨ç”»å’Œæ›´å¤æ‚çš„åŠ¨ç”»æ•ˆæœã€‚</p><p> Vue.js 3ä¸­çš„é™æ€æå‡ï¼ˆStatic Tree Hoistingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ ç­”æ¡ˆï¼šé™æ€æå‡æ˜¯Vue.js 3ä¸­çš„ä¸€é¡¹ä¼˜åŒ–æŠ€æœ¯ï¼Œé€šè¿‡åœ¨ç¼–è¯‘é˜¶æ®µå°†é™æ€èŠ‚ç‚¹æå‡ä¸ºå¸¸é‡ï¼Œä»è€Œå‡å°‘äº†è¿è¡Œæ—¶çš„å¼€é”€ã€‚è¿™é¡¹ä¼˜åŒ–æŠ€æœ¯å¯ä»¥æé«˜ç»„ä»¶çš„æ¸²æŸ“æ€§èƒ½ï¼Œå¹¶å‡å°‘ç”Ÿæˆçš„ä»£ç ä½“ç§¯ã€‚</p><h5 id="7-Vue-js-3ä¸­çš„Fragmentæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#7-Vue-js-3ä¸­çš„Fragmentæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="7. Vue.js 3ä¸­çš„Fragmentæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>7. Vue.js 3ä¸­çš„Fragmentæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Fragmentæ˜¯Vue.js 3ä¸­å¼•å…¥çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºåœ¨ç»„ä»¶ä¸­è¿”å›å¤šä¸ªæ ¹èŠ‚ç‚¹ã€‚åœ¨Vue.js 2ä¸­ï¼Œç»„ä»¶çš„æ¨¡æ¿åªèƒ½æœ‰ä¸€ä¸ª Vue.js 3ä¸­çš„Composition APIä¸­çš„refå’Œreactiveæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨å“ªä¸ªï¼Ÿ       refç”¨äºåˆ›å»ºä¸€ä¸ªå“åº”å¼çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè€Œreactiveç”¨äºåˆ›å»ºä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚å½“éœ€è¦åˆ›å»ºä¸€ä¸ªç®€å•çš„å“åº”å¼æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨refï¼Œå½“éœ€è¦åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªå±æ€§çš„å“åº”å¼å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨reactiveã€‚</p><h5 id="8-Vue-js-3ä¸­çš„watchEffectå’Œwatchæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨å“ªä¸ªï¼Ÿ"><a href="#8-Vue-js-3ä¸­çš„watchEffectå’Œwatchæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨å“ªä¸ªï¼Ÿ" class="headerlink" title="8. Vue.js 3ä¸­çš„watchEffectå’Œwatchæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨å“ªä¸ªï¼Ÿ"></a>8. Vue.js 3ä¸­çš„watchEffectå’Œwatchæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨å“ªä¸ªï¼Ÿ</h5><p>â€‹      watchEffectç”¨äºç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œå¹¶åœ¨å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚å®ƒä¼šè‡ªåŠ¨è¿½è¸ªä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–å˜åŒ–æ—¶é‡æ–°è¿è¡Œå›è°ƒå‡½æ•°ã€‚watchç”¨äºç›‘å¬æŒ‡å®šçš„å“åº”å¼æ•°æ®ï¼Œå¹¶åœ¨å…¶å˜åŒ–æ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚å®ƒå¯ä»¥ç²¾ç¡®åœ°æŒ‡å®šè¦ç›‘å¬çš„æ•°æ®ï¼Œå¹¶æä¾›æ›´å¤šçš„é…ç½®é€‰é¡¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœåªéœ€è¦ç›‘å¬ä¸€ä¸ªå“åº”å¼æ•°æ®çš„å˜åŒ–å¹¶æ‰§è¡Œç›¸åº”æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨watchEffectï¼›å¦‚æœéœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨watchã€‚</p><h5 id="9-Vue-js-3ä¸­çš„v-modelæŒ‡ä»¤åœ¨ä½¿ç”¨æ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ"><a href="#9-Vue-js-3ä¸­çš„v-modelæŒ‡ä»¤åœ¨ä½¿ç”¨æ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ" class="headerlink" title="9. Vue.js 3ä¸­çš„v-modelæŒ‡ä»¤åœ¨ä½¿ç”¨æ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ"></a>9. Vue.js 3ä¸­çš„v-modelæŒ‡ä»¤åœ¨ä½¿ç”¨æ—¶æœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ</h5><p>â€‹      åœ¨ä½¿ç”¨v-modelæŒ‡ä»¤æ—¶ï¼Œæœ‰ä»¥ä¸‹æ³¨æ„äº‹é¡¹ï¼š</p><p>v-modelæŒ‡ä»¤å¿…é¡»ä¸ä¸€ä¸ªè¡¨å•å…ƒç´ ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ã€ã€ç­‰ã€‚ å½“ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œç»„ä»¶å†…éƒ¨å¿…é¡»å®ç°modelValueå±æ€§å’Œupdate:modelValueäº‹ä»¶ï¼Œä»¥æ”¯æŒv-modelçš„åŒå‘ç»‘å®šã€‚ å¯ä»¥ä½¿ç”¨.lazyä¿®é¥°ç¬¦å®ç°åœ¨è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶æ›´æ–°æ•°æ®ã€‚ å¯ä»¥ä½¿ç”¨.trimä¿®é¥°ç¬¦è‡ªåŠ¨å»é™¤è¾“å…¥æ¡†å†…å®¹çš„é¦–å°¾ç©ºæ ¼ã€‚ å¯ä»¥ä½¿ç”¨.numberä¿®é¥°ç¬¦å°†è¾“å…¥æ¡†çš„å€¼è½¬æ¢ä¸ºæ•°å­—ç±»å‹ã€‚</p><h5 id="10-Vue-js-3ä¸­çš„provideå’Œinjectæ˜¯å¦æ”¯æŒå“åº”å¼æ•°æ®ï¼Ÿ"><a href="#10-Vue-js-3ä¸­çš„provideå’Œinjectæ˜¯å¦æ”¯æŒå“åº”å¼æ•°æ®ï¼Ÿ" class="headerlink" title="10. Vue.js 3ä¸­çš„provideå’Œinjectæ˜¯å¦æ”¯æŒå“åº”å¼æ•°æ®ï¼Ÿ"></a>10. Vue.js 3ä¸­çš„provideå’Œinjectæ˜¯å¦æ”¯æŒå“åº”å¼æ•°æ®ï¼Ÿ</h5><p>â€‹      é»˜è®¤æƒ…å†µä¸‹ï¼Œprovideå’Œinjectä¸æ”¯æŒå“åº”å¼æ•°æ®ã€‚å¦‚æœéœ€è¦åœ¨provideä¸­æä¾›ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨refæˆ–reactiveå°†æ•°æ®åŒ…è£…èµ·æ¥ã€‚ç„¶ååœ¨injectä¸­ä½¿ç”¨toRefsæˆ–toRefå°†æ•°æ®è§£æ„å‡ºæ¥ï¼Œä»¥è·å–å“åº”å¼çš„å¼•ç”¨ã€‚</p><h5 id="11-Vue-js-3ä¸­çš„nextTickæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒï¼Ÿ"><a href="#11-Vue-js-3ä¸­çš„nextTickæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒï¼Ÿ" class="headerlink" title="11. Vue.js 3ä¸­çš„nextTickæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒï¼Ÿ"></a>11. Vue.js 3ä¸­çš„nextTickæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨å®ƒï¼Ÿ</h5><p>â€‹      nextTickæ–¹æ³•ç”¨äºåœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚å®ƒå¯ä»¥ç”¨æ¥ç¡®ä¿åœ¨æ›´æ–°DOMåæ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¦‚æ“ä½œæ›´æ–°åçš„DOMå…ƒç´ æˆ–è·å–æ›´æ–°åçš„è®¡ç®—å±æ€§çš„å€¼ã€‚é€šå¸¸åœ¨éœ€è¦ç­‰å¾…DOMæ›´æ–°å®Œæˆåè¿›è¡Œæ“ä½œçš„æƒ…å†µä¸‹ä½¿ç”¨nextTickã€‚</p><h5 id="12-Vue-js-3ä¸­çš„å’Œç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#12-Vue-js-3ä¸­çš„å’Œç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="12. Vue.js 3ä¸­çš„å’Œç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>12. Vue.js 3ä¸­çš„å’Œç»„ä»¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      ç»„ä»¶ç”¨äºå°†ç»„ä»¶çš„å†…å®¹æ¸²æŸ“åˆ°DOMæ ‘ä¸­çš„ä»»æ„ä½ç½®ï¼Œè€Œç»„ä»¶ç”¨äºåœ¨ç»„ä»¶è¿›å…¥æˆ–ç¦»å¼€DOMæ ‘æ—¶åº”ç”¨è¿‡æ¸¡æ•ˆæœã€‚ä¸»è¦ç”¨äºç»„ä»¶çš„ä½ç½®ç§»åŠ¨ï¼Œè€Œä¸»è¦ç”¨äºç»„ä»¶çš„æ˜¾ç¤ºå’Œéšè—è¿‡æ¸¡ã€‚</p><h5 id="13-Vue-js-3ä¸­çš„v-foræŒ‡ä»¤ä¸­çš„keyå±æ€§æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ"><a href="#13-Vue-js-3ä¸­çš„v-foræŒ‡ä»¤ä¸­çš„keyå±æ€§æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ" class="headerlink" title="13. Vue.js 3ä¸­çš„v-foræŒ‡ä»¤ä¸­çš„keyå±æ€§æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ"></a>13. Vue.js 3ä¸­çš„v-foræŒ‡ä»¤ä¸­çš„keyå±æ€§æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ</h5><p>â€‹      v-foræŒ‡ä»¤ä¸­çš„keyå±æ€§ç”¨äºç»™æ¯ä¸ªè¿­ä»£é¡¹è®¾ç½®ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚å®ƒçš„ä½œç”¨æ˜¯å¸®åŠ©Vue.jsè·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»¥ä¾¿åœ¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶é«˜æ•ˆåœ°æ›´æ–°DOMã€‚ä½¿ç”¨keyå±æ€§å¯ä»¥é¿å…å‡ºç°é”™è¯¯çš„èŠ‚ç‚¹æ›´æ–°æˆ–é‡æ–°æ’åºçš„é—®é¢˜ã€‚</p><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h5 id="1-ä»€ä¹ˆæ˜¯Reactï¼Ÿå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯Reactï¼Ÿå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Reactï¼Ÿå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯Reactï¼Ÿå®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Reactæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptåº“ã€‚å®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ç»„ä»¶åŒ–å’Œå£°æ˜å¼ç¼–ç¨‹ã€‚Reactå°†ç”¨æˆ·ç•Œé¢æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å¯é‡ç”¨ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨å£°æ˜å¼è¯­æ³•æè¿°ç»„ä»¶çš„çŠ¶æ€å’ŒUIçš„å…³ç³»ï¼Œä½¿å¾—æ„å»ºå¤æ‚çš„UIå˜å¾—ç®€å•å’Œå¯ç»´æŠ¤ã€‚</p><h5 id="2-ä»€ä¹ˆæ˜¯JSXï¼Ÿå®ƒä¸HTMLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯JSXï¼Ÿå®ƒä¸HTMLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯JSXï¼Ÿå®ƒä¸HTMLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯JSXï¼Ÿå®ƒä¸HTMLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      JSXæ˜¯ä¸€ç§JavaScriptçš„è¯­æ³•æ‰©å±•ï¼Œç”¨äºåœ¨Reactä¸­æè¿°UIçš„ç»“æ„ã€‚å®ƒç±»ä¼¼äºHTMLï¼Œä½†æœ‰ä¸€äº›åŒºåˆ«ï¼š</p><h5 id="3-ä»€ä¹ˆæ˜¯Reactç»„ä»¶ï¼Ÿå®ƒä»¬æœ‰å“ªä¸¤ç§ç±»å‹ï¼Ÿ"><a href="#3-ä»€ä¹ˆæ˜¯Reactç»„ä»¶ï¼Ÿå®ƒä»¬æœ‰å“ªä¸¤ç§ç±»å‹ï¼Ÿ" class="headerlink" title="3. ä»€ä¹ˆæ˜¯Reactç»„ä»¶ï¼Ÿå®ƒä»¬æœ‰å“ªä¸¤ç§ç±»å‹ï¼Ÿ"></a>3. ä»€ä¹ˆæ˜¯Reactç»„ä»¶ï¼Ÿå®ƒä»¬æœ‰å“ªä¸¤ç§ç±»å‹ï¼Ÿ</h5><p>â€‹      Reactç»„ä»¶æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„ç‹¬ç«‹å•å…ƒã€‚Reactç»„ä»¶æœ‰ä¸¤ç§ç±»å‹ï¼š</p><p>å‡½æ•°ç»„ä»¶ï¼šä½¿ç”¨å‡½æ•°æ¥å®šä¹‰ç»„ä»¶ï¼Œæ¥æ”¶propsä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚ ç±»ç»„ä»¶ï¼šä½¿ç”¨ES6ç±»æ¥å®šä¹‰ç»„ä»¶ï¼Œç»§æ‰¿è‡ªReact.Componentç±»ï¼Œé€šè¿‡renderæ–¹æ³•è¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚</p><h5 id="4-ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼ˆstateï¼‰å’Œå±æ€§ï¼ˆpropsï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#4-ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼ˆstateï¼‰å’Œå±æ€§ï¼ˆpropsï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="4. ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼ˆstateï¼‰å’Œå±æ€§ï¼ˆpropsï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>4. ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼ˆstateï¼‰å’Œå±æ€§ï¼ˆpropsï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      çŠ¶æ€ï¼ˆstateï¼‰æ˜¯ç»„ä»¶è‡ªèº«ç®¡ç†çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡setStateæ–¹æ³•æ¥æ›´æ–°ã€‚å±æ€§ï¼ˆpropsï¼‰æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼Œå­ç»„ä»¶æ— æ³•ç›´æ¥ä¿®æ”¹propsï¼Œåªèƒ½é€šè¿‡çˆ¶ç»„ä»¶çš„æ›´æ–°æ¥æ”¹å˜propsã€‚</p><p>åŒºåˆ«ï¼š</p><p>çŠ¶æ€ï¼ˆstateï¼‰æ˜¯ç»„ä»¶å†…éƒ¨çš„æ•°æ®ï¼Œå¯ä»¥åœ¨ç»„ä»¶ä¸­è‡ªç”±ä¿®æ”¹å’Œç®¡ç†ã€‚ å±æ€§ï¼ˆpropsï¼‰æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼Œå­ç»„ä»¶æ— æ³•ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½æ¥æ”¶å’Œä½¿ç”¨ã€‚</p><h5 id="5-ä»€ä¹ˆæ˜¯Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Ÿåˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚"><a href="#5-ä»€ä¹ˆæ˜¯Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Ÿåˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚" class="headerlink" title="5. ä»€ä¹ˆæ˜¯Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Ÿåˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚"></a>5. ä»€ä¹ˆæ˜¯Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Ÿåˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</h5><p>â€‹      Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ˜¯åœ¨ç»„ä»¶ä¸åŒé˜¶æ®µæ‰§è¡Œçš„ç‰¹å®šæ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼š</p><p>componentDidMountï¼šç»„ä»¶æŒ‚è½½åç«‹å³è°ƒç”¨ã€‚ componentDidUpdateï¼šç»„ä»¶æ›´æ–°åè°ƒç”¨ã€‚ componentWillUnmountï¼šç»„ä»¶å¸è½½å‰è°ƒç”¨ã€‚ shouldComponentUpdateï¼šå†³å®šç»„ä»¶æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ã€‚ getDerivedStateFromPropsï¼šæ ¹æ®propsçš„å˜åŒ–æ¥æ›´æ–°çŠ¶æ€ã€‚</p><h5 id="6-ä»€ä¹ˆæ˜¯React-Hooksï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#6-ä»€ä¹ˆæ˜¯React-Hooksï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="6. ä»€ä¹ˆæ˜¯React Hooksï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>6. ä»€ä¹ˆæ˜¯React Hooksï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      React Hooksæ˜¯React 16.8ç‰ˆæœ¬å¼•å…¥çš„ä¸€ç§ç‰¹æ€§ï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»–Reactç‰¹æ€§ã€‚Hooksæä¾›äº†ä¸€ç§æ— éœ€ç¼–å†™ç±»ç»„ä»¶çš„æ–¹å¼æ¥ç®¡ç†çŠ¶æ€å’Œå¤„ç†å‰¯ä½œç”¨ï¼Œä½¿å¾—å‡½æ•°ç»„ä»¶å…·æœ‰ç±»ç»„ä»¶çš„èƒ½åŠ›ã€‚</p><h5 id="7-ä»€ä¹ˆæ˜¯React-Routerï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#7-ä»€ä¹ˆæ˜¯React-Routerï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="7. ä»€ä¹ˆæ˜¯React Routerï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>7. ä»€ä¹ˆæ˜¯React Routerï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      React Routeræ˜¯Reactä¸­ç”¨äºå¤„ç†è·¯ç”±çš„åº“ã€‚å®ƒæä¾›äº†ä¸€ç§åœ¨å•é¡µé¢åº”ç”¨ä¸­å®ç°å¯¼èˆªå’Œè·¯ç”±åŠŸèƒ½çš„æ–¹å¼ã€‚React Routerå¯ä»¥å¸®åŠ©å¼€å‘è€…å®ç°é¡µé¢ä¹‹é—´çš„åˆ‡æ¢ã€URLå‚æ•°çš„ä¼ é€’ã€åµŒå¥—è·¯ç”±ç­‰åŠŸèƒ½ã€‚</p><h5 id="8-ä»€ä¹ˆæ˜¯React-Contextï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#8-ä»€ä¹ˆæ˜¯React-Contextï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="8. ä»€ä¹ˆæ˜¯React Contextï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>8. ä»€ä¹ˆæ˜¯React Contextï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      React Contextæ˜¯ä¸€ç§ç”¨äºåœ¨ç»„ä»¶æ ‘ä¸­å…±äº«æ•°æ®çš„æœºåˆ¶ã€‚å®ƒå¯ä»¥é¿å…é€šè¿‡propsä¸€å±‚å±‚ä¼ é€’æ•°æ®ï¼Œä½¿å¾—è·¨ç»„ä»¶çš„æ•°æ®å…±äº«å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚React Contextæä¾›äº†ä¸€ä¸ªProviderå’ŒConsumerç»„ä»¶ï¼Œç”¨äºæä¾›å’Œæ¶ˆè´¹å…±äº«çš„æ•°æ®ã€‚</p><h5 id="9-ä»€ä¹ˆæ˜¯Reactçš„åè°ƒï¼ˆReconciliationï¼‰è¿‡ç¨‹ï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#9-ä»€ä¹ˆæ˜¯Reactçš„åè°ƒï¼ˆReconciliationï¼‰è¿‡ç¨‹ï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="9. ä»€ä¹ˆæ˜¯Reactçš„åè°ƒï¼ˆReconciliationï¼‰è¿‡ç¨‹ï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>9. ä»€ä¹ˆæ˜¯Reactçš„åè°ƒï¼ˆReconciliationï¼‰è¿‡ç¨‹ï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h5><p>â€‹      Reactçš„åè°ƒè¿‡ç¨‹æ˜¯æŒ‡Reactåœ¨è¿›è¡Œç»„ä»¶æ›´æ–°æ—¶ï¼Œé€šè¿‡æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMæ ‘çš„å·®å¼‚ï¼Œä»…å¯¹éœ€è¦æ›´æ–°çš„éƒ¨åˆ†è¿›è¡Œå®é™…çš„DOMæ“ä½œã€‚åè°ƒè¿‡ç¨‹çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p><p>Reactä¼šé€å±‚æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMæ ‘çš„èŠ‚ç‚¹ï¼Œå¹¶æ‰¾å‡ºå·®å¼‚ã€‚ å¯¹äºæ¯ä¸ªå·®å¼‚ï¼ŒReactä¼šç”Ÿæˆç›¸åº”çš„DOMæ“ä½œæŒ‡ä»¤ï¼Œå¦‚æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤èŠ‚ç‚¹ã€‚ Reactä¼šå°†æ‰€æœ‰çš„DOMæ“ä½œæŒ‡ä»¤æ‰¹é‡æ‰§è¡Œï¼Œä»¥å‡å°‘å¯¹çœŸå®DOMçš„æ“ä½œæ¬¡æ•°ã€‚</p><h5 id="10-ä»€ä¹ˆæ˜¯Reactçš„äº‹ä»¶åˆæˆï¼ˆSyntheticEventï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#10-ä»€ä¹ˆæ˜¯Reactçš„äº‹ä»¶åˆæˆï¼ˆSyntheticEventï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="10. ä»€ä¹ˆæ˜¯Reactçš„äº‹ä»¶åˆæˆï¼ˆSyntheticEventï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>10. ä»€ä¹ˆæ˜¯Reactçš„äº‹ä»¶åˆæˆï¼ˆSyntheticEventï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Reactçš„äº‹ä»¶åˆæˆæ˜¯ä¸€ç§åœ¨Reactä¸­å¤„ç†äº‹ä»¶çš„æœºåˆ¶ã€‚å®ƒæ˜¯Reactä¸ºäº†æé«˜æ€§èƒ½å’Œè·¨æµè§ˆå™¨å…¼å®¹æ€§è€Œå®ç°çš„ä¸€ç§äº‹ä»¶ç³»ç»Ÿã€‚äº‹ä»¶åˆæˆçš„ä½œç”¨åŒ…æ‹¬ï¼š</p><p>æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å¤„ç†äº‹ä»¶ï¼Œæ— éœ€è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§ã€‚ å¯ä»¥é€šè¿‡äº‹ä»¶å§”æ‰˜çš„æ–¹å¼å°†äº‹ä»¶å¤„ç†ç¨‹åºç»‘å®šåˆ°çˆ¶ç»„ä»¶ï¼Œæé«˜æ€§èƒ½ã€‚ å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚</p><h5 id="11-ä»€ä¹ˆæ˜¯Reactçš„Fiberæ¶æ„ï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#11-ä»€ä¹ˆæ˜¯Reactçš„Fiberæ¶æ„ï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="11. ä»€ä¹ˆæ˜¯Reactçš„Fiberæ¶æ„ï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>11. ä»€ä¹ˆæ˜¯Reactçš„Fiberæ¶æ„ï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h5><p>â€‹      Reactçš„Fiberæ¶æ„æ˜¯React 16ç‰ˆæœ¬å¼•å…¥çš„ä¸€ç§æ–°çš„åè°ƒç®—æ³•å’Œæ¶æ„ã€‚å®ƒæ—¨åœ¨è§£å†³é•¿æ—¶é—´æ¸²æŸ“é˜»å¡ä¸»çº¿ç¨‹çš„é—®é¢˜ï¼Œæé«˜åº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚Fiberæ¶æ„é€šè¿‡å°†æ¸²æŸ“è¿‡ç¨‹åˆ†è§£ä¸ºå¤šä¸ªå°ä»»åŠ¡ï¼Œå¹¶ä½¿ç”¨ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•æ¥åŠ¨æ€åˆ†é…æ—¶é—´ç‰‡ï¼Œä½¿å¾—Reactå¯ä»¥åœ¨æ¯ä¸ªå¸§ä¸­æ‰§è¡Œä¸€éƒ¨åˆ†ä»»åŠ¡ï¼Œä»è€Œå®ç°å¹³æ»‘çš„ç”¨æˆ·ç•Œé¢å’Œæ›´å¥½çš„å“åº”æ€§èƒ½ã€‚</p><h5 id="12-ä»€ä¹ˆæ˜¯Reactçš„é”™è¯¯è¾¹ç•Œï¼ˆError-Boundaryï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#12-ä»€ä¹ˆæ˜¯Reactçš„é”™è¯¯è¾¹ç•Œï¼ˆError-Boundaryï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="12. ä»€ä¹ˆæ˜¯Reactçš„é”™è¯¯è¾¹ç•Œï¼ˆError Boundaryï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>12. ä»€ä¹ˆæ˜¯Reactçš„é”™è¯¯è¾¹ç•Œï¼ˆError Boundaryï¼‰ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Reactçš„é”™è¯¯è¾¹ç•Œæ˜¯ä¸€ç§ç”¨äºå¤„ç†ç»„ä»¶é”™è¯¯çš„æœºåˆ¶ã€‚å®ƒå…è®¸ç»„ä»¶æ•è·å¹¶å¤„ç†å…¶å­ç»„ä»¶ä¸­å‘ç”Ÿçš„JavaScripté”™è¯¯ï¼Œä»¥é¿å…æ•´ä¸ªåº”ç”¨å´©æºƒã€‚é”™è¯¯è¾¹ç•Œçš„ä½œç”¨åŒ…æ‹¬ï¼š</p><p>æ•è·å¹¶å¤„ç†ç»„ä»¶æ ‘ä¸­çš„é”™è¯¯ï¼Œé˜²æ­¢é”™è¯¯å¯¼è‡´æ•´ä¸ªåº”ç”¨å´©æºƒã€‚ æä¾›ä¸€ç§ä¼˜é›…çš„æ–¹å¼æ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯æˆ–å¤‡ç”¨UIã€‚ å¯ä»¥ç”¨äºè®°å½•é”™è¯¯å’Œå‘é€é”™è¯¯æŠ¥å‘Šã€‚</p><h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><h5 id="1-ä»€ä¹ˆæ˜¯HTTPï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯HTTPï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯HTTPï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯HTTPï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h5><p>â€‹      HTTPï¼ˆHypertext Transfer Protocolï¼‰æ˜¯ä¸€ç§ç”¨äºåœ¨Webä¸Šä¼ è¾“æ•°æ®çš„åè®®ã€‚å®ƒä½¿ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹ï¼Œå®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è¿”å›HTTPå“åº”ã€‚HTTPçš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><p>å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚åˆ°æŒ‡å®šçš„URLã€‚ æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†ï¼Œç„¶åè¿”å›HTTPå“åº”ã€‚ å®¢æˆ·ç«¯æ¥æ”¶å“åº”å¹¶è§£æï¼Œä»ä¸­è·å–æ‰€éœ€çš„æ•°æ®ã€‚</p><h5 id="2-ä»€ä¹ˆæ˜¯HTTPSï¼Ÿä¸HTTPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯HTTPSï¼Ÿä¸HTTPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯HTTPSï¼Ÿä¸HTTPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯HTTPSï¼Ÿä¸HTTPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      HTTPSï¼ˆHypertext Transfer Protocol Secureï¼‰æ˜¯HTTPçš„å®‰å…¨ç‰ˆæœ¬ï¼Œé€šè¿‡ä½¿ç”¨SSLï¼ˆSecure Sockets Layerï¼‰æˆ–TLSï¼ˆTransport Layer Securityï¼‰åè®®å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†å’Œèº«ä»½éªŒè¯ã€‚ä¸HTTPç›¸æ¯”ï¼ŒHTTPSå…·æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p><p>æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­é€šè¿‡åŠ å¯†è¿›è¡Œä¿æŠ¤ï¼Œæä¾›æ›´é«˜çš„å®‰å…¨æ€§ã€‚ ä½¿ç”¨æ•°å­—è¯ä¹¦å¯¹æœåŠ¡å™¨è¿›è¡Œèº«ä»½éªŒè¯ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚ ä½¿ç”¨é»˜è®¤ç«¯å£443ã€‚</p><h5 id="3-ä»€ä¹ˆæ˜¯è·¨åŸŸè¯·æ±‚ï¼Ÿå®ƒæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ"><a href="#3-ä»€ä¹ˆæ˜¯è·¨åŸŸè¯·æ±‚ï¼Ÿå®ƒæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ" class="headerlink" title="3. ä»€ä¹ˆæ˜¯è·¨åŸŸè¯·æ±‚ï¼Ÿå®ƒæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ"></a>3. ä»€ä¹ˆæ˜¯è·¨åŸŸè¯·æ±‚ï¼Ÿå®ƒæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</h5><p>â€‹      è·¨åŸŸè¯·æ±‚æ˜¯æŒ‡åœ¨æµè§ˆå™¨ä¸­å‘ä¸åŒåŸŸåã€ç«¯å£æˆ–åè®®å‘é€çš„è¯·æ±‚ã€‚ç”±äºæµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰é™åˆ¶ï¼Œè·¨åŸŸè¯·æ±‚ä¼šå—åˆ°é™åˆ¶ã€‚ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><p>JSONPï¼ˆJSON with Paddingï¼‰ï¼šé€šè¿‡åŠ¨æ€åˆ›å»º</p><h5 id="4-ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿåœ¨å‰ç«¯ä¸­å¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ï¼Ÿ"><a href="#4-ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿåœ¨å‰ç«¯ä¸­å¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ï¼Ÿ" class="headerlink" title="4. ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿåœ¨å‰ç«¯ä¸­å¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ï¼Ÿ"></a>4. ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿåœ¨å‰ç«¯ä¸­å¦‚ä½•ä½¿ç”¨ç¼“å­˜æ¥æé«˜æ€§èƒ½ï¼Ÿ</h5><p>â€‹      ç¼“å­˜æ˜¯å°†æ•°æ®æˆ–èµ„æºå­˜å‚¨åœ¨ä¸´æ—¶å­˜å‚¨ä¸­ï¼Œä»¥ä¾¿åœ¨åç»­è¯·æ±‚ä¸­é‡å¤ä½¿ç”¨ï¼Œä»è€Œæé«˜æ€§èƒ½å’Œå‡å°‘ç½‘ç»œæµé‡ã€‚åœ¨å‰ç«¯ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ¥åˆ©ç”¨ç¼“å­˜ï¼š</p><p>HTTPç¼“å­˜ï¼šé€šè¿‡è®¾ç½®é€‚å½“çš„ç¼“å­˜å¤´ï¼ˆå¦‚Cache-Controlå’ŒExpiresï¼‰æ¥æŒ‡ç¤ºæµè§ˆå™¨ç¼“å­˜å“åº”ã€‚ èµ„æºç¼“å­˜ï¼šä½¿ç”¨æ–‡ä»¶æŒ‡çº¹æˆ–ç‰ˆæœ¬å·æ¥é‡å‘½åé™æ€èµ„æºæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨æ–‡ä»¶å†…å®¹å˜åŒ–æ—¶ä½¿æµè§ˆå™¨é‡æ–°ä¸‹è½½ã€‚ æ•°æ®ç¼“å­˜ï¼šä½¿ç”¨å†…å­˜ç¼“å­˜ã€æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼ˆå¦‚localStorageï¼‰æˆ–æœåŠ¡ç«¯ç¼“å­˜ï¼ˆå¦‚Redisï¼‰æ¥å­˜å‚¨æ•°æ®ï¼Œé¿å…é‡å¤è¯·æ±‚ã€‚</p><h5 id="5-ä»€ä¹ˆæ˜¯CDNï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#5-ä»€ä¹ˆæ˜¯CDNï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="5. ä»€ä¹ˆæ˜¯CDNï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>5. ä»€ä¹ˆæ˜¯CDNï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      CDNï¼ˆContent Delivery Networkï¼‰æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç½‘ç»œæ¶æ„ï¼Œç”¨äºåœ¨å…¨çƒå„åœ°æä¾›é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„å†…å®¹ä¼ è¾“æœåŠ¡ã€‚CDNçš„ä½œç”¨åŒ…æ‹¬ï¼š</p><p>å°†é™æ€èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€æ ·å¼è¡¨ã€è„šæœ¬ç­‰ï¼‰ç¼“å­˜åˆ°ç¦»ç”¨æˆ·æ›´è¿‘çš„æœåŠ¡å™¨ä¸Šï¼Œæä¾›æ›´å¿«çš„åŠ è½½é€Ÿåº¦ã€‚ åˆ†å‘ç½‘ç»œæµé‡ï¼Œå‡è½»æºæœåŠ¡å™¨çš„è´Ÿè½½å‹åŠ›ã€‚ æä¾›å†…å®¹å‹ç¼©ã€æ•°æ®å‹ç¼©å’Œç¼“å­˜ç­‰ä¼˜åŒ–æŠ€æœ¯ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚</p><h5 id="6-ä»€ä¹ˆæ˜¯ç½‘é¡µåŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼Ÿå¯ä»¥é‡‡å–å“ªäº›æªæ–½æ¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ"><a href="#6-ä»€ä¹ˆæ˜¯ç½‘é¡µåŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼Ÿå¯ä»¥é‡‡å–å“ªäº›æªæ–½æ¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ" class="headerlink" title="6. ä»€ä¹ˆæ˜¯ç½‘é¡µåŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼Ÿå¯ä»¥é‡‡å–å“ªäº›æªæ–½æ¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ"></a>6. ä»€ä¹ˆæ˜¯ç½‘é¡µåŠ è½½æ€§èƒ½ä¼˜åŒ–ï¼Ÿå¯ä»¥é‡‡å–å“ªäº›æªæ–½æ¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ</h5><p>â€‹      ç½‘é¡µåŠ è½½æ€§èƒ½ä¼˜åŒ–æ˜¯æŒ‡é€šè¿‡å„ç§æŠ€æœ¯æ‰‹æ®µæ¥å‡å°‘ç½‘é¡µåŠ è½½æ—¶é—´å¹¶æé«˜ç”¨æˆ·ä½“éªŒã€‚å¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½æ¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼š</p><p>å‹ç¼©å’Œåˆå¹¶èµ„æºæ–‡ä»¶ï¼ˆå¦‚CSSå’ŒJavaScriptï¼‰ï¼Œå‡å°‘æ–‡ä»¶å¤§å°å’Œè¯·æ±‚æ•°é‡ã€‚ ä½¿ç”¨å›¾åƒå‹ç¼©å’Œé€‚å½“çš„æ ¼å¼é€‰æ‹©æ¥å‡å°å›¾åƒæ–‡ä»¶å¤§å°ã€‚ ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜å’ŒHTTPç¼“å­˜å¤´æ¥ç¼“å­˜é™æ€èµ„æºã€‚ ä½¿ç”¨æ‡’åŠ è½½å»¶è¿ŸåŠ è½½éå…³é”®èµ„æºï¼Œæé«˜åˆå§‹åŠ è½½é€Ÿåº¦ã€‚ ä½¿ç”¨CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰æ¥åˆ†å‘é™æ€èµ„æºï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿã€‚ ä¼˜åŒ–å…³é”®æ¸²æŸ“è·¯å¾„ï¼Œå°½æ—©å‘ˆç°é¡µé¢å†…å®¹ã€‚</p><h5 id="7-ä»€ä¹ˆæ˜¯ç½‘é¡µæ€§èƒ½ç›‘æµ‹å’Œåˆ†æï¼Ÿå¯ä»¥ä½¿ç”¨å“ªäº›å·¥å…·æ¥ç›‘æµ‹å’Œåˆ†æç½‘é¡µæ€§èƒ½ï¼Ÿ"><a href="#7-ä»€ä¹ˆæ˜¯ç½‘é¡µæ€§èƒ½ç›‘æµ‹å’Œåˆ†æï¼Ÿå¯ä»¥ä½¿ç”¨å“ªäº›å·¥å…·æ¥ç›‘æµ‹å’Œåˆ†æç½‘é¡µæ€§èƒ½ï¼Ÿ" class="headerlink" title="7. ä»€ä¹ˆæ˜¯ç½‘é¡µæ€§èƒ½ç›‘æµ‹å’Œåˆ†æï¼Ÿå¯ä»¥ä½¿ç”¨å“ªäº›å·¥å…·æ¥ç›‘æµ‹å’Œåˆ†æç½‘é¡µæ€§èƒ½ï¼Ÿ"></a>7. ä»€ä¹ˆæ˜¯ç½‘é¡µæ€§èƒ½ç›‘æµ‹å’Œåˆ†æï¼Ÿå¯ä»¥ä½¿ç”¨å“ªäº›å·¥å…·æ¥ç›‘æµ‹å’Œåˆ†æç½‘é¡µæ€§èƒ½ï¼Ÿ</h5><p>â€‹      ç½‘é¡µæ€§èƒ½ç›‘æµ‹å’Œåˆ†ææ˜¯æŒ‡é€šè¿‡æµ‹é‡å’Œæ”¶é›†æœ‰å…³ç½‘é¡µåŠ è½½å’Œäº¤äº’æ€§èƒ½çš„æ•°æ®ï¼Œä»¥ä¾¿è¯†åˆ«æ€§èƒ½ç“¶é¢ˆå¹¶è¿›è¡Œä¼˜åŒ–ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·æ¥ç›‘æµ‹å’Œåˆ†æç½‘é¡µæ€§èƒ½ï¼š</p><p>Webæ€§èƒ½APIï¼šæµè§ˆå™¨æä¾›çš„JavaScript APIï¼Œå¯é€šè¿‡performanceå¯¹è±¡æ¥æ”¶é›†æ€§èƒ½æ•°æ®ã€‚ Lighthouseï¼šä¸€ç§å¼€æºå·¥å…·ï¼Œå¯æä¾›å…³äºç½‘é¡µæ€§èƒ½ã€å¯è®¿é—®æ€§å’Œæœ€ä½³å®è·µçš„ç»¼åˆæŠ¥å‘Šã€‚ WebPagetestï¼šåœ¨çº¿å·¥å…·ï¼Œå¯æµ‹é‡ç½‘é¡µåŠ è½½æ—¶é—´å¹¶æä¾›è¯¦ç»†çš„æ€§èƒ½åˆ†ææŠ¥å‘Šã€‚ Chromeå¼€å‘è€…å·¥å…·ï¼šæµè§ˆå™¨å†…ç½®çš„å¼€å‘è€…å·¥å…·ï¼Œæä¾›äº†æ€§èƒ½åˆ†æã€ç½‘ç»œç›‘æ§å’Œé¡µé¢å®¡æŸ¥ç­‰åŠŸèƒ½ã€‚</p><h5 id="8-ä»€ä¹ˆæ˜¯æ¸è¿›å¼å›¾åƒåŠ è½½ï¼ˆProgressive-Image-Loadingï¼‰ï¼Ÿå®ƒå¦‚ä½•æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ"><a href="#8-ä»€ä¹ˆæ˜¯æ¸è¿›å¼å›¾åƒåŠ è½½ï¼ˆProgressive-Image-Loadingï¼‰ï¼Ÿå®ƒå¦‚ä½•æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ" class="headerlink" title="8. ä»€ä¹ˆæ˜¯æ¸è¿›å¼å›¾åƒåŠ è½½ï¼ˆProgressive Image Loadingï¼‰ï¼Ÿå®ƒå¦‚ä½•æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ"></a>8. ä»€ä¹ˆæ˜¯æ¸è¿›å¼å›¾åƒåŠ è½½ï¼ˆProgressive Image Loadingï¼‰ï¼Ÿå®ƒå¦‚ä½•æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½ï¼Ÿ</h5><p>â€‹      æ¸è¿›å¼å›¾åƒåŠ è½½æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œé€šè¿‡é€æ­¥åŠ è½½å›¾åƒçš„æ¨¡ç³Šæˆ–ä½åˆ†è¾¨ç‡ç‰ˆæœ¬ï¼Œç„¶åé€æ¸æé«˜å›¾åƒçš„æ¸…æ™°åº¦ï¼Œä»¥æ”¹å–„ç½‘é¡µåŠ è½½æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚æ¸è¿›å¼å›¾åƒåŠ è½½çš„å¥½å¤„åŒ…æ‹¬ï¼š</p><p>ç”¨æˆ·å¯ä»¥æ›´å¿«åœ°çœ‹åˆ°é¡µé¢å†…å®¹ï¼Œæé«˜æ„ŸçŸ¥é€Ÿåº¦ã€‚ é€æ­¥åŠ è½½å›¾åƒå¯ä»¥å‡å°‘ç½‘é¡µæ•´ä½“çš„åŠ è½½æ—¶é—´ã€‚ æ¸è¿›å¼å›¾åƒåŠ è½½å¯ä»¥æä¾›å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœï¼Œé¿å…é¡µé¢å†…å®¹çªç„¶é—ªçƒæˆ–å˜åŒ–ã€‚</p><h5 id="9-ä»€ä¹ˆæ˜¯å‰ç«¯èµ„æºä¼˜å…ˆçº§ï¼ˆResource-Prioritizationï¼‰ï¼Ÿå¦‚ä½•è®¾ç½®èµ„æºçš„ä¼˜å…ˆçº§ï¼Ÿ"><a href="#9-ä»€ä¹ˆæ˜¯å‰ç«¯èµ„æºä¼˜å…ˆçº§ï¼ˆResource-Prioritizationï¼‰ï¼Ÿå¦‚ä½•è®¾ç½®èµ„æºçš„ä¼˜å…ˆçº§ï¼Ÿ" class="headerlink" title="9. ä»€ä¹ˆæ˜¯å‰ç«¯èµ„æºä¼˜å…ˆçº§ï¼ˆResource Prioritizationï¼‰ï¼Ÿå¦‚ä½•è®¾ç½®èµ„æºçš„ä¼˜å…ˆçº§ï¼Ÿ"></a>9. ä»€ä¹ˆæ˜¯å‰ç«¯èµ„æºä¼˜å…ˆçº§ï¼ˆResource Prioritizationï¼‰ï¼Ÿå¦‚ä½•è®¾ç½®èµ„æºçš„ä¼˜å…ˆçº§ï¼Ÿ</h5><p>â€‹      å‰ç«¯èµ„æºä¼˜å…ˆçº§æ˜¯æŒ‡ä¸ºä¸åŒç±»å‹çš„èµ„æºåˆ†é…åŠ è½½ä¼˜å…ˆçº§ï¼Œä»¥ä¼˜åŒ–ç½‘é¡µåŠ è½½æ€§èƒ½ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è®¾ç½®èµ„æºçš„ä¼˜å…ˆçº§ï¼š</p><p>ä½¿ç”¨æ ‡ç­¾æ¥æŒ‡å®šèµ„æºçš„é¢„åŠ è½½ï¼Œä»¥ç¡®ä¿å…³é”®èµ„æºå°½æ—©åŠ è½½ã€‚ ä½¿ç”¨æ ‡ç­¾æ¥æŒ‡å®šå¯èƒ½åœ¨æœªæ¥é¡µé¢ä¸­ä½¿ç”¨çš„èµ„æºï¼Œä»¥æå‰åŠ è½½ã€‚ ä½¿ç”¨æ ‡ç­¾æ¥æŒ‡å®šè¦é¢„è§£æçš„åŸŸåï¼Œä»¥å‡å°‘DNSæŸ¥æ‰¾æ—¶é—´ã€‚ ä½¿ç”¨æ ‡ç­¾æ¥æŒ‡å®šè¦é¢„è¿æ¥çš„åŸŸåï¼Œä»¥å‡å°‘å»ºç«‹è¿æ¥çš„æ—¶é—´ã€‚</p><h2 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h2><h5 id="1-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„å·¥ä½œåŸç†ã€‚"><a href="#1-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„å·¥ä½œåŸç†ã€‚" class="headerlink" title="1.è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„å·¥ä½œåŸç†ã€‚"></a>1.è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„å·¥ä½œåŸç†ã€‚</h5><p>â€‹      æµè§ˆå™¨çš„å·¥ä½œåŸç†åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š</p><p>è§£æï¼šæµè§ˆå™¨å°†æ¥æ”¶åˆ°çš„HTMLã€CSSå’ŒJavaScriptä»£ç è§£ææˆDOMæ ‘ã€CSSOMæ ‘å’ŒJavaScriptå¼•æ“å¯æ‰§è¡Œçš„ä»£ç ã€‚ æ¸²æŸ“ï¼šæµè§ˆå™¨ä½¿ç”¨DOMæ ‘å’ŒCSSOMæ ‘æ„å»ºæ¸²æŸ“æ ‘ï¼Œç„¶åæ ¹æ®æ¸²æŸ“æ ‘è¿›è¡Œå¸ƒå±€ï¼ˆè®¡ç®—å…ƒç´ çš„ä½ç½®å’Œå¤§å°ï¼‰å’Œç»˜åˆ¶ï¼ˆå°†å…ƒç´ ç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼‰ã€‚ å¸ƒå±€å’Œç»˜åˆ¶ï¼šæµè§ˆå™¨æ ¹æ®æ¸²æŸ“æ ‘çš„å˜åŒ–è¿›è¡Œå¸ƒå±€å’Œç»˜åˆ¶ï¼Œç„¶åå°†æœ€ç»ˆçš„é¡µé¢å‘ˆç°ç»™ç”¨æˆ·ã€‚ JavaScriptå¼•æ“æ‰§è¡Œï¼šæµè§ˆå™¨çš„JavaScriptå¼•æ“è§£é‡Šå’Œæ‰§è¡ŒJavaScriptä»£ç ï¼Œå¹¶æ ¹æ®éœ€è¦æ›´æ–°æ¸²æŸ“æ ‘å’Œé‡æ–°æ¸²æŸ“é¡µé¢ã€‚</p><h5 id="2-ä»€ä¹ˆæ˜¯é‡ç»˜ï¼ˆRepaintï¼‰å’Œé‡æ’ï¼ˆReflowï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯é‡ç»˜ï¼ˆRepaintï¼‰å’Œé‡æ’ï¼ˆReflowï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯é‡ç»˜ï¼ˆRepaintï¼‰å’Œé‡æ’ï¼ˆReflowï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯é‡ç»˜ï¼ˆRepaintï¼‰å’Œé‡æ’ï¼ˆReflowï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      é‡ç»˜æ˜¯æŒ‡å½“å…ƒç´ çš„å¤–è§‚ï¼ˆå¦‚é¢œè‰²ã€èƒŒæ™¯ç­‰ï¼‰å‘ç”Ÿæ”¹å˜ï¼Œä½†å¸ƒå±€ä¸å—å½±å“æ—¶çš„æ›´æ–°è¿‡ç¨‹ã€‚é‡ç»˜ä¸ä¼šå¯¼è‡´å…ƒç´ çš„ä½ç½®æˆ–å¤§å°å‘ç”Ÿå˜åŒ–ã€‚</p><p>é‡æ’æ˜¯æŒ‡å½“å…ƒç´ çš„å¸ƒå±€å±æ€§ï¼ˆå¦‚å®½åº¦ã€é«˜åº¦ã€ä½ç½®ç­‰ï¼‰å‘ç”Ÿæ”¹å˜æ—¶çš„æ›´æ–°è¿‡ç¨‹ã€‚é‡æ’ä¼šå¯¼è‡´æµè§ˆå™¨é‡æ–°è®¡ç®—æ¸²æŸ“æ ‘å’Œé‡æ–°ç»˜åˆ¶é¡µé¢çš„ä¸€éƒ¨åˆ†æˆ–å…¨éƒ¨ã€‚</p><p>åŒºåˆ«åœ¨äºé‡ç»˜åªæ¶‰åŠå¤–è§‚çš„æ›´æ”¹ï¼Œè€Œé‡æ’æ¶‰åŠå¸ƒå±€çš„æ›´æ”¹ã€‚é‡æ’æ¯”é‡ç»˜æ›´æ¶ˆè€—æ€§èƒ½ï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€å’Œç»˜åˆ¶æ•´ä¸ªé¡µé¢ã€‚</p><h5 id="3-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#3-ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="3. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>3. ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p>â€‹      äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·æ˜¯æŒ‡æµè§ˆå™¨å¤„ç†äº‹ä»¶æ—¶çš„ä¸¤ç§ä¸åŒçš„ä¼ æ’­æ–¹å¼ã€‚</p><p>äº‹ä»¶å†’æ³¡æ˜¯æŒ‡äº‹ä»¶ä»æœ€å†…å±‚çš„å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­åˆ°çˆ¶å…ƒç´ ï¼Œç›´åˆ°ä¼ æ’­åˆ°æœ€å¤–å±‚çš„å…ƒç´ ã€‚</p><p>äº‹ä»¶æ•è·æ˜¯æŒ‡äº‹ä»¶ä»æœ€å¤–å±‚çš„å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åé€çº§å‘ä¸‹ä¼ æ’­åˆ°æœ€å†…å±‚çš„å…ƒç´ ã€‚</p><p>åŒºåˆ«åœ¨äºä¼ æ’­æ–¹å‘çš„ä¸åŒã€‚äº‹ä»¶å†’æ³¡æ˜¯ä»å†…å‘å¤–ä¼ æ’­ï¼Œè€Œäº‹ä»¶æ•è·æ˜¯ä»å¤–å‘å†…ä¼ æ’­ã€‚</p><h5 id="4-è§£é‡Šä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„JavaScriptä»£ç æ‰§è¡Œæ–¹å¼ã€‚"><a href="#4-è§£é‡Šä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„JavaScriptä»£ç æ‰§è¡Œæ–¹å¼ã€‚" class="headerlink" title="4. è§£é‡Šä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„JavaScriptä»£ç æ‰§è¡Œæ–¹å¼ã€‚"></a>4. è§£é‡Šä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„JavaScriptä»£ç æ‰§è¡Œæ–¹å¼ã€‚</h5><p>â€‹      åŒæ­¥ä»£ç æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ä»£ç ï¼Œæ¯ä¸ªä»»åŠ¡å¿…é¡»ç­‰å¾…å‰ä¸€ä¸ªä»»åŠ¡å®Œæˆåæ‰èƒ½æ‰§è¡Œã€‚åŒæ­¥ä»£ç ä¼šé˜»å¡åç»­ä»£ç çš„æ‰§è¡Œï¼Œç›´åˆ°å½“å‰ä»»åŠ¡å®Œæˆã€‚</p><p>å¼‚æ­¥ä»£ç æ˜¯ä¸æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ä»£ç ï¼Œå®ƒä¼šåœ¨åå°æ‰§è¡Œï¼Œä¸ä¼šé˜»å¡åç»­ä»£ç çš„æ‰§è¡Œã€‚å¼‚æ­¥ä»£ç é€šå¸¸ä½¿ç”¨å›è°ƒå‡½æ•°ã€Promiseã€async&#x2F;awaitç­‰æ–¹å¼æ¥å¤„ç†å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</p><p>é€šè¿‡å¼‚æ­¥æ‰§è¡Œï¼Œå¯ä»¥é¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼Œæé«˜é¡µé¢çš„å“åº”æ€§èƒ½ã€‚</p><h5 id="5-ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰ï¼Ÿå®ƒåœ¨JavaScriptä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#5-ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰ï¼Ÿå®ƒåœ¨JavaScriptä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="5. ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿå®ƒåœ¨JavaScriptä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>5. ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿå®ƒåœ¨JavaScriptä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      äº‹ä»¶å¾ªç¯æ˜¯JavaScriptä¸­å¤„ç†å¼‚æ­¥ä»£ç æ‰§è¡Œçš„æœºåˆ¶ã€‚å®ƒè´Ÿè´£ç®¡ç†è°ƒåº¦å’Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ‰§è¡Œé˜Ÿåˆ—ä¸­ã€‚</p><p>åœ¨JavaScriptä¸­ï¼Œäº‹ä»¶å¾ªç¯çš„ä½œç”¨æ˜¯ç¡®ä¿å¼‚æ­¥ä»»åŠ¡æŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚å®ƒé€šè¿‡ä¸æ–­åœ°ä»æ‰§è¡Œé˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œï¼Œä»¥å®ç°éé˜»å¡çš„å¼‚æ­¥æ“ä½œã€‚</p><h5 id="6-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚"><a href="#6-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚" class="headerlink" title="6. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚"></a>6. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</h5><p>â€‹      æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯ä¸€ç§è‡ªåŠ¨ç®¡ç†å†…å­˜çš„æœºåˆ¶ï¼Œç”¨äºæ£€æµ‹å’Œå›æ”¶ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œä»¥é‡Šæ”¾å†…å­˜èµ„æºã€‚</p><p>åƒåœ¾å›æ”¶æœºåˆ¶é€šè¿‡æ ‡è®°-æ¸…é™¤ç®—æ³•å®ç°ã€‚å®ƒçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><p>æ ‡è®°é˜¶æ®µï¼šåƒåœ¾å›æ”¶å™¨ä¼šä»æ ¹å¯¹è±¡ï¼ˆå¦‚å…¨å±€å¯¹è±¡ï¼‰å¼€å§‹ï¼Œé€’å½’éå†æ‰€æœ‰å¯¹è±¡ï¼Œå¹¶æ ‡è®°ä»ç„¶å¯è®¿é—®çš„å¯¹è±¡ã€‚ æ¸…é™¤é˜¶æ®µï¼šåƒåœ¾å›æ”¶å™¨ä¼šæ‰«æå †å†…å­˜ï¼Œæ¸…é™¤æœªè¢«æ ‡è®°çš„å¯¹è±¡ï¼Œå¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚ åƒåœ¾å›æ”¶æœºåˆ¶çš„ç›®æ ‡æ˜¯è¯†åˆ«å’Œå›æ”¶ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼å’Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚</p><h5 id="7-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin-Policyï¼‰åŠå…¶é™åˆ¶ã€‚"><a href="#7-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin-Policyï¼‰åŠå…¶é™åˆ¶ã€‚" class="headerlink" title="7. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰åŠå…¶é™åˆ¶ã€‚"></a>7. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰åŠå…¶é™åˆ¶ã€‚</h5><p>â€‹      åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„ä¸€é¡¹å®‰å…¨æœºåˆ¶ï¼Œç”¨äºé™åˆ¶æ¥è‡ªä¸åŒæºçš„ç½‘é¡µä¹‹é—´çš„äº¤äº’ã€‚åŒæºæ˜¯æŒ‡åè®®ã€åŸŸåå’Œç«¯å£å·å®Œå…¨ç›¸åŒã€‚</p><p>åŒæºç­–ç•¥çš„é™åˆ¶åŒ…æ‹¬ï¼š</p><p>è„šæœ¬è®¿é—®é™åˆ¶ï¼šä¸åŒæºçš„è„šæœ¬æ— æ³•ç›´æ¥è®¿é—®å½¼æ­¤çš„æ•°æ®å’Œæ“ä½œã€‚ DOMè®¿é—®é™åˆ¶ï¼šä¸åŒæºçš„ç½‘é¡µæ— æ³•é€šè¿‡JavaScriptè®¿é—®å½¼æ­¤çš„DOMå…ƒç´ ã€‚ Cookieé™åˆ¶ï¼šä¸åŒæºçš„ç½‘é¡µæ— æ³•è¯»å–æˆ–ä¿®æ”¹å½¼æ­¤çš„Cookieã€‚ AJAXè¯·æ±‚é™åˆ¶ï¼šä¸åŒæºçš„ç½‘é¡µæ— æ³•é€šè¿‡AJAXè¯·æ±‚è®¿é—®å½¼æ­¤çš„æ•°æ®ã€‚ åŒæºç­–ç•¥çš„å­˜åœ¨å¯ä»¥é˜²æ­¢æ¶æ„ç½‘ç«™è·å–ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯æˆ–è¿›è¡Œæ¶æ„æ“ä½œã€‚</p><h5 id="8-ä»€ä¹ˆæ˜¯Web-Workersï¼Ÿå®ƒä»¬åœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#8-ä»€ä¹ˆæ˜¯Web-Workersï¼Ÿå®ƒä»¬åœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="8. ä»€ä¹ˆæ˜¯Web Workersï¼Ÿå®ƒä»¬åœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>8. ä»€ä¹ˆæ˜¯Web Workersï¼Ÿå®ƒä»¬åœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      Web Workersæ˜¯ä¸€ç§æµè§ˆå™¨æä¾›çš„JavaScript APIï¼Œç”¨äºåœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œè€—æ—¶çš„è®¡ç®—ä»»åŠ¡ï¼Œä»¥é¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</p><p>Web Workersçš„ä½œç”¨æ˜¯æé«˜æµè§ˆå™¨çš„å“åº”æ€§èƒ½ï¼Œä½¿å¾—åœ¨æ‰§è¡Œå¤æ‚è®¡ç®—æˆ–å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œä¸ä¼šå½±å“ç”¨æˆ·ç•Œé¢çš„æµç•…æ€§ã€‚</p><p>Web Workersé€šè¿‡å°†ä»»åŠ¡å§”æ‰˜ç»™åå°çº¿ç¨‹æ¥å®ç°å¹¶è¡Œå¤„ç†ï¼Œä»è€Œå……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„èƒ½åŠ›ã€‚å®ƒä»¬å¯ä»¥ä¸ä¸»çº¿ç¨‹è¿›è¡Œé€šä¿¡ï¼Œä½†ä¸èƒ½ç›´æ¥è®¿é—®DOMæˆ–æ‰§è¡ŒUIç›¸å…³çš„æ“ä½œã€‚</p><h5 id="9-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser-Cacheï¼‰æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#9-è§£é‡Šä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser-Cacheï¼‰æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="9. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cacheï¼‰æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>9. è§£é‡Šä¸€ä¸‹æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cacheï¼‰æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      æµè§ˆå™¨ç¼“å­˜æ˜¯æµè§ˆå™¨åœ¨æœ¬åœ°å­˜å‚¨Webé¡µé¢å’Œèµ„æºçš„å‰¯æœ¬ï¼Œä»¥ä¾¿åœ¨åç»­è®¿é—®æ—¶å¯ä»¥å¿«é€ŸåŠ è½½ã€‚å®ƒçš„ä½œç”¨æ˜¯å‡å°‘å¯¹æœåŠ¡å™¨çš„è¯·æ±‚æ¬¡æ•°å’Œç½‘ç»œä¼ è¾“é‡ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚</p><p>æµè§ˆå™¨ç¼“å­˜é€šè¿‡åœ¨é¦–æ¬¡è¯·æ±‚æ—¶å°†èµ„æºä¿å­˜åˆ°æœ¬åœ°ï¼Œå¹¶åœ¨åç»­è¯·æ±‚æ—¶æ£€æŸ¥èµ„æºæ˜¯å¦å·²ç»å­˜åœ¨å¹¶ä¸”æ²¡æœ‰è¿‡æœŸæ¥å·¥ä½œã€‚å¦‚æœèµ„æºå·²ç»å­˜åœ¨ä¸”æœªè¿‡æœŸï¼Œæµè§ˆå™¨ä¼šç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½èµ„æºï¼Œè€Œä¸æ˜¯ä»æœåŠ¡å™¨é‡æ–°ä¸‹è½½ã€‚</p><h5 id="10-ä»€ä¹ˆæ˜¯é‡å®šå‘ï¼ˆRedirectï¼‰ï¼Ÿå®ƒåœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#10-ä»€ä¹ˆæ˜¯é‡å®šå‘ï¼ˆRedirectï¼‰ï¼Ÿå®ƒåœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="10. ä»€ä¹ˆæ˜¯é‡å®šå‘ï¼ˆRedirectï¼‰ï¼Ÿå®ƒåœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>10. ä»€ä¹ˆæ˜¯é‡å®šå‘ï¼ˆRedirectï¼‰ï¼Ÿå®ƒåœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>â€‹      é‡å®šå‘æ˜¯æŒ‡å½“æµè§ˆå™¨è¯·æ±‚ä¸€ä¸ªURLæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ªä¸åŒçš„URLï¼Œä»è€Œå°†æµè§ˆå™¨çš„è¯·æ±‚é‡å®šå‘åˆ°æ–°çš„URLä¸Šã€‚</p><p>é‡å®šå‘åœ¨æµè§ˆå™¨ä¸­çš„ä½œç”¨æ˜¯å®ç°é¡µé¢çš„è·³è½¬ã€URLçš„ä¿®æ”¹æˆ–èµ„æºçš„é‡å®šå‘ã€‚å®ƒå¯ä»¥ç”¨äºå¤šç§æƒ…å†µï¼Œä¾‹å¦‚å¤„ç†æ—§é“¾æ¥çš„è·³è½¬ã€å®ç°URLçš„è§„èŒƒåŒ–ã€å¤„ç†ç”¨æˆ·è®¤è¯ç­‰ã€‚</p><p>é‡å®šå‘é€šè¿‡åœ¨HTTPå“åº”ä¸­è®¾ç½®ç‰¹å®šçš„çŠ¶æ€ç ï¼ˆå¦‚301æ°¸ä¹…é‡å®šå‘ã€302ä¸´æ—¶é‡å®šå‘ï¼‰å’ŒLocationå¤´éƒ¨å­—æ®µæ¥å®ç°ã€‚</p><h5 id="11-ä»€ä¹ˆæ˜¯æµè§ˆå™¨å­˜å‚¨ï¼ˆBrowser-Storageï¼‰ï¼Ÿå®ƒæœ‰å“ªäº›ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼Ÿ"><a href="#11-ä»€ä¹ˆæ˜¯æµè§ˆå™¨å­˜å‚¨ï¼ˆBrowser-Storageï¼‰ï¼Ÿå®ƒæœ‰å“ªäº›ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼Ÿ" class="headerlink" title="11. ä»€ä¹ˆæ˜¯æµè§ˆå™¨å­˜å‚¨ï¼ˆBrowser Storageï¼‰ï¼Ÿå®ƒæœ‰å“ªäº›ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼Ÿ"></a>11. ä»€ä¹ˆæ˜¯æµè§ˆå™¨å­˜å‚¨ï¼ˆBrowser Storageï¼‰ï¼Ÿå®ƒæœ‰å“ªäº›ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼Ÿ</h5><p>â€‹      æµè§ˆå™¨å­˜å‚¨æ˜¯æµè§ˆå™¨æä¾›çš„ä¸€ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„æœºåˆ¶ï¼Œç”¨äºåœ¨ä¸åŒçš„ç½‘é¡µé—´å…±äº«æ•°æ®æˆ–æŒä¹…ä¿å­˜æ•°æ®ã€‚</p><p>æµè§ˆå™¨å­˜å‚¨æœ‰ä»¥ä¸‹ä¸åŒçš„å­˜å‚¨æœºåˆ¶ï¼š</p><p>Cookieï¼šå°å‹æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥å­˜å‚¨å°‘é‡æ•°æ®ï¼Œå¹¶åœ¨æ¯æ¬¡HTTPè¯·æ±‚ä¸­è‡ªåŠ¨å‘é€åˆ°æœåŠ¡å™¨ã€‚ Web Storageï¼ˆlocalStorageå’ŒsessionStorageï¼‰ï¼šå¯ä»¥å­˜å‚¨è¾ƒå¤§é‡çš„æ•°æ®ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ã€‚ IndexedDBï¼šä¸€ç§é«˜çº§çš„å®¢æˆ·ç«¯æ•°æ®åº“ï¼Œå¯ä»¥å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼Œå¹¶æ”¯æŒç´¢å¼•å’Œäº‹åŠ¡æ“ä½œã€‚ Cache APIï¼šç”¨äºç¼“å­˜ç½‘ç»œè¯·æ±‚çš„å“åº”ï¼Œä»¥ä¾¿ç¦»çº¿è®¿é—®æˆ–æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ ä¸åŒçš„å­˜å‚¨æœºåˆ¶é€‚ç”¨äºä¸åŒçš„éœ€æ±‚ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹å¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>interview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¢è¯•é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScriptå‰ç«¯é¢è¯•é¢˜</title>
    <link href="/blog/2023/10/18/interview-js/"/>
    <url>/blog/2023/10/18/interview-js/</url>
    
    <content type="html"><![CDATA[<h1 id="JavaScripté¢è¯•é¢˜"><a href="#JavaScripté¢è¯•é¢˜" class="headerlink" title="JavaScripté¢è¯•é¢˜"></a>JavaScripté¢è¯•é¢˜</h1><h4 id="1-ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«"><a href="#1-ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«" class="headerlink" title="1.ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«"></a>1.ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«</h4><p>â€‹åŒæ­¥ï¼šæŒ‰ç…§ä¸€å®šçš„é¡ºåºå»æ‰§è¡Œï¼Œæ‰§è¡Œå®Œä¸€ä¸ªæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ª<br>â€‹å¼‚æ­¥ï¼šæ‰§è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œç”±è§¦å‘æ¡ä»¶å†³å®šï¼Œä»€ä¹ˆæ—¶é—´æ‰§è¡Œä¹Ÿæ˜¯ä¸ç¡®å®šçš„ï¼Œå³ä½¿æ˜¯å®šæ—¶å™¨ï¼Œå¼‚æ­¥å¤„ç†å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªã€‚</p><h4 id="2-æ€ä¹ˆæ·»åŠ ã€ç§»é™¤ã€å¤åˆ¶ã€åˆ›å»ºã€å’ŒæŸ¥æ‰¾èŠ‚ç‚¹"><a href="#2-æ€ä¹ˆæ·»åŠ ã€ç§»é™¤ã€å¤åˆ¶ã€åˆ›å»ºã€å’ŒæŸ¥æ‰¾èŠ‚ç‚¹" class="headerlink" title="2.æ€ä¹ˆæ·»åŠ ã€ç§»é™¤ã€å¤åˆ¶ã€åˆ›å»ºã€å’ŒæŸ¥æ‰¾èŠ‚ç‚¹"></a>2.æ€ä¹ˆæ·»åŠ ã€ç§»é™¤ã€å¤åˆ¶ã€åˆ›å»ºã€å’ŒæŸ¥æ‰¾èŠ‚ç‚¹</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">document<span class="hljs-selector-class">.createElement</span><br>appendChild<br>removeChild<br>replaceChild<br>insertBefore<br>insertAfter<br>cloneNode<br>document<span class="hljs-selector-class">.getElementById</span><br></code></pre></td></tr></table></figure><h4 id="3-å®ç°ä¸€ä¸ªå‡½æ•°clone-å¯ä»¥å¯¹Javascriptä¸­çš„äº”ç§ä¸»è¦æ•°æ®ç±»å‹ï¼ˆNumberã€stringã€Objectã€Arrayã€Booleanï¼‰è¿›è¡Œå¤åˆ¶"><a href="#3-å®ç°ä¸€ä¸ªå‡½æ•°clone-å¯ä»¥å¯¹Javascriptä¸­çš„äº”ç§ä¸»è¦æ•°æ®ç±»å‹ï¼ˆNumberã€stringã€Objectã€Arrayã€Booleanï¼‰è¿›è¡Œå¤åˆ¶" class="headerlink" title="3.å®ç°ä¸€ä¸ªå‡½æ•°clone() å¯ä»¥å¯¹Javascriptä¸­çš„äº”ç§ä¸»è¦æ•°æ®ç±»å‹ï¼ˆNumberã€stringã€Objectã€Arrayã€Booleanï¼‰è¿›è¡Œå¤åˆ¶"></a>3.å®ç°ä¸€ä¸ªå‡½æ•°clone() å¯ä»¥å¯¹Javascriptä¸­çš„äº”ç§ä¸»è¦æ•°æ®ç±»å‹ï¼ˆNumberã€stringã€Objectã€Arrayã€Booleanï¼‰è¿›è¡Œå¤åˆ¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">clone</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> o = <span class="hljs-variable language_">this</span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Array</span> ? [] : &#123;&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>)&#123;<br>        o[e] = <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>[e] === <span class="hljs-string">&quot;object&quot;</span> ? <span class="hljs-variable language_">this</span>[e].<span class="hljs-title function_">clone</span>() : <span class="hljs-variable language_">this</span>[e];<br>    &#125;<br>    <span class="hljs-keyword">return</span> o;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-jså¦‚ä½•æ¶ˆé™¤ä¸€ä¸ªæ•°ç»„é‡Œé¢é‡å¤çš„å…ƒç´ "><a href="#4-jså¦‚ä½•æ¶ˆé™¤ä¸€ä¸ªæ•°ç»„é‡Œé¢é‡å¤çš„å…ƒç´ " class="headerlink" title="4.jså¦‚ä½•æ¶ˆé™¤ä¸€ä¸ªæ•°ç»„é‡Œé¢é‡å¤çš„å…ƒç´ "></a>4.jså¦‚ä½•æ¶ˆé™¤ä¸€ä¸ªæ•°ç»„é‡Œé¢é‡å¤çš„å…ƒç´ </h4><p>â€‹æ–¹æ³•ä¸€ï¼š ä¸¤å±‚forå¾ªç¯éå†<br>â€‹æ–¹æ³•äºŒï¼š å‡†å¤‡ä¸€ä¸ªæ–°ç©ºæ•°ç»„ï¼Œå°†éœ€è¦å»é‡çš„æ•°ç»„è¿›è¡Œéå†ï¼Œåˆ¤æ–­æ–°æ•°ç»„ä¸­æ˜¯å¦æœ‰å½“å‰å…ƒç´ ï¼Œè‹¥æ²¡æœ‰ï¼Œè¿™pushåˆ°æ–°æ•°ç»„ä¸­<br>â€‹æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨ESæ ‡å‡†ä¸­çš„æ–°ç±»å‹Set</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">unique</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(set);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-jså†™ä¸€ä¸ªè¿”å›é—­åŒ…çš„å‡½æ•°"><a href="#5-jså†™ä¸€ä¸ªè¿”å›é—­åŒ…çš„å‡½æ•°" class="headerlink" title="5.jså†™ä¸€ä¸ªè¿”å›é—­åŒ…çš„å‡½æ•°"></a>5.jså†™ä¸€ä¸ªè¿”å›é—­åŒ…çš„å‡½æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fun1</span>(<span class="hljs-params"></span>) &#123;<br>     <span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>;<br>     <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun2</span>(<span class="hljs-params"></span>) &#123;<br>         sum++;<br>         <span class="hljs-keyword">return</span> sum;<br>     &#125;<br>     <span class="hljs-keyword">return</span> fun2;<br>&#125;<br><span class="hljs-keyword">var</span> s= <span class="hljs-title function_">fun1</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">s</span>());<br></code></pre></td></tr></table></figure><h4 id="6-jsä½¿ç”¨é€’å½’å®Œæˆ1åˆ°100çš„ç´¯åŠ "><a href="#6-jsä½¿ç”¨é€’å½’å®Œæˆ1åˆ°100çš„ç´¯åŠ " class="headerlink" title="6.jsä½¿ç”¨é€’å½’å®Œæˆ1åˆ°100çš„ç´¯åŠ "></a>6.jsä½¿ç”¨é€’å½’å®Œæˆ1åˆ°100çš„ç´¯åŠ </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num</span>) &#123;<br>    <span class="hljs-keyword">if</span>(num==<span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> num+<span class="hljs-title function_">sum</span>(num-<span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="7-Javascriptæœ‰å“ªå‡ ç§æ•°æ®ç±»å‹"><a href="#7-Javascriptæœ‰å“ªå‡ ç§æ•°æ®ç±»å‹" class="headerlink" title="7.Javascriptæœ‰å“ªå‡ ç§æ•°æ®ç±»å‹"></a>7.Javascriptæœ‰å“ªå‡ ç§æ•°æ®ç±»å‹</h4><p>â€‹Stringã€Numberã€Booleanã€ç©ºï¼ˆNullï¼‰ã€æœªå®šä¹‰ï¼ˆUndefinedï¼‰ã€Objectã€Symbolã€bigInt</p><h4 id="8-jså¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹"><a href="#8-jså¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹" class="headerlink" title="8.jså¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹"></a>8.jså¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹</h4><p>â€‹typeofï¼šåŸå§‹ç±»å‹ï¼Œundfinedå’Œ function æ•°æ®ç±»å‹<br>â€‹instanceofï¼šåŒºåˆ†è‡ªå®šä¹‰å¯¹è±¡ç±»å‹<br>â€‹Object.prototype.toString.call()ï¼šæ— æ³•åŒºåˆ†è‡ªå®šä¹‰å¯¹è±¡ç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params">obj</span>) &#123;  <br>  <span class="hljs-keyword">const</span> type = <span class="hljs-keyword">typeof</span> obj;  <br>  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;  <br>    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;null&#x27;</span>;  <br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj)) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;array&#x27;</span>;  <br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>);  <br>  &#125;  <br>  <span class="hljs-keyword">return</span> type;  <br>&#125; <br></code></pre></td></tr></table></figure><h4 id="9-console-log-1-â€™2â€™-å’Œconsole-log-1-â€˜2â€™-çš„æ‰“å°ç»“æœ"><a href="#9-console-log-1-â€™2â€™-å’Œconsole-log-1-â€˜2â€™-çš„æ‰“å°ç»“æœ" class="headerlink" title="9.console.log(1+â€™2â€™)å’Œconsole.log(1-â€˜2â€™)çš„æ‰“å°ç»“æœ"></a>9.console.log(1+â€™2â€™)å’Œconsole.log(1-â€˜2â€™)çš„æ‰“å°ç»“æœ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">12</span>  -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h4 id="10-Jsçš„äº‹ä»¶å§”æ‰˜æ˜¯ä»€ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆ"><a href="#10-Jsçš„äº‹ä»¶å§”æ‰˜æ˜¯ä»€ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆ" class="headerlink" title="10.Jsçš„äº‹ä»¶å§”æ‰˜æ˜¯ä»€ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆ"></a>10.Jsçš„äº‹ä»¶å§”æ‰˜æ˜¯ä»€ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆ</h4><p>â€‹äº‹ä»¶å§”æ‰˜ä¹Ÿç§°ä¸ºäº‹ä»¶ä»£ç†ã€‚å°±æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼ŒæŠŠå­å…ƒç´ çš„äº‹ä»¶éƒ½ç»‘å®šåˆ°çˆ¶å…ƒç´ ä¸Šã€‚<br>ä½•ä¸ºäº‹ä»¶å†’æ³¡å‘¢ï¼Ÿå°±æ˜¯äº‹ä»¶ä»æœ€æ·±çš„èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åé€æ­¥å‘ä¸Šä¼ æ’­äº‹ä»¶ï¼Œä¸¾ä¸ªä¾‹å­ï¼šé¡µé¢ä¸Šæœ‰è¿™ä¹ˆä¸€ä¸ªèŠ‚ç‚¹æ ‘ï¼Œdiv&gt;ul&gt;li&gt;a;æ¯”å¦‚ç»™æœ€é‡Œé¢çš„aåŠ ä¸€ä¸ªclickç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶å°±ä¼šä¸€å±‚ä¸€å±‚çš„å¾€å¤–æ‰§è¡Œï¼Œæ‰§è¡Œé¡ºåºa&gt;li&gt;ul&gt;divï¼Œæœ‰è¿™æ ·ä¸€ä¸ªæœºåˆ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»™æœ€å¤–é¢çš„divåŠ ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆé‡Œé¢çš„ulï¼Œliï¼Œaåšç‚¹å‡»äº‹ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šå†’æ³¡åˆ°æœ€å¤–å±‚çš„divä¸Šï¼Œæ‰€ä»¥éƒ½ä¼šè§¦å‘ï¼Œè¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜ï¼Œå§”æ‰˜å®ƒä»¬çˆ¶çº§ä»£ä¸ºæ‰§è¡Œäº‹ä»¶</p><h4 id="11-å¦‚ä½•æ”¹å˜å‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆçš„æŒ‡å‘"><a href="#11-å¦‚ä½•æ”¹å˜å‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆçš„æŒ‡å‘" class="headerlink" title="11.å¦‚ä½•æ”¹å˜å‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆçš„æŒ‡å‘"></a>11.å¦‚ä½•æ”¹å˜å‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆçš„æŒ‡å‘</h4><p>â€‹callå’Œapplyä¼šè°ƒç”¨å‡½æ•°ï¼Œå¹¶ä¸”æ”¹å˜å‡½æ•°å†…éƒ¨thisæŒ‡å‘<br>â€‹callå’Œapplyä¼ é€’çš„å‚æ•°ä¸ä¸€æ ·ï¼Œcallä¼ é€’å‚æ•°arg1ï¼Œarg2â€¦å½¢å¼ï¼Œapplyå¿…é¡»æ•°ç»„å½¢å¼[arg]<br>â€‹bindä¸ä¼šè°ƒç”¨å‡½æ•°ï¼Œå¯ä»¥æ”¹å˜å‡½æ•°å†…éƒ¨thisæŒ‡å‘</p><h4 id="12-åˆ—ä¸¾å‡ ç§è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹å¼ï¼Œä¸”è¯´æ˜åŸç†"><a href="#12-åˆ—ä¸¾å‡ ç§è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹å¼ï¼Œä¸”è¯´æ˜åŸç†" class="headerlink" title="12.åˆ—ä¸¾å‡ ç§è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹å¼ï¼Œä¸”è¯´æ˜åŸç†"></a>12.åˆ—ä¸¾å‡ ç§è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹å¼ï¼Œä¸”è¯´æ˜åŸç†</h4><p>â€‹nginxåå‘ä»£ç†<br>â€‹Nodeä¸­é—´ä»¶ä»£ç†<br>â€‹window.name + iframe<br>â€‹WebSocketåè®®è·¨åŸŸã€PostMessage<br>â€‹jsonp</p><h4 id="13-è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶çš„æ–¹å¼åŠå†…å­˜ç®¡ç†"><a href="#13-è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶çš„æ–¹å¼åŠå†…å­˜ç®¡ç†" class="headerlink" title="13.è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶çš„æ–¹å¼åŠå†…å­˜ç®¡ç†"></a>13.è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶çš„æ–¹å¼åŠå†…å­˜ç®¡ç†</h4><p>â€‹åƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜<br>â€‹2ï¼‰æ ‡è®°æ¸…é™¤ç®—æ³•ï¼šæœ€å¸¸ç”¨çš„åƒåœ¾å›æ”¶æ–¹å¼å°±æ˜¯æ ‡è®°æ¸…é™¤<br>â€‹3ï¼‰å¼•ç”¨è®¡æ•°ç®—æ³•ï¼šè·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°</p><h4 id="14-å†™ä¸€ä¸ªfunction-ï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼"><a href="#14-å†™ä¸€ä¸ªfunction-ï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼" class="headerlink" title="14.å†™ä¸€ä¸ªfunction ï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼"></a>14.å†™ä¸€ä¸ªfunction ï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">trim1</span>(<span class="hljs-params">str</span>)&#123;<br>    <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(^\s*)|(\s*$)/g</span>,<span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="15-jså®ç°ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›"><a href="#15-jså®ç°ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="15.jså®ç°ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›"></a>15.jså®ç°ç»§æ‰¿çš„æ–¹æ³•æœ‰å“ªäº›</h4><p>â€‹åŸå‹é“¾ç»§æ‰¿<br>â€‹å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿<br>â€‹ç»„åˆç»§æ‰¿ï¼ˆç»å…¸ç»§æ‰¿ï¼‰<br>â€‹åŸå‹å¼ç»§æ‰¿<br>â€‹å¯„ç”Ÿå¼ç»§æ‰¿<br>â€‹å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿<br>â€‹ES6ã€Classå®ç°ç»§æ‰¿</p><h4 id="16-åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œæœ‰å“ªäº›åŠæ³•"><a href="#16-åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œæœ‰å“ªäº›åŠæ³•" class="headerlink" title="16.åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œæœ‰å“ªäº›åŠæ³•"></a>16.åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œæœ‰å“ªäº›åŠæ³•</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">Array<span class="hljs-selector-class">.isArray</span>(arr)<br>instanceof è¿ç®—ç¬¦<br><span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.prototype</span><span class="hljs-selector-class">.toString</span><span class="hljs-selector-class">.call</span>()<br></code></pre></td></tr></table></figure><h4 id="17-let-ï¼Œconst-ï¼Œvar-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#17-let-ï¼Œconst-ï¼Œvar-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="17.let ï¼Œconst ï¼Œvar æœ‰ä»€ä¹ˆåŒºåˆ«"></a>17.let ï¼Œconst ï¼Œvar æœ‰ä»€ä¹ˆåŒºåˆ«</h4><p>â€‹1.å˜é‡å£°æ˜å’Œæå‡ï¼švarå£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸ºundefinedã€‚ç„¶è€Œï¼Œletå’Œconstå£°æ˜çš„å˜é‡åœ¨å…¶å£°æ˜ä¹‹å‰æ˜¯ä¸å¯ç”¨çš„ï¼Œå¦åˆ™ä¼šæŠ¥ReferenceErroré”™è¯¯ã€‚è¿™ä¸€ç‚¹åœ¨ES6ï¼ˆES2015ï¼‰ä¸­æ˜¯ä¸¥æ ¼éµå®ˆçš„ã€‚<br>â€‹2.é‡å¤å£°æ˜ï¼švarå…è®¸é‡å¤å£°æ˜å˜é‡ï¼Œåä¸€ä¸ªå˜é‡ä¼šè¦†ç›–å‰ä¸€ä¸ªå˜é‡ã€‚ç„¶è€Œï¼Œletå’Œconståœ¨åŒä¸€ä½œç”¨åŸŸå†…ä¸å…è®¸é‡å¤å£°æ˜å˜é‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚<br>â€‹3.å—çº§ä½œç”¨åŸŸï¼švarä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚ç„¶è€Œï¼Œletå’Œconstå­˜åœ¨å—çº§ä½œç”¨åŸŸã€‚ES5ä¸­ä½œç”¨åŸŸæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œä½†æ²¡æœ‰å—ä½œç”¨åŸŸçš„æ¦‚å¿µã€‚<br>â€‹4.èµ‹å€¼é™åˆ¶ï¼šconstå£°æ˜çš„æ˜¯å¸¸é‡ï¼Œå¿…é¡»èµ‹å€¼ï¼Œä¸”å£°æ˜åä¸èƒ½å†ä¿®æ”¹ã€‚varå£°æ˜çš„å˜é‡æ²¡æœ‰è¿™ä¸ªé™åˆ¶ï¼Œå¯ä»¥å£°æ˜åä¸èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥å£°æ˜åå†èµ‹å€¼ã€‚ä½†æ˜¯varå£°æ˜çš„å˜é‡å¦‚æœä¸ä½¿ç”¨åˆ™ä¼šè¢«æµè§ˆå™¨ä¼˜åŒ–è€Œå¯¼è‡´æ— æ³•è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚</p><h4 id="18-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#18-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="18.ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«"></a>18.ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«</h4><p>â€‹1.å¤–å½¢ä¸åŒï¼šç®­å¤´å‡½æ•°ä½¿ç”¨ç®­å¤´å®šä¹‰ï¼Œæ™®é€šå‡½æ•°ä¸­æ²¡æœ‰ã€‚<br>â€‹2.ç®­å¤´å‡½æ•°å…¨éƒ½æ˜¯åŒ¿åå‡½æ•°ï¼šæ™®é€šå‡½æ•°å¯ä»¥æœ‰åŒ¿åå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æœ‰å…·åå‡½æ•°<br>â€‹3.ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨äºæ„é€ å‡½æ•°ï¼šæ™®é€šå‡½æ•°å¯ä»¥ç”¨äºæ„é€ å‡½æ•°ï¼Œä»¥æ­¤åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚<br>â€‹4.ç®­å¤´å‡½æ•°ä¸­ this çš„æŒ‡å‘ä¸åŒï¼šåœ¨æ™®é€šå‡½æ•°ä¸­ï¼Œthis æ€»æ˜¯æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ï¼Œå¦‚æœç”¨ä½œæ„é€ å‡½æ•°ï¼Œå®ƒæŒ‡å‘åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚<br>â€‹5.ç®­å¤´å‡½æ•°ä¸å…·æœ‰ arguments å¯¹è±¡ï¼šæ¯ä¸€ä¸ªæ™®é€šå‡½æ•°è°ƒç”¨åéƒ½å…·æœ‰ä¸€ä¸ªarguments å¯¹è±¡ï¼Œç”¨æ¥å­˜å‚¨å®é™…ä¼ é€’çš„å‚æ•°ã€‚ä½†æ˜¯ç®­å¤´å‡½æ•°å¹¶æ²¡æœ‰æ­¤å¯¹è±¡ã€‚<br>â€‹6.ç®­å¤´å‡½æ•°ä¸å…·æœ‰ prototype åŸå‹å¯¹è±¡ã€‚<br>â€‹7.ç®­å¤´å‡½æ•°ä¸å…·æœ‰ super</p><h4 id="19-éšæœºå–1-10ä¹‹é—´çš„æ•´æ•°"><a href="#19-éšæœºå–1-10ä¹‹é—´çš„æ•´æ•°" class="headerlink" title="19.éšæœºå–1-10ä¹‹é—´çš„æ•´æ•°"></a>19.éšæœºå–1-10ä¹‹é—´çš„æ•´æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> randNum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(randNum)<br></code></pre></td></tr></table></figure><h4 id="20-newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ"><a href="#20-newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ" class="headerlink" title="20.newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ"></a>20.newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ</h4><p>â€‹new è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š<br>â€‹    1.åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ã€‚<br>â€‹    2.å°†è¿™ä¸ªæ–°å¯¹è±¡çš„prototypeå±æ€§é“¾æ¥åˆ°æ„é€ å‡½æ•°çš„prototypeå¯¹è±¡ã€‚<br>â€‹    3.å°†æ„é€ å‡½æ•°çš„thiså…³é”®å­—ç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆæ·»åŠ å±æ€§å’Œæ–¹æ³•åˆ°æ–°å¯¹è±¡ï¼‰ã€‚<br>â€‹    4.å¦‚æœæ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†ä¼šæ›¿ä»£æ„é€ å‡½æ•°ä¸­çš„thisã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆnewæ“ä½œç¬¦å°†è¿”å›thisï¼Œå³æ–°åˆ›å»ºçš„å¯¹è±¡</p><h4 id="21-AjaxåŸç†"><a href="#21-AjaxåŸç†" class="headerlink" title="21.AjaxåŸç†"></a>21.AjaxåŸç†</h4><p>â€‹é€šè¿‡javascriptçš„æ–¹å¼ï¼Œå°†å‰å°æ•°æ®é€šè¿‡xmlhttpå¯¹è±¡ä¼ é€’åˆ°åå°ï¼Œåå°åœ¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå°†éœ€è¦çš„ç»“æœï¼Œå†ä¼ å›åˆ°å‰å°ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ä¸éœ€è¦é¡µé¢çš„å›å‘ï¼Œé¡µæ˜¯æ•°æ®å®ç°æ¥å›ä¼ é€’ï¼Œä»é¡µå®ç°æ— åˆ·æ–°<br>â€‹é€šè¿‡XmlHttpRequestå¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨javascriptæ¥æ“ä½œDOMè€Œæ›´æ–°é¡µé¢</p><h4 id="22-æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš"><a href="#22-æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš" class="headerlink" title="22.æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš"></a>22.æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš</h4><p>â€‹1.ä»£ç å¯è¯»å¯ç»´æŠ¤<br>â€‹2.åŠŸèƒ½æ¨¡å—åˆ†ç¦»<br>â€‹3.ä½¿ç”¨æ¨¡å—åŒ–å¼€å‘å·¥å…·<br>â€‹4.ES6æ¨¡å—åŒ–è§„èŒƒ(æ¨¡å—çš„å¯¼å‡ºå’Œå¯¼å…¥)<br>â€‹5.ç»„ä»¶åŒ–å¼€å‘:å°†UIç»„ä»¶è¿›è¡Œå°è£…å’Œå¤ç”¨ï¼Œé‡‡ç”¨ç»„ä»¶åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥å‡å°‘ä»£ç çš„å†—ä½™å’Œæé«˜å¼€å‘æ•ˆç‡ã€‚<br>â€‹6.å‰ç«¯å·¥ç¨‹åŒ–ï¼šé€šè¿‡å‰ç«¯å·¥ç¨‹åŒ–çš„æ€æƒ³ï¼Œå°†å‰ç«¯é¡¹ç›®æ‹†åˆ†ä¸ºå¤šä¸ªå­é¡¹ç›®ï¼Œæ¯ä¸ªå­é¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸå’ŒåŠŸèƒ½ï¼ŒæŒ‰éœ€åŠ è½½å’Œæ‰§è¡Œï¼Œèƒ½å¤Ÿæé«˜å¼€å‘æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚</p><h4 id="23-å¼‚æ­¥åŠ è½½Jsçš„æ–¹å¼æœ‰å“ªäº›"><a href="#23-å¼‚æ­¥åŠ è½½Jsçš„æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="23.å¼‚æ­¥åŠ è½½Jsçš„æ–¹å¼æœ‰å“ªäº›"></a>23.å¼‚æ­¥åŠ è½½Jsçš„æ–¹å¼æœ‰å“ªäº›</h4><p>â€‹1.ä½¿ç”¨asyncå±æ€§ï¼šå½“è„šæœ¬çš„asyncå±æ€§è¢«è®¾ç½®ä¸ºtrueæ—¶ï¼Œæµè§ˆå™¨ä¼šå¼‚æ­¥åŠ è½½å’Œæ‰§è¡Œè„šæœ¬ã€‚è¿™ç§æ–¹å¼ä¸ä¼šé˜»å¡é¡µé¢çš„å…¶ä»–æ¸²æŸ“ï¼Œä½†å¯èƒ½ä¼šåœ¨è„šæœ¬æ‰§è¡Œå‰æˆ–ååŠ è½½é¡µé¢å†…å®¹ã€‚<br>â€‹2.ä½¿ç”¨deferå±æ€§ï¼šå½“è„šæœ¬çš„deferå±æ€§è¢«è®¾ç½®ä¸ºtrueæ—¶ï¼Œæµè§ˆå™¨ä¼šå»¶è¿ŸåŠ è½½å’Œæ‰§è¡Œè„šæœ¬ã€‚è¿™ç§æ–¹å¼ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œç›´åˆ°è„šæœ¬åŠ è½½å’Œæ‰§è¡Œå®Œæ¯•ï¼Œä½†å®ƒé€šå¸¸åœ¨DOMContentLoadedäº‹ä»¶è§¦å‘å‰ä¸ä¼šåŠ è½½è„šæœ¬ã€‚<br>â€‹3.ä½¿ç”¨onloadäº‹ä»¶ï¼šå½“æ–‡æ¡£åŠ è½½å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ç›‘å¬window.onloadæˆ–document.addEventListener(â€œloadâ€, callback)ç­‰äº‹ä»¶æ¥å¼‚æ­¥åŠ è½½JSã€‚<br>â€‹4.ä½¿ç”¨DOMContentLoadedäº‹ä»¶ï¼šå½“æ–‡æ¡£è§£æå®Œæˆï¼ŒDOMContentLoadedäº‹ä»¶è§¦å‘æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥äº‹ä»¶æ¥å¼‚æ­¥åŠ è½½JSã€‚<br>â€‹5.ä½¿ç”¨å¼‚æ­¥APIï¼šJavaScriptè¿˜æä¾›äº†è®¸å¤šå¼‚æ­¥APIï¼Œå¦‚XMLHttpRequestå’ŒFetch APIç­‰ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›APIæ¥å¼‚æ­¥åŠ è½½JSã€‚</p><h4 id="24-xmlå’Œ-jsonçš„åŒºåˆ«"><a href="#24-xmlå’Œ-jsonçš„åŒºåˆ«" class="headerlink" title="24.xmlå’Œ jsonçš„åŒºåˆ«"></a>24.xmlå’Œ jsonçš„åŒºåˆ«</h4><p>â€‹JSONæ˜¯JavaScript Object Notationï¼›XMLæ˜¯å¯æ‰©å±•æ ‡è®°è¯­è¨€ã€‚<br>â€‹JSONæ˜¯åŸºäºJavaScriptè¯­è¨€ï¼›XMLæºè‡ªSGMLã€‚<br>â€‹JSONæ˜¯ä¸€ç§è¡¨ç¤ºå¯¹è±¡çš„æ–¹å¼ï¼›XMLæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼Œä½¿ç”¨æ ‡è®°ç»“æ„æ¥è¡¨ç¤ºæ•°æ®é¡¹ã€‚<br>â€‹JSONä¸æä¾›å¯¹å‘½åç©ºé—´çš„ä»»ä½•æ”¯æŒï¼›XMLæ”¯æŒåç§°ç©ºé—´ã€‚<br>â€‹JSONæ”¯æŒæ•°ç»„ï¼›XMLä¸æ”¯æŒæ•°ç»„ã€‚<br>â€‹XMLçš„æ–‡ä»¶ç›¸å¯¹éš¾ä»¥é˜…è¯»å’Œè§£é‡Šï¼›ä¸XMLç›¸æ¯”ï¼ŒJSONçš„æ–‡ä»¶éå¸¸æ˜“äºé˜…è¯»ã€‚<br>â€‹JSONä¸ä½¿ç”¨ç»“æŸæ ‡è®°ï¼›XMLæœ‰å¼€å§‹å’Œç»“æŸæ ‡ç­¾ã€‚<br>â€‹JSONçš„å®‰å…¨æ€§è¾ƒä½ï¼›XMLæ¯”JSONæ›´å®‰å…¨ã€‚<br>â€‹JSONä¸æ”¯æŒæ³¨é‡Šï¼›XMLæ”¯æŒæ³¨é‡Šã€‚<br>â€‹JSONä»…æ”¯æŒUTF-8ç¼–ç ï¼›XMLæ”¯æŒå„ç§ç¼–ç </p><h4 id="25-webpackå¦‚ä½•å®ç°æ‰“åŒ…çš„"><a href="#25-webpackå¦‚ä½•å®ç°æ‰“åŒ…çš„" class="headerlink" title="25.webpackå¦‚ä½•å®ç°æ‰“åŒ…çš„"></a>25.webpackå¦‚ä½•å®ç°æ‰“åŒ…çš„</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">1</span>.è¯»å–é…ç½®æ–‡ä»¶ï¼šWebpacké¦–å…ˆä¼šè¯»å–é¡¹ç›®ä¸­çš„webpack<span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.js</span>é…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†æ‰“åŒ…æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…¥å£æ–‡ä»¶ã€è¾“å‡ºè·¯å¾„ã€åŠ è½½å™¨ï¼ˆloadersï¼‰ã€æ’ä»¶ï¼ˆpluginsï¼‰ç­‰ç­‰ã€‚<br><span class="hljs-number">2</span>.å¤„ç†å…¥å£æ–‡ä»¶ï¼šWebpackä¼šä»é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šçš„å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œè§£ææ–‡ä»¶å¹¶è®°å½•å…¶ä¾èµ–ã€‚å®ƒä¼šé€’å½’åœ°è§£æè¿™äº›ä¾èµ–ï¼Œå¹¶æ„å»ºä¸€ä¸ªä¾èµ–å›¾ï¼ˆdependency graphï¼‰ã€‚<br><span class="hljs-number">3</span>.ç¡®å®šè¾“å‡ºè·¯å¾„ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œä½ éœ€è¦æŒ‡å®šè¾“å‡ºè·¯å¾„ï¼ŒWebpackä¼šå°†æœ€ç»ˆæ‰“åŒ…åçš„æ–‡ä»¶ä¿å­˜åˆ°è¿™ä¸ªè·¯å¾„ä¸‹ã€‚<br><span class="hljs-number">4</span>.åŠ è½½å™¨å’Œæ’ä»¶ï¼šåŠ è½½å™¨å¯ä»¥å°†éJavaScriptæ–‡ä»¶ï¼ˆå¦‚CSSã€å›¾ç‰‡ç­‰ï¼‰è½¬æ¢ä¸ºWebpackå¯ä»¥å¤„ç†çš„æ¨¡å—ã€‚æ’ä»¶åˆ™å¯ä»¥è¿›è¡Œæ›´å¹¿æ³›çš„ä»»åŠ¡ï¼ŒåŒ…æ‹¬ä¼˜åŒ–æ‰“åŒ…çš„è¾“å‡ºã€å¤„ç†ç¯å¢ƒå˜é‡ç­‰ç­‰ã€‚<br><span class="hljs-number">5</span>.æ‰“åŒ…è¾“å‡ºï¼šæœ€åï¼ŒWebpackä¼šå°†æ‰€æœ‰çš„æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªJavaScriptæ–‡ä»¶å’Œä¸€ä¸ªCSSæ–‡ä»¶ã€‚å®ƒè¿˜ä¼šå°†è¿™ä¸ªæ–‡ä»¶åå’Œè·¯å¾„å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­çš„outputå­—æ®µã€‚<br></code></pre></td></tr></table></figure><h4 id="26-å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†"><a href="#26-å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†" class="headerlink" title="26.å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†"></a>26.å¸¸è§webå®‰å…¨åŠé˜²æŠ¤åŸç†</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">SQLæ³¨å…¥ï¼šå…·ä½“å°±æ˜¯é€šè¿‡æŠŠsqlå‘½ä»¤æ’å…¥åˆ°webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„sqlå‘½ä»¤<br>xssè·¨ç«™è„šæœ¬ï¼ˆCross-site Scriptingï¼‰ï¼šæ˜¯ä¸€ç§ç½‘ç«™åº”ç”¨ç¨‹åºçš„å®‰å…¨æ¼æ´æ”»å‡»ï¼Œæ˜¯ä»£ç æ³¨å…¥çš„ä¸€ç§ã€‚å®ƒå…è®¸æ¶æ„ç”¨æˆ·å°†ä»£ç æ³¨å…¥åˆ°ç½‘é¡µä¸Šï¼Œå…¶ä»–ç”¨æˆ·åœ¨è§‚çœ‹ç½‘é¡µæ—¶å°±ä¼šå—åˆ°å½±å“ã€‚è¿™ç±»æ”»å‡»é€šå¸¸åŒ…å«äº†<span class="hljs-selector-tag">HTML</span>ä»¥åŠç”¨æˆ·ç«¯è„šæœ¬è¯­è¨€ã€‚<br>CSRF/è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCross-site request forgeryï¼‰ï¼šCSRFæ˜¯ä¸€ç§å¤¹æŒç”¨æˆ·åœ¨å·²ç»ç™»é™†çš„webåº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹å¼<br>DDosæ”»å‡»/åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡(Distributed Denial of service Attack)ï¼šæ”»å‡»è€…æƒ³åŠæ³•è®©ç›®æ ‡æœåŠ¡å™¨çš„ç£ç›˜ç©ºé—´ã€å†…å­˜ã€è¿›ç¨‹ã€ç½‘ç»œå¸¦å®½ç­‰èµ„æºè¢«å æ»¡ï¼Œä»è€Œå¯¼è‡´æ­£å¸¸ç”¨æˆ·æ— æ³•è®¿é—®<br>ä¸Šä¼ æ¼æ´ï¼šæ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯æŒ‡ç½‘ç»œæ”»å‡»è€…ä¸Šä¼ äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æœªç»ä»»ä½•æ£€éªŒæˆ–è¿‡æ»¤ï¼Œä»è€Œé€ æˆæ–‡ä»¶çš„æ‰§è¡Œã€‚è¿™é‡Œä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥æ˜¯æœ¨é©¬ï¼Œç—…æ¯’ï¼Œæ¶æ„è„šæœ¬æˆ–è€…WebShellç­‰<br>ç›®å½•éå†æ¼æ´ï¼šç”±äºWebæœåŠ¡å™¨æˆ–è€…Webåº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·è¾“å…¥çš„æ–‡ä»¶åç§°çš„å®‰å…¨æ€§éªŒè¯ä¸è¶³è€Œå¯¼è‡´çš„ä¸€ç§å®‰å…¨æ¼æ´ï¼Œä½¿å¾—æ”»å‡»è€…é€šè¿‡åˆ©ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦å°±å¯ä»¥ç»•è¿‡æœåŠ¡å™¨çš„å®‰å…¨é™åˆ¶ï¼Œè®¿é—®ä»»æ„çš„æ–‡ä»¶ï¼Œç”šè‡³æ‰§è¡Œç³»ç»Ÿå‘½ä»¤<br></code></pre></td></tr></table></figure><h4 id="27-ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼"><a href="#27-ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼" class="headerlink" title="27.ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼"></a>27.ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼</h4><p>â€‹å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼<br>â€‹é€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼<br>â€‹è§‚å¯Ÿè€…æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼</p><h4 id="28-ä¸ºä»€ä¹ˆè¦åŒæºé™åˆ¶"><a href="#28-ä¸ºä»€ä¹ˆè¦åŒæºé™åˆ¶" class="headerlink" title="28.ä¸ºä»€ä¹ˆè¦åŒæºé™åˆ¶"></a>28.ä¸ºä»€ä¹ˆè¦åŒæºé™åˆ¶</h4><p>â€‹é™åˆ¶ä¸åŒæºçš„documentæˆ–è„šæœ¬ä¹‹é—´çš„ç›¸äº’è®¿é—®ï¼Œä»¥å…é€ æˆå¹²æ‰°å’Œæ··ä¹±</p><h4 id="29-offsetWidth-offsetHeight-clientWidth-clientHeightä¸scrollWidth-scrollHeightçš„åŒºåˆ«"><a href="#29-offsetWidth-offsetHeight-clientWidth-clientHeightä¸scrollWidth-scrollHeightçš„åŒºåˆ«" class="headerlink" title="29.offsetWidth&#x2F;offsetHeight,clientWidth&#x2F;clientHeightä¸scrollWidth&#x2F;scrollHeightçš„åŒºåˆ«"></a>29.offsetWidth&#x2F;offsetHeight,clientWidth&#x2F;clientHeightä¸scrollWidth&#x2F;scrollHeightçš„åŒºåˆ«</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">offsetWidth / offsetHeightï¼ˆå†…å®¹å¯è§†åŒºåŸŸçš„é«˜åº¦ + æ»šåŠ¨æ¡ + è¾¹æ¡†+å¤–è¾¹è·ï¼‰è¿”å›å€¼åŒ…å«<span class="hljs-attribute">content</span> + <span class="hljs-attribute">padding</span> + <span class="hljs-attribute">border</span>ï¼Œæ•ˆæœä¸ e<span class="hljs-selector-class">.getBoundingClientRect</span>()ç›¸åŒ<br>clientWidth / clientHeightï¼ˆå†…å®¹å¯è§†åŒºåŸŸçš„é«˜åº¦ï¼‰ è¿”å›å€¼åªåŒ…å«<span class="hljs-attribute">content</span> + <span class="hljs-attribute">padding</span>ï¼Œå¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œä¹Ÿä¸åŒ…å«æ»šåŠ¨æ¡<br>scrollWidth / scrollHeightï¼ˆå…ƒç´ çš„<span class="hljs-attribute">padding</span>+å…ƒç´ å†…å®¹çš„é«˜åº¦ï¼‰ è¿”å›å€¼åŒ…å«<span class="hljs-attribute">content</span> + <span class="hljs-attribute">padding</span> + æº¢å‡ºå†…å®¹çš„å°ºâ¼¨<br></code></pre></td></tr></table></figure><h4 id="30-jsæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡"><a href="#30-jsæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡" class="headerlink" title="30.jsæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡"></a>30.jsæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡<br>é€šè¿‡<span class="hljs-selector-tag">var</span> obj = new <span class="hljs-selector-tag">Object</span>() åˆ›å»ºå¯¹è±¡<br>é€šè¿‡<span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">object</span> = &#123;&#125;  å¯¹è±¡å­—é¢é‡<br></code></pre></td></tr></table></figure><h4 id="31-è¯´è¯´ä½ å¯¹promiseçš„äº†è§£"><a href="#31-è¯´è¯´ä½ å¯¹promiseçš„äº†è§£" class="headerlink" title="31.è¯´è¯´ä½ å¯¹promiseçš„äº†è§£"></a>31.è¯´è¯´ä½ å¯¹promiseçš„äº†è§£</h4><p>â€‹Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚<br>â€‹Promise æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥æ„é€ å‡½æ•°æ¥ç”ŸæˆPromiseçš„å®ä¾‹ã€‚<br>â€‹Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p><p>ã€€ã€€ã€€ã€€ï¼ˆ1ï¼‰å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å³æ‰¿è¯ºï¼Œåç»­å¿…è¦å…‘ç°ï¼Œä¸€æ—¦å…‘ç°åˆ™ä¸å¯æ›´æ”¹ï¼å…¶æœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰å’Œrejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚<br>ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡åªæœ‰ä¸¤ç§çŠ¶æ€æ”¹å˜ï¼šä»pendingå˜ä¸ºfulfilledå’Œä»pendingå˜ä¸ºrejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±ä¸ä¼šå†å˜äº†ã€‚<br>ã€€ã€€Promiseä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š<br>ã€€ã€€ã€€ã€€é¦–å…ˆï¼Œæ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚<br>ã€€ã€€ã€€ã€€å…¶æ¬¡ï¼Œå¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚<br>ã€€ã€€ã€€ã€€ç¬¬ä¸‰ï¼Œå½“å¤„äºpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚<br>ã€€ã€€Promise çš„å®ä¾‹å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªçŠ¶æ€å±•ç¤ºå™¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‹¥æœ‰çŠ¶æ€åŠæ”¹å˜çŠ¶æ€çš„ä¸šåŠ¡é€šè¿‡Promiseæ¥å®ç°ï¼Œç„¶åå†ç»“åˆasync functionè¿›ä¸€æ­¥æå‡ç¨‹åºçš„å¯è¯»æ€§åŠæ˜“ç»´æŠ¤æ€§ã€‚</p><h4 id="32-è°ˆè°ˆä½ å¯¹AMDã€CMDçš„ç†è§£"><a href="#32-è°ˆè°ˆä½ å¯¹AMDã€CMDçš„ç†è§£" class="headerlink" title="32.è°ˆè°ˆä½ å¯¹AMDã€CMDçš„ç†è§£"></a>32.è°ˆè°ˆä½ å¯¹AMDã€CMDçš„ç†è§£</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">AMDï¼ˆAsynchronous Module Definitionï¼‰ï¼šå¼‚æ­¥æ¨¡å—å®šä¹‰ï¼ŒAMDæ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å—<br>CMDï¼ˆCommon Module Definitionï¼‰ï¼šé€šç”¨æ¨¡å—å®šä¹‰ï¼ŒCMDæ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å»ç§»å…¥ã€‚<br>CMDæ˜¯sea<span class="hljs-selector-class">.js</span>æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºï¼›AMDæ˜¯require<span class="hljs-selector-class">.js</span>æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡º<br>AMDå’ŒCMDéƒ½æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œéƒ½æ˜¯ä¸ºäº†JavaScriptæ¨¡å—åŒ–å¼€å‘çš„è§„èŒƒ<br></code></pre></td></tr></table></figure><h4 id="33-webå¼€å‘ä¸­ä¼šè¯è·Ÿè¸ªçš„æ–¹æ³•æœ‰å“ªäº›"><a href="#33-webå¼€å‘ä¸­ä¼šè¯è·Ÿè¸ªçš„æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="33.webå¼€å‘ä¸­ä¼šè¯è·Ÿè¸ªçš„æ–¹æ³•æœ‰å“ªäº›"></a>33.webå¼€å‘ä¸­ä¼šè¯è·Ÿè¸ªçš„æ–¹æ³•æœ‰å“ªäº›</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">URLé‡å†™ï¼š<br>éšè—è¡¨å•åŸŸï¼š<br>Cookieï¼š<br>sessionï¼š<br></code></pre></td></tr></table></figure><h4 id="34-ä»‹ç»jsæœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿ"><a href="#34-ä»‹ç»jsæœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿ" class="headerlink" title="34.ä»‹ç»jsæœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿ"></a>34.ä»‹ç»jsæœ‰å“ªäº›å†…ç½®å¯¹è±¡ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">Mathå¯¹è±¡ã€<span class="hljs-selector-tag">Object</span>å¯¹è±¡ã€RegExpå¯¹è±¡ã€ Globalå¯¹è±¡ã€Functionå¯¹è±¡ã€argumentsã€Stringå¯¹è±¡ã€Numberå¯¹è±¡<br>Booleanå¯¹è±¡ã€Dateå¯¹è±¡ã€Arrayå¯¹è±¡<br></code></pre></td></tr></table></figure><h4 id="35-è¯´å‡ æ¡å†™JavaScriptçš„åŸºæœ¬è§„èŒƒï¼Ÿ"><a href="#35-è¯´å‡ æ¡å†™JavaScriptçš„åŸºæœ¬è§„èŒƒï¼Ÿ" class="headerlink" title="35.è¯´å‡ æ¡å†™JavaScriptçš„åŸºæœ¬è§„èŒƒï¼Ÿ"></a>35.è¯´å‡ æ¡å†™JavaScriptçš„åŸºæœ¬è§„èŒƒï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">åœ¨å‡½æ•°ä¸­ï¼Œåº”è¯¥å°†å˜é‡å£°æ˜æå‡åˆ°æœ€ä¸Šæ–¹ï¼Œå¹¶ä¸”é¿å…å¯¹åº”è¯¥å˜é‡ä½¿ç”¨å¤šæ¬¡<span class="hljs-selector-tag">var</span>å£°æ˜ï¼Œåœ¨å®šä¹‰å˜é‡æ—¶ï¼Œåº”è¯¥ç»™å˜é‡æä¾›ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼ï¼Œä»¥ä¾¿äºä»£ç å…·æœ‰æ›´å¥½çš„é˜…è¯»æ€§ã€‚<br>ä»£ç ä¸­å‡ºç°åœ°å€ï¼Œæ—¶é—´ç­‰å­—ç¬¦ä¸²åº”è¯¥ä½¿ç”¨å¸¸é‡ä»£æ›¿ã€‚<br>åœ¨ä»£ç ä¸­æ¯”è¾ƒæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ ===, !== æ¥ä»£æ›¿ == å’Œ !=ã€‚<br>å°½é‡ä¸è¦åœ¨å†…ç½®å¯¹è±¡Array,dataçš„åŸå‹å¯¹è±¡ä¸Šæ·»åŠ å±æ€§ã€‚<br><span class="hljs-selector-tag">switch</span>å¿…é¡»å¸¦æœ‰defaultåˆ†æ”¯ã€‚<br>forå¾ªç¯å¿…é¡»å¸¦æœ‰å¤§æ‹¬å·ï¼Œå³ä½¿åªæœ‰ä¸€è¡Œä»£ç ã€‚<br>ifè¯­å¥å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥<br>å‘½åè§„èŒƒï¼šé©¼å³°å‘½åæ³•ï¼Œå¸¸é‡å¿…é¡»å…¨éƒ¨å¤§å†™<br></code></pre></td></tr></table></figure><h4 id="36-javascriptåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"><a href="#36-javascriptåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ" class="headerlink" title="36.javascriptåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ"></a>36.javascriptåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">ä½¿ç”¨&#123;&#125;åˆ›å»ºå¯¹è±¡ï¼Œç­‰åŒäº new <span class="hljs-selector-tag">Object</span>()<br>é€šè¿‡new <span class="hljs-selector-tag">Object</span>()åˆ›å»ºå¯¹è±¡<br>ä½¿ç”¨å­—é¢é‡åˆ›å»ºå¯¹è±¡<br>ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡<br>é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡<br>é€šè¿‡åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡<br></code></pre></td></tr></table></figure><h4 id="37-evalæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"><a href="#37-evalæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="37.evalæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"></a>37.evalæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</h4><pre><code class="hljs">åœ¨å­—ç¬¦ä¸²é‡Œé¢å†™ä»£ç çš„å‡½æ•°</code></pre><h4 id="38-nullï¼Œundefined-çš„åŒºåˆ«ï¼Ÿ"><a href="#38-nullï¼Œundefined-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="38.nullï¼Œundefined çš„åŒºåˆ«ï¼Ÿ"></a>38.nullï¼Œundefined çš„åŒºåˆ«ï¼Ÿ</h4><pre><code class="hljs">ä¸€ä¸ªæ˜¯ç©ºï¼Œä¸€ä¸ªæ˜¯æœªå®šä¹‰</code></pre><h4 id="39-â€œ1â€-â€œ2â€-â€œ3â€-map-parseInt-ç­”æ¡ˆæ˜¯å¤šå°‘ï¼Ÿ"><a href="#39-â€œ1â€-â€œ2â€-â€œ3â€-map-parseInt-ç­”æ¡ˆæ˜¯å¤šå°‘ï¼Ÿ" class="headerlink" title="39.[â€œ1â€, â€œ2â€, â€œ3â€].map(parseInt) ç­”æ¡ˆæ˜¯å¤šå°‘ï¼Ÿ"></a>39.[â€œ1â€, â€œ2â€, â€œ3â€].map(parseInt) ç­”æ¡ˆæ˜¯å¤šå°‘ï¼Ÿ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//[1,NaN,NaN]</span><br></code></pre></td></tr></table></figure><h4 id="40-javascript-ä»£ç ä¸­çš„â€use-strictâ€-æ˜¯ä»€ä¹ˆæ„æ€-ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#40-javascript-ä»£ç ä¸­çš„â€use-strictâ€-æ˜¯ä»€ä¹ˆæ„æ€-ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="40.javascript ä»£ç ä¸­çš„â€use strictâ€;æ˜¯ä»€ä¹ˆæ„æ€ ? ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>40.javascript ä»£ç ä¸­çš„â€use strictâ€;æ˜¯ä»€ä¹ˆæ„æ€ ? ä½¿ç”¨å®ƒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">ä¸¥æ ¼æ¨¡å¼<br>ç¦æ­¢ä½¿ç”¨ with è¯­å¥ï¼Œç¦æ­¢ this å…³é”®å­—æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå¯¹è±¡ä¸èƒ½æœ‰é‡åçš„å±æ€§<br></code></pre></td></tr></table></figure><h4 id="41-jså»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#41-jså»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="41.jså»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>41.jså»¶è¿ŸåŠ è½½çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss">deferå±æ€§<br>asyncå±æ€§<br>åŠ¨æ€åˆ›å»ºDOM<br>ä½¿ç”¨jqçš„getScriptæ–¹æ³•<br>ä½¿ç”¨setTimeoutå»¶è¿ŸåŠ è½½è„šæœ¬<br>å°†scriptå¼•å…¥æ”¾åœ¨æœ€åï¼ˆåº•éƒ¨ï¼‰åŠ è½½<br></code></pre></td></tr></table></figure><h4 id="42-deferå’Œasync"><a href="#42-deferå’Œasync" class="headerlink" title="42.deferå’Œasync"></a>42.deferå’Œasync</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">&lt;script async <span class="hljs-attribute">src</span>=&quot;xx<span class="hljs-selector-class">.js</span>&quot;&gt;&lt;/script&gt;<br>asyncï¼šåŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œ xx<span class="hljs-selector-class">.js</span> çš„åŠ è½½ä¸æ‰§è¡Œå¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰<br>&lt;script defer <span class="hljs-attribute">src</span>=&quot;xx<span class="hljs-selector-class">.js</span>&quot;&gt;&lt;/script&gt;<br>deferï¼ŒåŠ è½½åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œxx<span class="hljs-selector-class">.js</span>çš„åŠ è½½å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½†æ˜¯ xx<span class="hljs-selector-class">.js</span>çš„æ‰§è¡Œè¦åœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹åï¼Œ<br></code></pre></td></tr></table></figure><h4 id="43-è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶"><a href="#43-è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶" class="headerlink" title="43.è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶"></a>43.è¯´è¯´ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss">å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨<br>å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™<br>ä¸èƒ½ä½¿ç”¨withè¯­å¥<br>ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡<br>ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™<br></code></pre></td></tr></table></figure><h4 id="44-attributeå’Œpropertyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#44-attributeå’Œpropertyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="44.attributeå’Œpropertyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>44.attributeå’Œpropertyçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">Attributeæ˜¯DOMèŠ‚ç‚¹è‡ªå¸¦å±æ€§<br>ropertyæ˜¯è¿™ä¸ªDOMå…ƒç´ ä½œä¸ºå¯¹è±¡<br>Attributeå’Œropertyå–å€¼å’Œèµ‹å€¼ä¸åŒ<br></code></pre></td></tr></table></figure><h4 id="45-ECMAScript6-æ€ä¹ˆå†™classä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°classè¿™ç§ä¸œè¥¿"><a href="#45-ECMAScript6-æ€ä¹ˆå†™classä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°classè¿™ç§ä¸œè¥¿" class="headerlink" title="45.ECMAScript6 æ€ä¹ˆå†™classä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°classè¿™ç§ä¸œè¥¿?"></a>45.ECMAScript6 æ€ä¹ˆå†™classä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°classè¿™ç§ä¸œè¥¿?</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">ES6çš„classå¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–<br>æ–°çš„classå†™æ³•åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´åŠ æ¸…æ™°ã€æ›´åƒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­æ³•<br></code></pre></td></tr></table></figure><h4 id="46-å¸¸è§å…¼å®¹æ€§é—®é¢˜"><a href="#46-å¸¸è§å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="46.å¸¸è§å…¼å®¹æ€§é—®é¢˜"></a>46.å¸¸è§å…¼å®¹æ€§é—®é¢˜</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºçš„å…¼å®¹å†™æ³• e<span class="hljs-selector-class">.returnValue</span> = false;<span class="hljs-comment">//IEæµè§ˆå™¨</span><br>é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹å†™æ³• e<span class="hljs-selector-class">.cancelBubble</span> = true;      <span class="hljs-comment">//IE</span><br>äº‹ä»¶ç›‘å¬ç»‘å®šäº‹ä»¶çš„å…¼å®¹å†™æ³• ele<span class="hljs-selector-class">.attachEvent</span>(&quot;on&quot;+myevent,cb)<span class="hljs-comment">//IE</span><br>è·å–æ ·å¼çš„å…¼å®¹å†™æ³• ele<span class="hljs-selector-class">.currentStyle</span><span class="hljs-selector-attr">[attr]</span><br></code></pre></td></tr></table></figure><h4 id="47-å‡½æ•°é˜²æŠ–èŠ‚æµçš„åŸç†"><a href="#47-å‡½æ•°é˜²æŠ–èŠ‚æµçš„åŸç†" class="headerlink" title="47.å‡½æ•°é˜²æŠ–èŠ‚æµçš„åŸç†"></a>47.å‡½æ•°é˜²æŠ–èŠ‚æµçš„åŸç†</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">èŠ‚æµæ˜¯ç¬¬ä¸€ä¸ªè¯´äº†ç®—ï¼Œåç»­éƒ½ä¼šè¢«èŠ‚æµé˜€å±è”½æ‰ï¼Œé˜²æŠ–æ˜¯æœ€åä¸€ä¸ªè¯´äº†ç®—ï¼Œå‰é¢å¯ç”¨çš„éƒ½ä¼šè¢«æ¸…é™¤<br><br>èŠ‚æµå‡½æ•°ä¼šåœ¨ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶æ—¶ç«‹å³æ‰§è¡Œ<br>é˜²æŠ–å°±æ˜¯æŒ‡è§¦å‘äº‹ä»¶ååœ¨ n ç§’å†…å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡<br></code></pre></td></tr></table></figure><h4 id="48-åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnullæ˜¯å¯¹è±¡å—ï¼Ÿ"><a href="#48-åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnullæ˜¯å¯¹è±¡å—ï¼Ÿ" class="headerlink" title="48.åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnullæ˜¯å¯¹è±¡å—ï¼Ÿ"></a>48.åŸå§‹ç±»å‹æœ‰å“ªå‡ ç§ï¼Ÿnullæ˜¯å¯¹è±¡å—ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">undefinedã€nullã€stringã€numberã€booleanã€<span class="hljs-selector-tag">symbol</span>ã€<br>nullå…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°½ç®¡typeof nullè¾“å‡ºçš„æ˜¯<span class="hljs-selector-tag">object</span>,ä½†æ˜¯è¿™å…¶å®æ˜¯ä¸€ä¸ªbugã€‚åœ¨jsæœ€åˆçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯<span class="hljs-number">32</span>ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘åœ°ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ<span class="hljs-number">000</span>å¼€å¤´è¡¨ç¤ºä¸ºå¯¹è±¡ç±»å‹ï¼Œç„¶è€Œnullä¸ºå…¨<span class="hljs-number">0</span>ï¼Œæ•…è€Œnullè¢«åˆ¤æ–­ä¸ºå¯¹è±¡ç±»å‹<br></code></pre></td></tr></table></figure><h4 id="49-ä¸ºä»€ä¹ˆconsole-log-0-2-0-1-0-3-false"><a href="#49-ä¸ºä»€ä¹ˆconsole-log-0-2-0-1-0-3-false" class="headerlink" title="49.ä¸ºä»€ä¹ˆconsole.log(0.2 + 0.1 &#x3D;&#x3D; 0.3) &#x2F;&#x2F;false"></a>49.ä¸ºä»€ä¹ˆconsole.log(0.2 + 0.1 &#x3D;&#x3D; 0.3) &#x2F;&#x2F;false</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">æ˜¯ç”±äºæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜é€ æˆçš„<br>IEEE754çš„<span class="hljs-number">64</span>ä½åŒç²¾åº¦çš„è¯­è¨€éƒ½æ˜¯å¦‚æ­¤<br></code></pre></td></tr></table></figure><h4 id="50-è¯´ä¸€ä¸‹JSä¸­ç±»å‹è½¬æ¢çš„è§„åˆ™ï¼Ÿ"><a href="#50-è¯´ä¸€ä¸‹JSä¸­ç±»å‹è½¬æ¢çš„è§„åˆ™ï¼Ÿ" class="headerlink" title="50.è¯´ä¸€ä¸‹JSä¸­ç±»å‹è½¬æ¢çš„è§„åˆ™ï¼Ÿ"></a>50.è¯´ä¸€ä¸‹JSä¸­ç±»å‹è½¬æ¢çš„è§„åˆ™ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼šJavaScriptä¼šè‡ªåŠ¨è½¬æ¢å€¼åˆ°éœ€è¦çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªå€¼è¢«èµ‹å€¼ç»™ä¸€ä¸ªä¸åŒç±»å‹çš„å˜é‡ï¼Œæˆ–è€…å½“ä¸€ä¸ªæ“ä½œç¬¦éœ€è¦ä¸€ä¸ªç‰¹å®šç±»å‹çš„æ“ä½œæ•°æ—¶ã€‚<br>éšå¼ç±»å‹è½¬æ¢ï¼šè¿™ç§ç±»å‹è½¬æ¢åœ¨è®¡ç®—è¡¨è¾¾å¼æˆ–è€…èµ‹å€¼æ“ä½œæ—¶è‡ªåŠ¨å‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ•°å­—ç›¸åŠ æ—¶ï¼Œå­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸ºæ•°å­—ç„¶åè¿›è¡ŒåŠ æ³•è¿ç®—ã€‚<br>æ˜¾å¼ç±»å‹è½¬æ¢ï¼šè¿™æ¶‰åŠåˆ°ä½¿ç”¨ä¸€äº›å‡½æ•°æˆ–è€…æ–¹æ³•æ¥è½¬æ¢å€¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨<span class="hljs-built_in">parseFloat</span>()æˆ–è€…<span class="hljs-built_in">parseInt</span>()å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€‚<br></code></pre></td></tr></table></figure><h4 id="51-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°"><a href="#51-æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°" class="headerlink" title="51.æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°"></a>51.æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss">æµ…æ‹·è´ï¼šæ˜¯æ‹·è´ä¸€å±‚ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæµ…æ‹·è´æ˜¯å¤åˆ¶ï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ ä¸ªåœ°å€<br>ç›´æ¥å˜é‡èµ‹å€¼<br>    <span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.assign</span>()ï¼›ä½†ç›®æ ‡å¯¹è±¡åªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œæ˜¯æ·±æ‹·è´ï¼›<br>    æ‰©å±•è¿ç®—ç¬¦(â€¦)ï¼›ç›®æ ‡å¯¹è±¡åªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œæ˜¯æ·±æ‹·è´ï¼›<br>æ·±æ‹·è´ï¼šæ˜¯é€’å½’æ‹·è´æ·±å±‚æ¬¡ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæ·±æ‹·è´æ˜¯æ–°å¼€æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ä¸åŒçš„åœ°å€<br>ç»“åˆä½¿ç”¨JSON<span class="hljs-selector-class">.parse</span>()å’ŒJSON<span class="hljs-selector-class">.stringify</span>()æ–¹æ³•ã€‚<br>æ‰‹å†™éå†é€’å½’èµ‹å€¼ï¼›<br></code></pre></td></tr></table></figure><h4 id="52-å¦‚ä½•åˆ¤æ–­thisï¼Ÿç®­å¤´å‡½æ•°çš„thisæ˜¯ä»€ä¹ˆ"><a href="#52-å¦‚ä½•åˆ¤æ–­thisï¼Ÿç®­å¤´å‡½æ•°çš„thisæ˜¯ä»€ä¹ˆ" class="headerlink" title="52.å¦‚ä½•åˆ¤æ–­thisï¼Ÿç®­å¤´å‡½æ•°çš„thisæ˜¯ä»€ä¹ˆ"></a>52.å¦‚ä½•åˆ¤æ–­thisï¼Ÿç®­å¤´å‡½æ•°çš„thisæ˜¯ä»€ä¹ˆ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">å‡½æ•°ç›´æ¥è°ƒç”¨ä¸­çš„this <span class="hljs-comment">// æŒ‡å‘window</span><br>åœ¨å¯¹è±¡é‡Œè°ƒç”¨çš„æƒ…å†µï¼š<span class="hljs-comment">//thisä¼šæŒ‡å‘è°ƒç”¨çš„å¯¹è±¡</span><br>åœ¨æ„é€ å‡½æ•°åŠç±»ä¸­thisä¼šæŒ‡å‘å®ä¾‹åŒ–çš„å¯¹è±¡ <br>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„this,å®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿this<br></code></pre></td></tr></table></figure><h4 id="53-å’Œ-çš„åŒºåˆ«"><a href="#53-å’Œ-çš„åŒºåˆ«" class="headerlink" title="53.&#x3D;&#x3D; å’Œ &#x3D;&#x3D;&#x3D;çš„åŒºåˆ«"></a>53.&#x3D;&#x3D; å’Œ &#x3D;&#x3D;&#x3D;çš„åŒºåˆ«</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">&quot;==â€œå«åšç›¸ç­‰è¿ç®—ç¬¦ï¼Œâ€===&quot;å«åšä¸¥æ ¼è¿ç®—ç¬¦ã€‚<br>&quot;==&quot;ï¼Œç­‰åŒçš„æ„æ€ï¼Œä¸¤è¾¹å€¼ç±»å‹ä¸åŒçš„æ—¶å€™ï¼Œè¦å…ˆè¿›è¡Œç±»å‹è½¬æ¢ä¸ºåŒä¸€ç±»å‹åï¼Œå†æ¯”è¾ƒå€¼æ˜¯å¦ç›¸ç­‰ã€‚<br>  &quot;===&quot;ï¼Œæ’ç­‰çš„æ„æ€ï¼Œä¸åšç±»å‹è½¬æ¢ï¼Œç±»å‹ä¸åŒçš„ç»“æœä¸€å®šä¸ç­‰ã€‚<br>&quot;==â€œè¡¨ç¤ºåªè¦å€¼ç›¸ç­‰å³å¯ä¸ºçœŸï¼Œè€Œâ€===&quot;åˆ™è¦æ±‚ä¸ä»…å€¼ç›¸ç­‰ï¼Œè€Œä¸”ä¹Ÿè¦æ±‚ç±»å‹ç›¸åŒã€‚<br></code></pre></td></tr></table></figure><h4 id="54-ä»€ä¹ˆæ˜¯é—­åŒ…"><a href="#54-ä»€ä¹ˆæ˜¯é—­åŒ…" class="headerlink" title="54.ä»€ä¹ˆæ˜¯é—­åŒ…"></a>54.ä»€ä¹ˆæ˜¯é—­åŒ…</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">é—­åŒ…(closure)å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°<br></code></pre></td></tr></table></figure><h4 id="55-JavaScriptåŸå‹ï¼ŒåŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#55-JavaScriptåŸå‹ï¼ŒåŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="55.JavaScriptåŸå‹ï¼ŒåŸå‹é“¾ ? æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>55.JavaScriptåŸå‹ï¼ŒåŸå‹é“¾ ? æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰åŸå‹ï¼ˆnullå’Œundefinedé™¤å¤–ï¼‰ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå¯¹è±¡çš„é»˜è®¤å±æ€§å’Œæ–¹æ³•<br>åœ¨JS ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘å®ƒçš„åŸå‹ï¼ˆprototypeï¼‰å¯¹è±¡çš„å†…éƒ¨é“¾æ¥ã€‚è¿™ä¸ªåŸå‹å¯¹è±¡åˆæœ‰è‡ªå·±çš„åŸå‹ï¼Œç›´åˆ°æŸä¸ªå¯¹è±¡çš„åŸå‹ä¸º null ä¸ºæ­¢ï¼Œç»„æˆè¿™æ¡é“¾çš„æœ€åä¸€ç¯ã€‚è¿™ç§ä¸€çº§ä¸€çº§çš„é“¾ç»“æ„å°±ç§°ä¸ºåŸå‹é“¾<br></code></pre></td></tr></table></figure><h4 id="56-typeof-å’Œinstanceof-çš„ç”¨æ³•åŒºåˆ«"><a href="#56-typeof-å’Œinstanceof-çš„ç”¨æ³•åŒºåˆ«" class="headerlink" title="56.typeof()å’Œinstanceof()çš„ç”¨æ³•åŒºåˆ«"></a>56.typeof()å’Œinstanceof()çš„ç”¨æ³•åŒºåˆ«</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">typeofåˆ¤æ–­æ‰€æœ‰å˜é‡çš„ç±»å‹ï¼Œè¿”å›å€¼æœ‰numberã€stringã€booleanã€functionã€<span class="hljs-selector-tag">object</span>ã€undefined<br>instanceofç”¨æ¥åˆ¤æ–­å¯¹è±¡<br></code></pre></td></tr></table></figure><h4 id="57-ä»€ä¹ˆæ˜¯å˜é‡æå‡"><a href="#57-ä»€ä¹ˆæ˜¯å˜é‡æå‡" class="headerlink" title="57.ä»€ä¹ˆæ˜¯å˜é‡æå‡"></a>57.ä»€ä¹ˆæ˜¯å˜é‡æå‡</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">é€šå¸¸å‘ç”Ÿåœ¨<span class="hljs-selector-tag">var</span>å£°æ˜çš„å˜é‡é‡Œï¼Œå°±æ˜¯è¯´å½“ä½¿ç”¨<span class="hljs-selector-tag">var</span>å£°æ˜ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œè¯¥å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶ç«¯ï¼Œä½†æ˜¯èµ‹å€¼çš„éƒ¨åˆ†å¹¶ä¸ä¼šè¢«æå‡<br></code></pre></td></tr></table></figure><h4 id="58-callã€applyä»¥åŠbindå‡½æ•°å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„"><a href="#58-callã€applyä»¥åŠbindå‡½æ•°å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„" class="headerlink" title="58.callã€applyä»¥åŠbindå‡½æ•°å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„"></a>58.callã€applyä»¥åŠbindå‡½æ•°å†…éƒ¨å®ç°æ˜¯æ€ä¹ˆæ ·çš„</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myCall</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context</span>) &#123;<br>    <span class="hljs-comment">// åˆ¤æ–­thisçš„ç±»å‹ï¼Œå¦‚æœä¸æ˜¯function åˆ™è¿”å›</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span> !== <span class="hljs-string">&#x27;function&#x27;</span>) <span class="hljs-keyword">return</span><br>    <span class="hljs-comment">// åˆ¤æ–­æœ‰æ²¡æœ‰ä¼ å…¥ä¸Šä¸‹æ–‡ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥åˆ™æŒ‡å‘window</span><br>    context = context || <span class="hljs-title class_">Window</span>;<br>    <span class="hljs-comment">// åœ¨ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥ä¸€ä¸ªå±æ€§æŒ‡å‘this</span><br>    context.<span class="hljs-property">fn</span> = <span class="hljs-variable language_">this</span> <span class="hljs-comment">// æ”¹å˜æŒ‡å‘</span><br>    <span class="hljs-comment">// ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹æ‰æ˜¯è¦ä¼ å…¥çš„å®å‚åˆ—è¡¨ï¼Œæˆªå–ä¼ å…¥çš„å‚æ•°ï¼ˆç¬¬ä¸€ä¸ªæ˜¯ä¼ å…¥çš„è¦æ”¹å˜çš„thisï¼‰</span><br>    <span class="hljs-keyword">let</span> args = [...<span class="hljs-variable language_">arguments</span>].<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)<br>    <span class="hljs-comment">// æŒ‡è¡Œå‡½æ•°</span><br>    <span class="hljs-keyword">let</span> res = context.<span class="hljs-title function_">fn</span>(...args)<br>    <span class="hljs-comment">// åˆ é™¤å±æ€§ï¼Œä¸ç„¶æ±¡æŸ“ä¼ å…¥çš„ä¸Šä¸‹æ–‡</span><br>    <span class="hljs-keyword">delete</span> context.<span class="hljs-property">fn</span><br>    <span class="hljs-keyword">return</span> res<br>&#125;<br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myBind</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context</span>) &#123;<br>    <span class="hljs-comment">// ä¸æ˜¯å‡½æ•°ç±»å‹ï¼Œè¿”å›</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span> !== <span class="hljs-string">&#x27;function&#x27;</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-comment">// è®°å½•ä¸€ä¸‹this,å› ä¸ºéœ€è¦è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œthisä¼šè¢«ç¯¡æ”¹</span><br>    <span class="hljs-keyword">let</span> _self = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// æˆªå–å®å‚åˆ—è¡¨</span><br>    <span class="hljs-keyword">let</span> args = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// å¤„ç†æŸ¯é‡ŒåŒ–ä¼ å…¥çš„å‚æ•°ï¼Œæ‹¼æ¥åˆ°bindç»‘å®šçš„åé¢</span><br>        <span class="hljs-keyword">return</span> _self.<span class="hljs-title function_">apply</span>(context, args.<span class="hljs-title function_">concat</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>)))<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="59-ä¸ºä»€ä¹ˆä¼šå‡ºç°setTimeoutå€’è®¡æ—¶è¯¯å·®ï¼Ÿå¦‚ä½•å‡å°‘"><a href="#59-ä¸ºä»€ä¹ˆä¼šå‡ºç°setTimeoutå€’è®¡æ—¶è¯¯å·®ï¼Ÿå¦‚ä½•å‡å°‘" class="headerlink" title="59.ä¸ºä»€ä¹ˆä¼šå‡ºç°setTimeoutå€’è®¡æ—¶è¯¯å·®ï¼Ÿå¦‚ä½•å‡å°‘"></a>59.ä¸ºä»€ä¹ˆä¼šå‡ºç°setTimeoutå€’è®¡æ—¶è¯¯å·®ï¼Ÿå¦‚ä½•å‡å°‘</h4><pre><code class="hljs">setTimeoutä½œä¸ºå¼‚æ­¥ä»»åŠ¡ï¼Œåœ¨å®ç°å€’è®¡æ—¶åŠŸèƒ½çš„æ—¶å€™ï¼Œé™¤äº†æ‰§è¡Œæˆ‘ä»¬åŠŸèƒ½çš„å®ç°ä»£ç ï¼Œè¿˜ä¼šæœ‰ä¸»çº¿ç¨‹å¯¹ä»»åŠ¡é˜Ÿåˆ—çš„è¯»å–åŠæ‰§è¡Œç­‰è¿‡ç¨‹ï¼Œè¿™äº›è¿‡ç¨‹ä¹Ÿéœ€è¦è€—è´¹ä¸€äº›æ—¶é—´ï¼Œæ‰€ä»¥ä¼šå› ä¸ºevent loopçš„æœºåˆ¶å‡ºç°äº›è®¸è¯¯å·®è®¡ç®—è¯¯å·®å€¼ã€åŠ¨æ€è°ƒæ•´æ‰§è¡ŒsetTimeoutçš„é—´éš”</code></pre><h4 id="60-è°ˆè°ˆä½ å¯¹JSæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£"><a href="#60-è°ˆè°ˆä½ å¯¹JSæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£" class="headerlink" title="60.è°ˆè°ˆä½ å¯¹JSæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£"></a>60.è°ˆè°ˆä½ å¯¹JSæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œä½œç”¨åŸŸé“¾çš„ç†è§£</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå°±æ˜¯å½“å‰ JavaScript ä»£ç è¢«è§£æå’Œæ‰§è¡Œæ—¶æ‰€åœ¨ç¯å¢ƒ, JSæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå­˜å‚¨å‡½æ•°è°ƒç”¨çš„æ ˆç»“æ„ã€‚<br>ä½œç”¨åŸŸé“¾ï¼šå‡½æ•°æ‰§è¡Œæ‰€éœ€è¦çš„å˜é‡åœ¨å½“å‰ä½œç”¨åŸŸä¸­æ‰¾ä¸åˆ°çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šä¸€å±‚ä¸€å±‚å‘ä¸ŠæŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸã€‚è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œå°±æ˜¯ä½œç”¨åŸŸé“¾<br></code></pre></td></tr></table></figure><h4 id="61-newçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡newçš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#61-newçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡newçš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="61.newçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡newçš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>61.newçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡newçš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">newçš„å·¥ä½œåŸç†ï¼š<br>    <span class="hljs-number">1</span>.åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisä¼šæŒ‡å‘è¿™ä¸ªå¯¹è±¡<br>    <span class="hljs-number">2</span>.è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«é“¾æ¥åˆ°åŸå‹<br>    <span class="hljs-number">3</span>.æ‰§è¡Œæ„é€ å‡½æ•°æ–¹æ³•ï¼Œå…¶å±æ€§å’Œæ–¹æ³•éƒ½ä¼šè¢«æ·»åŠ åˆ°thiså¼•ç”¨çš„å¯¹è±¡ä¸­<br>    <span class="hljs-number">4</span>.å¦‚æœæ„é€ å‡½æ•°ä¸­æ²¡æœ‰è¿”å›æ–°å¯¹è±¡ï¼Œé‚£ä¹ˆè¿”å›thisï¼Œå³åˆ›å»ºæ–°å¯¹è±¡ï¼›å¦åˆ™ï¼Œè¿”å›æ„é€ å‡½æ•°ä¸­è¿”å›çš„å¯¹è±¡ã€‚<br>newå’Œå­—é¢é‡åˆ›å»ºå¯¹è±¡çš„åŒºåˆ«ï¼š<br>    <span class="hljs-number">1</span>.å­—é¢é‡åˆ›å»ºå¯¹è±¡ï¼Œä¸ä¼šè°ƒç”¨<span class="hljs-selector-tag">Object</span>æ„é€ å‡½æ•°ï¼Œç®€æ´ä¸”æ€§èƒ½æ›´å¥½ï¼›<br>    <span class="hljs-number">2</span><span class="hljs-selector-class">.new</span> <span class="hljs-selector-tag">Object</span>() æ–¹å¼åˆ›å»ºå¯¹è±¡æœ¬è´¨ä¸Šæ˜¯æ–¹æ³•è°ƒç”¨ï¼Œæ¶‰åŠåˆ°åœ¨protoé“¾ä¸­éå†è¯¥æ–¹æ³•ï¼Œå½“æ‰¾åˆ°è¯¥æ–¹æ³•åï¼Œåˆä¼šç”Ÿäº§æ–¹æ³•è°ƒç”¨å¿…é¡»çš„ å †æ ˆä¿¡æ¯ï¼Œæ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œè¿˜è¦é‡Šæ”¾è¯¥å †æ ˆï¼Œæ€§èƒ½ä¸å¦‚å­—é¢é‡çš„æ–¹å¼ã€‚<br></code></pre></td></tr></table></figure><h4 id="62-prototype-å’Œ-proto-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#62-prototype-å’Œ-proto-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="62.prototype å’Œ proto åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>62.prototype å’Œ proto åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">prototypeæ˜¯æ¯ä¸ªå‡½æ•°éƒ½ä¼šå…·å¤‡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œåªæœ‰å‡½æ•°æ‰æœ‰ã€‚<br>protoæ˜¯ä¸»æµæµè§ˆå™¨ä¸Šåœ¨é™¤nullä»¥å¤–çš„æ¯ä¸ªå¯¹è±¡ä¸Šéƒ½æ”¯æŒçš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒèƒ½å¤ŸæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹<br></code></pre></td></tr></table></figure><h4 id="63-ä½¿ç”¨ES5å®ç°ä¸€ä¸ªç»§æ‰¿ï¼Ÿ"><a href="#63-ä½¿ç”¨ES5å®ç°ä¸€ä¸ªç»§æ‰¿ï¼Ÿ" class="headerlink" title="63.ä½¿ç”¨ES5å®ç°ä¸€ä¸ªç»§æ‰¿ï¼Ÿ"></a>63.ä½¿ç”¨ES5å®ç°ä¸€ä¸ªç»§æ‰¿ï¼Ÿ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES5æ„é€ å‡½æ•°</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Parent</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">name, age</span>) &#123;<br>    <span class="hljs-comment">//1.åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œèµ‹äºˆthisï¼Œè¿™ä¸€æ­¥æ˜¯éšæ€§çš„ï¼Œ</span><br>    <span class="hljs-comment">// let this = &#123;&#125;;</span><br>    <span class="hljs-comment">//2.ç»™thisæŒ‡å‘çš„å¯¹è±¡èµ‹äºˆæ„é€ å±æ€§</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    <span class="hljs-comment">//3.å¦‚æœæ²¡æœ‰æ‰‹åŠ¨è¿”å›å¯¹è±¡ï¼Œåˆ™é»˜è®¤è¿”å›thisæŒ‡å‘çš„è¿™ä¸ªå¯¹è±¡ï¼Œä¹Ÿæ˜¯éšæ€§çš„</span><br>    <span class="hljs-comment">// return this;</span><br>&#125;;<br><span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parent</span>();<br></code></pre></td></tr></table></figure><h4 id="64-å–æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆES5ã€ES6ï¼‰"><a href="#64-å–æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆES5ã€ES6ï¼‰" class="headerlink" title="64.å–æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆES5ã€ES6ï¼‰"></a>64.å–æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆES5ã€ES6ï¼‰</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES5 çš„å†™æ³•</span><br>    <span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">77</span>, <span class="hljs-number">30</span>]);<br>    <span class="hljs-comment">// ES6 çš„å†™æ³•</span><br>    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...[<span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">77</span>, <span class="hljs-number">30</span>]);<br></code></pre></td></tr></table></figure><h4 id="65-ES6æ–°çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ"><a href="#65-ES6æ–°çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="65.ES6æ–°çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ"></a>65.ES6æ–°çš„ç‰¹æ€§æœ‰å“ªäº›ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scss">æ–°çš„åŸå§‹ç±»å‹å’Œå˜é‡å£°æ˜ï¼š<span class="hljs-selector-tag">symbol</span>ã€letå’Œconstã€è§£æ„èµ‹å€¼ <br>æ–°çš„å¯¹è±¡å’Œæ–¹æ³• ï¼šMapå’ŒSetã€å¯¹è±¡æ–°ç‰¹æ€§ï¼ˆæ‹“å±•è¿ç®—ç¬¦(...)ä¸‰ç‚¹ã€<span class="hljs-built_in">assign</span>()å’Œ<span class="hljs-built_in">is</span>()ï¼‰<br>å­—ç¬¦ä¸²æ–°æ–¹æ³•ï¼š<span class="hljs-built_in">includes</span>()ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å‚æ•°å­—ç¬¦ä¸²ï¼Œè¿”å›booleanå€¼<br><span class="hljs-built_in">startsWith</span>()/<span class="hljs-built_in">endsWith</span>()ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥å‚æ•°å­—ç¬¦ä¸²å¼€å¤´æˆ–ç»“å°¾<br><span class="hljs-built_in">padStart</span>()/<span class="hljs-built_in">padEnd</span>()ï¼šç”¨å‚æ•°å­—ç¬¦ä¸²æŒ‰ç»™å®šé•¿åº¦ä»å‰é¢æˆ–åé¢è¡¥å…¨å­—ç¬¦ä¸²ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²<br>repeat()ï¼šæŒ‰æŒ‡å®šæ¬¡æ•°è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²<br>å‡½æ•°ï¼šç®­å¤´å‡½æ•°ã€å‚æ•°é»˜è®¤å€¼<br>classï¼ˆç±»ï¼‰ï¼šclass ä½œä¸ºå¯¹è±¡çš„æ¨¡æ¿è¢«å¼•å…¥ES6ï¼Œä½ å¯ä»¥é€šè¿‡ class å…³é”®å­—å®šä¹‰ç±»ã€‚class çš„æœ¬è´¨ä¾ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚<br>æ¨¡å—å¯¼å…¥å’Œå¯¼å‡ºï¼šimport ã€export <br>å¼‚æ­¥æœºåˆ¶ï¼šPromiseå’ŒGenerator<br></code></pre></td></tr></table></figure><h4 id="66-promise-æœ‰å‡ ç§çŠ¶æ€-Promise-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹"><a href="#66-promise-æœ‰å‡ ç§çŠ¶æ€-Promise-æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹" class="headerlink" title="66.promise æœ‰å‡ ç§çŠ¶æ€, Promise æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ ?"></a>66.promise æœ‰å‡ ç§çŠ¶æ€, Promise æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ ?</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-built_in">pending</span>(è¿›è¡Œä¸­)ã€<span class="hljs-built_in">fulfilled</span>(å·²æˆåŠŸ)ã€<span class="hljs-built_in">rejected</span>(å·²å¤±è´¥)<br>Promiseä¼˜ç‚¹ï¼š<br>   ç»Ÿä¸€å¼‚æ­¥ APIï¼šPromise çš„ä¸€ä¸ªé‡è¦ä¼˜ç‚¹æ˜¯å®ƒå°†é€æ¸è¢«ç”¨ä½œæµè§ˆå™¨çš„å¼‚æ­¥APIï¼Œç»Ÿä¸€ç°åœ¨å„ç§å„æ ·çš„ APIï¼Œä»¥åŠä¸å…¼å®¹çš„æ¨¡å¼å’Œæ‰‹æ³•ã€‚<br>   Promise ä¸äº‹ä»¶å¯¹æ¯”ï¼šå’Œäº‹ä»¶ç›¸æ¯”è¾ƒï¼ŒPromise æ›´é€‚åˆå¤„ç†ä¸€æ¬¡æ€§çš„ç»“æœã€‚åœ¨ç»“æœè®¡ç®—å‡ºæ¥ä¹‹å‰æˆ–ä¹‹åæ³¨å†Œå›è°ƒå‡½æ•°éƒ½æ˜¯å¯ä»¥çš„ï¼Œéƒ½å¯ä»¥æ‹¿åˆ°æ­£ç¡®çš„å€¼ã€‚Promise çš„è¿™ä¸ªä¼˜ç‚¹å¾ˆè‡ªç„¶ã€‚ä½†æ˜¯ï¼Œä¸èƒ½ä½¿ç”¨ Promise å¤„ç†å¤šæ¬¡è§¦å‘çš„äº‹ä»¶ã€‚é“¾å¼å¤„ç†æ˜¯ Promise çš„åˆä¸€ä¼˜ç‚¹ï¼Œä½†æ˜¯äº‹ä»¶å´ä¸èƒ½è¿™æ ·é“¾å¼å¤„ç†ã€‚<br>   Promise ä¸å›è°ƒå¯¹æ¯”ï¼šè§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ã€‚<br>   Promise å¸¦æ¥çš„é¢å¤–å¥½å¤„æ˜¯åŒ…å«äº†æ›´å¥½çš„é”™è¯¯å¤„ç†æ–¹å¼ï¼ˆåŒ…å«äº†å¼‚å¸¸å¤„ç†ï¼‰ï¼Œå¹¶ä¸”å†™èµ·æ¥å¾ˆè½»æ¾ã€‚<br>Promiseç¼ºç‚¹<br>    æ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚<br>    å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚<br>    å½“å¤„äºPendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚<br>    Promise çœŸæ­£æ‰§è¡Œå›è°ƒçš„æ—¶å€™ï¼Œå®šä¹‰ Promise é‚£éƒ¨åˆ†å®é™…ä¸Šå·²ç»èµ°å®Œäº†ï¼Œæ‰€ä»¥ Promiseçš„æŠ¥é”™å †æ ˆä¸Šä¸‹æ–‡ä¸å¤ªå‹å¥½ã€‚<br></code></pre></td></tr></table></figure><h4 id="67-Promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œthenå‘¢-promiseå¦‚ä½•å®ç°thenå¤„ç†"><a href="#67-Promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œthenå‘¢-promiseå¦‚ä½•å®ç°thenå¤„ç†" class="headerlink" title="67.Promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œthenå‘¢ ?promiseå¦‚ä½•å®ç°thenå¤„ç† ?"></a>67.Promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œthenå‘¢ ?promiseå¦‚ä½•å®ç°thenå¤„ç† ?</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œthenæ–¹æ³•æ˜¯å¼‚æ­¥æ‰§è¡Œçš„<br></code></pre></td></tr></table></figure><h4 id="68-Promiseå’ŒsetTimeoutçš„åŒºåˆ«"><a href="#68-Promiseå’ŒsetTimeoutçš„åŒºåˆ«" class="headerlink" title="68.Promiseå’ŒsetTimeoutçš„åŒºåˆ« ?"></a>68.Promiseå’ŒsetTimeoutçš„åŒºåˆ« ?</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">Promiseï¼šå¾®ä»»åŠ¡<br>setTimeoutï¼šå®ä»»åŠ¡<br>Promiseä¼šä¼˜å…ˆäºsetTimeoutæ‰§è¡Œ<br></code></pre></td></tr></table></figure><h4 id="69-å¦‚ä½•å®ç°-Promise-all"><a href="#69-å¦‚ä½•å®ç°-Promise-all" class="headerlink" title="69.å¦‚ä½•å®ç° Promise.all ?"></a>69.å¦‚ä½•å®ç° Promise.all ?</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">array</span>) &#123;  <br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) &#123;  <br>    <span class="hljs-comment">// å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œç›´æ¥è¿”å›  </span><br>    <span class="hljs-keyword">if</span> (array.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) &#123;  <br>      <span class="hljs-title function_">resolve</span>([]);  <br>    &#125;  <br>    <span class="hljs-comment">// å¦‚æœæœ‰Promiseå¤±è´¥ï¼Œå°±ç«‹å³reject  </span><br>    <span class="hljs-keyword">var</span> remaining = array.<span class="hljs-property">length</span>;  <br>    <span class="hljs-keyword">var</span> values = [];  <br>    array.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">promise, index</span>) &#123;  <br>      promise.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;  <br>        remaining--;  <br>        values[index] = value;  <br>        <span class="hljs-comment">// å¦‚æœæœ‰PromiseæˆåŠŸï¼Œå°±å‡å°‘è®¡æ•°  </span><br>        <span class="hljs-keyword">if</span> (remaining === <span class="hljs-number">0</span>) &#123;  <br>          <span class="hljs-title function_">resolve</span>(values);  <br>        &#125;  <br>      &#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">reason</span>) &#123;  <br>        remaining = -<span class="hljs-number">1</span>;  <br>        <span class="hljs-title function_">reject</span>(reason);  <br>      &#125;);  <br>    &#125;);  <br>  &#125;);  <br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="70-å¦‚ä½•å®ç°-Promise-finally"><a href="#70-å¦‚ä½•å®ç°-Promise-finally" class="headerlink" title="70.å¦‚ä½•å®ç° Promise.finally ?"></a>70.å¦‚ä½•å®ç° Promise.finally ?</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PromiseLike</span> &#123;  <br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">executor</span>) &#123;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&#x27;pending&#x27;</span>;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">undefined</span>;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = <span class="hljs-literal">undefined</span>;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;  <br>  <br>    <span class="hljs-title function_">executor</span>(  <br>      <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> &#123;  <br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&#x27;pending&#x27;</span>) &#123;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&#x27;fulfilled&#x27;</span>;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = result;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">finallyFulfilled</span>();  <br>        &#125; <span class="hljs-keyword">else</span> &#123;  <br>          <span class="hljs-comment">// Promise has already been resolved. This should only happen with .then() or .catch()  </span><br>          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Promise has already been resolved&#x27;</span>);  <br>        &#125;  <br>      &#125;,  <br>      <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;  <br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&#x27;pending&#x27;</span>) &#123;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&#x27;rejected&#x27;</span>;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = reason;  <br>          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">finallyRejected</span>();  <br>        &#125; <span class="hljs-keyword">else</span> &#123;  <br>          <span class="hljs-comment">// Promise has already been resolved. This should only happen with .then() or .catch()  </span><br>          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Promise has already been resolved&#x27;</span>);  <br>        &#125;  <br>      &#125;  <br>    );  <br>  &#125;  <br>  <br>  <span class="hljs-title function_">then</span>(<span class="hljs-params">onFulfilled, onRejected</span>) &#123;  <br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&#x27;pending&#x27;</span>) &#123;  <br>      <span class="hljs-keyword">const</span> next = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PromiseLike</span>(executor);  <br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = next;  <br>      <span class="hljs-title function_">executor</span>(onFulfilled, onRejected);  <br>      <span class="hljs-keyword">return</span> next;  <br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&#x27;fulfilled&#x27;</span>) &#123;  <br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;  <br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">onFulfilled</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>));  <br>      &#125;);  <br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> === <span class="hljs-string">&#x27;rejected&#x27;</span>) &#123;  <br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-title function_">onRejected</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span>));  <br>    &#125; <span class="hljs-keyword">else</span> &#123;  <br>      <span class="hljs-comment">// Should never happen  </span><br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Promise is in an invalid state&#x27;</span>);  <br>    &#125;  <br>  &#125;  <br>  <br>  <span class="hljs-keyword">catch</span>(onRejected) &#123;  <br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);  <br>  &#125;  <br>  <br>  <span class="hljs-title function_">finally</span>(<span class="hljs-params">onFinally</span>) &#123;  <br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> !== <span class="hljs-string">&#x27;pending&#x27;</span>) &#123;  <br>      <span class="hljs-keyword">const</span> status = <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span>;  <br>      <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;  <br>      <span class="hljs-keyword">const</span> reason = <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span>;  <br>      <span class="hljs-title function_">onFinally</span>();  <br>      <span class="hljs-keyword">return</span> status === <span class="hljs-string">&#x27;fulfilled&#x27;</span> ? <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(value) : <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(reason);  <br>    &#125; <span class="hljs-keyword">else</span> &#123;  <br>      <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span>;  <br>      <span class="hljs-keyword">if</span> (next) &#123;  <br>        <span class="hljs-keyword">return</span> next.<span class="hljs-title function_">finally</span>(onFinally);  <br>      &#125; <span class="hljs-keyword">else</span> &#123;  <br>        <span class="hljs-comment">// The promise doesn&#x27;t have any .then() or .catch() handlers, so the finally() should run after the original promise settles.  </span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(onFinally).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>);  <br>      &#125;  <br>    &#125;  <br>  &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h4 id="71-å¦‚ä½•åˆ¤æ–­imgåŠ è½½å®Œæˆ"><a href="#71-å¦‚ä½•åˆ¤æ–­imgåŠ è½½å®Œæˆ" class="headerlink" title="71.å¦‚ä½•åˆ¤æ–­imgåŠ è½½å®Œæˆ"></a>71.å¦‚ä½•åˆ¤æ–­imgåŠ è½½å®Œæˆ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-tag">img</span>çš„completeå±æ€§<br>Loadäº‹ä»¶<br>readystatechangeäº‹ä»¶<br></code></pre></td></tr></table></figure><h4 id="72-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ"><a href="#72-å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ" class="headerlink" title="72.å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ"></a>72.å¦‚ä½•é˜»æ­¢å†’æ³¡ï¼Ÿ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">event.<span class="hljs-title function_">stopPropagation</span>()<br>event.<span class="hljs-title function_">preventDefault</span>()<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><h4 id="73-å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ"><a href="#73-å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ" class="headerlink" title="73.å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ"></a>73.å¦‚ä½•é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Ÿ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">preventDefault<br>stopPropagation<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure><h4 id="74-ajaxè¯·æ±‚æ—¶ï¼Œå¦‚ä½•è§£é‡Šjsonæ•°æ®"><a href="#74-ajaxè¯·æ±‚æ—¶ï¼Œå¦‚ä½•è§£é‡Šjsonæ•°æ®" class="headerlink" title="74.ajaxè¯·æ±‚æ—¶ï¼Œå¦‚ä½•è§£é‡Šjsonæ•°æ®"></a>74.ajaxè¯·æ±‚æ—¶ï¼Œå¦‚ä½•è§£é‡Šjsonæ•°æ®</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">æ–¹æ³•<span class="hljs-number">1</span>ï¼š è®¾ç½® ajax æ–¹æ³•çš„ dataType å±æ€§ä¸º â€˜jsonâ€™ã€‚<br>æ–¹æ³•<span class="hljs-number">2</span>ï¼š ä½¿ç”¨ JSON å¯¹è±¡çš„ <span class="hljs-built_in">parse</span>() æ–¹æ³•è§£æã€‚<br>æ–¹æ³•<span class="hljs-number">3</span>ï¼š ä½¿ç”¨ <span class="hljs-built_in">eval</span>() æ–¹æ³•ï¼Œ<span class="hljs-selector-tag">var</span> dataObj = <span class="hljs-built_in">eval</span>(&quot;(&quot;+data+&quot;)&quot;)<br></code></pre></td></tr></table></figure><h4 id="75-jsonå’Œjsonpçš„åŒºåˆ«"><a href="#75-jsonå’Œjsonpçš„åŒºåˆ«" class="headerlink" title="75.jsonå’Œjsonpçš„åŒºåˆ«?"></a>75.jsonå’Œjsonpçš„åŒºåˆ«?</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">JSONæ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ï¼Œè€ŒJSONPæ˜¯ä¸€ç§éå®˜æ–¹è·¨åŸŸæ•°æ®äº¤äº’å<br></code></pre></td></tr></table></figure><h4 id="76-å¦‚ä½•ç”¨åŸç”Ÿjsç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šä¸¤ä¸ªonclickäº‹ä»¶ï¼Ÿ"><a href="#76-å¦‚ä½•ç”¨åŸç”Ÿjsç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šä¸¤ä¸ªonclickäº‹ä»¶ï¼Ÿ" class="headerlink" title="76.å¦‚ä½•ç”¨åŸç”Ÿjsç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šä¸¤ä¸ªonclickäº‹ä»¶ï¼Ÿ"></a>76.å¦‚ä½•ç”¨åŸç”Ÿjsç»™ä¸€ä¸ªæŒ‰é’®ç»‘å®šä¸¤ä¸ªonclickäº‹ä»¶ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">addEventListener äº‹ä»¶ç›‘å¬ ç»‘å®šå¤šä¸ªäº‹ä»¶<br></code></pre></td></tr></table></figure><h4 id="77-æ‹–æ‹½ä¼šç”¨åˆ°å“ªäº›äº‹ä»¶ï¼Ÿ"><a href="#77-æ‹–æ‹½ä¼šç”¨åˆ°å“ªäº›äº‹ä»¶ï¼Ÿ" class="headerlink" title="77.æ‹–æ‹½ä¼šç”¨åˆ°å“ªäº›äº‹ä»¶ï¼Ÿ"></a>77.æ‹–æ‹½ä¼šç”¨åˆ°å“ªäº›äº‹ä»¶ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss">dragstartï¼šæŒ‰ä¸‹é¼ æ ‡é”®å¹¶å¼€å§‹ç§»åŠ¨æ—¶è§¦å‘<br>dragendï¼šå…ƒç´ æ‹–æ‹½åœæ­¢æ—¶è§¦å‘<br>dragï¼šåœ¨å…ƒç´ æ‹–æ‹½è¿‡ç¨‹ä¸­æŒç»­è§¦å‘----ç›¸ä¼¼ä¸mousemove<br>dragenterï¼šå½“æ‹–æ‹½å¯¹è±¡è¿›å…¥æŠ•æ”¾åŒºæ—¶è§¦å‘<br>dragover ï¼šæ‹–æ‹½å¯¹è±¡åœ¨æŠ•æ”¾åŒºå†…ç§»åŠ¨æ—¶æŒç»­è§¦å‘<br>dragleaveï¼šå…ƒç´ è¢«æ‹–å‡ºäº†æŠ•æ”¾åŒºæ—¶è§¦å‘<br>dropï¼šæ‹–æ‹½å¯¹è±¡æŠ•æ”¾åœ¨æŠ•æ”¾åŒºæ—¶è§¦å‘<br></code></pre></td></tr></table></figure><h4 id="78-document-writeå’ŒinnerHTMLçš„åŒºåˆ«"><a href="#78-document-writeå’ŒinnerHTMLçš„åŒºåˆ«" class="headerlink" title="78.document.writeå’ŒinnerHTMLçš„åŒºåˆ«"></a>78.document.writeå’ŒinnerHTMLçš„åŒºåˆ«</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">document<span class="hljs-selector-class">.write</span>ä¼šé‡ç»˜æ•´ä¸ªé¡µé¢ï¼Œè€ŒinnerHTMLæ˜¯å¯ä»¥é‡ç»˜é¡µé¢çš„æŸä¸€éƒ¨åˆ†<br>writeæ˜¯DOMæ–¹æ³•,å‘æ–‡æ¡£å†™å…¥<span class="hljs-selector-tag">HTML</span>è¡¨è¾¾å¼æˆ–JavaScriptä»£ç ï¼Œå¯åˆ—å‡ºå¤šä¸ªå‚æ•°ï¼Œå‚æ•°è¢«é¡ºåºæ·»åŠ åˆ°æ–‡æ¡£ä¸­ ï¼›<br>innerHTMLæ˜¯DOMå±æ€§,è®¾ç½®æˆ–è¿”å›è°ƒç”¨å…ƒç´ å¼€å§‹ç»“æŸæ ‡ç­¾ä¹‹é—´çš„<span class="hljs-selector-tag">HTML</span>å…ƒç´ <br>ä¸¤è€…éƒ½å¯å‘é¡µé¢è¾“å‡ºå†…å®¹<br></code></pre></td></tr></table></figure><h4 id="79-jQueryçš„äº‹ä»¶å§”æ‰˜æ–¹æ³•bind-ã€liveã€delegateã€onä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#79-jQueryçš„äº‹ä»¶å§”æ‰˜æ–¹æ³•bind-ã€liveã€delegateã€onä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="79.jQueryçš„äº‹ä»¶å§”æ‰˜æ–¹æ³•bind ã€liveã€delegateã€onä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>79.jQueryçš„äº‹ä»¶å§”æ‰˜æ–¹æ³•bind ã€liveã€delegateã€onä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs scss">bindå®šä¹‰å’Œç”¨æ³•ï¼šä¸»è¦ç”¨äºç»™é€‰æ‹©åˆ°çš„å…ƒç´ ä¸Šç»‘å®šç‰¹å®šäº‹ä»¶ç±»å‹çš„ç›‘å¬å‡½æ•°ï¼›<br>liveå®šä¹‰å’Œç”¨æ³•ï¼šä¸»è¦ç”¨äºç»™é€‰æ‹©åˆ°çš„å…ƒç´ ä¸Šç»‘å®šç‰¹å®šäº‹ä»¶ç±»å‹çš„ç›‘å¬å‡½æ•°ï¼›<br>delegateå®šä¹‰å’Œç”¨æ³•ï¼šå°†ç›‘å¬äº‹ä»¶ç»‘å®šåœ¨å°±è¿‘çš„çˆ¶çº§å…ƒç´ ä¸Š<br>onå®šä¹‰å’Œç”¨æ³•ï¼šå°†ç›‘å¬äº‹ä»¶ç»‘å®šåˆ°æŒ‡å®šå…ƒç´ ä¸Š<br></code></pre></td></tr></table></figure><h4 id="80-æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ"><a href="#80-æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ" class="headerlink" title="80.æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ"></a>80.æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“é¡µé¢çš„ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss">è§£æ<span class="hljs-selector-tag">html</span>ä»£ç ï¼Œç”ŸæˆDOM tree<br>è§£æcssä»£ç ï¼Œç”ŸæˆCSSOM tree<br>é€šè¿‡DOM tree å’Œ CSSOM tree ç”Ÿæˆ Render tree<br>Layoutï¼ˆå¸ƒå±€ï¼‰ï¼Œè®¡ç®—Render treeä¸­å„ä¸ªèŠ‚ç‚¹çš„ä½ç½®åŠç²¾ç¡®å¤§å°<br>Paintingï¼ˆç»˜åˆ¶ï¼‰ï¼Œå°†render treeæ¸²æŸ“åˆ°é¡µé¢ä¸Š<br></code></pre></td></tr></table></figure><h4 id="81-document-ready-æ–¹æ³•å’Œwindow-onloadæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#81-document-ready-æ–¹æ³•å’Œwindow-onloadæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="81.$(document).ready()æ–¹æ³•å’Œwindow.onloadæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>81.$(document).ready()æ–¹æ³•å’Œwindow.onloadæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p>window.onloadå¿…é¡»ç­‰åˆ°é¡µé¢å†…åŒ…æ‹¬å›¾ç‰‡çš„æ‰€æœ‰å…ƒç´ åŠ è½½å®Œæ¯•åæ‰èƒ½æ‰§è¡Œã€‚<br>$(document).ready()æ˜¯DOMç»“æ„ç»˜åˆ¶å®Œæ¯•åå°±æ‰§è¡Œï¼Œä¸å¿…ç­‰åˆ°åŠ è½½å®Œæ¯•ã€‚<br>window.onloadä¸èƒ½åŒæ—¶ç¼–å†™å¤šä¸ªï¼Œå¦‚æœæœ‰å¤šä¸ªwindow.onloadæ–¹æ³•ï¼Œåªä¼šæ‰§è¡Œä¸€ä¸ª<br>$(document).ready()å¯ä»¥åŒæ—¶ç¼–å†™å¤šä¸ªï¼Œå¹¶ä¸”éƒ½å¯ä»¥å¾—åˆ°æ‰§è¡Œ<br>window.onloadæ²¡æœ‰ç®€åŒ–å†™æ³• ;$(document).ready(function(){})å¯ä»¥ç®€å†™æˆ$(function(){});</p><h4 id="82-jqueryä¸­-get-æäº¤å’Œ-post-æäº¤æœ‰åŒºåˆ«å—ï¼Ÿ"><a href="#82-jqueryä¸­-get-æäº¤å’Œ-post-æäº¤æœ‰åŒºåˆ«å—ï¼Ÿ" class="headerlink" title="82. jqueryä¸­$.get()æäº¤å’Œ$.post()æäº¤æœ‰åŒºåˆ«å—ï¼Ÿ"></a>82. jqueryä¸­$.get()æäº¤å’Œ$.post()æäº¤æœ‰åŒºåˆ«å—ï¼Ÿ</h4><p>ç›¸åŒç‚¹ï¼š<br>éƒ½æ˜¯å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼æ¥è·å–æœåŠ¡ç«¯çš„æ•°æ®ã€‚<br>ä¸åŒç‚¹ï¼š<br>    è¯·æ±‚æ–¹å¼ä¸åŒï¼š$.get() æ–¹æ³•ä½¿ç”¨GETæ–¹æ³•æ¥è¿›è¡Œå¼‚æ­¥è¯·æ±‚çš„ã€‚$.post() æ–¹æ³•ä½¿ç”¨POSTæ–¹æ³•æ¥è¿›è¡Œå¼‚æ­¥è¯·æ±‚çš„ã€‚<br>    å‚æ•°ä¼ é€’æ–¹å¼ä¸åŒï¼šGETè¯·æ±‚ä¼šå°†å‚æ•°è·Ÿåœ¨URLåè¿›è¡Œä¼ é€’ï¼Œè€ŒPOSTè¯·æ±‚åˆ™æ˜¯ä½œä¸ºHTTPæ¶ˆæ¯çš„å®ä½“å†…å®¹å‘é€ç»™WebæœåŠ¡å™¨çš„ï¼Œè¿™ç§ä¼ é€’æ˜¯å¯¹ç”¨æˆ·ä¸å¯è§çš„ã€‚<br>    æ•°æ®ä¼ è¾“å¤§å°ä¸åŒï¼šGETæ–¹å¼ä¼ è¾“çš„æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡2KBï¼Œè€ŒPOSTè¦å¤§çš„å¤šã€‚<br>    å®‰å…¨é—®é¢˜ï¼šGETæ–¹å¼è¯·æ±‚çš„æ•°æ®ä¼šè¢«æµè§ˆå™¨ç¼“å­˜èµ·æ¥ï¼Œå› æ­¤æœ‰å®‰å…¨é—®é¢˜ã€‚</p><h4 id="83-å¯¹å‰ç«¯è·¯ç”±çš„ç†è§£ï¼Ÿå‰åç«¯è·¯ç”±çš„åŒºåˆ«ï¼Ÿ"><a href="#83-å¯¹å‰ç«¯è·¯ç”±çš„ç†è§£ï¼Ÿå‰åç«¯è·¯ç”±çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="83.å¯¹å‰ç«¯è·¯ç”±çš„ç†è§£ï¼Ÿå‰åç«¯è·¯ç”±çš„åŒºåˆ«ï¼Ÿ"></a>83.å¯¹å‰ç«¯è·¯ç”±çš„ç†è§£ï¼Ÿå‰åç«¯è·¯ç”±çš„åŒºåˆ«ï¼Ÿ</h4><p>â€‹å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯é¡µé¢ä¸åˆ·æ–°ï¼Œå‰ç«¯è·¯ç”±å°±æ˜¯æŠŠä¸åŒè·¯ç”±å¯¹åº”ä¸åŒçš„å†…å®¹æˆ–é¡µé¢çš„ä»»åŠ¡äº¤ç»™å‰ç«¯æ¥åšï¼Œæ¯è·³è½¬åˆ°ä¸åŒçš„URLéƒ½æ˜¯ä½¿ç”¨å‰ç«¯çš„é”šç‚¹è·¯ç”±.éšç€ï¼ˆSPAï¼‰å•é¡µåº”ç”¨çš„ä¸æ–­æ™®åŠï¼Œå‰åç«¯å¼€å‘åˆ†ç¦»ï¼Œç›®å‰é¡¹ç›®åŸºæœ¬éƒ½ä½¿ç”¨å‰ç«¯è·¯ç”±ï¼Œåœ¨é¡¹ç›®ä½¿ç”¨æœŸé—´é¡µé¢ä¸ä¼šé‡æ–°åŠ è½½ã€‚</p><h4 id="84-æ‰‹å†™ä¸€ä¸ªç±»çš„ç»§æ‰¿"><a href="#84-æ‰‹å†™ä¸€ä¸ªç±»çš„ç»§æ‰¿" class="headerlink" title="84.æ‰‹å†™ä¸€ä¸ªç±»çš„ç»§æ‰¿"></a>84.æ‰‹å†™ä¸€ä¸ªç±»çš„ç»§æ‰¿</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fa</span> &#123;<br>       <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>       &#125;<br>       <span class="hljs-title function_">set</span>(<span class="hljs-params"></span>) &#123;<br>           <span class="hljs-keyword">return</span> [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>]<br>       &#125;<br>   &#125;<br>   <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Fa</span> &#123;<br>       <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age</span>) &#123;<br>           <span class="hljs-variable language_">super</span>(name)<br>           <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>       &#125;<br>   &#125;<br>   <span class="hljs-keyword">var</span> dd = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sa</span>(<span class="hljs-number">123</span>, <span class="hljs-number">456</span>)<br>   dd.<span class="hljs-title function_">set</span>()                <span class="hljs-comment">//[1,2,3]</span><br></code></pre></td></tr></table></figure><h4 id="85-XMLHttpRequestï¼šXMLHttpRequest-readyState-çŠ¶æ€ç çš„æ„æ€"><a href="#85-XMLHttpRequestï¼šXMLHttpRequest-readyState-çŠ¶æ€ç çš„æ„æ€" class="headerlink" title="85.XMLHttpRequestï¼šXMLHttpRequest.readyState;çŠ¶æ€ç çš„æ„æ€"></a>85.XMLHttpRequestï¼šXMLHttpRequest.readyState;çŠ¶æ€ç çš„æ„æ€</h4><p>0ï¼šè¯·æ±‚æœªåˆå§‹åŒ–ï¼Œè¿˜æ²¡æœ‰è°ƒç”¨ open() ã€‚<br>1ï¼šè¯·æ±‚å·²ç»å»ºç«‹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘é€ï¼Œè¿˜æ²¡æœ‰è°ƒç”¨ send() ã€‚<br>2ï¼šè¯·æ±‚å·²å‘é€ï¼Œæ­£åœ¨å¤„ç†ä¸­ï¼ˆé€šå¸¸ç°åœ¨å¯ä»¥ä»å“åº”ä¸­è·å–å†…å®¹å¤´ï¼‰ã€‚<br>3ï¼šè¯·æ±‚åœ¨å¤„ç†ä¸­ï¼›é€šå¸¸å“åº”ä¸­å·²æœ‰éƒ¨åˆ†æ•°æ®å¯ç”¨äº†ï¼Œæ²¡æœ‰å…¨éƒ¨å®Œæˆã€‚<br>4ï¼šå“åº”å·²å®Œæˆï¼›æ‚¨å¯ä»¥è·å–å¹¶ä½¿ç”¨æœåŠ¡å™¨çš„å“åº”äº†ã€‚</p><h4 id="86-JavaScriptå¦‚ä½•å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ"><a href="#86-JavaScriptå¦‚ä½•å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ" class="headerlink" title="86.JavaScriptå¦‚ä½•å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ"></a>86.JavaScriptå¦‚ä½•å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">1</span>.å›è°ƒå‡½æ•°ï¼ˆCallback Functionsï¼‰ï¼šè¿™æ˜¯æœ€åŸºç¡€çš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼Œä½†å®ƒçš„ç¼ºç‚¹æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¯¼è‡´â€œå›è°ƒåœ°ç‹±â€ï¼ˆå›è°ƒå‡½æ•°åµŒå¥—å›è°ƒå‡½æ•°ï¼Œä½¿ä»£ç å˜å¾—éš¾ä»¥ç†è§£å’Œç»´æŠ¤ï¼‰ã€‚<br><span class="hljs-number">2</span><span class="hljs-selector-class">.Promises</span>ï¼šPromisesæ˜¯ä¸€ç§æ›´ä¼˜é›…çš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¡¨ç¤ºå¼‚æ­¥æ“ä½œç»“æœçš„å¯¹è±¡ã€‚Promisesæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆå¾…å®šï¼‰ï¼Œfulfilledï¼ˆå·²å®ç°ï¼‰ï¼Œrejectedï¼ˆå·²æ‹’ç»ï¼‰ã€‚ä½¿ç”¨Promiseså¯ä»¥ä½¿ä»£ç æ›´åŠ æ•´æ´ï¼Œå¹¶ä¸”å¯ä»¥é¿å…å›è°ƒåœ°ç‹±ã€‚<br><span class="hljs-number">3</span><span class="hljs-selector-class">.Async</span>/Awaitï¼šè¿™æ˜¯åŸºäºPromisesçš„ä¸€ç§æ›´ç®€æ´çš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼ã€‚asyncå…³é”®å­—è¡¨ç¤ºä¸€ä¸ªå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œawaitå…³é”®å­—åœ¨ä¸€ä¸ªasyncå‡½æ•°ä¸­ï¼Œç”¨äºç­‰å¾…Promiseçš„ç»“æœã€‚<br><span class="hljs-number">4</span>.è§‚å¯Ÿè€…æ¨¡å¼æˆ–å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼šåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œæœ‰ä¸€äº›å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…ï¼‰è®¢é˜…ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸»é¢˜ï¼‰çš„æŸç§çŠ¶æ€ã€‚å½“è¿™ä¸ªçŠ¶æ€æ”¹å˜æ—¶ï¼Œæ‰€æœ‰è®¢é˜…äº†è¯¥çŠ¶æ€çš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹çš„æ¨¡å¼ã€‚<br><span class="hljs-number">5</span>.ç”Ÿæˆå™¨ï¼šç”Ÿæˆå™¨æ˜¯ES6çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå®ƒå¯ä»¥æš‚åœå’Œæ¢å¤æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥ç¼–å†™ç±»ä¼¼äºåŒæ­¥çš„å¼‚æ­¥ä»£ç ã€‚ä¸è¿‡ï¼Œç”Ÿæˆå™¨å¹¶ä¸ç›´æ¥å¤„ç†å¼‚æ­¥æ“ä½œï¼Œè€Œæ˜¯é€šè¿‡æš‚åœå’Œæ¢å¤æ‰§è¡Œä¸Šä¸‹æ–‡æ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œã€‚<br></code></pre></td></tr></table></figure><h4 id="87-è§£é‡ŠJavaScriptä¸­çš„â€œthisâ€å…³é”®å­—æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#87-è§£é‡ŠJavaScriptä¸­çš„â€œthisâ€å…³é”®å­—æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="87.è§£é‡ŠJavaScriptä¸­çš„â€œthisâ€å…³é”®å­—æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>87.è§£é‡ŠJavaScriptä¸­çš„â€œthisâ€å…³é”®å­—æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h4><p>â€‹    â€œthisâ€æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒåœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶è¢«è‡ªåŠ¨è®¾å®šã€‚å…¶å€¼å–å†³äºå‡½æ•°å¦‚ä½•è¢«è°ƒç”¨ï¼Œè¿™å–å†³äºè°ƒç”¨çš„ä¸Šä¸‹æ–‡ã€‚</p><p>åœ¨å‡½æ•°è¢«ç›´æ¥è°ƒç”¨æ—¶ï¼Œâ€œthisâ€é€šå¸¸æŒ‡çš„æ˜¯å…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­æ˜¯windowï¼Œåœ¨Node.jsä¸­æ˜¯globalï¼‰ã€‚ä½†æ˜¯ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œâ€œthisâ€æŒ‡å‘çš„æ˜¯è°ƒç”¨å®ƒçš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;  <br>  <span class="hljs-attr">value</span>: <span class="hljs-number">10</span>,  <br>  <span class="hljs-attr">increment</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++; <span class="hljs-comment">// &quot;this&quot; here refers to obj  </span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>);  <br>  &#125;  <br>&#125;;  <br>obj.<span class="hljs-title function_">increment</span>(); <span class="hljs-comment">// è¾“å‡ºï¼š11</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>increment</code>å‡½æ•°æ˜¯ <code>obj</code>å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥å½“å®ƒè¢«è°ƒç”¨æ—¶ï¼Œâ€œthisâ€æŒ‡å‘çš„æ˜¯ <code>obj</code>ã€‚</p><p>ç„¶è€Œï¼Œåœ¨å‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°ï¼ˆä¸æ˜¯å¯¹è±¡çš„æ–¹æ³•ï¼‰è¢«è°ƒç”¨æ—¶ï¼Œâ€œthisâ€çš„å€¼æ˜¯å…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­æ˜¯windowï¼Œåœ¨Node.jsä¸­æ˜¯globalï¼‰ï¼Œé™¤éåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ˆâ€™use strictâ€™ï¼‰ï¼Œæ­¤æ—¶â€œthisâ€æ˜¯undefinedã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">func</span>(<span class="hljs-params"></span>) &#123;  <br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);  <br>&#125;  <br>  <br><span class="hljs-title function_">func</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šwindowæˆ–global</span><br></code></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œå¯ä»¥ä½¿ç”¨callã€applyæˆ–bindç­‰æ–¹æ³•æ˜¾å¼è®¾ç½®å‡½æ•°çš„â€œthisâ€ã€‚è¿™äº›æ–¹æ³•å…è®¸ä½ æ‰‹åŠ¨æŒ‡å®šå‡½æ•°å†…éƒ¨çš„â€œthisâ€åº”è¯¥æŒ‡å‘å“ªä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;  <br>  <span class="hljs-attr">value</span>: <span class="hljs-number">10</span>,  <br>  <span class="hljs-attr">increment</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">amount</span>) &#123;  <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> += amount;   <br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>);  <br>  &#125;  <br>&#125;;  <br>  <br><span class="hljs-keyword">let</span> anotherObj = &#123;<span class="hljs-attr">value</span>: <span class="hljs-number">5</span>&#125;;  <br>obj.<span class="hljs-property">increment</span>.<span class="hljs-title function_">call</span>(anotherObj, <span class="hljs-number">2</span>); <span class="hljs-comment">// è¾“å‡ºï¼š7ï¼Œå› ä¸ºåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œthisâ€æŒ‡å‘çš„æ˜¯anotherObj</span><br></code></pre></td></tr></table></figure><h4 id="88-è§£é‡ŠJavaScriptä¸­çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Ÿ"><a href="#88-è§£é‡ŠJavaScriptä¸­çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Ÿ" class="headerlink" title="88.è§£é‡ŠJavaScriptä¸­çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Ÿ"></a>88.è§£é‡ŠJavaScriptä¸­çš„æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼Ÿ</h4><p>â€‹        æ„é€ å‡½æ•°æ˜¯ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„å‡½æ•°ã€‚å®ƒä»¬è¢«è®¾è®¡ç”¨äºåˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¹¶ç»™è¿™äº›å¯¹è±¡è®¾ç½®å±æ€§å’Œæ–¹æ³•ã€‚</p><p>æ„é€ å‡½æ•°é€šå¸¸ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä»¥åŒºåˆ«äºå…¶ä»–éæ„é€ å‡½æ•°ã€‚è¿™æ˜¯ä¸€ç§çº¦å®šï¼Œè™½ç„¶ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œä½†ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œå¤§å¤šæ•°å¼€å‘è€…éƒ½ä¼šéµå¾ªè¿™ä¸ªè§„åˆ™ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Car</span>(<span class="hljs-params">make, model, year</span>) &#123;  <br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">make</span> = make;  <br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model;  <br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">year</span> = year;  <br>&#125;  <br><span class="hljs-comment">// ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡  </span><br><span class="hljs-keyword">let</span> myCar = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">&#x27;Toyota&#x27;</span>, <span class="hljs-string">&#x27;Corolla&#x27;</span>, <span class="hljs-number">2020</span>);  <br><span class="hljs-comment">// è¾“å‡ºç»“æœï¼šToyota Corolla 2020  </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myCar.<span class="hljs-property">make</span> + <span class="hljs-string">&#x27; &#x27;</span> + myCar.<span class="hljs-property">model</span> + <span class="hljs-string">&#x27; &#x27;</span> + myCar.<span class="hljs-property">year</span>);<br></code></pre></td></tr></table></figure><h4 id="89-JavaScriptä¸­çš„â€œundefinedâ€å’Œâ€œnullâ€æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#89-JavaScriptä¸­çš„â€œundefinedâ€å’Œâ€œnullâ€æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="89.JavaScriptä¸­çš„â€œundefinedâ€å’Œâ€œnullâ€æœ‰ä»€ä¹ˆåŒºåˆ«"></a>89.JavaScriptä¸­çš„â€œundefinedâ€å’Œâ€œnullâ€æœ‰ä»€ä¹ˆåŒºåˆ«</h4><p>â€‹      â€œundefinedâ€å’Œâ€œnullâ€éƒ½è¡¨ç¤ºç¼ºä¹å€¼æˆ–æ²¡æœ‰å€¼çš„æƒ…å†µã€‚</p><ol><li>è¯­ä¹‰ä¸åŒï¼š<code>null</code>é€šå¸¸è¡¨ç¤ºæˆ‘ä»¬çŸ¥é“è¿™ä¸ªå˜é‡åº”è¯¥æŒæœ‰æŸä¸ªå€¼ï¼Œä½†ç°åœ¨å®ƒæ²¡æœ‰å€¼ã€‚<code>undefined</code>åˆ™è¡¨ç¤ºæˆ‘ä»¬ä¸çŸ¥é“è¿™ä¸ªå˜é‡åº”è¯¥æŒæœ‰ä»€ä¹ˆæ ·çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>null</code>æ˜¯â€œæœ‰æ„è¯†çš„ç©ºâ€ï¼Œè€Œ <code>undefined</code>æ˜¯â€œæ— æ„è¯†çš„ç©ºâ€ã€‚</li><li>åœ¨JavaScriptä¸­çš„è¡¨ç°ï¼šåœ¨JavaScriptä¸­ï¼Œ<code>undefined</code>å’Œ <code>null</code>åœ¨æŸäº›æƒ…å†µä¸‹ä¼šè¢«è§†ä¸ºç›¸ç­‰ï¼ˆå³ï¼Œ<code>null == undefined</code>ä¼šè¿”å› <code>true</code>ï¼‰ï¼Œä½†å®é™…ä¸Šå®ƒä»¬æ˜¯ä¸åŒçš„ã€‚ä½¿ç”¨ <code>===</code> è¿ç®—ç¬¦å¯ä»¥åŒºåˆ†å®ƒä»¬ï¼Œå› ä¸º <code>undefined</code> æ˜¯ <code>undefined</code>ï¼Œè€Œ <code>null</code> æ˜¯ <code>null</code>ã€‚</li><li>ç±»å‹æ£€æŸ¥ï¼šä½¿ç”¨ <code>typeof</code> è¿ç®—ç¬¦å¯ä»¥æ£€æŸ¥ä¸€ä¸ªå˜é‡çš„ç±»å‹ã€‚å¦‚æœå˜é‡æ˜¯ <code>undefined</code>ï¼Œ<code>typeof</code> ä¼šè¿”å› â€œundefinedâ€ï¼Œå¦‚æœå˜é‡æ˜¯ <code>null</code>ï¼Œ<code>typeof</code> ä¼šè¿”å› â€œobjectâ€ï¼Œè¿™è¡¨æ˜ <code>null</code> è¢«è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ç±»å‹ã€‚</li><li>åœ¨JavaScriptå¼•æ“å†…éƒ¨ï¼šåœ¨JavaScriptå¼•æ“çš„å®ç°ä¸­ï¼Œ<code>null</code>é€šå¸¸ç”¨äºè¡¨ç¤ºå¯¹è±¡å¼•ç”¨çš„â€œç»ˆæ­¢â€ï¼Œæˆ–è€…è¡¨ç¤ºæŸç§â€œæ— â€æˆ–â€œä¸å­˜åœ¨â€çš„æƒ…å†µã€‚è€Œ <code>undefined</code>åˆ™å¸¸å¸¸è¡¨ç¤ºå˜é‡æœªè¢«åˆå§‹åŒ–ã€‚</li></ol><h4 id="90-è¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶"><a href="#90-è¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶" class="headerlink" title="90.è¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶"></a>90.è¯·è§£é‡ŠJavaScriptä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶</h4><p>1.æ£€æŸ¥è°ƒç”¨æ ˆæ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œç»§ç»­ç­‰å¾…äº‹ä»¶é˜Ÿåˆ—ä¸­çš„æ–°äº‹ä»¶ã€‚<br>2.æ£€æŸ¥åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­æœ‰æ–°çš„äº‹ä»¶ï¼ˆå¦‚ç”¨æˆ·äº¤äº’ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼‰ã€‚<br>3.å°†æ–°äº‹ä»¶æ·»åŠ åˆ°è°ƒç”¨æ ˆçš„é¡¶éƒ¨ã€‚<br>4.æ‰§è¡Œè°ƒç”¨æ ˆä¸­çš„ä»»åŠ¡ï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–é‡åˆ°åŒæ­¥ä»»åŠ¡ï¼ˆå¦‚awaitã€yieldç­‰ï¼‰ã€‚<br>5.å¦‚æœåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°äº†åŒæ­¥ä»»åŠ¡ï¼Œå°†åŒæ­¥ä»»åŠ¡ç›´æ¥æ·»åŠ åˆ°è°ƒç”¨æ ˆä¸­ã€‚<br>6.ç»§ç»­ä»äº‹ä»¶é˜Ÿåˆ—ä¸­å–å‡ºæ–°äº‹ä»¶ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p><h4 id="91-JavaScriptä¸­çš„æå‡-Hoisting-æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚"><a href="#91-JavaScriptä¸­çš„æå‡-Hoisting-æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚" class="headerlink" title="91.JavaScriptä¸­çš„æå‡(Hoisting)æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚"></a>91.JavaScriptä¸­çš„æå‡(Hoisting)æ˜¯ä»€ä¹ˆï¼Ÿè¯·ä¸¾ä¾‹è¯´æ˜ã€‚</h4><p>â€‹æå‡ï¼ˆHoistingï¼‰æ˜¯æŒ‡å˜é‡å’Œå‡½æ•°å£°æ˜åœ¨ä»£ç è¢«è§£ææ—¶è¢«ç§»åŠ¨åˆ°å®ƒä»¬æ‰€åœ¨ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>interview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¢è¯•é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VUEå‰ç«¯é¢è¯•é¢˜</title>
    <link href="/blog/2022/11/24/interview-vue/"/>
    <url>/blog/2022/11/24/interview-vue/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸‰åä¸ƒä¸ªå¸¸è§Vueé¢è¯•é¢˜"><a href="#ä¸‰åä¸ƒä¸ªå¸¸è§Vueé¢è¯•é¢˜" class="headerlink" title="ä¸‰åä¸ƒä¸ªå¸¸è§Vueé¢è¯•é¢˜"></a>ä¸‰åä¸ƒä¸ªå¸¸è§Vueé¢è¯•é¢˜</h1><h2 id="ä¸€ã€è°ˆè°ˆä½ å¯¹MVVMçš„ç†è§£ï¼Ÿ"><a href="#ä¸€ã€è°ˆè°ˆä½ å¯¹MVVMçš„ç†è§£ï¼Ÿ" class="headerlink" title="ä¸€ã€è°ˆè°ˆä½ å¯¹MVVMçš„ç†è§£ï¼Ÿ"></a>ä¸€ã€è°ˆè°ˆä½ å¯¹MVVMçš„ç†è§£ï¼Ÿ</h2><p>æ˜ å°„å…³ç³»ç®€åŒ–ï¼Œéšè—controller MVVMåœ¨MVCçš„åŸºç¡€ä¸Šï¼ŒæŠŠæ§åˆ¶å±‚éšè—æ‰äº†ã€‚</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/ce6512d090a56abe.png"></p><p>Vueä¸æ˜¯ä¸€ä¸ªMVVMæ¡†æ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªè§†å›¾å±‚æ¡†æ¶ã€‚</p><p>ViewModalæ˜¯ä¸€ä¸ªæ¡¥æ¢ï¼Œå°†æ•°æ®å’Œè§†å›¾è¿›è¡Œå…³è”ã€‚</p><h2 id="äºŒã€è°ˆè°ˆä½ å¯¹Vueä¸­å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ"><a href="#äºŒã€è°ˆè°ˆä½ å¯¹Vueä¸­å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ" class="headerlink" title="äºŒã€è°ˆè°ˆä½ å¯¹Vueä¸­å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ"></a>äºŒã€è°ˆè°ˆä½ å¯¹Vueä¸­å“åº”å¼æ•°æ®çš„ç†è§£ï¼Ÿ</h2><p>æ•°ç»„å’Œå¯¹è±¡ç±»å‹çš„å€¼å˜åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡ <code>defineReactive</code>æ–¹æ³•ï¼Œå€ŸåŠ©äº† <code>defineProperty</code>ï¼Œå°†æ‰€æœ‰çš„å±æ€§æ·»åŠ äº† <code>getter</code>å’Œ <code>setter</code>ã€‚ç”¨æˆ·åœ¨å–å€¼å’Œè®¾ç½®çš„æ—¶å€™ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›æ“ä½œã€‚</p><p>ç¼ºé™·ï¼šåªèƒ½ç›‘æ§æœ€å¤–å±‚çš„å±æ€§ï¼Œå¦‚æœæ˜¯å¤šå±‚çš„ï¼Œå°±è¦è¿›è¡Œå…¨é‡é€’å½’ã€‚</p><p>geté‡Œé¢ä¼šåšä¾èµ–æœé›†ï¼ˆdep[watcher, watcher]ï¼‰ seté‡Œé¢ä¼šåšæ•°æ®æ›´æ–°ï¼ˆnotifyï¼Œé€šçŸ¥watcheræ›´æ–°ï¼‰</p><h2 id="ä¸‰ã€Vueä¸­å¦‚ä½•æ£€æµ‹æ•°ç»„çš„å˜åŒ–ï¼Ÿ"><a href="#ä¸‰ã€Vueä¸­å¦‚ä½•æ£€æµ‹æ•°ç»„çš„å˜åŒ–ï¼Ÿ" class="headerlink" title="ä¸‰ã€Vueä¸­å¦‚ä½•æ£€æµ‹æ•°ç»„çš„å˜åŒ–ï¼Ÿ"></a>ä¸‰ã€Vueä¸­å¦‚ä½•æ£€æµ‹æ•°ç»„çš„å˜åŒ–ï¼Ÿ</h2><p>vueä¸­å¯¹æ•°ç»„æ²¡æœ‰è¿›è¡ŒdefinePropertyï¼Œè€Œæ˜¯é‡å†™äº†æ•°ç»„çš„7ä¸ªæ–¹æ³•ã€‚ åˆ†åˆ«æ˜¯ï¼š</p><ul><li>push</li><li>shift</li><li>pop</li><li>splice</li><li>unshift</li><li>sort</li><li>reverse</li></ul><p>å› ä¸ºè¿™äº›æ–¹æ³•éƒ½ä¼šæ”¹å˜æ•°ç»„æœ¬èº«ã€‚</p><p>æ•°ç»„é‡Œçš„ç´¢å¼•å’Œé•¿åº¦æ˜¯æ— æ³•è¢«ç›‘æ§çš„ã€‚</p><h2 id="å››ã€Vueä¸­å¦‚ä½•è¿›è¡Œä¾èµ–æ”¶é›†çš„ï¼Ÿ"><a href="#å››ã€Vueä¸­å¦‚ä½•è¿›è¡Œä¾èµ–æ”¶é›†çš„ï¼Ÿ" class="headerlink" title="å››ã€Vueä¸­å¦‚ä½•è¿›è¡Œä¾èµ–æ”¶é›†çš„ï¼Ÿ"></a>å››ã€Vueä¸­å¦‚ä½•è¿›è¡Œä¾èµ–æ”¶é›†çš„ï¼Ÿ</h2><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/1702b130260c3529.png"></p><p>Vueåˆå§‹åŒ–çš„æ—¶å€™ï¼ŒæŒ‚è½½ä¹‹åä¼šè¿›è¡Œç¼–è¯‘ã€‚ç”ŸæˆrenderFunctionã€‚</p><p>å½“å–å€¼çš„æ—¶å€™ï¼Œå°±ä¼šæœé›†watcherï¼Œæ”¾åˆ°depé‡Œé¢ã€‚</p><p>å½“ç”¨æˆ·æ›´æ”¹å€¼çš„æ—¶å€™ï¼Œå°±ä¼šé€šçŸ¥watcherï¼Œå»æ›´æ–°è§†å›¾ã€‚</p><h2 id="äº”ã€å¦‚ä½•ç†è§£Vueä¸­çš„æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ"><a href="#äº”ã€å¦‚ä½•ç†è§£Vueä¸­çš„æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ" class="headerlink" title="äº”ã€å¦‚ä½•ç†è§£Vueä¸­çš„æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ"></a>äº”ã€å¦‚ä½•ç†è§£Vueä¸­çš„æ¨¡æ¿ç¼–è¯‘åŸç†ï¼Ÿ</h2><p>è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæ˜¯å¦‚ä½•å°†templateè½¬æ¢æˆrenderå‡½æ•°ã€‚</p><ol><li>å°†templateæ¨¡å—è½¬æ¢æˆastè¯­æ³•ä¹¦ - parserHTML</li><li>å¯¹é™æ€è¯­æ³•åšæ ‡è®°ï¼ˆæŸäº›èŠ‚ç‚¹ä¸æ”¹å˜ï¼‰</li><li>é‡æ–°ç”Ÿæˆä»£ç  - codeGen,ä½¿ç”¨withè¯­æ³•åŒ…è£¹å­—ç¬¦ä¸²</li></ol><h2 id="å…­ã€Vueç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„"><a href="#å…­ã€Vueç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„" class="headerlink" title="å…­ã€Vueç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„?"></a>å…­ã€Vueç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å¦‚ä½•å®ç°çš„?</h2><p>Vueçš„ç”Ÿå‘½å‘¨æœŸé’©å­æ˜¯å›è°ƒå‡½æ•°ï¼Œå½“åˆ›å»ºç»„ä»¶å®ä¾‹çš„è¿‡ç¨‹ä¸­ä¼šè°ƒç”¨ç›¸åº”çš„é’©å­æ–¹æ³•ã€‚ å†…éƒ¨ä¼šå¯¹é’©å­è¿›è¡Œå¤„ç†ï¼Œå°†é’©å­å‡½æ•°ç»´æŠ¤æˆæ•°ç»„çš„å½¢å¼ã€‚</p><h2 id="ä¸ƒã€Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ"><a href="#ä¸ƒã€Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ä¸ƒã€Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ"></a>ä¸ƒã€Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›ï¼Ÿ</h2><ul><li><p>beforeCreate åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹observer å’Œeventã€watcheräº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨</p></li><li><p>created å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆï¼Œåœ¨è¿™ä¸€æ­¥ï¼Œä»¥ä¸‹é…ç½®è¢«å®Œæˆ</p><ul><li>æ•°æ®è§‚æµ‹</li><li>å±æ€§å’Œæ–¹æ³•çš„è¿ç®—</li><li>watch&#x2F;eventæ—¶é—´å›è°ƒ</li><li>$elå°šæœªç”Ÿæˆ</li></ul></li><li><p>beforeMount åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ï¼Œrenderå°šæœªè¢«è°ƒç”¨</p></li><li><p>mounted elè¢«æ–°åˆ›å»ºçš„vm.$elæ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨</p></li><li><p>beforeUpdate æ•°æ®æ›´æ–°æ—¶ï¼Œè¢«è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDomé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰</p></li><li><p>update ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹ŸDomé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åè°ƒç”¨</p></li><li><p>beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨</p></li><li><p>destroyed å®ä¾‹é”€æ¯ä¹‹åè°ƒç”¨ï¼Œè°ƒç”¨åVueå®ä¾‹çš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè¢«è§£ç»‘ï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬ä¼šè¢«ç§»é™¤ï¼Œå­å®ä¾‹è¢«é”€æ¯ï¼Œè¯¥é’©å­åœ¨æœåŠ¡ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨</p></li><li><p>keep-aliveï¼ˆactivated &amp; deactivatedï¼‰</p></li></ul><h2 id="å…«ã€vue-mixinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†"><a href="#å…«ã€vue-mixinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†" class="headerlink" title="å…«ã€vue.mixinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†?"></a>å…«ã€vue.mixinçš„ä½¿ç”¨åœºæ™¯å’ŒåŸç†?</h2><p>Vueçš„mixinçš„ä½œç”¨å°±æ˜¯æŠ½ç¦»å…¬å…±çš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŸç†ç±»ä¼¼å¯¹è±¡çš„ç»§æ‰¿ï¼Œå½“ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨mergeOptionsæ–¹æ³•è¿›è¡Œåˆå¹¶ï¼Œé‡‡ç”¨ç­–ç•¥æ¨¡å¼é’ˆå¯¹ä¸åŒçš„å±æ€§è¿›è¡Œåˆå¹¶ã€‚ å¦‚æœæ··å…¥çš„æ•°æ®å’Œæœ¬èº«ç»„ä»¶çš„æ•°æ®æœ‰å†²çªï¼Œé‡‡ç”¨æœ¬èº«çš„æ•°æ®ä¸ºå‡†ã€‚</p><p>ç¼ºç‚¹ï¼šå‘½åå†²çªã€æ•°æ®æ¥æºä¸æ¸…æ™°</p><h2 id="ä¹ã€Vueçš„ç»„ä»¶dataä¸ºä»€ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°"><a href="#ä¹ã€Vueçš„ç»„ä»¶dataä¸ºä»€ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°" class="headerlink" title="ä¹ã€Vueçš„ç»„ä»¶dataä¸ºä»€ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°?"></a>ä¹ã€Vueçš„ç»„ä»¶dataä¸ºä»€ä¹ˆå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°?</h2><p><code>new Vue</code>æ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼ï¼Œä¸ä¼šæœ‰ä»»ä½•çš„åˆå¹¶æ“ä½œï¼Œæ‰€ä»¥æ ¹å®ä¾‹ä¸å¿…æ ¡éªŒdataä¸€å®šæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ ç»„ä»¶çš„dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢ä¸¤ä¸ªç»„ä»¶çš„æ•°æ®äº§ç”Ÿæ±¡æŸ“ã€‚ å¦‚æœéƒ½æ˜¯å¯¹è±¡çš„è¯ï¼Œä¼šåœ¨åˆå¹¶çš„æ—¶å€™ï¼ŒæŒ‡å‘åŒä¸€ä¸ªåœ°å€ã€‚ è€Œå¦‚æœæ˜¯å‡½æ•°çš„æ—¶å€™ï¼Œåˆå¹¶çš„æ—¶å€™è°ƒç”¨ï¼Œä¼šäº§ç”Ÿä¸¤ä¸ªç©ºé—´ã€‚</p><h2 id="åã€è¯·è¯´æ˜nextTickçš„åŸç†ã€‚"><a href="#åã€è¯·è¯´æ˜nextTickçš„åŸç†ã€‚" class="headerlink" title="åã€è¯·è¯´æ˜nextTickçš„åŸç†ã€‚"></a>åã€è¯·è¯´æ˜nextTickçš„åŸç†ã€‚</h2><p>nextTickæ˜¯ä¸€ä¸ªå¾®ä»»åŠ¡ã€‚</p><ul><li>nextTickä¸­çš„å›è°ƒæ˜¯åœ¨ä¸‹æ¬¡Domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„å»¶è¿Ÿå›è°ƒ</li><li>å¯ä»¥ç”¨äºè·å–æ›´æ–°åçš„Dom</li><li>Vueä¸­çš„æ•°æ®æ›´æ–°æ˜¯å¼‚æ­¥çš„ï¼Œä½¿ç”¨nextTickå¯ä»¥ä¿è¯ç”¨æˆ·å®šä¹‰çš„é€»è¾‘åœ¨æ›´æ–°ä¹‹åæ‰§è¡Œ</li></ul><h2 id="åä¸€ã€computedå’Œwatchçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åä¸€ã€computedå’Œwatchçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åä¸€ã€computedå’Œwatchçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åä¸€ã€computedå’Œwatchçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul><li>computedå’Œwatchéƒ½åŸºäºwatcheræ¥å®ç°çš„ã€‚</li><li>computedçš„å±æ€§æ˜¯å…·å¤‡ç¼“å­˜çš„ï¼Œä¾èµ–çš„å€¼ä¸å‘ç”Ÿå˜åŒ–ï¼Œå¯¹å…¶å–å€¼æ—¶è®¡ç®—å±æ€§æ–¹æ³•ä¸ä¼šé‡å¤æ‰§è¡Œ</li><li>watchæ˜¯ç›‘æ§å€¼çš„å˜åŒ–ï¼Œå½“å€¼å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å›è°ƒå‡½æ•°</li></ul><h2 id="åäºŒã€Vue-setæ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#åäºŒã€Vue-setæ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="åäºŒã€Vue.setæ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>åäºŒã€Vue.setæ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h2><ul><li>vueç»™å¯¹è±¡å’Œæ•°ç»„æœ¬èº«éƒ½å¢åŠ äº†depå±æ€§</li><li>å½“ç»™å¯¹è±¡æ–°å¢ä¸å­˜åœ¨çš„å±æ€§çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘å¯¹è±¡ä¾èµ–çš„watcherå»æ›´æ–°</li><li>å½“ä¿®æ”¹æ•°ç»„ç´¢å¼•çš„æ—¶å€™ï¼Œå°±è°ƒç”¨æ•°ç»„æœ¬èº«çš„spliceæ–¹æ³•å»æ›´æ–°æ•°ç»„</li></ul><h2 id="åä¸‰ã€Vueä¸ºä»€ä¹ˆè¦ç”¨è™šæ‹ŸDom"><a href="#åä¸‰ã€Vueä¸ºä»€ä¹ˆè¦ç”¨è™šæ‹ŸDom" class="headerlink" title="åä¸‰ã€Vueä¸ºä»€ä¹ˆè¦ç”¨è™šæ‹ŸDom"></a>åä¸‰ã€Vueä¸ºä»€ä¹ˆè¦ç”¨è™šæ‹ŸDom</h2><ul><li>è™šæ‹Ÿdomå°±æ˜¯ç”¨jså¯¹è±¡æ¥æè¿°çœŸå®Domï¼Œæ˜¯å¯¹çœŸå®Domçš„æŠ½è±¡</li><li>ç”±äºç›´æ¥æ“ä½œDomæ€§èƒ½ä½ï¼Œä½†æ˜¯jså±‚çš„æ“ä½œæ•ˆç‡é«˜ï¼Œå¯ä»¥å°†Domæ“ä½œè½¬åŒ–æˆå¯¹è±¡æ“ä½œã€‚æœ€ç»ˆé€šè¿‡diffç®—æ³•æ¯”å¯¹å·®å¼‚è¿›è¡Œæ›´æ–°Dom</li><li>è™šæ‹ŸDomä¸ä¾èµ–çœŸå®å¹³å°ç¯å¢ƒï¼Œå¯ä»¥å®ç°è·¨å¹³å°</li></ul><h2 id="åå››ã€Vueçš„diffç®—æ³•åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åå››ã€Vueçš„diffç®—æ³•åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åå››ã€Vueçš„diffç®—æ³•åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åå››ã€Vueçš„diffç®—æ³•åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Vueçš„diffç®—æ³•æ˜¯å¹³çº§æ¯”è¾ƒï¼Œä¸è€ƒè™‘è·¨çº§æ¯”è¾ƒçš„æƒ…å†µã€‚å†…éƒ¨é‡‡ç”¨æ·±åº¦é€’å½’çš„æ–¹å¼+åŒæŒ‡é’ˆæ–¹å¼æ¯”è¾ƒ</p><ul><li>å…ˆæ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸æ˜¯ç›¸åŒèŠ‚ç‚¹</li><li>ç›¸åŒèŠ‚ç‚¹æ¯”è¾ƒå±æ€§ï¼Œå¤ç”¨è€èŠ‚ç‚¹</li><li>å…ˆæ¯”è¾ƒå„¿å­èŠ‚ç‚¹ï¼Œè€ƒè™‘è€èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å„¿å­çš„æƒ…å†µ</li><li>ä¼˜åŒ–æ¯”è¾ƒï¼šå¤´å¤´ã€å°¾å°¾ã€å¤´å°¾ã€å°¾å¤´</li><li>æ¯”å¯¹æŸ¥æ‰¾ï¼Œè¿›è¡Œå¤ç”¨</li></ul><h2 id="åäº”ã€æ—¢ç„¶vueé€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†çš„æ¢æµ‹æ•°æ®å˜åŒ–ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œdiffæ£€æµ‹å·®å¼‚ï¼Ÿ"><a href="#åäº”ã€æ—¢ç„¶vueé€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†çš„æ¢æµ‹æ•°æ®å˜åŒ–ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œdiffæ£€æµ‹å·®å¼‚ï¼Ÿ" class="headerlink" title="åäº”ã€æ—¢ç„¶vueé€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†çš„æ¢æµ‹æ•°æ®å˜åŒ–ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œdiffæ£€æµ‹å·®å¼‚ï¼Ÿ"></a>åäº”ã€æ—¢ç„¶vueé€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†çš„æ¢æµ‹æ•°æ®å˜åŒ–ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œdiffæ£€æµ‹å·®å¼‚ï¼Ÿ</h2><ul><li>å“åº”å¼æ•°æ®å˜åŒ–ï¼ŒVueç¡®å®å¯ä»¥åœ¨æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œå“åº”å¼ç³»ç»Ÿå¯ä»¥ç«‹åˆ»å¾—çŸ¥ã€‚ä½†æ˜¯å¦‚ä½•æ¯ä¸ªå±æ€§éƒ½æ·»åŠ watcherçš„è¯ï¼Œæ€§èƒ½ä¼šéå¸¸çš„å·®ã€‚</li><li>ç²’åº¦è¿‡ç»†ï¼Œä¼šå¯¼è‡´æ›´æ–°ä¸ç²¾å‡†</li></ul><p>æ‰€ä»¥é‡‡ç”¨watcher + Diffç®—æ³•æ¥æ£€æµ‹å·®å¼‚ã€‚</p><h2 id="åå…­ã€è¯·è¯´æ˜keyçš„ä½œç”¨å’ŒåŸç†"><a href="#åå…­ã€è¯·è¯´æ˜keyçš„ä½œç”¨å’ŒåŸç†" class="headerlink" title="åå…­ã€è¯·è¯´æ˜keyçš„ä½œç”¨å’ŒåŸç†"></a>åå…­ã€è¯·è¯´æ˜keyçš„ä½œç”¨å’ŒåŸç†</h2><ul><li>Vueåœ¨patchè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡keyå¯ä»¥åˆ¤æ–­ä¸¤ä¸ªè™šæ‹ŸèŠ‚ç‚¹æ˜¯å¦æ˜¯ç›¸åŒèŠ‚ç‚¹ã€‚</li><li>æ²¡æœ‰keyä¼šå¯¼è‡´æ›´æ–°çš„æ—¶å€™å‡ºé—®é¢˜</li><li>å°½é‡ä¸è¦é‡‡ç”¨ç´¢å¼•ä½œä¸ºkey</li></ul><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/3fc0c4b383b9ccd0.png"></p><h2 id="åä¸ƒã€è°ˆè°ˆå¯¹ç»„ä»¶çš„ç†è§£"><a href="#åä¸ƒã€è°ˆè°ˆå¯¹ç»„ä»¶çš„ç†è§£" class="headerlink" title="åä¸ƒã€è°ˆè°ˆå¯¹ç»„ä»¶çš„ç†è§£"></a>åä¸ƒã€è°ˆè°ˆå¯¹ç»„ä»¶çš„ç†è§£</h2><ul><li>ç»„ä»¶åŒ–å¼€å‘èƒ½å¤§å¹…æé«˜åº”ç”¨å¼€å‘æ•ˆç‡ã€æµ‹è¯•æ€§ã€å¤ç”¨æ€§</li><li>å¸¸ç”¨çš„ç»„ä»¶åŒ–æŠ€æœ¯ï¼šå±æ€§ã€è‡ªå®šä¹‰äº‹ä»¶ã€æ’æ§½</li><li>é™ä½æ›´æ–°èŒƒå›´ï¼Œå€¼é‡æ–°æ¸²æŸ“å˜åŒ–çš„ç»„ä»¶</li><li>é«˜å†…èšã€ä½è€¦åˆã€å•å‘æ•°æ®æµ</li></ul><h2 id="åå…«ã€è¯·æè¿°ç»„ä»¶çš„æ¸²æŸ“æµç¨‹"><a href="#åå…«ã€è¯·æè¿°ç»„ä»¶çš„æ¸²æŸ“æµç¨‹" class="headerlink" title="åå…«ã€è¯·æè¿°ç»„ä»¶çš„æ¸²æŸ“æµç¨‹"></a>åå…«ã€è¯·æè¿°ç»„ä»¶çš„æ¸²æŸ“æµç¨‹</h2><p>äº§ç”Ÿç»„ä»¶è™šæ‹ŸèŠ‚ç‚¹ -&gt; åˆ›å»ºç»„ä»¶çš„çœŸå®èŠ‚ç‚¹ -&gt; æ’å…¥åˆ°é¡µé¢</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/875fb72e04f47f43.png"></p><h2 id="åä¹ã€è¯·æè¿°ç»„ä»¶çš„æ›´æ–°æµç¨‹"><a href="#åä¹ã€è¯·æè¿°ç»„ä»¶çš„æ›´æ–°æµç¨‹" class="headerlink" title="åä¹ã€è¯·æè¿°ç»„ä»¶çš„æ›´æ–°æµç¨‹"></a>åä¹ã€è¯·æè¿°ç»„ä»¶çš„æ›´æ–°æµç¨‹</h2><p>å±æ€§æ›´æ–°ä¼šè§¦å‘patchVnodeæ–¹æ³•ï¼Œç»„ä»¶çš„è™šæ‹ŸèŠ‚ç‚¹ä¼šè°ƒç”¨prepatché’©å­ï¼Œç„¶åæ›´æ–°å±æ€§ï¼Œæ›´æ–°ç»„ä»¶ã€‚</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/f81d83c811e12b4d.png"></p><h2 id="äºŒåã€å¼‚æ­¥ç»„ä»¶åŸç†"><a href="#äºŒåã€å¼‚æ­¥ç»„ä»¶åŸç†" class="headerlink" title="äºŒåã€å¼‚æ­¥ç»„ä»¶åŸç†"></a>äºŒåã€å¼‚æ­¥ç»„ä»¶åŸç†</h2><p>å…ˆæ¸²æŸ“å¼‚æ­¥å ä½ç¬¦èŠ‚ç‚¹ -&gt; ç»„ä»¶åŠ è½½å®Œæ¯•åè°ƒç”¨forceUpdateå¼ºåˆ¶æ›´æ–°ã€‚</p><h2 id="äºŒåä¸€ã€å‡½æ•°ç»„ä»¶çš„ä¼˜åŠ¿å’ŒåŸç†"><a href="#äºŒåä¸€ã€å‡½æ•°ç»„ä»¶çš„ä¼˜åŠ¿å’ŒåŸç†" class="headerlink" title="äºŒåä¸€ã€å‡½æ•°ç»„ä»¶çš„ä¼˜åŠ¿å’ŒåŸç†"></a>äºŒåä¸€ã€å‡½æ•°ç»„ä»¶çš„ä¼˜åŠ¿å’ŒåŸç†</h2><ul><li>å‡½æ•°å¼ç»„ä»¶çš„ç‰¹æ€§ï¼šæ— çŠ¶æ€ã€æ— ç”Ÿå‘½å‘¨æœŸã€æ— thisã€‚å› æ­¤æ€§èƒ½ä¼šé«˜ä¸€ç‚¹ã€‚</li></ul><p>æ­£å¸¸çš„ä¸€ä¸ªç»„ä»¶æ˜¯ä¸€ä¸ªç±»ç»§æ‰¿äº†Vueã€‚</p><p>å‡½æ•°å¼ç»„ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ã€‚</p><h2 id="äºŒåäºŒã€ç»„ä»¶çš„ä¼ å€¼æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#äºŒåäºŒã€ç»„ä»¶çš„ä¼ å€¼æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="äºŒåäºŒã€ç»„ä»¶çš„ä¼ å€¼æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>äºŒåäºŒã€ç»„ä»¶çš„ä¼ å€¼æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h2><ol><li>propså’Œemit: çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œé€šè¿‡propä¼ é€’ã€‚å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶æ˜¯é€šè¿‡<em>e<strong>m</strong>i**t</em>:çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œé€šè¿‡<em>p<strong>r</strong>o**p</em>ä¼ é€’ã€‚å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶æ˜¯é€šè¿‡emitäº‹ä»¶</li><li>parent,<em>p<strong>a</strong>r<strong>e</strong>n**t</em>,childrenè·å–å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å’Œå½“å‰ç»„ä»¶çš„å­ç»„ä»¶</li><li>attrså’Œ<em>a<strong>t</strong>t<strong>r</strong>s</em>å’Œlisteners ã€‚</li><li>çˆ¶ç»„ä»¶é€šè¿‡provideæä¾›ï¼Œå­ç»„ä»¶é€šè¿‡injectæ³¨å…¥å˜é‡</li><li>$refè·å–å®ä¾‹</li><li>eventBuså¹³çº§ç»„ä»¶æ•°æ®ä¼ é€’</li><li>Vuex</li></ol><h2 id="äºŒåä¸‰ã€-attrsæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‡ºç°çš„ï¼Ÿ"><a href="#äºŒåä¸‰ã€-attrsæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‡ºç°çš„ï¼Ÿ" class="headerlink" title="äºŒåä¸‰ã€$attrsæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‡ºç°çš„ï¼Ÿ"></a>äºŒåä¸‰ã€$attrsæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‡ºç°çš„ï¼Ÿ</h2><p>ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†å®ç°æ‰¹é‡ä¼ é€’æ•°æ®ã€‚</p><p>provide&#x2F;injectæ›´é€‚åˆåº”ç”¨åœ¨æ’ä»¶ä¸­ï¼Œä¸»è¦å®ç°è·¨çº§æ•°æ®ä¼ é€’ã€‚</p><h2 id="äºŒåå››ã€v-forå’Œv-ifå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ"><a href="#äºŒåå››ã€v-forå’Œv-ifå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ" class="headerlink" title="äºŒåå››ã€v-forå’Œv-ifå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ"></a>äºŒåå››ã€v-forå’Œv-ifå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ</h2><p>é¦–å…ˆï¼Œv-forå’Œv-if ä¸èƒ½åœ¨åŒä¸€ä¸ªæ ‡ç­¾ä¸­ä½¿ç”¨ã€‚</p><p>å…ˆå¤„ç†v-forï¼Œå†å¤„ç†v-ifã€‚</p><p>å¦‚æœåŒæ—¶é‡åˆ°çš„æ—¶å€™ï¼Œåº”è¯¥è€ƒè™‘å…ˆç”¨è®¡ç®—å±æ€§å¤„ç†æ•°æ®ï¼Œåœ¨è¿›è¡Œv-forï¼Œå¯ä»¥å‡å°‘å¾ªç¯æ¬¡æ•°ã€‚</p><h2 id="äºŒåäº”ã€v-modeæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#äºŒåäº”ã€v-modeæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="äºŒåäº”ã€v-modeæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>äºŒåäº”ã€v-modeæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h2><p>åœ¨ç»„ä»¶ä¸Šç”¨çš„v-modelï¼Œæ˜¯modelå’Œcallback</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">with</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span></span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title function_">_c</span>(<span class="hljs-string">&#x27;my&#x27;</span>,&#123;<span class="hljs-attr">model</span>:&#123;<span class="hljs-attr">value</span>:(xxx),<span class="hljs-attr">callback</span>:<span class="hljs-keyword">function</span> (<span class="hljs-params">$$v</span>) &#123;xxx=$$v&#125;,<span class="hljs-attr">expression</span>:<span class="hljs-string">&quot;xxx&quot;</span>&#125;&#125;)&#125;<br></code></pre></td></tr></table></figure><p>åœ¨æ™®é€šå…ƒç´ ä¸Šç”¨v-modelï¼Œä¼šç”ŸæˆæŒ‡ä»¤ï¼Œè¿˜å¯èƒ½å› ä¸ºä¸åŒçš„å…ƒç´ ï¼š</p><ul><li>ç”Ÿæˆvalueå’Œinput</li><li>ç”Ÿæˆchangeå’Œradio</li><li>ç”Ÿæˆchangeå’Œchecked</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">with</span>(<span class="hljs-params"><span class="hljs-variable language_">this</span></span>)&#123;<span class="hljs-keyword">return</span> <span class="hljs-title function_">_c</span>(<span class="hljs-string">&#x27;input&#x27;</span>,&#123;<span class="hljs-attr">directives</span>:[&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;model&quot;</span>,<span class="hljs-attr">rawName</span>:<span class="hljs-string">&quot;v-model&quot;</span>,<span class="hljs-attr">value</span>:(xxx),<span class="hljs-attr">expression</span>:<span class="hljs-string">&quot;xxx&quot;</span>&#125;],<span class="hljs-attr">domProps</span>:&#123;<span class="hljs-string">&quot;value&quot;</span>:(xxx)&#125;,<span class="hljs-attr">on</span>:&#123;<span class="hljs-string">&quot;input&quot;</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">$event</span>)&#123;<span class="hljs-keyword">if</span>($event.<span class="hljs-property">target</span>.<span class="hljs-property">composing</span>)<span class="hljs-keyword">return</span>;xxx=$event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;&#125;&#125;)&#125;<br></code></pre></td></tr></table></figure><p>æŒ‡ä»¤åœ¨ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨ï¼Ÿ</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/c901f8b9cbbec7a6.png"></p><p>æºç ï¼š</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/25/b122004dd6c1dde3.png"></p><h2 id="äºŒåå…­ã€Vueçš„æ™®é€šSlotä»¥åŠä½œç”¨åŸŸSlotçš„åŒºåˆ«"><a href="#äºŒåå…­ã€Vueçš„æ™®é€šSlotä»¥åŠä½œç”¨åŸŸSlotçš„åŒºåˆ«" class="headerlink" title="äºŒåå…­ã€Vueçš„æ™®é€šSlotä»¥åŠä½œç”¨åŸŸSlotçš„åŒºåˆ«"></a>äºŒåå…­ã€Vueçš„æ™®é€šSlotä»¥åŠä½œç”¨åŸŸSlotçš„åŒºåˆ«</h2><h3 id="æ™®é€šæ’æ§½"><a href="#æ™®é€šæ’æ§½" class="headerlink" title="æ™®é€šæ’æ§½"></a>æ™®é€šæ’æ§½</h3><p>æ™®é€šæ’æ§½æ˜¯æ¸²æŸ“ååšæ›¿æ¢çš„å·¥ä½œã€‚çˆ¶ç»„ä»¶æ¸²æŸ“å®Œæ¯•åï¼Œæ›¿æ¢å­ç»„ä»¶çš„å†…å®¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">`&lt;div&gt;</span><br><span class="hljs-string">&lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;</span><br><span class="hljs-string">&lt;slot name=&quot;content&quot;&gt;&lt;/slot&gt;</span><br><span class="hljs-string">&lt;/div&gt;`</span>);<br><span class="hljs-comment">// with(this)&#123;return _c(&#x27;div&#x27;,[_t(&quot;title&quot;),_v(&quot; &quot;),_t(&quot;content&quot;)],2)&#125;</span><br></code></pre></td></tr></table></figure><p>åœ¨æ¨¡æ¿ç¼–è¯‘çš„æ—¶å€™ï¼Œå¤„ç†ç»„ä»¶ä¸­çš„å­èŠ‚ç‚¹å’Œslotæ ‡ç­¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div id=&quot;app&quot;&gt;<br>    &lt;my&gt;<br>        &lt;h1 slot=&quot;tit1e&quot;&gt;æ ‡é¢˜&lt;/h1&gt;<br>        &lt;div slot=&quot;content&quot;&gt;å†…å®¹&lt;/div&gt;<br>    &lt;/my&gt;<br>&lt;/div&gt;<br>&lt;script&gt;<br>    Vue.component(&#x27;my&#x27;,&#123;<br>        template: `&lt;div&gt;<br>        &lt;slot name=&quot;title&quot;&gt;&lt;/slot&gt;<br>&lt;slot name=&quot;content&quot;&gt;&lt;/slot&gt;<br>        &lt;/div&gt;`<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>åœ¨åˆ›å»ºå…ƒç´ çš„æ—¶å€™ï¼Œç”¨_t()æ–¹æ³•æ–¹æ³•æ¥æ›¿æ¢_v()çš„å†…å®¹ã€‚</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/24/9978507b1f505a3d.png"></p><h3 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h3><p>ä½œç”¨åŸŸæ’æ§½å¯ä»¥æ‹¿åˆ°å­ç»„ä»¶é‡Œé¢çš„å±æ€§ã€‚åœ¨å­ç»„ä»¶ä¸­ä¼ å…¥å±æ€§ç„¶åæ¸²æŸ“ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div id=&quot;app&quot;&gt;<br>    &lt;my&gt;<br>        &lt;template slot-scope=&quot;&#123;article)&quot;&gt;<br>            &lt;h1 slot=&quot;article.tit1e&quot;&gt;æ ‡é¢˜&lt;/h1&gt;<br>            &lt;div slot=&quot;article.content&quot;&gt;å†…å®¹&lt;/div&gt;<br>        &lt;/template&gt;<br>    &lt;/my&gt;<br>&lt;/div&gt;<br>&lt;script&gt;<br>    Vue.component(&#x27;my&#x27;,&#123;<br>        template: `&lt;div&gt;<br>        &lt;slot:article=&quot;&#123;title:&#x27;æ ‡é¢˜&#x27;,content:&#x27;å†…å®¹&#x27;&#125;&quot;&gt;&lt;/slot&gt;<br>        &lt;/div&gt;`<br>    &#125;)<br>    const vm new Vue(&#123;<br>    el:&#x27;#app<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">`&lt;my&gt;</span><br><span class="hljs-string">    &lt;h1 slot=â€title&quot;&gt;æ ‡é¢˜&lt;h1/&gt;</span><br><span class="hljs-string">    &lt;div slot=&quot;content&quot;&gt;å†…å®¹&lt;/div&gt;</span><br><span class="hljs-string">&lt;/my&gt;`</span>)<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">with(this)&#123;</span><br><span class="hljs-comment">    return _c(&#x27;my&#x27;,[</span><br><span class="hljs-comment">    _c(&#x27;h1&#x27;,&#123;attrs:&#123;&quot;slot&quot;:&quot;title&#x27;&quot;&#125;,slot:&quot;title&quot;&#125;,[_v(&quot;æ ‡é¢˜&quot;)]),_v(&quot; &quot;),</span><br><span class="hljs-comment">    _c(&#x27;div&#x27;,&#123;attrs:&#123;&quot;slot&quot;:&quot;content&quot;,slot:&quot;content&quot;&#125;,[_v(&quot;å†…å®¹&quot;)])</span><br><span class="hljs-comment">    ])</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">**/</span><br></code></pre></td></tr></table></figure><p>ä½œç”¨åŸŸæ’æ§½çš„ç¼–è¯‘ç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> r3 = templateCompiler.<span class="hljs-title function_">compile</span>(<span class="hljs-string">`</span><br><span class="hljs-string">&lt;div&gt;</span><br><span class="hljs-string">&lt;slot :article=&quot;&#123;title:&#x27;æ ‡é¢˜&#x27;,content:&#x27;å†…å®¹&#x27;&#125;&quot;&gt;&lt;/slot&gt;</span><br><span class="hljs-string">&lt;/div&gt;`</span>)<br><span class="hljs-comment">// with(this)&#123;return _c(&#x27;div&#x27;,[_t(&quot;default&quot;,null,&#123;&quot;article&quot;:&#123;title:&#x27;æ ‡é¢˜&#x27;,</span><br><span class="hljs-comment">// content:&#x27;å†…å®¹&#x27;&#125;&#125;)],2)&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r3.<span class="hljs-property">render</span>)<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">`&lt;my&gt;</span><br><span class="hljs-string">    &lt;template slot-scope=&quot;&#123;article&#125;&quot;&gt;</span><br><span class="hljs-string">        &lt;h1 slot=&quot;article.tit1e&quot;&gt;æ ‡é¢˜&lt;/h1&gt;</span><br><span class="hljs-string">        &lt;div slot=&quot;article.content&quot;&gt;å†…å®¹&lt;/div&gt;</span><br><span class="hljs-string">    &lt;/template&gt;</span><br><span class="hljs-string">&lt;/my&gt;`</span>)<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">with(this)&#123;return _c(&#x27;my&#x27;,</span><br><span class="hljs-comment">    &#123;scopedslofs:_u([</span><br><span class="hljs-comment">        &#123;key:&quot;default&quot;,fn:function(&#123;article&#125;)&#123;</span><br><span class="hljs-comment">            return [</span><br><span class="hljs-comment">                _c(&#x27;h1&#x27;,&#123;attrs:&#123;&quot;slot&quot;:&quot;article.title&quot;),slot:&quot;article.</span><br><span class="hljs-comment">                tit1e&quot;&#125;,[_v(&quot;æ ‡é¢˜&quot;)]),</span><br><span class="hljs-comment">                _v(&quot; &quot;),</span><br><span class="hljs-comment">                _c(&#x27;div&#x27;,&#123;attrs:&#123;&quot;slot&quot;:&quot;article.content&quot;&#125;,slot:&quot;article.</span><br><span class="hljs-comment">                content&quot;&#125;,[_v(&quot;å†…å®¹&quot;)])</span><br><span class="hljs-comment">            ]</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">])</span><br></code></pre></td></tr></table></figure><h2 id="äºŒåå…«ã€Vue-useæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#äºŒåå…«ã€Vue-useæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="äºŒåå…«ã€Vue.useæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>äºŒåå…«ã€Vue.useæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h2><p><code>Vue.use</code>æ˜¯ç”¨æ¥ä½¿ç”¨æ’ä»¶çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ’ä»¶ä¸­æ‰©å±•å…¨å±€ç»„ä»¶ã€æŒ‡ä»¤ã€åŸå‹æ–¹æ³•ç­‰ã€‚ ä¼šè°ƒç”¨ <code>install</code>æ–¹æ³•å°†Vueçš„æ„å»ºå‡½æ•°é»˜è®¤ä¼ å…¥ï¼Œåœ¨æ’ä»¶ä¸­å¯ä»¥ä½¿ç”¨vueï¼Œæ— éœ€ä¾èµ–vueåº“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-property">use</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">plugin: <span class="hljs-built_in">Function</span> | <span class="hljs-built_in">Object</span></span>) &#123;<br>    <span class="hljs-comment">// æ’ä»¶ç¼“å­˜</span><br>    <span class="hljs-keyword">const</span> installedPlugins = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_installedPlugins</span> || (<span class="hljs-variable language_">this</span>.<span class="hljs-property">_installedP1ugins</span> =<br>    []))<br>    <span class="hljs-keyword">if</span> (installedPlugins.<span class="hljs-title function_">indexof</span>(plugin) &gt; -<span class="hljs-number">1</span>) &#123; V<span class="hljs-comment">// å¦‚æœå·²ç»æœ‰æ’ä»¶ ç›´æ¥è¿”å›</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>    &#125;<br>  <br>    <span class="hljs-comment">// additional parameters</span><br>    <span class="hljs-keyword">const</span> args = <span class="hljs-title function_">toArray</span>(<span class="hljs-variable language_">arguments</span>,<span class="hljs-number">1</span>) <span class="hljs-comment">// é™¤äº†ç¬¬ä¸€é¡¹å…¶ä»–çš„å‚æ•°æ•´åˆæˆæ•°ç»„</span><br>    args.<span class="hljs-title function_">unshift</span>(<span class="hljs-variable language_">this</span>) <span class="hljs-comment">// å°†Vue æ”¾ä¿¡åˆ°æ•°ç»„ä¸­</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> plugin.<span class="hljs-property">install</span> ===â€œ<span class="hljs-string">&#x27;function&#x27;</span>) &#123; <span class="hljs-comment">// è°ƒç”¨installæ–¹æ³•</span><br>    plugin.<span class="hljs-property">instal11</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Cplugin</span>,args)<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> plugin ===â€œ<span class="hljs-string">&#x27;function&#x27;</span>) &#123; <span class="hljs-comment">// ç›´æ¥è°ƒç”¨æ–¹æ³•</span><br>    plugin.<span class="hljs-title function_">app1y</span>(<span class="hljs-literal">null</span>,args)<br>    äº†<br>    installedPlugins.<span class="hljs-title function_">push</span>(plugin) <span class="hljs-comment">// ç¼“å­˜æ’ä»¶</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span><br>&#125;                                                      <br><br></code></pre></td></tr></table></figure><h2 id="äºŒåä¹ã€ç»„ä»¶å†™nameæœ‰å•¥å¥½å¤„ï¼Ÿ"><a href="#äºŒåä¹ã€ç»„ä»¶å†™nameæœ‰å•¥å¥½å¤„ï¼Ÿ" class="headerlink" title="äºŒåä¹ã€ç»„ä»¶å†™nameæœ‰å•¥å¥½å¤„ï¼Ÿ"></a>äºŒåä¹ã€ç»„ä»¶å†™nameæœ‰å•¥å¥½å¤„ï¼Ÿ</h2><ul><li>å¢åŠ nameå±æ€§ï¼Œä¼šåœ¨componentså±æ€§ä¸­å¢åŠ ç»„ä»¶æœ¬èº«ï¼Œå®ç°ç»„ä»¶çš„é€’å½’è°ƒç”¨ã€‚</li><li>å¯ä»¥è¡¨ç¤ºç»„ä»¶çš„å…·ä½“åç§°ï¼Œæ–¹ä¾¿è°ƒè¯•å’ŒæŸ¥æ‰¾å¯¹åº”çš„ç»„ä»¶ã€‚</li></ul><h2 id="ä¸‰åã€vueçš„ä¿®é¥°ç¬¦æœ‰å“ªäº›ï¼Ÿ"><a href="#ä¸‰åã€vueçš„ä¿®é¥°ç¬¦æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ä¸‰åã€vueçš„ä¿®é¥°ç¬¦æœ‰å“ªäº›ï¼Ÿ"></a>ä¸‰åã€vueçš„ä¿®é¥°ç¬¦æœ‰å“ªäº›ï¼Ÿ</h2><ul><li>.stop</li><li>.prevent</li><li>.capture</li><li>.self</li><li>.once</li><li>.passive</li><li>.right</li><li>.center</li><li>.middle</li><li>.alt</li></ul><h2 id="ä¸‰åä¸€ã€å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"><a href="#ä¸‰åä¸€ã€å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ" class="headerlink" title="ä¸‰åä¸€ã€å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"></a>ä¸‰åä¸€ã€å¦‚ä½•ç†è§£è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ</h2><ul><li>åœ¨ç”Ÿæˆastè¯­æ³•æ ‘æ—¶ï¼Œé‡åˆ°æŒ‡ä»¤ä¼šç»™å½“å‰å…ƒç´ æ·»åŠ directiveså±æ€§</li><li>é€šè¿‡genDirectivesç”ŸæˆæŒ‡ä»¤ä»£ç </li><li>åœ¨patchå‰ï¼Œå°†æŒ‡ä»¤çš„é’©å­æå–åˆ°cbsä¸­ï¼Œåœ¨patchè¿‡ç¨‹ä¸­è°ƒç”¨å¯¹åº”çš„é’©å­</li><li>å½“æ‰§è¡Œcbså¯¹åº”çš„é’©å­æ—¶ï¼Œè°ƒç”¨å¯¹åº”æŒ‡ä»¤å®šä¹‰æ–¹æ³•</li></ul><h2 id="ä¸‰åäºŒã€keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸‰åäºŒã€keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸‰åäºŒã€keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸‰åäºŒã€keep-aliveå¹³æ—¶åœ¨å“ªé‡Œä½¿ç”¨ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul><li>ä½¿ç”¨keep-aliveåŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šå¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œé¿å…ç»„ä»¶é‡æ–°åˆ›å»º</li></ul><p>ä½¿ç”¨æœ‰ä¸¤ä¸ªåœºæ™¯ï¼Œä¸€ä¸ªæ˜¯åŠ¨æ€ç»„ä»¶ï¼Œä¸€ä¸ªæ˜¯router-view</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;keep-alive :include=&quot;whiteList&quot; :exclude=&quot;blackList&quot; :max=&quot;count&quot;&gt;<br>    &lt;component :is=&quot;component&quot;&gt;&lt;/component&gt;<br>&lt;/keep-alive&gt;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;keep-alive :include=&quot;whiteList&quot; :exclude=&quot;blackList&quot; :max=&quot;count&quot;&gt;<br>    &lt;router-view&gt;&lt;/router-view&gt;<br>&lt;/keep-alive&gt;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªç™½åå•å’Œä¸€ä¸ªé»‘åå•ã€‚è¡¨æ˜å“ªäº›éœ€è¦éœ€è¦åšç¼“å­˜ï¼Œå“ªäº›ä¸éœ€è¦åšç¼“å­˜ã€‚ä»¥åŠæœ€å¤§çš„ç¼“å­˜ä¸ªæ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;keep-alive&#x27;</span>,<br>    <span class="hljs-attr">abstract</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä¸ä¼šæ”¾åˆ°å¯¹åº”çš„lifecycle</span><br>  <br>    <span class="hljs-attr">props</span>: &#123;<br>        <span class="hljs-attr">include</span>: patternTypes,<span class="hljs-comment">//ç™½åå•</span><br>        <span class="hljs-attr">exclude</span>: patternTypes,<span class="hljs-comment">//é»‘åå•</span><br>        <span class="hljs-attr">max</span>: [<span class="hljs-title class_">String</span>,<span class="hljs-title class_">Number</span>] <span class="hljs-comment">//ç¼“å­˜çš„æœ€å¤§ä¸ªæ•°</span><br>    &#125;,<br>  <br>    <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">//ç¼“å­˜åˆ—è¡¨</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">keys</span> = [] <span class="hljs-comment">//ç¼“å­˜çš„keyåˆ—è¡¨</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼“å­˜çš„æ˜¯ç»„ä»¶çš„å®ä¾‹ï¼Œç”¨keyå’Œvalueå¯¹è±¡ä¿å­˜ã€‚</p><p>åŠ è½½çš„æ—¶å€™ï¼Œç›‘æ§includeå’Œexcludeã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-comment">//ç›‘æ§ç¼“å­˜åˆ—è¡¨</span><br><span class="hljs-variable language_">this</span>.$watch(<span class="hljs-string">&#x27;include&#x27;</span>,<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123; <span class="hljs-comment">//ç¼“å­˜åˆ—è¡¨å¯ä»¥æ˜¯åŠ¨æ€çš„</span><br><span class="hljs-title function_">pruneCache</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> <span class="hljs-title function_">matches</span>(val,name))<br>&#125;)<br>    <span class="hljs-variable language_">this</span>.$watch(<span class="hljs-string">&#x27;exclude&#x27;</span>,<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;<br><span class="hljs-title function_">pruneCache</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> !<span class="hljs-title function_">matches</span>(val,name))<br>&#125;)<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸éœ€è¦ç¼“å­˜ï¼Œç›´æ¥è¿”å›è™šæ‹ŸèŠ‚ç‚¹ã€‚</p><p>å¦‚æœéœ€è¦ç¼“å­˜ï¼Œå°±ç”¨ç»„ä»¶çš„idå’Œæ ‡ç­¾åï¼Œç”Ÿæˆä¸€ä¸ªkeyï¼ŒæŠŠå½“å‰vnodeçš„instanceä½œä¸ºvalueï¼Œå­˜æˆä¸€ä¸ªå¯¹è±¡ã€‚è¿™å°±æ˜¯ç¼“å­˜åˆ—è¡¨</p><p>å¦‚æœè®¾ç½®äº†æœ€å¤§çš„ç¼“å­˜æ•°ï¼Œå°±åˆ é™¤ç¬¬0ä¸ªç¼“å­˜ã€‚æ–°å¢æœ€æ–°çš„ç¼“å­˜ã€‚</p><p>å¹¶ä¸”ç»™ç»„ä»¶æ·»åŠ ä¸€ä¸ªkeepAliveå˜é‡ä¸ºtrueï¼Œå½“ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¸å†åˆå§‹åŒ–ã€‚</p><h2 id="ä¸‰åä¸‰ã€vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿæ‰§è¡Œæµç¨‹å¦‚ä½•ï¼Ÿ"><a href="#ä¸‰åä¸‰ã€vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿæ‰§è¡Œæµç¨‹å¦‚ä½•ï¼Ÿ" class="headerlink" title="ä¸‰åä¸‰ã€vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿæ‰§è¡Œæµç¨‹å¦‚ä½•ï¼Ÿ"></a>ä¸‰åä¸‰ã€vue-routeræœ‰å‡ ç§é’©å­å‡½æ•°ï¼Ÿæ‰§è¡Œæµç¨‹å¦‚ä½•ï¼Ÿ</h2><p>é’©å­å‡½æ•°æœ‰ä¸‰ç§ï¼š</p><ul><li>å…¨å±€å®ˆå«</li><li>è·¯ç”±å®ˆå«</li><li>ç»„ä»¶å®ˆå«</li></ul><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs tex">1.å¯¼èˆªè¢«è§¦å‘ã€‚<br>2.åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteLeaveå®ˆå«<br>3.è°ƒç”¨å…¨å±€çš„beforeEachå®ˆå«ã€‚<br>4.åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteUpdateå®ˆå«ï¼ˆ2.2+ï¼‰ã€‚<br>5.åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨beforeEnterã€‚<br>6.è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚<br>7.åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨beforeRouteEnterã€‚<br>8.è°ƒç”¨å…¨å±€çš„beforeResolveå®ˆå«ï¼ˆ2.5+ï¼‰ã€‚<br>9.å¯¼èˆªè¢«ç¡®è®¤ã€‚<br>10.è°ƒç”¨å…¨å±€çš„afertEaché’©å­ã€‚<br>11.è§¦å‘DOMæ›´æ–°ã€‚<br>12.è°ƒç”¨beforeRouteEnterå®ˆå«ä¸­ä¼ ç»™nextçš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚<br></code></pre></td></tr></table></figure><h2 id="ä¸‰åå››ã€vuerouterçš„ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«"><a href="#ä¸‰åå››ã€vuerouterçš„ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«" class="headerlink" title="ä¸‰åå››ã€vuerouterçš„ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«"></a>ä¸‰åå››ã€vuerouterçš„ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«</h2><ul><li>vue-routerä¸­æœ‰ä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯hashã€historyã€abstract</li><li>abstractåœ¨ä¸æ”¯æŒæµè§ˆå™¨çš„APIæ¢æ™¯ä½¿ç”¨</li><li>hashæ¨¡å¼å…¼å®¹æ€§å¥½ï¼Œä½†æ˜¯ä¸ç¾è§‚ï¼Œä¸åˆ©äºSEO</li><li>historyç¾è§‚ï¼ŒhistoryAPI+popStateï¼Œä½†æ˜¯åˆ·æ–°ä¼šå‡ºç°404</li></ul><h2 id="ä¸‰åäº”ã€è°ˆè°ˆVueçš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ"><a href="#ä¸‰åäº”ã€è°ˆè°ˆVueçš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ä¸‰åäº”ã€è°ˆè°ˆVueçš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ"></a>ä¸‰åäº”ã€è°ˆè°ˆVueçš„æ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ</h2><ul><li>æ•°æ®å±‚çº§ä¸è¦è¿‡æ·±ï¼Œåˆç†çš„è®¾ç½®å“åº”å¼æ•°æ®</li><li>ä½¿ç”¨æ•°æ®æ—¶ï¼Œç¼“å­˜å€¼çš„ç»“æœï¼Œä¸é¢‘ç¹å–å€¼</li><li>åˆç†è®¾ç½®key</li><li>v-show(é¢‘ç¹åˆ‡æ¢æ€§èƒ½é«˜)å’Œv-ifçš„åˆç†ä½¿ç”¨</li><li>æ§åˆ¶ç»„ä»¶çš„ç²’åº¦ -&gt; Vueé‡‡ç”¨ç»„ä»¶çº§åˆ«æ›´æ–°</li><li>é‡‡ç”¨å‡½æ•°å¼ç»„ä»¶ -&gt; å‡½æ•°å¼ç»„ä»·å¼€é”€ä½</li><li>é‡‡ç”¨å¼‚æ­¥ç»„ä»¶ -&gt; å€ŸåŠ©webpackçš„åˆ†åŒ…ç­–ç•¥</li><li>ä½¿ç”¨keep-aliveæ¥ç¼“å­˜ç»„ä»¶</li><li>è™šæ‹Ÿæ»šåŠ¨ã€æ—¶é—´åˆ†ç‰‡ç­‰ç­–ç•¥</li><li>æ‰“åŒ…ä¼˜åŒ–</li></ul><h2 id="ä¸‰åå…­ã€è°ˆè°ˆä½ å¯¹Vuexçš„ç†è§£ï¼Ÿ"><a href="#ä¸‰åå…­ã€è°ˆè°ˆä½ å¯¹Vuexçš„ç†è§£ï¼Ÿ" class="headerlink" title="ä¸‰åå…­ã€è°ˆè°ˆä½ å¯¹Vuexçš„ç†è§£ï¼Ÿ"></a>ä¸‰åå…­ã€è°ˆè°ˆä½ å¯¹Vuexçš„ç†è§£ï¼Ÿ</h2><p>Vuexæ˜¯ä¸“é—¨ä¸ºvueæä¾›çš„å…¨å±€çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå¤šä¸ªç»„ä»¶ä¸­çš„æ•°æ®å…±äº«ã€æ•°æ®ç¼“å­˜ã€‚</p><p>é—®é¢˜ï¼šæ— æ³•æŒä¹…åŒ–ã€‚</p><p><img src="https://s3.uuu.ovh/imgs/2022/11/25/f58979101b7d029d.png"></p><ul><li>mutation ä¸»è¦ä¿®æ”¹çŠ¶æ€ï¼ŒåŒæ­¥æ‰§è¡Œ</li><li>action æ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œæ–¹ä¾¿å¤ç”¨ï¼Œé€»è¾‘å¯ä»¥ä¸ºå¼‚æ­¥ã€‚ä¸èƒ½ç›´æ¥ä¿®æ”¹çŠ¶æ€ã€‚</li></ul><h2 id="ä¸‰åä¸ƒã€vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ"><a href="#ä¸‰åä¸ƒã€vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä¸‰åä¸ƒã€vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ"></a>ä¸‰åä¸ƒã€vueä¸­ä½¿ç”¨äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ</h2><ul><li>å•ä¾‹æ¨¡å¼ï¼šnewå¤šæ¬¡ï¼Œåªæœ‰ä¸€ä¸ªå®ä¾‹</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">install</span> (<span class="hljs-params">_Vue</span>) &#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title class_">Vue</span> &amp;&amp; _Vue === <span class="hljs-title class_">Vue</span>) &#123;<br>        <span class="hljs-keyword">if</span>(__DEV__)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<br>            <span class="hljs-string">&#x27;[vuex] already installed. Vue.use(Vuex) should be called only once.&#x27;</span><br>            )<br>        &#125;<br>        <span class="hljs-keyword">return</span><br>    &#125;<br>    <span class="hljs-title class_">Vue</span> = _Vue<br>    <span class="hljs-title function_">applyMixin</span>(<span class="hljs-title class_">Vue</span>)<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å·¥åœºæ¨¡å¼ï¼šä¼ å…¥å‚æ•°å°±å¯ä»¥åˆ›å»ºå®ä¾‹ï¼ˆè™šæ‹ŸèŠ‚ç‚¹çš„åˆ›å»ºï¼‰</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ševentBus</li><li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šwatchå’Œdep</li><li>ä»£ç†æ¨¡å¼ï¼š_dataå±æ€§ã€proxyã€é˜²æŠ–ã€èŠ‚æµ</li><li>ä¸­ä»‹è€…æ¨¡å¼ï¼švuex</li><li>ç­–ç•¥æ¨¡å¼</li><li>å¤–è§‚æ¨¡å¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>interview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¢è¯•é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Webpackä¼˜åŒ–</title>
    <link href="/blog/2022/11/24/webpack-optimization/"/>
    <url>/blog/2022/11/24/webpack-optimization/</url>
    
    <content type="html"><![CDATA[<h1 id="Webpackä¼˜åŒ–"><a href="#Webpackä¼˜åŒ–" class="headerlink" title="Webpackä¼˜åŒ–"></a>Webpackä¼˜åŒ–</h1><h2 id="ä¸€ã€æ„å»ºæ—¶é—´ä¼˜åŒ–"><a href="#ä¸€ã€æ„å»ºæ—¶é—´ä¼˜åŒ–" class="headerlink" title="ä¸€ã€æ„å»ºæ—¶é—´ä¼˜åŒ–"></a>ä¸€ã€æ„å»ºæ—¶é—´ä¼˜åŒ–</h2><p>é¦–å…ˆå°±æ˜¯æ„å»ºæ—¶é—´çš„ä¼˜åŒ–äº†</p><h3 id="1-thread-loader"><a href="#1-thread-loader" class="headerlink" title="1.thread-loader"></a>1.thread-loader</h3><p>å¤šè¿›ç¨‹æ‰“åŒ…ï¼Œå¯ä»¥å¤§å¤§æé«˜æ„å»ºçš„é€Ÿåº¦ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯å°†<code>thread-loader</code>æ”¾åœ¨æ¯”è¾ƒè´¹æ—¶é—´çš„loaderä¹‹å‰ï¼Œæ¯”å¦‚<code>babel-loader</code></p><blockquote><p>ç”±äºå¯åŠ¨é¡¹ç›®å’Œæ‰“åŒ…é¡¹ç›®éƒ½éœ€è¦åŠ é€Ÿï¼Œæ‰€ä»¥é…ç½®åœ¨<code>webpack.base.js</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i thread-loader -D <br><span class="hljs-comment">// webpack.base.js</span><br><br>&#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-attr">use</span>: [<br>          <span class="hljs-string">&#x27;thread-loader&#x27;</span>,<br>          <span class="hljs-string">&#x27;babel-loader&#x27;</span><br>        ],<br>      &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-cache-loader"><a href="#2-cache-loader" class="headerlink" title="2.cache-loader"></a>2.cache-loader</h3><p>ç¼“å­˜èµ„æºï¼Œæé«˜äºŒæ¬¡æ„å»ºçš„é€Ÿåº¦ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯å°†<code>cache-loader</code>æ”¾åœ¨æ¯”è¾ƒè´¹æ—¶é—´çš„loaderä¹‹å‰ï¼Œæ¯”å¦‚<code>babel-loader</code></p><blockquote><p>ç”±äºå¯åŠ¨é¡¹ç›®å’Œæ‰“åŒ…é¡¹ç›®éƒ½éœ€è¦åŠ é€Ÿï¼Œæ‰€ä»¥é…ç½®åœ¨<code>webpack.base.js</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i cache-loader -D<br> <br><span class="hljs-comment">// webpack.base.js</span><br><br>&#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-attr">use</span>: [<br>          <span class="hljs-string">&#x27;cache-loader&#x27;</span>,<br>          <span class="hljs-string">&#x27;thread-loader&#x27;</span>,<br>          <span class="hljs-string">&#x27;babel-loader&#x27;</span><br>        ],<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="3-å¼€å¯çƒ­æ›´æ–°"><a href="#3-å¼€å¯çƒ­æ›´æ–°" class="headerlink" title="3.å¼€å¯çƒ­æ›´æ–°"></a>3.å¼€å¯çƒ­æ›´æ–°</h3><p>æ¯”å¦‚ä½ ä¿®æ”¹äº†é¡¹ç›®ä¸­æŸä¸€ä¸ªæ–‡ä»¶ï¼Œä¼šå¯¼è‡´æ•´ä¸ªé¡¹ç›®åˆ·æ–°ï¼Œè¿™éå¸¸è€—æ—¶é—´ã€‚å¦‚æœåªåˆ·æ–°ä¿®æ”¹çš„è¿™ä¸ªæ¨¡å—ï¼Œå…¶ä»–ä¿æŒåŸçŠ¶ï¼Œé‚£å°†å¤§å¤§æé«˜ä¿®æ”¹ä»£ç çš„é‡æ–°æ„å»ºæ—¶é—´</p><blockquote><p>åªç”¨äºå¼€å‘ä¸­ï¼Œæ‰€ä»¥é…ç½®åœ¨<code>webpack.dev.js</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.dev.js</span><br><br><span class="hljs-comment">//å¼•å…¥webpack</span><br><span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;webpack&#x27;</span>);<br><span class="hljs-comment">//ä½¿ç”¨webpackæä¾›çš„çƒ­æ›´æ–°æ’ä»¶</span><br>   <span class="hljs-attr">plugins</span>: [<br>   <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">HotModuleReplacementPlugin</span>()<br>    ],<br>    <span class="hljs-comment">//æœ€åéœ€è¦åœ¨æˆ‘ä»¬çš„devserverä¸­é…ç½®</span><br>     <span class="hljs-attr">devServer</span>: &#123;<br>+     <span class="hljs-attr">hot</span>: <span class="hljs-literal">true</span><br>    &#125;,<br></code></pre></td></tr></table></figure><h3 id="4-exclude-include"><a href="#4-exclude-include" class="headerlink" title="4.exclude &amp; include"></a>4.exclude &amp; include</h3><ul><li><code>exclude</code>ï¼šä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶</li><li><code>include</code>ï¼šéœ€è¦å¤„ç†çš„æ–‡ä»¶</li></ul><p>åˆç†è®¾ç½®è¿™ä¸¤ä¸ªå±æ€§ï¼Œå¯ä»¥å¤§å¤§æé«˜æ„å»ºé€Ÿåº¦</p><blockquote><p>åœ¨<code>webpack.base.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.base.js</span><br><br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<br>        <span class="hljs-comment">//ä½¿ç”¨includeæ¥æŒ‡å®šç¼–è¯‘æ–‡ä»¶å¤¹</span><br>        <span class="hljs-attr">include</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;../src&#x27;</span>),<br>        <span class="hljs-comment">//ä½¿ç”¨excludeæ’é™¤æŒ‡å®šæ–‡ä»¶å¤¹</span><br>        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span>,<br>        <span class="hljs-attr">use</span>: [<br>          <span class="hljs-string">&#x27;babel-loader&#x27;</span><br>        ]<br>      &#125;,<br></code></pre></td></tr></table></figure><h3 id="5-æ„å»ºåŒºåˆ†ç¯å¢ƒ"><a href="#5-æ„å»ºåŒºåˆ†ç¯å¢ƒ" class="headerlink" title="5.æ„å»ºåŒºåˆ†ç¯å¢ƒ"></a>5.æ„å»ºåŒºåˆ†ç¯å¢ƒ</h3><p>åŒºåˆ†ç¯å¢ƒå»æ„å»ºæ˜¯éå¸¸é‡è¦çš„ï¼Œæˆ‘ä»¬è¦æ˜ç¡®çŸ¥é“ï¼Œå¼€å‘ç¯å¢ƒæ—¶æˆ‘ä»¬éœ€è¦å“ªäº›é…ç½®ï¼Œä¸éœ€è¦å“ªäº›é…ç½®ï¼›è€Œæœ€ç»ˆæ‰“åŒ…ç”Ÿäº§ç¯å¢ƒæ—¶åˆéœ€è¦å“ªäº›é…ç½®ï¼Œä¸éœ€è¦å“ªäº›é…ç½®ï¼š</p><ul><li><code>å¼€å‘ç¯å¢ƒ</code>ï¼šå»é™¤ä»£ç å‹ç¼©ã€gzipã€ä½“ç§¯åˆ†æç­‰ä¼˜åŒ–çš„é…ç½®ï¼Œå¤§å¤§æé«˜æ„å»ºé€Ÿåº¦</li><li><code>ç”Ÿäº§ç¯å¢ƒ</code>ï¼šéœ€è¦ä»£ç å‹ç¼©ã€gzipã€ä½“ç§¯åˆ†æç­‰ä¼˜åŒ–çš„é…ç½®ï¼Œå¤§å¤§é™ä½æœ€ç»ˆé¡¹ç›®æ‰“åŒ…ä½“ç§¯</li></ul><blockquote><p>ä¸Šç¯‡æ–‡ç« å·²ç»å¸¦å¤§å®¶è¿›è¡Œäº†ç¯å¢ƒåŒºåˆ†</p></blockquote><h3 id="6-æå‡webpackç‰ˆæœ¬"><a href="#6-æå‡webpackç‰ˆæœ¬" class="headerlink" title="6.æå‡webpackç‰ˆæœ¬"></a>6.æå‡webpackç‰ˆæœ¬</h3><p>webpackç‰ˆæœ¬è¶Šæ–°ï¼Œæ‰“åŒ…çš„æ•ˆæœè‚¯å®šæ›´å¥½</p><h2 id="äºŒã€æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–"><a href="#äºŒã€æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–" class="headerlink" title="äºŒã€æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–"></a>äºŒã€æ‰“åŒ…ä½“ç§¯ä¼˜åŒ–</h2><p>ä¸»è¦æ˜¯æ‰“åŒ…åé¡¹ç›®æ•´ä½“ä½“ç§¯çš„ä¼˜åŒ–ï¼Œæœ‰åˆ©äºé¡¹ç›®ä¸Šçº¿åçš„é¡µé¢åŠ è½½é€Ÿåº¦æå‡</p><blockquote><p>æœ¬é¡¹ç›®å·²ç»æ˜¯webpackæœ€æ–°ç‰ˆæœ¬</p></blockquote><h3 id="1-CSSä»£ç å‹ç¼©"><a href="#1-CSSä»£ç å‹ç¼©" class="headerlink" title="1.CSSä»£ç å‹ç¼©"></a>1.CSSä»£ç å‹ç¼©</h3><p>CSSä»£ç å‹ç¼©ä½¿ç”¨<code>css-minimizer-webpack-plugin</code>ï¼Œæ•ˆæœåŒ…æ‹¬å‹ç¼©ã€å»é‡</p><blockquote><p>ä»£ç çš„å‹ç¼©æ¯”è¾ƒè€—æ—¶é—´ï¼Œæ‰€ä»¥åªç”¨åœ¨æ‰“åŒ…é¡¹ç›®æ—¶ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨<code>webpack.prod.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i css-minimizer-webpack-plugin -D<br> <br><span class="hljs-comment">// webpack.prod.js</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">CssMinimizerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;css-minimizer-webpack-plugin&#x27;</span>)<br><br>  <span class="hljs-attr">optimization</span>: &#123;<br>    <span class="hljs-attr">minimizer</span>: [<br>      <span class="hljs-keyword">new</span> <span class="hljs-title class_">CssMinimizerPlugin</span>(), <span class="hljs-comment">// å»é‡å‹ç¼©css</span><br>    ],<br>  &#125;<br></code></pre></td></tr></table></figure><h3 id="2-JSä»£ç å‹ç¼©"><a href="#2-JSä»£ç å‹ç¼©" class="headerlink" title="2.JSä»£ç å‹ç¼©"></a>2.JSä»£ç å‹ç¼©</h3><p>JSä»£ç å‹ç¼©ä½¿ç”¨<code>terser-webpack-plugin</code>ï¼Œå®ç°æ‰“åŒ…åJSä»£ç çš„å‹ç¼©</p><blockquote><p>ä»£ç çš„å‹ç¼©æ¯”è¾ƒè€—æ—¶é—´ï¼Œæ‰€ä»¥åªç”¨åœ¨æ‰“åŒ…é¡¹ç›®æ—¶ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨<code>webpack.prod.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i terser-webpack-plugin -D<br> <br><span class="hljs-comment">// webpack.prod.js</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">TerserPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;terser-webpack-plugin&#x27;</span>)<br><br>  <span class="hljs-attr">optimization</span>: &#123;<br>    <span class="hljs-attr">minimizer</span>: [<br>      <span class="hljs-keyword">new</span> <span class="hljs-title class_">CssMinimizerPlugin</span>(), <span class="hljs-comment">// å»é‡å‹ç¼©css</span><br>      <span class="hljs-keyword">new</span> <span class="hljs-title class_">TerserPlugin</span>(&#123; <span class="hljs-comment">// å‹ç¼©JSä»£ç </span><br>        <span class="hljs-attr">terserOptions</span>: &#123;<br>          <span class="hljs-attr">compress</span>: &#123;<br>            <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å»é™¤console</span><br>          &#125;,<br>        &#125;,<br>      &#125;), <span class="hljs-comment">// å‹ç¼©JavaScript</span><br>    ],<br>  &#125;<br></code></pre></td></tr></table></figure><h3 id="3-tree-shaking"><a href="#3-tree-shaking" class="headerlink" title="3.tree-shaking"></a>3.tree-shaking</h3><p><code>tree-shaking</code>ç®€å•è¯´ä½œç”¨å°±æ˜¯ï¼šåªæ‰“åŒ…ç”¨åˆ°çš„ä»£ç ï¼Œæ²¡ç”¨åˆ°çš„ä»£ç ä¸æ‰“åŒ…ï¼Œè€Œ<code>webpack5</code>é»˜è®¤å¼€å¯<code>tree-shaking</code>ï¼Œå½“æ‰“åŒ…çš„<code>mode</code>ä¸º<code>production</code>æ—¶ï¼Œè‡ªåŠ¨å¼€å¯<code>tree-shaking</code>è¿›è¡Œä¼˜åŒ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&#x27;production&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-source-mapç±»å‹"><a href="#4-source-mapç±»å‹" class="headerlink" title="4.source-mapç±»å‹"></a>4.source-mapç±»å‹</h3><p><code>source-map</code>çš„ä½œç”¨æ˜¯ï¼šæ–¹ä¾¿ä½ æŠ¥é”™çš„æ—¶å€™èƒ½å®šä½åˆ°é”™è¯¯ä»£ç çš„ä½ç½®ã€‚å®ƒçš„ä½“ç§¯ä¸å®¹å°è§‘ï¼Œæ‰€ä»¥å¯¹äºä¸åŒç¯å¢ƒè®¾ç½®ä¸åŒçš„ç±»å‹æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><ul><li><strong>å¼€å‘ç¯å¢ƒ</strong></li></ul><p>å¼€å‘ç¯å¢ƒçš„æ—¶å€™æˆ‘ä»¬éœ€è¦èƒ½ç²¾å‡†å®šä½é”™è¯¯ä»£ç çš„ä½ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.dev.js</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&#x27;development&#x27;</span>,<br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&#x27;eval-cheap-module-source-map&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>ç”Ÿäº§ç¯å¢ƒ</strong></li></ul><p>ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬æƒ³å¼€å¯<code>source-map</code>ï¼Œä½†æ˜¯åˆä¸æƒ³ä½“ç§¯å¤ªå¤§ï¼Œé‚£ä¹ˆå¯ä»¥æ¢ä¸€ç§ç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.prod.js</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&#x27;production&#x27;</span>,<br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&#x27;nosources-source-map&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-æ‰“åŒ…ä½“ç§¯åˆ†æ"><a href="#5-æ‰“åŒ…ä½“ç§¯åˆ†æ" class="headerlink" title="5.æ‰“åŒ…ä½“ç§¯åˆ†æ"></a>5.æ‰“åŒ…ä½“ç§¯åˆ†æ</h3><p>ä½¿ç”¨<code>webpack-bundle-analyzer</code>å¯ä»¥å®¡æŸ¥æ‰“åŒ…åçš„ä½“ç§¯åˆ†å¸ƒï¼Œè¿›è€Œè¿›è¡Œç›¸åº”çš„ä½“ç§¯ä¼˜åŒ–</p><blockquote><p>åªéœ€è¦æ‰“åŒ…æ—¶çœ‹ä½“ç§¯ï¼Œæ‰€ä»¥åªéœ€åœ¨<code>webpack.prod.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i webpack-bundle-analyzer -D<br> <br><span class="hljs-comment">// webpack.prod.js</span><br><br><span class="hljs-keyword">const</span> &#123;<br>  <span class="hljs-title class_">BundleAnalyzerPlugin</span><br>&#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;webpack-bundle-analyzer&#x27;</span>)<br><br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span>(),<br>]<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–"><a href="#ä¸‰ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–" class="headerlink" title="ä¸‰ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–"></a>ä¸‰ã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h2><h3 id="1-æ¨¡å—æ‡’åŠ è½½"><a href="#1-æ¨¡å—æ‡’åŠ è½½" class="headerlink" title="1.æ¨¡å—æ‡’åŠ è½½"></a>1.æ¨¡å—æ‡’åŠ è½½</h3><p>å¦‚æœä¸è¿›è¡Œ<code>æ¨¡å—æ‡’åŠ è½½</code>çš„è¯ï¼Œæœ€åæ•´ä¸ªé¡¹ç›®ä»£ç éƒ½ä¼šè¢«æ‰“åŒ…åˆ°ä¸€ä¸ªjsæ–‡ä»¶é‡Œï¼Œå•ä¸ªjsæ–‡ä»¶ä½“ç§¯éå¸¸å¤§ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·ç½‘é¡µè¯·æ±‚çš„æ—¶å€™ï¼Œé¦–å±åŠ è½½æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œä½¿ç”¨<code>æ¨¡å—æ‡’åŠ è½½</code>ä¹‹åï¼Œå¤§jsæ–‡ä»¶ä¼šåˆ†æˆå¤šä¸ªå°jsæ–‡ä»¶ï¼Œç½‘é¡µåŠ è½½æ—¶ä¼šæŒ‰éœ€åŠ è½½ï¼Œå¤§å¤§æå‡é¦–å±åŠ è½½é€Ÿåº¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// src/router/index.js</span><br><br><span class="hljs-keyword">const</span> routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;login&#x27;</span>,<br>    <span class="hljs-attr">component</span>: login<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;home&#x27;</span>,<br>    <span class="hljs-comment">// æ‡’åŠ è½½</span><br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/home/home.vue&#x27;</span>),<br>  &#125;,<br>]<br></code></pre></td></tr></table></figure><h3 id="2-Gzip"><a href="#2-Gzip" class="headerlink" title="2.Gzip"></a>2.Gzip</h3><p>å¼€å¯Gzipåï¼Œå¤§å¤§æé«˜ç”¨æˆ·çš„é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå› ä¸ºgzipçš„ä½“ç§¯æ¯”åŸæ–‡ä»¶å°å¾ˆå¤šï¼Œå½“ç„¶éœ€è¦åç«¯çš„é…åˆï¼Œä½¿ç”¨<code>compression-webpack-plugin</code></p><blockquote><p>åªéœ€è¦æ‰“åŒ…æ—¶ä¼˜åŒ–ä½“ç§¯ï¼Œæ‰€ä»¥åªéœ€åœ¨<code>webpack.prod.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">npm i compression-webpack-plugin -D<br> <br><span class="hljs-comment">// webpack.prod.js</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">CompressionPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;compression-webpack-plugin&#x27;</span>)<br><br>  <span class="hljs-attr">plugins</span>: [<br>    <span class="hljs-comment">// ä¹‹å‰çš„ä»£ç ...</span><br>    <br>    <span class="hljs-comment">// gzip</span><br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompressionPlugin</span>(&#123;<br>      <span class="hljs-attr">algorithm</span>: <span class="hljs-string">&#x27;gzip&#x27;</span>,<br>      <span class="hljs-attr">threshold</span>: <span class="hljs-number">10240</span>,<br>      <span class="hljs-attr">minRatio</span>: <span class="hljs-number">0.8</span><br>    &#125;)<br>  ]<br></code></pre></td></tr></table></figure><h3 id="3-å°å›¾ç‰‡è½¬base64"><a href="#3-å°å›¾ç‰‡è½¬base64" class="headerlink" title="3.å°å›¾ç‰‡è½¬base64"></a>3.å°å›¾ç‰‡è½¬base64</h3><p>å¯¹äºä¸€äº›å°å›¾ç‰‡ï¼Œå¯ä»¥è½¬base64ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç”¨æˆ·çš„httpç½‘ç»œè¯·æ±‚æ¬¡æ•°ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚<code>webpack5</code>ä¸­<code>url-loader</code>å·²è¢«åºŸå¼ƒï¼Œæ”¹ç”¨<code>asset-module</code></p><blockquote><p>åœ¨<code>webpack.base.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.base.js</span><br><br>&#123;<br>   <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif|svg|webp)$/</span>,<br>   <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;asset&#x27;</span>,<br>   <span class="hljs-attr">parser</span>: &#123;<br>     <span class="hljs-comment">// è½¬base64çš„æ¡ä»¶</span><br>     <span class="hljs-attr">dataUrlCondition</span>: &#123;<br>        <span class="hljs-attr">maxSize</span>: <span class="hljs-number">25</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 25kb</span><br>     &#125;<br>   &#125;,<br>   <span class="hljs-attr">generator</span>: &#123;<br>     <span class="hljs-comment">// æ‰“åŒ…åˆ° image æ–‡ä»¶ä¸‹</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;images/[contenthash][ext][query]&#x27;</span>,<br>   &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure><h3 id="4-åˆç†é…ç½®hash"><a href="#4-åˆç†é…ç½®hash" class="headerlink" title="4.åˆç†é…ç½®hash"></a>4.åˆç†é…ç½®hash</h3><p>æˆ‘ä»¬è¦ä¿è¯ï¼Œæ”¹è¿‡çš„æ–‡ä»¶éœ€è¦æ›´æ–°hashå€¼ï¼Œè€Œæ²¡æ”¹è¿‡çš„æ–‡ä»¶ä¾ç„¶ä¿æŒåŸæœ¬çš„hashå€¼ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨ä¸Šçº¿åï¼Œæµè§ˆå™¨è®¿é—®æ—¶æ²¡æœ‰æ”¹å˜çš„æ–‡ä»¶ä¼šå‘½ä¸­ç¼“å­˜ï¼Œä»è€Œè¾¾åˆ°æ€§èƒ½ä¼˜åŒ–çš„ç›®çš„</p><blockquote><p>åœ¨<code>webpack.base.js</code>ä¸­é…ç½®</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// webpack.base.js</span><br><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;../dist&#x27;</span>),<br>    <span class="hljs-comment">// ç»™jsæ–‡ä»¶åŠ ä¸Š contenthash</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;js/chunk-[contenthash].js&#x27;</span>,<br>    <span class="hljs-attr">clean</span>: <span class="hljs-literal">true</span>,<br>  &#125;,<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>webpack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Webpackä¼˜åŒ–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>webpack4åŸºæœ¬é…ç½®</title>
    <link href="/blog/2022/11/18/webpack-configuration/"/>
    <url>/blog/2022/11/18/webpack-configuration/</url>
    
    <content type="html"><![CDATA[<h1 id="webpack4åŸºæœ¬é…ç½®"><a href="#webpack4åŸºæœ¬é…ç½®" class="headerlink" title="webpack4åŸºæœ¬é…ç½®"></a>webpack4åŸºæœ¬é…ç½®</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><h4 id="1-å®˜ç½‘è§£é‡Š"><a href="#1-å®˜ç½‘è§£é‡Š" class="headerlink" title="1.å®˜ç½‘è§£é‡Š"></a>1.å®˜ç½‘è§£é‡Š</h4><ul><li>æœ¬è´¨ä¸Šï¼Œ<strong>webpack</strong> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„ <em>é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</em>ã€‚å½“  webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨ä»ä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£ç‚¹æ„å»ºä¸€ä¸ª [ä¾èµ–å›¾(dependency graph)]ï¼Œç„¶åå°†ä½ é¡¹ç›®ä¸­æ‰€éœ€çš„æ¯ä¸€ä¸ª æ¨¡å—ç»„åˆæˆä¸€ä¸ªæˆ–å¤šä¸ª <em>bundles</em>ï¼Œå®ƒä»¬å‡ä¸ºé™æ€èµ„æºï¼Œç”¨äºå±•ç¤ºä½ çš„å†…å®¹</li></ul><h4 id="2-ç†è§£"><a href="#2-ç†è§£" class="headerlink" title="2.ç†è§£"></a>2.ç†è§£</h4><ul><li>Webpackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼Œå®ƒåšçš„äº‹æƒ…æ˜¯åˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆä¾‹å¦‚ï¼šScssï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</li></ul><h4 id="3-webpack-åŸºç¡€æ¦‚å¿µ"><a href="#3-webpack-åŸºç¡€æ¦‚å¿µ" class="headerlink" title="3.webpack åŸºç¡€æ¦‚å¿µ"></a>3.webpack åŸºç¡€æ¦‚å¿µ</h4><ol><li>Entryï¼šå…¥å£ï¼ŒWebpack æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥å°†ä» Entry å¼€å§‹ï¼Œå¯æŠ½è±¡æˆè¾“å…¥ã€‚</li><li>Moduleï¼šæ¨¡å—ï¼Œåœ¨ Webpack é‡Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ã€‚Webpack ä¼šä»é…ç½®çš„ Entry å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ã€‚</li><li>Chunkï¼šä»£ç å—ï¼Œä¸€ä¸ª Chunk ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²ã€‚</li><li>Loaderï¼šæ¨¡å—è½¬æ¢å™¨ï¼Œç”¨äºæŠŠæ¨¡å—åŸå†…å®¹æŒ‰ç…§éœ€æ±‚è½¬æ¢æˆæ–°å†…å®¹ã€‚</li><li>Pluginï¼šæ‰©å±•æ’ä»¶ï¼Œåœ¨ Webpack æ„å»ºæµç¨‹ä¸­çš„ç‰¹å®šæ—¶æœºæ³¨å…¥æ‰©å±•é€»è¾‘æ¥æ”¹å˜æ„å»ºç»“æœæˆ–åšä½ æƒ³è¦çš„äº‹æƒ…ã€‚</li><li>Outputï¼šè¾“å‡ºç»“æœï¼Œåœ¨ Webpack ç»è¿‡ä¸€ç³»åˆ—å¤„ç†å¹¶å¾—å‡ºæœ€ç»ˆæƒ³è¦çš„ä»£ç åè¾“å‡ºç»“æœã€‚</li></ol><h2 id="1-ä»0å¼€å§‹é…ç½®ç»“æ„"><a href="#1-ä»0å¼€å§‹é…ç½®ç»“æ„" class="headerlink" title="1. ä»0å¼€å§‹é…ç½®ç»“æ„"></a>1. ä»0å¼€å§‹é…ç½®ç»“æ„</h2><ul><li>åˆå§‹åŒ–é¡¹ç›®ç»“æ„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir webpack-init<br>cd webpack-init<br>npm init -y<br>npm install webpack webpack-cli webpack-dev-server -g //å®‰è£…webpacké…ç½®éœ€è¦çš„åŒ…<br><br>//æ–°å»ºsrcç›®å½•ï¼Œå¹¶åœ¨ä¸‹è¾¹æ–°å»ºindex.htmlï¼Œå¹¶å¼•å…¥index.js<br>mkdir src<br>cd src<br>touch index.html<br>touch index.js<br></code></pre></td></tr></table></figure><h2 id="2-é…ç½®webpack-config-js"><a href="#2-é…ç½®webpack-config-js" class="headerlink" title="2. é…ç½®webpack.config.js"></a>2. é…ç½®webpack.config.js</h2><ul><li>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºwebpack.config.js</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>    <span class="hljs-attr">entry</span>:<span class="hljs-string">&#x27;./src/index.js&#x27;</span>,<span class="hljs-comment">//å…¥å£æ–‡ä»¶ï¼Œsrcä¸‹çš„index.js</span><br>    <span class="hljs-attr">output</span>:&#123;<br>        <span class="hljs-attr">publicPath</span>:__dirname+<span class="hljs-string">&quot;dist&quot;</span>,<span class="hljs-comment">//jså¼•ç”¨çš„è·¯å¾„ä¹Ÿæ˜¯å¯ä»¥æ˜¯cdnåœ°å€</span><br>        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname,<span class="hljs-string">&#x27;dist&#x27;</span>),<span class="hljs-comment">//å‡ºå£ç›®å½•ï¼Œdistæ–‡ä»¶</span><br>        <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;[name].[hash].js&#x27;</span><span class="hljs-comment">//è¿™é‡Œé‚£ä¹ˆå°±æ˜¯æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å</span><br>    &#125;,<br>    <span class="hljs-attr">module</span>:&#123;&#125;,<br>    <span class="hljs-attr">plugins</span>:[],<span class="hljs-comment">//åŠ sçš„éƒ½æ˜¯æ•°ç»„</span><br>    <span class="hljs-attr">devServer</span>:&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-é…ç½®å¼€å‘æœåŠ¡å™¨"><a href="#3-é…ç½®å¼€å‘æœåŠ¡å™¨" class="headerlink" title="3. é…ç½®å¼€å‘æœåŠ¡å™¨"></a>3. é…ç½®å¼€å‘æœåŠ¡å™¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//ä¿®æ”¹wbepack.config.js æ–‡ä»¶</span><br><br><span class="hljs-attr">devServer</span>:&#123;<br>    <span class="hljs-attr">contentBase</span>:path.<span class="hljs-title function_">resolve</span>(__dirname,<span class="hljs-string">&quot;dist&quot;</span>),<br>    <span class="hljs-attr">port</span>:<span class="hljs-number">9090</span>,<br>    <span class="hljs-attr">host</span>:<span class="hljs-string">&#x27;localhost&#x27;</span>,<br>    <span class="hljs-attr">overlay</span>:<span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">compress</span>:<span class="hljs-literal">true</span>  <span class="hljs-comment">//æœåŠ¡å™¨è¿”å›æµè§ˆå™¨çš„æ—¶å€™æ˜¯å¦å¯åŠ¨gzipå‹ç¼©</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="4-æ‰“åŒ…js"><a href="#4-æ‰“åŒ…js" class="headerlink" title="4. æ‰“åŒ…js"></a>4. æ‰“åŒ…js</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">//ä¿®æ”¹package.json æ–‡ä»¶</span><br><span class="hljs-attr">&quot;script&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;build&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --mode prodection&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;dev&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack-dev-server --open --mode development&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-comment">// --mode production å’Œ --mode devlopment çš„åŒºåˆ«å°±æ˜¯æ˜¯å¦è¿›è¡Œä»£ç çš„å‹ç¼©</span><br><span class="hljs-comment">// è¿è¡Œnpm run build æ—¢å¯æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒ</span><br><span class="hljs-comment">// è¿è¡Œnpm run dev æ—¢å¯çƒ­åŠ è½½ï¼Œè¿›è¡Œå¼€å‘</span><br></code></pre></td></tr></table></figure><h2 id="5-æ”¯æŒES6-react-vue"><a href="#5-æ”¯æŒES6-react-vue" class="headerlink" title="5. æ”¯æŒES6,react,vue"></a>5. æ”¯æŒES6,react,vue</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// cnpm i babel-loader @babel/core @babel/preset-env @babel/preset-react -D</span><br><br><span class="hljs-punctuation">&#123;</span><br>    test<span class="hljs-punctuation">:</span> /\.jsx?$/<span class="hljs-punctuation">,</span><br>    exclude<span class="hljs-punctuation">:</span>/node_modules/<span class="hljs-punctuation">,</span><br>    use<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            loader<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;babel-loader&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-comment">//.babelrcæ–‡ä»¶</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;presets&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;@babel/preset-env&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;@babel/preset-react&quot;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="6-å¤„ç†css-sass-ä»¥åŠcss3å±æ€§å‰ç¼€"><a href="#6-å¤„ç†css-sass-ä»¥åŠcss3å±æ€§å‰ç¼€" class="headerlink" title="6. å¤„ç†css,sass,ä»¥åŠcss3å±æ€§å‰ç¼€"></a>6. å¤„ç†css,sass,ä»¥åŠcss3å±æ€§å‰ç¼€</h2><h3 id="6-1-å¤„ç†css"><a href="#6-1-å¤„ç†css" class="headerlink" title="6.1 å¤„ç†css"></a>6.1 å¤„ç†css</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// npm install style-loader css-loader postcss-loader autoprefixer -D</span><br><span class="hljs-comment">// css-loader ç”¨æ¥å¤„ç†cssä¸­urlçš„è·¯å¾„</span><br><span class="hljs-comment">// style-loaderå¯ä»¥æŠŠcssæ–‡ä»¶å˜æˆstyleæ ‡ç­¾æ’å…¥headä¸­</span><br><span class="hljs-comment">// å¤šä¸ªloaderæ˜¯æœ‰é¡ºåºè¦æ±‚çš„ï¼Œä»å³å¾€å·¦å†™ï¼Œå› ä¸ºè½¬æ¢çš„æ—¶å€™æ˜¯ä»å³å¾€å·¦è½¬æ¢çš„</span><br><br>module<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    rules<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        test<span class="hljs-punctuation">:</span>/\.css$/<span class="hljs-punctuation">,</span><br>        use<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;style-loader&quot;</span><span class="hljs-punctuation">,</span><br>                options<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    singeton<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-comment">//å¤„ç†ä¸ºå•ä¸ªstyleæ ‡ç­¾</span><br>                <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;css-loader&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;postcss-loader&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>        include<span class="hljs-punctuation">:</span> path.resolve(__dirname<span class="hljs-punctuation">,</span>&#x27;dist&#x27;)<span class="hljs-punctuation">,</span><span class="hljs-comment">//é™åˆ¶èŒƒå›´ï¼Œæé«˜æ‰“åŒ…é€Ÿåº¦</span><br>        exclude<span class="hljs-punctuation">:</span> /node_modules<br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-comment">// csså‰ç¼€ï¼šæ–°å»ºä¸€ä¸ªpostcss.config.jsæ–‡ä»¶ï¼Œè¾“å…¥</span><br>module.exports = <span class="hljs-punctuation">&#123;</span><br>    plugins<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        require(&#x27;qutoprefixer&#x27;)<br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="6-2-åŠ¨æ€å¸è½½å’ŒåŠ è½½CSS"><a href="#6-2-åŠ¨æ€å¸è½½å’ŒåŠ è½½CSS" class="headerlink" title="6.2 åŠ¨æ€å¸è½½å’ŒåŠ è½½CSS"></a>6.2 åŠ¨æ€å¸è½½å’ŒåŠ è½½<code>CSS</code></h3><blockquote><p>style-loaderä¸º css å¯¹è±¡æä¾›äº†use()å’Œunuse()ä¸¤ç§æ–¹æ³•å¯ä»¥ç”¨æ¥åŠ è½½å’Œå¸è½½css</p></blockquote><p>æ¯”å¦‚å®ç°ä¸€ä¸ªç‚¹å‡»åˆ‡æ¢é¢œè‰²çš„éœ€æ±‚ï¼Œä¿®æ”¹index.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> index <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./css/index.css&quot;</span><br><span class="hljs-keyword">let</span> flag =<span class="hljs-literal">false</span>;<br>$(<span class="hljs-string">&#x27;#btn&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>flag?index.<span class="hljs-title function_">use</span>():index.<span class="hljs-title function_">unuse</span>();<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="6-3-å¤„ç†sass"><a href="#6-3-å¤„ç†sass" class="headerlink" title="6.3 å¤„ç†sass"></a>6.3 å¤„ç†sass</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// npm install sass-loader node -sass style-loader css-loader --save-dev</span><br><br><span class="hljs-comment">//webpack.config.js</span><br>module.exports = <span class="hljs-punctuation">&#123;</span><br>    module<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        rules<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>            test<span class="hljs-punctuation">:</span> /\.scss$/<span class="hljs-punctuation">,</span><br>            use<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;style-loader&quot;</span> <span class="hljs-comment">//å°†JSå­—ç¬¦ä¸²ç”Ÿæˆä¸ºstyleèŠ‚ç‚¹</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;css-loader&quot;</span> <span class="hljs-comment">//å°†cssè½¬åŒ–æˆCommonJSæ¨¡å—</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span><br>                loader<span class="hljs-punctuation">:</span><span class="hljs-string">&quot;sass-loader&quot;</span> <span class="hljs-comment">//å°†sassç¼–è¯‘æˆcss</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="6-4-æå–cssæ–‡ä»¶ä¸ºå•ç‹¬æ–‡ä»¶"><a href="#6-4-æå–cssæ–‡ä»¶ä¸ºå•ç‹¬æ–‡ä»¶" class="headerlink" title="6.4 æå–cssæ–‡ä»¶ä¸ºå•ç‹¬æ–‡ä»¶"></a>6.4 æå–cssæ–‡ä»¶ä¸ºå•ç‹¬æ–‡ä»¶</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json"> npm install --save-dev extract-text-webpack-plugin@nest  <span class="hljs-comment">//æ³¨æ„ï¼šä¸€å®šæ˜¯nextç‰ˆæœ¬çš„</span><br><br><span class="hljs-comment">//ä¸å†éœ€è¦style-loader</span><br>rules<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>        test<span class="hljs-punctuation">:</span> /\.css$/<br>        <span class="hljs-comment">//</span><br>        use<span class="hljs-punctuation">:</span> ExtractTextWebpackPlugin.extract(<span class="hljs-punctuation">&#123;</span><br>        use<span class="hljs-punctuation">:</span>&#x27;css-loader&#x27;<br>    <span class="hljs-punctuation">&#125;</span>)<br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br><br>new ExtractTextWebpackPlugin(&#x27;index.css&#x27;)<br></code></pre></td></tr></table></figure><h2 id="7-äº§å‡ºhtml"><a href="#7-äº§å‡ºhtml" class="headerlink" title="7. äº§å‡ºhtml"></a>7. äº§å‡ºhtml</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// npm i html-webpack-plugin ---save-dev</span><br>plugins<span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><br>    new HtmlWebpackPlugin(<span class="hljs-punctuation">&#123;</span><br>        template<span class="hljs-punctuation">:</span> path.resolve(__dirname<span class="hljs-punctuation">,</span>&#x27;src&#x27;<span class="hljs-punctuation">,</span>&#x27;index.html&#x27;)<span class="hljs-punctuation">,</span><span class="hljs-comment">//æ¨¡æ¿</span><br>        filename<span class="hljs-punctuation">:</span> &#x27;index.html&#x27;<span class="hljs-punctuation">,</span><br>        hash<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><span class="hljs-comment">//é˜²æ­¢ç¼“å­˜</span><br>        minify<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            removeAttributeQuotes<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>  <span class="hljs-comment">//å‹ç¼© å»æ‰å¼•å·</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span>)<br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h2 id="8-å¤„ç†å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“-æš´éœ²å…¨å±€å˜é‡"><a href="#8-å¤„ç†å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“-æš´éœ²å…¨å±€å˜é‡" class="headerlink" title="8. å¤„ç†å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“,æš´éœ²å…¨å±€å˜é‡"></a>8. å¤„ç†å¼•ç”¨çš„ç¬¬ä¸‰æ–¹åº“,æš´éœ²å…¨å±€å˜é‡</h2><p>webpack.ProvidePluginå‚æ•°æ˜¯é”®å€¼å¯¹å½¢å¼ï¼Œé”®å°±æ˜¯æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨çš„å˜é‡åï¼Œå€¼å°±æ˜¯é”®æ‰€æŒ‡å‘çš„åº“</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json">const webpack = require(<span class="hljs-string">&quot;webpack&quot;</span>);<br><br>new webpack.ProvidePlugin(<span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;$&quot;</span><span class="hljs-punctuation">:</span>&#x27;jquery&#x27;<br><span class="hljs-punctuation">&#125;</span>)<br></code></pre></td></tr></table></figure><h2 id="9-code-splittingã€æ‡’åŠ è½½-æŒ‰éœ€åŠ è½½"><a href="#9-code-splittingã€æ‡’åŠ è½½-æŒ‰éœ€åŠ è½½" class="headerlink" title="9. code splittingã€æ‡’åŠ è½½(æŒ‰éœ€åŠ è½½)"></a>9. code splittingã€æ‡’åŠ è½½(æŒ‰éœ€åŠ è½½)</h2><p>è¯´ç™½äº†å°±æ˜¯åœ¨éœ€è¦çš„æ—¶å€™åœ¨è¿›è¡ŒåŠ è½½ï¼Œæ¯”å¦‚ä¸€ä¸ªåœºæ™¯ï¼Œç‚¹å‡»æŒ‰é’®æ‰åŠ è½½æŸä¸ªjs.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//  require.ensureçš„æ–¹å¼</span><br><br><span class="hljs-keyword">if</span>(page==<span class="hljs-string">&#x27;subPageA&#x27;</span>)&#123;<br><span class="hljs-built_in">require</span>.<span class="hljs-title function_">ensure</span>([<span class="hljs-string">&#x27;./subPageA&#x27;</span>],<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">var</span> subPageA = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;subPageA&#x27;</span>);<br>    &#125;,<span class="hljs-string">&#x27;subPageA&#x27;</span>)<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(page==<span class="hljs-string">&#x27;subPageB&#x27;</span>)&#123;<br>    <span class="hljs-built_in">require</span>.<span class="hljs-title function_">ensure</span>([<span class="hljs-string">&#x27;./subPageB&#x27;</span>],<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">var</span> subPageA = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;subPageB&#x27;</span>);<br>    &#125;,subPageB)<br>&#125;<br><br><span class="hljs-comment">// importçš„æ–¹å¼</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;lodash&#x27;</span><br><span class="hljs-keyword">var</span> page = <span class="hljs-string">&#x27;subpageA&#x27;</span><br><span class="hljs-keyword">if</span>(page==-<span class="hljs-string">&quot;subpageA&quot;</span>)&#123;<br><span class="hljs-keyword">import</span>(<span class="hljs-comment">/*webpackChunkName:&#x27;subpageA&#x27;*/</span><span class="hljs-string">&#x27;./subpageA&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">subpageA</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;subpageA&quot;</span>)<br>    &#125;)<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(page==-<span class="hljs-string">&quot;subpageB&quot;</span>)&#123;<br><span class="hljs-keyword">import</span>(<span class="hljs-comment">/*webpackChunkName:&#x27;subpageB&#x27;*/</span><span class="hljs-string">&#x27;./subpageB&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">subpageB</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;subpageB&quot;</span>)<br>    &#125;)<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-string">&#x27;pageA&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="10-JS-Tree-Shaking"><a href="#10-JS-Tree-Shaking" class="headerlink" title="10. JS Tree Shaking"></a>10. JS Tree Shaking</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// åœ¨webpackä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œè¿™æ ·ä½¿ç”¨ï¼Œæ˜¾å¼é…ç½®UglifyjsWebpackPluginå³å¯</span><br><br>const UglifyJSPlugin = require(&#x27;uglifyjs-webpack-plugin&#x27;);<br>plugins<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    new UglifyJSPlugin()<br><span class="hljs-punctuation">]</span><br><br><span class="hljs-comment">//ä½†æ˜¯åœ¨webpack4ä¸­ï¼Œåªéœ€è¦é…ç½®modeä¸º&quot;production&quot;å³å¯</span><br></code></pre></td></tr></table></figure><h2 id="11-å›¾ç‰‡å¤„ç†"><a href="#11-å›¾ç‰‡å¤„ç†" class="headerlink" title="11. å›¾ç‰‡å¤„ç†"></a>11. å›¾ç‰‡å¤„ç†</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// yarn add file-loader url-loader -D</span><br><span class="hljs-comment">//file-loader è§£å†³cssç­‰æ–‡ä»¶ä¸­å¼•å…¥å›¾ç‰‡è·¯å¾„çš„é—®é¢˜</span><br><span class="hljs-comment">//url-loader å½“å›¾ç‰‡è¾ƒå°çš„æ—¶å€™æŠŠå›¾ç‰‡BASE64ç¼–ç ï¼Œå¤§äºlimitå‚æ•°çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨file-loaderè¿›è¡Œæ‹·è´</span><br><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// file-loaderæ˜¯è§£æå›¾ç‰‡åœ°å€ï¼ŒæŠŠå›¾ç‰‡ä»æºæ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡æ–‡ä»¶å¹¶ä¸”ä¿®æ”¹æºæ–‡ä»¶åç§°</span><br>    <span class="hljs-comment">// å¯ä»¥å¤„ç†ä»»æ„äºŒè¿›åˆ¶ï¼Œbootstrapé‡Œçš„æ–‡å­—</span><br>    <span class="hljs-comment">// url-loaderå¯ä»¥åœ¨æ–‡ä»¶æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œç›´æ¥å˜æˆbase64å­—ç¬¦ä¸²å†…åµŒåˆ°é¡µé¢ä¸­</span><br>    <span class="hljs-punctuation">&#123;</span><br>    test<span class="hljs-punctuation">:</span> /\.(png|jpg|jpeg|gif|svg)<span class="hljs-punctuation">,</span><br>    use<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    loader<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;url-loader&quot;</span><span class="hljs-punctuation">,</span><br>    options<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  outputPath<span class="hljs-punctuation">:</span> &#x27;image/&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// å›¾ç‰‡è¾“å‡ºçš„è·¯å¾„</span><br>    limit<span class="hljs-punctuation">:</span> <span class="hljs-number">5</span> * <span class="hljs-number">1024</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="12-Clean-Plugin-and-Watch-Mode"><a href="#12-Clean-Plugin-and-Watch-Mode" class="headerlink" title="12. Clean Plugin and Watch Mode"></a>12. Clean Plugin and Watch Mode</h2><p>æ¸…ç©ºç›®å½•ï¼Œæ–‡ä»¶æœ‰æ”¹åŠ¨å°±é‡æ–°æ‰“åŒ…</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> <span class="hljs-title class_">CleanWebpackPlugin</span>([<span class="hljs-string">&quot;dist&quot;</span>])<br><br><span class="hljs-comment">// webpack --watch å³å¯å¼€å¯watch mode</span><br></code></pre></td></tr></table></figure><h2 id="13-åŒºåˆ†ç¯å¢ƒå˜é‡"><a href="#13-åŒºåˆ†ç¯å¢ƒå˜é‡" class="headerlink" title="13. åŒºåˆ†ç¯å¢ƒå˜é‡"></a>13. åŒºåˆ†ç¯å¢ƒå˜é‡</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json">new webpack.DefinePlugin(<span class="hljs-punctuation">&#123;</span><br>NODE_ENV<span class="hljs-punctuation">:</span>JSON.stringify(process.env.NODE_ENV)<br><span class="hljs-punctuation">&#125;</span>)<br><br><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cross-env NODE_ENV=production webpack --mode development&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="14-å¼€å‘æ¨¡å¼ä¸webpack-dev-server-proxy"><a href="#14-å¼€å‘æ¨¡å¼ä¸webpack-dev-server-proxy" class="headerlink" title="14. å¼€å‘æ¨¡å¼ä¸webpack-dev-server,proxy"></a>14. å¼€å‘æ¨¡å¼ä¸webpack-dev-server,proxy</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs json">devServer<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    contentBase<span class="hljs-punctuation">:</span> path.resolve(__dirname<span class="hljs-punctuation">,</span><span class="hljs-string">&quot;dist&quot;</span>)<span class="hljs-punctuation">,</span><br>    port<span class="hljs-punctuation">:</span> <span class="hljs-number">8000</span><span class="hljs-punctuation">,</span><span class="hljs-comment">//ç«¯å£å·</span><br>    hot<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><span class="hljs-comment">//çƒ­é‡è½½</span><br>    overlay<span class="hljs-punctuation">:</span><span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><span class="hljs-comment">//ä»£ç å‡ºé”™å¼¹å‡ºæµ®åŠ¨å±‚</span><br>    proxy<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-comment">//è·¨åŸŸä»£ç†è½¬å‘</span><br>        <span class="hljs-attr">&quot;/comments&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            target<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;https://m.weibo.cn&quot;</span><span class="hljs-punctuation">,</span><br>            changeOrigin<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>            logLevel<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;debug&quot;</span><span class="hljs-punctuation">,</span><br>            headers<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                Cookie<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    historyApiFallback<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-comment">// HTML5 historyæ¨¡å¼</span><br>        rewrites<span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span> from<span class="hljs-punctuation">:</span> /.*/<span class="hljs-punctuation">,</span> to<span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/index.html&quot;</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>webpack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>webpackpé…ç½®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript Promiseå¸¸ç”¨æ–¹æ³•</title>
    <link href="/blog/2022/11/09/js-promiseMethod/"/>
    <url>/blog/2022/11/09/js-promiseMethod/</url>
    
    <content type="html"><![CDATA[<h1 id="Promiseå¸¸ç”¨æ–¹æ³•"><a href="#Promiseå¸¸ç”¨æ–¹æ³•" class="headerlink" title="Promiseå¸¸ç”¨æ–¹æ³•"></a>Promiseå¸¸ç”¨æ–¹æ³•</h1><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>æ°é€¢ <code>Promise</code> ä¹Ÿæœ‰å››ä¸ªå¾ˆåƒçš„é™æ€ä¸‰å…„å¼Ÿ(<code>Promise.all</code>ã€<code>Promise.allSettled</code>ã€<code>Promise.race</code>ã€<code>Promise.any</code>)ï¼Œå®ƒä»¬æ¥å—çš„å‚æ•°ç±»å‹ç›¸åŒï¼Œä½†å„è‡ªé€»è¾‘å¤„ç†ä¸åŒï¼Œå®ƒä»¬å…·ä½“ä¼šæœ‰ä»€ä¹ˆåŒºåˆ«é‚£ï¼Ÿåˆ«æ€¥ï¼Œä¸‹é¢ç­‰å°åŒ…æ…¢æ…¢é“æ¥ã€‚</p><p>åœ¨æ–‡ç« çš„å¼€å§‹ï¼Œå°åŒ…å…ˆç»™å¤§å®¶æå‡ºå‡ ä¸ªé—®é¢˜:</p><ul><li><code>Promise.all</code> ä¸ <code>Promise.allSettled</code> æœ‰å•¥åŒºåˆ«å•Š?</li><li><code>Promise.race</code> çš„è¿è¡Œæœºåˆ¶? <code>Promise.any</code> å‘ï¼Œä¸¤è€…æœ‰å•¥åŒºåˆ«?</li><li>å››å…„å¼Ÿåªèƒ½æ¥å—<strong>æ•°ç»„</strong>ä½œä¸ºå‚æ•°å—?</li><li>å››å…„å¼Ÿæ–¹æ³•æˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¼˜é›…å®Œç¾çš„å®ç°?</li></ul><h2 id="äºŒã€Promise-all"><a href="#äºŒã€Promise-all" class="headerlink" title="äºŒã€Promise.all"></a>äºŒã€Promise.all</h2><p><code>Promise.all</code> åœ¨ç›®å‰æ‰‹å†™é¢˜ä¸­çƒ­åº¦é¢‘åº¦åº”è¯¥æ˜¯ <code>top5</code> çº§åˆ«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ·±åˆ»æŒæ¡ <code>Promise.all</code> æ–¹æ³•ã€‚ä¸‹é¢é¦–å…ˆæ¥ç®€å•å›é¡¾ä¸€ä¸‹ <code>all</code> æ–¹æ³•ã€‚</p><h3 id="1-åŸºç¡€å­¦ä¹ "><a href="#1-åŸºç¡€å­¦ä¹ " class="headerlink" title="1.åŸºç¡€å­¦ä¹ "></a>1.åŸºç¡€å­¦ä¹ </h3><blockquote><p><code>Promise.all</code> æ–¹æ³•ç±»ä¼¼äº<strong>ä¸€ç¾¤å…„å¼Ÿä»¬å¹¶è‚©å‰è¡Œ</strong>ï¼Œå‚æ•°å¯ä»¥ç±»æ¯”ä¸ºä¸€ç¾¤å…„å¼Ÿï¼Œåªæœ‰å½“å…„å¼Ÿå…¨éƒ¨å¿«ä¹ï¼Œ<code>all</code> è€å¤§æ‰ä¼šæ”¶è·å¿«ä¹ï¼›åªè¦æœ‰ä¸€ä¸ªå…„å¼Ÿä¸å¿«ä¹ï¼Œè€å¤§å°±ä¸ä¼šå¿«ä¹ã€‚</p></blockquote><p><code>Promise.all()</code> æ–¹æ³•ç”¨äºå°†å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3]);<br> <br></code></pre></td></tr></table></figure><p><code>Promise.all</code> æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„åšå‚æ•°ï¼Œ<code>p1ã€p2ã€p3</code> éƒ½æ˜¯ <code>Promise</code> å®ä¾‹ã€‚å¦‚æœä¸æ˜¯ <code>Promise</code> å®ä¾‹ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨ <code>Promise.resolve</code> æ–¹æ³•å°†å‚æ•°å…ˆè½¬åŒ–ä¸º <code>Promise</code> å®ä¾‹ï¼Œä¹‹åè¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ã€‚</p><p><strong>è¿”å›å€¼ p çš„çŠ¶æ€ç”± p1ã€p2ã€p3 å†³å®šï¼Œå¯ä»¥åˆ†æˆä¸¤ç§æƒ…å†µ</strong>:</p><ul><li>åªæœ‰ <code>p1ã€p2ã€p3</code> çš„çŠ¶æ€éƒ½å˜æˆ <code>fulfilled</code> ï¼Œ<code>p</code> çš„çŠ¶æ€æ‰ä¼šå˜æˆ <code>fulfilled</code> ï¼Œæ­¤æ—¶ <code>p1ã€p2ã€p3</code> çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™ <code>p</code> çš„å›è°ƒå‡½æ•°ã€‚</li><li>åªè¦ <code>p1ã€p2ã€p3</code> ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢« <code>rejected</code> ï¼Œ<code>p</code> çš„çŠ¶æ€å°±å˜æˆ <code>rejected</code> ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢« <code>reject</code> çš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™ <code>p</code> çš„å›è°ƒå‡½æ•°ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥çš„promise</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>);<br>  &#125;, <span class="hljs-number">1000</span>);<br>&#125;);<br><span class="hljs-comment">// æ™®é€špromise</span><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>);<br><span class="hljs-comment">// å¸¸æ•°å€¼</span><br><span class="hljs-keyword">const</span> p3 = <span class="hljs-number">3</span>;<br><span class="hljs-comment">// å¤±è´¥çš„promise</span><br><span class="hljs-keyword">const</span> p4 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;error&quot;</span>);<br><span class="hljs-comment">// å¼‚æ­¥å¤±è´¥çš„promise</span><br><span class="hljs-keyword">const</span> p5 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;TypeError&quot;</span>);<br>  &#125;, <span class="hljs-number">1000</span>);<br>&#125;);<br><br><span class="hljs-comment">// 1. promiseå…¨éƒ¨æˆåŠŸ</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)) <span class="hljs-comment">// [1, 2, 3]</span><br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));<br>  <br><span class="hljs-comment">// 2. å­˜åœ¨å¤±è´¥çš„promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3, p4])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br><br><span class="hljs-comment">// 3. å­˜åœ¨å¤šä¸ªå¤±è´¥çš„promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3, p4, p5])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br> <br></code></pre></td></tr></table></figure><p>ä»ä¸Šé¢æ¡ˆä¾‹çš„è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸‹åˆ—ç»“è®º:</p><ul><li><code>p</code> çŠ¶æ€ç”±å‚æ•°æ‰§è¡Œç»“æœå†³å®šï¼Œå…¨éƒ¨æˆåŠŸåˆ™è¿”å›æˆåŠŸï¼Œå­˜æœ‰ä¸€ä¸ªå¤±è´¥åˆ™å¤±è´¥</li><li>å‚æ•°ä¸ºé <code>Promise</code> å®ä¾‹ï¼Œä¼šé€šè¿‡ <code>Promise.resolve</code> è½¬åŒ–æˆ <code>Promise</code> å®ä¾‹</li><li><strong>æˆåŠŸåè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å†…æ•°æ®æŒ‰ç…§å‚æ•°é¡ºåºæ’åˆ—</strong></li><li><strong>çŸ­è·¯æ•ˆåº”: åªä¼šè¿”å›ç¬¬ä¸€ä¸ªå¤±è´¥ä¿¡æ¯</strong></li></ul><h4 id="Iterator-æ¥å£å‚æ•°"><a href="#Iterator-æ¥å£å‚æ•°" class="headerlink" title="Iterator æ¥å£å‚æ•°"></a>Iterator æ¥å£å‚æ•°</h4><p>ã€ŠES6 å…¥é—¨æ•™ç¨‹ã€‹è¿˜æŒ‡å‡º: <strong>Promise.all æ–¹æ³•å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æ¥å£ï¼Œä¸”è¿”å›çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ Promise å®ä¾‹</strong></p><p>è¯´å®è¯ï¼ŒåŠ ç²—éƒ¨åˆ†å°åŒ…æ˜¯æ²¡èƒ½å®Œå…¨ç†è§£çš„ï¼Œéš¾é“ <code>Promise.all</code> ä½¿ç”¨ <code>Iterator</code> ç±»å‹æ—¶ï¼Œè¦æ±‚è¿­ä»£é¡¹éƒ½æ˜¯ <code>Promise</code> å®ä¾‹å—ï¼Ÿæˆ‘ä»¬ä»¥ <code>String</code> ç±»å‹ä¸ºä¾‹ï¼Œçœ‹ <code>Promise.all</code> æ˜¯å¦å¯ä»¥æ”¯æŒè¿­ä»£é¡¹ä¸ºé <code>Promise</code> å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//  [&#x27;x&#x27;, &#x27;i&#x27;, &#x27;a&#x27;, &#x27;o&#x27;, &#x27;b&#x27;, &#x27;a&#x27;, &#x27;o&#x27;]</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(<span class="hljs-string">&quot;xiaobao&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data));<br> <br></code></pre></td></tr></table></figure><p>å¯è§ <code>Promise</code> å¯¹ <code>Iterator</code> ç±»å‹çš„å¤„ç†ä¸æ•°ç»„ç›¸åŒï¼Œå¦‚æœå‚æ•°ä¸æ˜¯ <code>Promise</code> å®ä¾‹ï¼Œä¼šå…ˆè°ƒç”¨ <code>Promise.all</code> è½¬åŒ–ä¸º <code>Promise</code> å®ä¾‹ã€‚</p><h3 id="2-æ€è·¯åˆ†æ"><a href="#2-æ€è·¯åˆ†æ" class="headerlink" title="2.æ€è·¯åˆ†æ"></a>2.æ€è·¯åˆ†æ</h3><ol><li><code>Promise.all</code> ä¼šè¿”å›ä¸€ä¸ªæ–° <code>Promise</code> å¯¹è±¡</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;&#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><ol><li>(<strong>äº®ç‚¹</strong>) <code>all</code> æ–¹æ³•å‚æ•°å¯ä»¥æ˜¯æ•°ç»„ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æ˜¯ <code>Iterator</code> ç±»å‹ï¼Œå› æ­¤åº”è¯¥ä½¿ç”¨ <code>for of</code> å¾ªç¯è¿›è¡Œéå†ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><ol><li>æŸäº›å‚æ•°æœ‰å¯èƒ½æœªå¿…æ˜¯ <code>Promise</code> ç±»å‹ï¼Œå› æ­¤å‚æ•°ä½¿ç”¨å‰å…ˆé€šè¿‡ <code>Promise.resolve</code> è½¬æ¢</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>      <span class="hljs-comment">// ä¿è¯æ‰€æœ‰çš„å‚æ•°ä¸º promise å®ä¾‹ï¼Œç„¶åæ‰§è¡Œåç»­æ“ä½œ</span><br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">//...</span><br>      &#125;);<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><ol><li><code>Iterator</code> ç±»å‹æˆ‘ä»¬æ˜¯æ— æ³•å¾—çŸ¥è¿­ä»£æ·±åº¦ï¼Œå› æ­¤æˆ‘ä»¬è¦ç»´æŠ¤ä¸€ä¸ª <code>count</code> ç”¨æ¥è®°å½• <code>promise</code> æ€»æ•°ï¼ŒåŒæ—¶ç»´æŠ¤ <code>fulfilledCount</code> ä»£è¡¨å®Œæˆçš„ <code>promise</code> æ•°ï¼Œå½“ <code>count === fulfilledCount</code> ï¼Œä»£è¡¨æ‰€æœ‰ä¼ å…¥çš„ <code>Promise</code> æ‰§è¡ŒæˆåŠŸï¼Œè¿”å›æ•°æ®ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// promiseæ€»æ•°</span><br>  <span class="hljs-keyword">let</span> fulfilledCount = <span class="hljs-number">0</span>; <span class="hljs-comment">// å®Œæˆçš„promiseæ•°</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>      count++; <span class="hljs-comment">// promiseæ€»æ•° + 1</span><br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        fulfilledCount++; <span class="hljs-comment">// å®Œæˆçš„promiseæ•°é‡+1</span><br>        <span class="hljs-keyword">if</span> (count === fulfilledCount) &#123;<br>          <span class="hljs-comment">// ä»£è¡¨æœ€åä¸€ä¸ªpromiseå®Œæˆäº†</span><br>          <span class="hljs-title function_">resolve</span>();<br>        &#125;<br>      &#125;);<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><p>æœ‰å¯èƒ½æœ‰çš„è¯»è€…ä¼šå¥½å¥‡ï¼Œ<strong>ä¸ºå•¥ <code>count === fulfilledCount</code> å¯ä»¥åˆ¤æ–­æ‰€æœ‰çš„ promise éƒ½å®Œæˆäº†å‘</strong>?</p><p><code>Promise.then</code> æ–¹æ³•æ˜¯ <code>microTasks</code>(å¾®ä»»åŠ¡)ï¼Œå½“åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œ<code>Event Loop</code> æ‰ä¼šå»æ‰§è¡Œ <code>microTasks</code>ã€‚<code>count++</code> ä½äºåŒæ­¥ä»£ç éƒ¨åˆ†ï¼Œå› æ­¤åœ¨æ‰§è¡Œ <code>promise.then</code> æ–¹æ³•ä¹‹å‰ï¼Œå·²ç»æˆåŠŸçš„è®¡ç®—å‡º <code>promise</code> çš„æ€»æ•°ã€‚</p><p>ç„¶åä¾æ¬¡æ‰§è¡Œ <code>promise.then</code> æ–¹æ³•ï¼Œ<code>fulfilledCount</code> å¢åŠ ï¼Œå½“ <code>count === fulfilledCount</code> è¯´æ˜æ‰€æœ‰çš„ <code>promise</code> éƒ½å·²ç»æˆåŠŸå®Œæˆäº†ã€‚</p><ol><li>è¿”å›æ•°æ®çš„é¡ºåºåº”è¯¥æ˜¯ <code>all</code> æ–¹æ³•ä¸­æ¯”è¾ƒéš¾å¤„ç†çš„éƒ¨åˆ†ã€‚</li></ol><ul><li>åˆ›å»ºä¸€ä¸ªæ•°ç»„ <code>result</code> å­˜å‚¨æ‰€æœ‰ <code>promise</code> æˆåŠŸçš„æ•°æ®</li><li>åœ¨ <code>for of</code> å¾ªç¯ä¸­ï¼Œä½¿ç”¨ <code>let</code> å˜é‡å®šä¹‰ <code>i</code>ï¼Œå…¶å€¼ç­‰äºå½“å‰çš„éå†ç´¢å¼•</li><li><code>let</code> å®šä¹‰çš„å˜é‡ä¸ä¼šå‘ç”Ÿå˜é‡æå‡ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥ä»¤ <code>result[i]</code> ä¸º <code>promise</code> æˆåŠŸæ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°æŒ‰å‚æ•°è¾“å…¥é¡ºåºè¾“å‡ºç»“æœ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">const</span> result = []; <span class="hljs-comment">// å­˜å‚¨promiseæˆåŠŸæ•°æ®</span><br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">let</span> fulfilledCount = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>      <span class="hljs-comment">// iä¸ºéå†çš„ç¬¬å‡ ä¸ªpromise</span><br>      <span class="hljs-comment">// ä½¿ç”¨leté¿å…å½¢æˆé—­åŒ…é—®é¢˜</span><br>      <span class="hljs-keyword">let</span> i = count;<br>      count++;<br>      <span class="hljs-comment">// ä¿è¯æ‰€æœ‰çš„å‚æ•°ä¸º promise å®ä¾‹ï¼Œç„¶åæ‰§è¡Œåç»­æ“ä½œ</span><br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        fulfilledCount++;<br>        <span class="hljs-comment">// å°†ç¬¬iä¸ªpromiseæˆåŠŸæ•°æ®èµ‹å€¼ç»™å¯¹åº”ä½ç½®</span><br>        result[i] = data;<br>        <span class="hljs-keyword">if</span> (count === fulfilledCount) &#123;<br>          <span class="hljs-comment">// ä»£è¡¨æœ€åä¸€ä¸ªpromiseå®Œæˆäº†</span><br>          <span class="hljs-comment">// è¿”å›resultæ•°ç»„</span><br>          <span class="hljs-title function_">resolve</span>(result);<br>        &#125;<br>      &#125;);<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><ol><li>å¤„ç†ä¸€ä¸‹è¾¹ç•Œæƒ…å†µ<ul><li>æŸä¸ª <code>promise</code> å¤±è´¥â€”â€”ç›´æ¥è°ƒç”¨ <code>reject</code> å³å¯</li><li>ä¼ å…¥ <code>promise</code> æ•°é‡ä¸º <code>0</code> â€”â€”è¿”å›ç©ºæ•°ç»„(è§„èŒƒè§„å®š)</li><li>ä»£ç æ‰§è¡Œè¿‡ç¨‹æŠ›å‡ºå¼‚å¸¸ â€”â€” è¿”å›é”™è¯¯ä¿¡æ¯</li></ul></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¤šä½™ä»£ç çœç•¥</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// 3.æ•è·ä»£ç æ‰§è¡Œä¸­çš„å¼‚å¸¸</span><br>        <span class="hljs-keyword">try</span>&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>                <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> &#123;&#125;<br>                                .<span class="hljs-title function_">catch</span>(reject);  <span class="hljs-comment">// 1.ç›´æ¥è°ƒç”¨rejectå‡½æ•°è¿”å›å¤±è´¥åŸå› </span><br>                &#125;)<br>            &#125;<br>            <span class="hljs-comment">// 2.ä¼ å…¥promiseæ•°é‡ä¸º0</span><br>            <span class="hljs-keyword">if</span> (count === <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-title function_">resolve</span>(result)<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span>(error) &#123;<br>            <span class="hljs-title function_">reject</span>(error)<br>        &#125;<br>    &#125;)<br>&#125;<br> <br></code></pre></td></tr></table></figure><h3 id="3-æºç å®ç°"><a href="#3-æºç å®ç°" class="headerlink" title="3.æºç å®ç°"></a>3.æºç å®ç°</h3><p>æˆ‘ä»¬æŠŠä¸Šé¢çš„ä»£ç æ±‡æ€»ä¸€ä¸‹ï¼ŒåŠ ä¸Šè¯¦ç»†çš„æ³¨é‡Šï¼ŒåŒæ—¶æµ‹è¯•ä¸€ä¸‹æ‰‹å†™ <code>Promise.all</code> æ˜¯å¦æˆåŠŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">const</span> result = []; <span class="hljs-comment">// å­˜å‚¨promiseæˆåŠŸæ•°æ®</span><br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>; <span class="hljs-comment">// promiseæ€»æ•°</span><br>  <span class="hljs-keyword">let</span> fulfilledCount = <span class="hljs-number">0</span>; <span class="hljs-comment">//å®Œæˆpromiseæ•°é‡</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// æ•è·ä»£ç æ‰§è¡Œä¸­çš„å¼‚å¸¸</span><br>    <span class="hljs-keyword">try</span> &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>        <span class="hljs-comment">// iä¸ºéå†çš„ç¬¬å‡ ä¸ªpromise</span><br>        <span class="hljs-comment">// ä½¿ç”¨leté¿å…å½¢æˆé—­åŒ…é—®é¢˜</span><br>        <span class="hljs-keyword">let</span> i = count;<br>        count++; <span class="hljs-comment">// promiseæ€»æ•° + 1</span><br>        <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p)<br>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>            fulfilledCount++; <span class="hljs-comment">// å®Œæˆçš„promiseæ•°é‡+1</span><br>            <span class="hljs-comment">// å°†ç¬¬iä¸ªpromiseæˆåŠŸæ•°æ®èµ‹å€¼ç»™å¯¹åº”ä½ç½®</span><br>            result[i] = data;<br>            <span class="hljs-keyword">if</span> (count === fulfilledCount) &#123;<br>              <span class="hljs-comment">// ä»£è¡¨æœ€åä¸€ä¸ªpromiseå®Œæˆäº†</span><br>              <span class="hljs-comment">// è¿”å›resultæ•°ç»„</span><br>              <span class="hljs-title function_">resolve</span>(result);<br>            &#125;<br>          &#125;)<br>          .<span class="hljs-title function_">catch</span>(reject);<br>        <span class="hljs-comment">// ä¼ å…¥promiseæ•°é‡ä¸º0</span><br>        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">0</span>) &#123;<br>          <span class="hljs-title function_">resolve</span>(result); <span class="hljs-comment">// è¿”å›ç©ºæ•°ç»„</span><br>        &#125;<br>      &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>      <span class="hljs-title function_">reject</span>(error);<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç (ä½¿ç”¨æ¡ˆä¾‹ä¸­çš„æµ‹è¯•ä»£ç ï¼Œé™„åŠ  <code>Iterator</code> ç±»å‹ <code>Stirng</code>):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. promiseå…¨éƒ¨æˆåŠŸ</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)) <span class="hljs-comment">// [1, 2, 3]</span><br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));<br><br><span class="hljs-comment">// 2. å­˜åœ¨å¤±è´¥çš„promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3, p4])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br><br><span class="hljs-comment">// 3. å­˜åœ¨å¤šä¸ªå¤±è´¥çš„promise</span><br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3, p4, p5])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br><br><span class="hljs-comment">// 4. String ç±»å‹</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(<span class="hljs-string">&quot;zcxiaobao&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data));<br><span class="hljs-comment">// [&#x27;z&#x27;, &#x27;c&#x27;, &#x27;x&#x27;, &#x27;i&#x27;, &#x27;a&#x27;, &#x27;o&#x27;, &#x27;b&#x27;, &#x27;a&#x27;, &#x27;o&#x27;]</span><br> <br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€Promise-allSettled"><a href="#ä¸‰ã€Promise-allSettled" class="headerlink" title="ä¸‰ã€Promise.allSettled"></a>ä¸‰ã€Promise.allSettled</h2><h3 id="1-åŸºç¡€å­¦ä¹ -1"><a href="#1-åŸºç¡€å­¦ä¹ -1" class="headerlink" title="1.åŸºç¡€å­¦ä¹ "></a>1.åŸºç¡€å­¦ä¹ </h3><blockquote><p>ä¸æ˜¯æ¯ç¾¤å…„å¼Ÿä»¬éƒ½ä¼šç¢°åˆ°å¥½è€å¤§(<code>all</code> æ–¹æ³•)ï¼Œ<code>allSettled</code> æ–¹æ³•ä»–å¹¶ä¸ç®¡å…„å¼Ÿä»¬çš„æ­»æ´»ï¼Œä»–åªç®¡å…„å¼Ÿä»¬æ˜¯å¦åšäº†ï¼Œè€Œä»–çš„ä»»åŠ¡å°±æ˜¯æŠŠæ‰€æœ‰å…„å¼Ÿçš„ç»“æœè¿”å›ã€‚</p></blockquote><p><code>Promise.allSettled()</code> æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ <code>Promise</code> å¯¹è±¡ã€‚åªæœ‰ç­‰åˆ°å‚æ•°æ•°ç»„çš„æ‰€æœ‰ <code>Promise</code> å¯¹è±¡éƒ½å‘ç”ŸçŠ¶æ€å˜æ›´ï¼ˆä¸ç®¡æ˜¯ <code>fulfilled</code> è¿˜æ˜¯ <code>rejected</code>ï¼‰ï¼Œè¿”å›çš„ <code>Promise</code> å¯¹è±¡æ‰ä¼šå‘ç”ŸçŠ¶æ€å˜æ›´ã€‚</p><p>è¿˜æ˜¯ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸ <code>Promise.all</code> æ–¹æ³•æœ‰å•¥ä¸åŒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. promise å…¨éƒ¨æˆåŠŸ</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([p1, p2, p3])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)) <span class="hljs-comment">// [1, 2, 3]</span><br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));<br>  <br><span class="hljs-comment">// 2. å­˜åœ¨å¤±è´¥çš„ promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([p1, p2, p3, p4])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br><br><span class="hljs-comment">// 3. å­˜åœ¨å¤šä¸ªå¤±è´¥çš„ promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([p1, p2, p3, p4, p5])<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// error</span><br><br><span class="hljs-comment">// 4. ä¼ å…¥ String ç±»å‹</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(<span class="hljs-string">&quot;zc&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data));<br> <br></code></pre></td></tr></table></figure><p>ä»è¾“å‡ºç»“æœæˆ‘ä»¬å¯ä»¥å‘ç°:</p><ol><li><code>allSettled</code> æ–¹æ³•åªä¼šæˆåŠŸï¼Œä¸ä¼šå¤±è´¥</li><li>è¿”å›ç»“æœæ¯ä¸ªæˆå‘˜ä¸ºå¯¹è±¡ï¼Œå¯¹è±¡çš„æ ¼å¼å›ºå®š<ul><li>å¦‚æœ <code>promise</code> æˆåŠŸï¼Œå¯¹è±¡å±æ€§å€¼ <code>status: fulfilled</code>ï¼Œ<code>value</code> è®°å½•æˆåŠŸå€¼</li><li>å¦‚æœ promise å¤±è´¥ï¼Œå¯¹è±¡å±æ€§å€¼ <code>status: rejected</code>ï¼Œ<code>reason</code> è®°å½•å¤±è´¥åŸå› ã€‚</li></ul></li><li><code>allSettled</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ¥å— <code>Iterator</code> ç±»å‹å‚æ•°</li></ol><h3 id="2-æ€è·¯åˆ†æ-1"><a href="#2-æ€è·¯åˆ†æ-1" class="headerlink" title="2.æ€è·¯åˆ†æ"></a>2.æ€è·¯åˆ†æ</h3><p><code>allSettled</code> æ–¹æ³•ä¸ <code>all</code> æ–¹æ³•æœ€å¤§çš„åŒºåˆ«åœ¨äºä¸¤ç‚¹:</p><ol><li><code>allSettled</code> æ–¹æ³•æ²¡æœ‰å¤±è´¥æƒ…å†µ</li><li><code>allSettled</code> æ–¹æ³•è¿”å›æœ‰å›ºå®šæ ¼å¼</li></ol><p>æˆ‘ä»¬å¯ä»¥å›´ç»•è¿™ä¸¤ç‚¹æ”¹é€  <code>all</code> æ–¹æ³•ã€‚</p><p><code>all</code> æ–¹æ³•æˆ‘ä»¬æ˜¯é€šè¿‡è®¡ç®—æˆåŠŸæ•°é‡æ¥åˆ¤æ–­æ˜¯å¦ç»ˆç»“ï¼Œ<code>allSettled</code> æ–¹æ³•ä¸è®¡è¾ƒæˆåŠŸå¤±è´¥ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è®¡ç®—æˆåŠŸ&#x2F;å¤±è´¥æ€»æ•°é‡å³å¯ã€‚</p><p>åœ¨ç´¯åŠ å®Œæˆæ€»æ•°é‡çš„è¿‡ç¨‹ä¸­ï¼Œåˆ†æƒ…å†µæ„é€  <code>allSettled</code> æ‰€éœ€è¦çš„æ•°æ®æ ¼å¼: <strong>æˆåŠŸæ—¶å‹å…¥æˆåŠŸæ ¼å¼ï¼Œå¤±è´¥æ—¶å‹å…¥å¤±è´¥æ ¼å¼</strong>ã€‚</p><h3 id="3-æºç å®ç°-1"><a href="#3-æºç å®ç°-1" class="headerlink" title="3.æºç å®ç°"></a>3.æºç å®ç°</h3><p>ç”±äºæœ‰äº† <code>all</code> æ–¹æ³•æ‰‹å†™çš„åŸºç¡€ï¼Œä¸Šé¢å°±ä¸ä¸€æ­¥ä¸€æ­¥å•°å—¦çš„å®ç°äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">allSettled</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">const</span> result = [];<br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">let</span> totalCount = <span class="hljs-number">0</span>; <span class="hljs-comment">//å®Œæˆpromiseæ•°é‡</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>        <span class="hljs-keyword">let</span> i = count;<br>        count++; <span class="hljs-comment">// promiseæ€»æ•° + 1</span><br>        <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p)<br>          .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>            totalCount++;<br>            <span class="hljs-comment">// æˆåŠŸæ—¶è¿”å›æˆåŠŸæ ¼å¼æ•°æ®</span><br>            result[i] = &#123;<br>              <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;fulfilled&quot;</span>,<br>              <span class="hljs-attr">value</span>: res,<br>            &#125;;<br>            <span class="hljs-comment">// æ‰§è¡Œå®Œæˆ</span><br>            <span class="hljs-keyword">if</span> (count === totalCount) &#123;<br>              <span class="hljs-title function_">resolve</span>(result);<br>            &#125;<br>          &#125;)<br>          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>            totalCount++;<br>            <span class="hljs-comment">// å¤±è´¥æ—¶è¿”å›å¤±è´¥æ ¼å¼æ•°æ®</span><br>            result[i] = &#123;<br>              <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;rejected&quot;</span>,<br>              <span class="hljs-attr">reason</span>: error,<br>            &#125;;<br>            <span class="hljs-comment">// æ‰§è¡Œå®Œæˆ</span><br>            <span class="hljs-keyword">if</span> (count === totalCount) &#123;<br>              <span class="hljs-title function_">resolve</span>(result);<br>            &#125;<br>          &#125;);<br>        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">0</span>) &#123;<br>          <span class="hljs-title function_">resolve</span>(result);<br>        &#125;<br>      &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>      <span class="hljs-title function_">reject</span>(error);<br>    &#125;<br>  &#125;);<br>&#125;;<br> <br></code></pre></td></tr></table></figure><h2 id="å››ã€Promise-race"><a href="#å››ã€Promise-race" class="headerlink" title="å››ã€Promise.race"></a>å››ã€Promise.race</h2><h3 id="1-åŸºç¡€å­¦ä¹ -2"><a href="#1-åŸºç¡€å­¦ä¹ -2" class="headerlink" title="1.åŸºç¡€å­¦ä¹ "></a>1.åŸºç¡€å­¦ä¹ </h3><blockquote><p><code>race</code> æ–¹æ³•å½¢è±¡åŒ–æ¥è®²å°±æ˜¯èµ›è·‘æœºåˆ¶ï¼Œåªè®¤ç¬¬ä¸€åï¼Œä¸ç®¡æ˜¯æˆåŠŸçš„ç¬¬ä¸€è¿˜æ˜¯å¤±è´¥çš„ç¬¬ä¸€ã€‚</p></blockquote><p><code>Promise.race()</code> æ–¹æ³•åŒæ ·æ˜¯æ¥æ”¶å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2, p3]);<br> <br></code></pre></td></tr></table></figure><p>ä¸Šé¢æ¡ˆä¾‹ä¸­ï¼Œåªè¦ <code>p1ã€p2ã€p3</code> ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œ<code>p</code> çš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ <code>Promise</code> å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™ <code>p</code> çš„å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br>    &#125;,<span class="hljs-number">1000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(<span class="hljs-number">2</span>)<br>    &#125;,<span class="hljs-number">2000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p3 = <span class="hljs-number">3</span>;<br><br><span class="hljs-comment">// æˆåŠŸåœ¨å…ˆï¼Œå¤±è´¥åœ¨å</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)&#125;) <span class="hljs-comment">// 1</span><br><span class="hljs-comment">// åŒæ­¥åœ¨å…ˆï¼Œå¼‚æ­¥åœ¨å</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p3]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)) <span class="hljs-comment">// 3</span><br><span class="hljs-comment">// String</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>(<span class="hljs-string">&#x27;zc&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)) <span class="hljs-comment">// z</span><br> <br></code></pre></td></tr></table></figure><h3 id="2-æ€è·¯åˆ†æ-2"><a href="#2-æ€è·¯åˆ†æ-2" class="headerlink" title="2.æ€è·¯åˆ†æ"></a>2.æ€è·¯åˆ†æ</h3><p><code>race</code> æ–¹æ³•å°±æ²¡æœ‰é‚£ä¹ˆå¤šå¼¯å¼¯ç»•ç»•äº†ï¼Œåªè¦æŸä¸ª <code>promise</code> æ”¹å˜çŠ¶æ€å°±è¿”å›å…¶å¯¹åº”ç»“æœã€‚</p><p>å› æ­¤æˆ‘ä»¬åªéœ€ç›‘å¬æ¯ä¸ª <code>promise</code> çš„ <code>then</code> ä¸ <code>catch</code> æ–¹æ³•ï¼Œå½“å‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œç›´æ¥è°ƒç”¨ <code>resolve</code> å’Œ <code>reject</code> æ–¹æ³•å³å¯ã€‚</p><h3 id="3-æºç å®ç°-2"><a href="#3-æºç å®ç°-2" class="headerlink" title="3.æºç å®ç°"></a>3.æºç å®ç°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>(<span class="hljs-params">promises</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>            <span class="hljs-comment">// Promise.resolveå°†pè¿›è¡Œè½¬åŒ–ï¼Œé˜²æ­¢ä¼ å…¥éPromiseå®ä¾‹</span><br>            <span class="hljs-comment">// raceæ‰§è¡Œæœºåˆ¶ä¸ºé‚£ä¸ªå®ä¾‹å‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œåˆ™è¿”å›å…¶å¯¹åº”ç»“æœ</span><br>            <span class="hljs-comment">// å› æ­¤ç›‘å¬</span><br>            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(resolve).<span class="hljs-title function_">catch</span>(reject);<br>        &#125;<br>    &#125;)<br>&#125;<br> <br></code></pre></td></tr></table></figure><h2 id="äº”ã€Promise-any"><a href="#äº”ã€Promise-any" class="headerlink" title="äº”ã€Promise.any"></a>äº”ã€Promise.any</h2><h3 id="1-åŸºç¡€å­¦ä¹ -3"><a href="#1-åŸºç¡€å­¦ä¹ -3" class="headerlink" title="1.åŸºç¡€å­¦ä¹ "></a>1.åŸºç¡€å­¦ä¹ </h3><blockquote><p>any æ–¹æ³•å½¢è±¡åŒ–æ¥è¯´æ˜¯å¤©é€‰å”¯ä¸€ï¼Œåªè¦ç¬¬ä¸€ä¸ªæˆåŠŸè€…ã€‚å¦‚æœå…¨éƒ¨å¤±è´¥äº†ï¼Œå°±è¿”å›å¤±è´¥æƒ…å†µã€‚</p></blockquote><p><code>ES2021</code> å¼•å…¥äº† <code>Promise.any()</code> æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ç»„ <code>Promise</code> å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹è¿”å›ã€‚</p><p><code>any</code> æ–¹æ³•ä¸ <code>race</code> æ–¹æ³•å¾ˆåƒï¼Œä¹Ÿå­˜åœ¨çŸ­è·¯ç‰¹æ€§ï¼Œåªè¦æœ‰ä¸€ä¸ªå®ä¾‹å˜æˆ <code>fulfilled</code> çŠ¶æ€ï¼Œå°±ä¼šè¿”å›æˆåŠŸçš„ç»“æœï¼›å¦‚æœå…¨éƒ¨å¤±è´¥ï¼Œåˆ™è¿”å›å¤±è´¥æƒ…å†µã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æˆåŠŸçš„promise</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br>    &#125;,<span class="hljs-number">1000</span>)<br>&#125;)<br><span class="hljs-comment">// å¤±è´¥çš„promise</span><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(<span class="hljs-number">2</span>)<br>    &#125;,<span class="hljs-number">2000</span>)<br>&#125;)<br><span class="hljs-comment">//å¤±è´¥çš„promise</span><br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-title function_">reject</span>(<span class="hljs-number">3</span>)<br>&#125;)<br><br><br><span class="hljs-comment">// å­˜åœ¨ä¸€ä¸ªæˆåŠŸçš„promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([p1,p2]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res))<span class="hljs-comment">// 1</span><br><br><span class="hljs-comment">// å…¨éƒ¨å¤±è´¥çš„promise</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([p2,p3]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res))<br>                    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)) <span class="hljs-comment">// AggregateError: All promises were rejected</span><br>                    <br><span class="hljs-comment">// Stringç±»å‹</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>(<span class="hljs-string">&#x27;zc&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)) <span class="hljs-comment">// z</span><br> <br></code></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šè¿°è¾“å‡ºç»“æœæˆ‘ä»¬å¯ä»¥å‘ç°:</p><ul><li><code>any</code> æ–¹æ³•ä¹Ÿå¯ä»¥æ¥å— <code>Iterator</code> æ ¼å¼å‚æ•°</li><li>å½“ä¸€ä¸ª <code>promise</code> å®ä¾‹è½¬å˜ä¸º <code>fulfilled</code> æ—¶ï¼Œ<code>any</code> è¿”å›æˆåŠŸçš„ <code>promise</code> ï¼Œå€¼ä¸ºæœ€æ—©æˆåŠŸçš„ <code>promise</code>å€¼ã€‚</li><li>å½“ <code>promise</code> å…¨éƒ¨å¤±è´¥æ—¶ï¼Œ<code>any</code> è¿”å›å¤±è´¥çš„ <code>promise</code> ï¼Œå€¼å›ºå®šä¸º <code>AggregateError: All promises were rejected</code></li></ul><h3 id="2-æ€è·¯åˆ†æ-3"><a href="#2-æ€è·¯åˆ†æ-3" class="headerlink" title="2.æ€è·¯åˆ†æ"></a>2.æ€è·¯åˆ†æ</h3><p>ä¸Šé¢æˆ‘ä»¬åˆ†æäº† <code>any</code> æ–¹æ³•çš„æœºåˆ¶:</p><ol><li>æŸä¸ªå®ä¾‹è½¬åŒ–ä¸º <code>fulfilled</code> ï¼Œ<code>any</code> éšä¹‹è¿”å›æˆåŠŸçš„ <code>promise</code>ã€‚å› æ­¤è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ç±»ä¼¼ä½¿ç”¨ <code>race</code> çš„æ–¹æ³•ï¼Œç›‘æµ‹æ¯ä¸ª <code>promise</code> çš„æˆåŠŸã€‚</li><li>å…¨éƒ¨å®ä¾‹è½¬åŒ–ä¸º <code>rejected</code> ï¼Œ<code>any</code> è¿”å› <code>AggregateError: All promises were rejected</code>ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ <code>all</code> æ–¹æ³•çš„å…¨éƒ¨æˆåŠŸï¼Œæ‰è¿”å›æˆåŠŸï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç´¯è®¡å¤±è´¥æ•°é‡ï¼Œå½“ <code>rejectCount === count</code> æ—¶ï¼Œè¿”å›å¤±è´¥å€¼ã€‚</li></ol><h3 id="3-æºç å®ç°-3"><a href="#3-æºç å®ç°-3" class="headerlink" title="3.æºç å®ç°"></a>3.æºç å®ç°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">any</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">promises</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve,reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">let</span> rejectCount = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">let</span> errors = [];<br>        <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> promises) &#123;<br>            i = count;<br>            count ++;<br>            <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>                <span class="hljs-title function_">resolve</span>(res)<br>            &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>                errors[i] = error;<br>                rejectCount ++;<br>                <span class="hljs-keyword">if</span> (rejectCount === count) &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AggregateError</span>(errors))<br>                &#125;<br>            &#125;)<br>        &#125;<br>        <span class="hljs-keyword">if</span>(count === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AggregateError</span>(<span class="hljs-string">&#x27;All promises were rejected&#x27;</span>))        <br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>promise-method</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptæ‰‹å†™Promise</title>
    <link href="/blog/2022/11/04/js-overwritePromise/"/>
    <url>/blog/2022/11/04/js-overwritePromise/</url>
    
    <content type="html"><![CDATA[<h1 id="javascriptæ‰‹å†™Promiseæ–¹æ³•"><a href="#javascriptæ‰‹å†™Promiseæ–¹æ³•" class="headerlink" title="javascriptæ‰‹å†™Promiseæ–¹æ³•"></a>javascriptæ‰‹å†™Promiseæ–¹æ³•</h1><h2 id="1-Promise-resolve"><a href="#1-Promise-resolve" class="headerlink" title="1.Promise.resolve"></a>1.Promise.resolve</h2><h3 id="ç®€è¦å›é¡¾"><a href="#ç®€è¦å›é¡¾" class="headerlink" title="ç®€è¦å›é¡¾"></a>ç®€è¦å›é¡¾</h3><ol><li><code>Promise.resolve(value) </code>æ–¹æ³•è¿”å›ä¸€ä¸ªä»¥ç»™å®šå€¼è§£æåçš„<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> å¯¹è±¡ã€‚</li><li>å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ª promise ï¼Œé‚£ä¹ˆå°†è¿”å›è¿™ä¸ª promise ï¼›</li><li>å¦‚æœè¿™ä¸ªå€¼æ˜¯thenableï¼ˆå³å¸¦æœ‰<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>&quot;then&quot; </code></a>æ–¹æ³•ï¼‰ï¼Œè¿”å›çš„promiseä¼šâ€œè·Ÿéšâ€è¿™ä¸ªthenableçš„å¯¹è±¡ï¼Œé‡‡ç”¨å®ƒçš„æœ€ç»ˆçŠ¶æ€ï¼›å¦åˆ™è¿”å›çš„promiseå°†ä»¥æ­¤å€¼å®Œæˆã€‚</li></ol><p>è¿™æ˜¯MDNä¸Šçš„è§£é‡Šï¼Œæˆ‘ä»¬æŒ¨ä¸ªçœ‹ä¸€ä¸‹</p><ol><li><code>Promise.resolve</code>æœ€ç»ˆç»“æœè¿˜æ˜¯ä¸€ä¸ª<code>Promise</code>ï¼Œå¹¶ä¸”ä¸<code>Promise.resolve(è¯¥å€¼)</code>ä¼ å…¥çš„å€¼æ¯æ¯ç›¸å…³</li><li>ä¼ å…¥çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ª<code>Promiseå®ä¾‹</code>ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°æ‰§è¡Œçš„ç»“æœæ˜¯ç›´æ¥å°†å®ä¾‹è¿”å›</li><li>è¿™é‡Œæœ€ä¸»è¦éœ€è¦ç†è§£è·Ÿéšï¼Œå¯ä»¥ç†è§£æˆ<code>Promiseæœ€ç»ˆçŠ¶æ€</code>å°±æ˜¯è¿™ä¸ªthenableå¯¹è±¡è¾“å‡ºçš„<strong>å€¼</strong></li></ol><hr><p><strong>ä¾‹å­</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1. éPromiseå¯¹è±¡ï¼Œéthenableå¯¹è±¡</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 1</span><br><br><span class="hljs-comment">// 2. Promiseå¯¹è±¡æˆåŠŸçŠ¶æ€</span><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>))<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p2).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// 3. Promiseå¯¹è±¡å¤±è´¥çŠ¶æ€</span><br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err3&#x27;</span>))<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p3).<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>) <span class="hljs-comment">// err3</span><br><br><span class="hljs-comment">// 4. thenableå¯¹è±¡</span><br><span class="hljs-keyword">const</span> p4 = &#123;<br>  <span class="hljs-title function_">then</span> (resolve) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">4</span>), <span class="hljs-number">1000</span>)<br>  &#125;<br>&#125;<br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p4).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 4</span><br><br><span class="hljs-comment">// 5. å•¥éƒ½æ²¡ä¼ </span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure><h3 id="æºç å®ç°"><a href="#æºç å®ç°" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><blockquote></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">myResolve</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-comment">// æ˜¯Promiseå®ä¾‹ï¼Œç›´æ¥è¿”å›å³å¯</span><br>  <span class="hljs-keyword">if</span> (value &amp;&amp; <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Promise</span>)) &#123;<br>    <span class="hljs-keyword">return</span> value<br>  &#125;<br>  <span class="hljs-comment">// å¦åˆ™å…¶ä»–æƒ…å†µä¸€å¾‹å†é€šè¿‡PromiseåŒ…è£…ä¸€ä¸‹ </span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>    <span class="hljs-title function_">resolve</span>(value)<br>  &#125;)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•ä¸€ä¸‹ï¼Œè¿˜æ˜¯ç”¨åˆšæ‰çš„ä¾‹å­</span><br><span class="hljs-comment">// 1. éPromiseå¯¹è±¡ï¼Œéthenableå¯¹è±¡</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myResolve</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 1</span><br><br><span class="hljs-comment">// 2. Promiseå¯¹è±¡æˆåŠŸçŠ¶æ€</span><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>))<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myResolve</span>(p2).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// 3. Promiseå¯¹è±¡å¤±è´¥çŠ¶æ€</span><br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err3&#x27;</span>))<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myResolve</span>(p3).<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>) <span class="hljs-comment">// err3</span><br><br><span class="hljs-comment">// 4. thenableå¯¹è±¡</span><br><span class="hljs-keyword">const</span> p4 = &#123;<br>  <span class="hljs-title function_">then</span> (resolve) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">4</span>), <span class="hljs-number">1000</span>)<br>  &#125;<br>&#125;<br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myResolve</span>(p4).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 4</span><br><br><span class="hljs-comment">// 5. å•¥éƒ½æ²¡ä¼ </span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myResolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// undefined</span><br><br></code></pre></td></tr></table></figure><p><strong>ç–‘é—®</strong></p><p>ä»æºç å®ç°ä¸­ï¼Œå¹¶æ²¡æœ‰çœ‹åˆ°å¯¹äº<code>thenable</code>å¯¹è±¡çš„ç‰¹æ®Šå¤„ç†å‘€ï¼å…¶å®ç¡®å®ä¹Ÿä¸éœ€è¦åœ¨<code>Promise.resolve</code>ä¸­å¤„ç†ï¼ŒçœŸå®å¤„ç†çš„åœ°æ–¹åº”è¯¥æ˜¯åœ¨<code>Promise</code>æ„é€ å‡½æ•°ä¸­ï¼Œå¦‚æœä½ å¯¹è¿™å—æ„Ÿå…´è¶£ï¼Œé©¬ä¸Šå°±ä¼šå†™<code>Promise</code>çš„å®ç°ç¯‡ï¼ŒæœŸå¾…ä½ çš„é˜…è¯»å™¢ã€‚</p><h2 id="2-Promise-reject"><a href="#2-Promise-reject" class="headerlink" title="2.Promise.reject"></a>2.Promise.reject</h2><h3 id="ç®€è¦å›é¡¾-1"><a href="#ç®€è¦å›é¡¾-1" class="headerlink" title="ç®€è¦å›é¡¾"></a>ç®€è¦å›é¡¾</h3><blockquote><p><code>Promise.reject() </code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸¦æœ‰æ‹’ç»åŸå› çš„<code>Promise</code>å¯¹è±¡ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;fail&#x27;</span>))<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Resolved&#x27;</span>), <br>        <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Rejected&#x27;</span>, err))<br><span class="hljs-comment">// è¾“å‡ºä»¥ä¸‹å†…å®¹        </span><br><span class="hljs-comment">// Rejected Error: fail</span><br><span class="hljs-comment">//    at &lt;anonymous&gt;:2:16        </span><br><br></code></pre></td></tr></table></figure><h3 id="æºç å®ç°-1"><a href="#æºç å®ç°-1" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><blockquote><p>rejectå®ç°ç›¸å¯¹ç®€å•ï¼Œåªè¦è¿”å›ä¸€ä¸ªæ–°çš„Promiseï¼Œå¹¶ä¸”å°†ç»“æœçŠ¶æ€è®¾ç½®ä¸ºæ‹’ç»å°±å¯ä»¥</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">myReject</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-title function_">reject</span>(value)<br>  &#125;)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•ä¸€ä¸‹</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myReject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;fail&#x27;</span>))<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Resolved&#x27;</span>), <br>        <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Rejected&#x27;</span>, err))<br><br><span class="hljs-comment">// Rejected Error: fail</span><br><span class="hljs-comment">//    at &lt;anonymous&gt;:9:18</span><br></code></pre></td></tr></table></figure><h2 id="3-Promise-all"><a href="#3-Promise-all" class="headerlink" title="3.Promise.all"></a>3.Promise.all</h2><h3 id="ç®€è¦å›é¡¾-2"><a href="#ç®€è¦å›é¡¾-2" class="headerlink" title="ç®€è¦å›é¡¾"></a>ç®€è¦å›é¡¾</h3><blockquote><p><code>Promise.all()</code>æ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚<strong>è¿™ä¸ªé™æ€æ–¹æ³•åº”è¯¥æ˜¯é¢è¯•ä¸­æœ€å¸¸è§çš„å•¦</strong></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3])<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>æœ€ç»ˆ<code>p</code>çš„çŠ¶æ€ç”±<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µã€‚</p><p>ï¼ˆ1ï¼‰åªæœ‰<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>çš„çŠ¶æ€éƒ½å˜æˆ<code>fulfilled</code>ï¼Œ<code>p</code>çš„çŠ¶æ€æ‰ä¼šå˜æˆ<code>fulfilled</code>ï¼Œæ­¤æ—¶<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°ã€‚</p><p>ï¼ˆ2ï¼‰åªè¦<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«<code>rejected</code>ï¼Œ<code>p</code>çš„çŠ¶æ€å°±å˜æˆ<code>rejected</code>ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«<code>reject</code>çš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>), <span class="hljs-number">1000</span>)<br>&#125;)<br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>), <span class="hljs-number">3000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p4 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err4&#x27;</span>)<br><span class="hljs-keyword">const</span> p5 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err5&#x27;</span>)<br><span class="hljs-comment">// 1. æ‰€æœ‰çš„Promiseéƒ½æˆåŠŸäº†</span><br><span class="hljs-keyword">const</span> p11 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([ p1, p2, p3 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// [ 1, 2, 3 ]</span><br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      <br><span class="hljs-comment">// 2. æœ‰ä¸€ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p12 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([ p1, p2, p4 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// err4</span><br>      <br><span class="hljs-comment">// 3. æœ‰ä¸¤ä¸ªPromiseå¤±è´¥äº†ï¼Œå¯ä»¥çœ‹åˆ°æœ€ç»ˆè¾“å‡ºçš„æ˜¯err4ï¼Œç¬¬ä¸€ä¸ªå¤±è´¥çš„è¿”å›å€¼</span><br><span class="hljs-keyword">const</span> p13 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([ p1, p4, p5 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// err4</span><br></code></pre></td></tr></table></figure><h3 id="æºç å®ç°-2"><a href="#æºç å®ç°-2" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">myAll</span> = <span class="hljs-function">(<span class="hljs-params">promises</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">rs, rj</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è®¡æ•°å™¨</span><br>    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span><br>    <span class="hljs-comment">// å­˜æ”¾ç»“æœ</span><br>    <span class="hljs-keyword">let</span> result = []<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span><br>    <br>    <span class="hljs-keyword">if</span> (len === <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">rs</span>([])<br>    &#125;<br>    <br>    promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">p, i</span>) =&gt;</span> &#123;<br>      <span class="hljs-comment">// æ³¨æ„æœ‰çš„æ•°ç»„é¡¹æœ‰å¯èƒ½ä¸æ˜¯Promiseï¼Œéœ€è¦æ‰‹åŠ¨è½¬åŒ–ä¸€ä¸‹</span><br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-comment">// æ”¶é›†æ¯ä¸ªPromiseçš„è¿”å›å€¼ </span><br>        result[ i ] = res<br>        <span class="hljs-comment">// å½“æ‰€æœ‰çš„Promiseéƒ½æˆåŠŸäº†ï¼Œé‚£ä¹ˆå°†è¿”å›çš„Promiseç»“æœè®¾ç½®ä¸ºresult</span><br>        <span class="hljs-keyword">if</span> (count === len) &#123;<br>          <span class="hljs-title function_">rs</span>(result)<br>        &#125;<br>        <span class="hljs-comment">// ç›‘å¬æ•°ç»„é¡¹ä¸­çš„Promise catchåªè¦æœ‰ä¸€ä¸ªå¤±è´¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‡ªå·±è¿”å›çš„Promiseä¹Ÿä¼šå¤±è´¥</span><br>      &#125;).<span class="hljs-title function_">catch</span>(rj)<br>    &#125;)<br>  &#125;)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•ä¸€ä¸‹</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>), <span class="hljs-number">1000</span>)<br>&#125;)<br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>), <span class="hljs-number">3000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p4 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err4&#x27;</span>)<br><span class="hljs-keyword">const</span> p5 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err5&#x27;</span>)<br><span class="hljs-comment">// 1. æ‰€æœ‰çš„Promiseéƒ½æˆåŠŸäº†</span><br><span class="hljs-keyword">const</span> p11 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAll</span>([ p1, p2, p3 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// [ 1, 2, 3 ]</span><br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      <br><span class="hljs-comment">// 2. æœ‰ä¸€ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p12 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAll</span>([ p1, p2, p4 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// err4</span><br>      <br><span class="hljs-comment">// 3. æœ‰ä¸¤ä¸ªPromiseå¤±è´¥äº†ï¼Œå¯ä»¥çœ‹åˆ°æœ€ç»ˆè¾“å‡ºçš„æ˜¯err4ï¼Œç¬¬ä¸€ä¸ªå¤±è´¥çš„è¿”å›å€¼</span><br><span class="hljs-keyword">const</span> p13 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAll</span>([ p1, p4, p5 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// err4</span><br><span class="hljs-comment">// ä¸åŸç”Ÿçš„Promise.allè¿”å›æ˜¯ä¸€è‡´çš„    </span><br></code></pre></td></tr></table></figure><h2 id="4-Promise-allSettled"><a href="#4-Promise-allSettled" class="headerlink" title="4.Promise.allSettled"></a>4.Promise.allSettled</h2><h3 id="ç®€è¦å›é¡¾-3"><a href="#ç®€è¦å›é¡¾-3" class="headerlink" title="ç®€è¦å›é¡¾"></a>ç®€è¦å›é¡¾</h3><blockquote><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç­‰åˆ°ä¸€ç»„å¼‚æ­¥æ“ä½œéƒ½ç»“æŸäº†ï¼Œä¸ç®¡æ¯ä¸€ä¸ªæ“ä½œæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå†è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚æ˜¾ç„¶<code>Promise.all</code>(å…¶åªè¦æ˜¯ä¸€ä¸ªå¤±è´¥äº†ï¼Œç»“æœå³è¿›å…¥å¤±è´¥çŠ¶æ€)ä¸å¤ªé€‚åˆï¼Œæ‰€ä»¥æœ‰äº†<code>Promise.allSettled</code></p></blockquote><blockquote><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">Promise.allSettled()`æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ã€‚åªæœ‰ç­‰åˆ°å‚æ•°æ•°ç»„çš„æ‰€æœ‰ Promise å¯¹è±¡éƒ½å‘ç”ŸçŠ¶æ€å˜æ›´ï¼ˆä¸ç®¡æ˜¯`fulfilled`è¿˜æ˜¯`rejected`ï¼‰ï¼Œè¿”å›çš„ Promise å¯¹è±¡æ‰ä¼šå‘ç”ŸçŠ¶æ€å˜æ›´,ä¸€æ—¦å‘ç”ŸçŠ¶æ€å˜æ›´ï¼ŒçŠ¶æ€æ€»æ˜¯`fulfilled`ï¼Œä¸ä¼šå˜æˆ`rejected<br></code></pre></td></tr></table></figure></blockquote><p>è¿˜æ˜¯ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œ æˆ‘ä»¬çœ‹çœ‹ä¸<code>Promise.all</code>æœ‰ä»€ä¹ˆä¸åŒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>), <span class="hljs-number">1000</span>)<br>&#125;)<br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>), <span class="hljs-number">3000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p4 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err4&#x27;</span>)<br><span class="hljs-keyword">const</span> p5 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err5&#x27;</span>)<br><span class="hljs-comment">// 1. æ‰€æœ‰çš„Promiseéƒ½æˆåŠŸäº†</span><br><span class="hljs-keyword">const</span> p11 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([ p1, p2, p3 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br><br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 2</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 3</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br>      <br><span class="hljs-comment">// 2. æœ‰ä¸€ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p12 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([ p1, p2, p4 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br>        <br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 2</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err4&quot;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br>      <br><span class="hljs-comment">// 3. æœ‰ä¸¤ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p13 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([ p1, p4, p5 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br>        <br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err4&quot;</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err5&quot;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><strong>å¯ä»¥çœ‹åˆ°ï¼š</strong></p><ol><li>ä¸ç®¡æ˜¯å…¨éƒ¨æˆåŠŸè¿˜æ˜¯æœ‰éƒ¨åˆ†å¤±è´¥ï¼Œæœ€ç»ˆéƒ½ä¼šè¿›å…¥<code>Promise.allSettled</code>çš„<code>.then</code>å›è°ƒä¸­</li><li>æœ€åçš„è¿”å›å€¼ä¸­ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„é¡¹éƒ½æœ‰<code>status</code>å±æ€§ï¼ŒæˆåŠŸæ—¶å€¼æ˜¯<code>fulfilled</code>ï¼Œå¤±è´¥æ—¶æ˜¯<code>rejected</code></li><li>æœ€åçš„è¿”å›å€¼ä¸­ï¼ŒæˆåŠŸå«æœ‰<code>value</code>å±æ€§ï¼Œè€Œå¤±è´¥åˆ™æ˜¯<code>reason</code>å±æ€§</li></ol><h3 id="æºç å®ç°-3"><a href="#æºç å®ç°-3" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">myAllSettled</span> = <span class="hljs-function">(<span class="hljs-params">promises</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">rs, rj</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">let</span> result = []<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span><br>    <span class="hljs-comment">// æ•°ç»„æ˜¯ç©ºçš„è¯ï¼Œç›´æ¥è¿”å›ç©ºæ•°æ®</span><br>    <span class="hljs-keyword">if</span> (len === <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">resolve</span>([])<br>    &#125;<br><br>    promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">p, i</span>) =&gt;</span> &#123;<br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-comment">// æˆåŠŸå±æ€§è®¾ç½® </span><br>        result[ i ] = &#123;<br>          <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;fulfilled&#x27;</span>,<br>          <span class="hljs-attr">value</span>: res<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span> (count === len) &#123;<br>          <span class="hljs-title function_">rs</span>(result)<br>        &#125;<br>      &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        count += <span class="hljs-number">1</span><br>        <span class="hljs-comment">// å¤±è´¥å±æ€§è®¾ç½® </span><br>        result[i] = &#123; <br>          <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;rejected&#x27;</span>, <br>          <span class="hljs-attr">reason</span>: err <br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (count === len) &#123;<br>          <span class="hljs-title function_">rs</span>(result)<br>        &#125;<br>      &#125;)<br>    &#125;)<br>  &#125;)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•ä¸€ä¸‹</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>), <span class="hljs-number">1000</span>)<br>&#125;)<br><span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>), <span class="hljs-number">3000</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p4 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err4&#x27;</span>)<br><span class="hljs-keyword">const</span> p5 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;err5&#x27;</span>)<br><span class="hljs-comment">// 1. æ‰€æœ‰çš„Promiseéƒ½æˆåŠŸäº†</span><br><span class="hljs-keyword">const</span> p11 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAllSettled</span>([ p1, p2, p3 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br><br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 2</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 3</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br>      <br><span class="hljs-comment">// 2. æœ‰ä¸€ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p12 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAllSettled</span>([ p1, p2, p4 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br>        <br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 2</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err4&quot;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br>      <br><span class="hljs-comment">// 3. æœ‰ä¸¤ä¸ªPromiseå¤±è´¥äº†</span><br><span class="hljs-keyword">const</span> p13 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myAllSettled</span>([ p1, p4, p5 ])<br>.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res, <span class="hljs-literal">null</span>,  <span class="hljs-number">2</span>)))<br>        <br><span class="hljs-comment">// è¾“å‡º </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">[</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;fulfilled&quot;,</span><br><span class="hljs-comment">    &quot;value&quot;: 1</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err4&quot;</span><br><span class="hljs-comment">  &#125;,</span><br><span class="hljs-comment">  &#123;</span><br><span class="hljs-comment">    &quot;status&quot;: &quot;rejected&quot;,</span><br><span class="hljs-comment">    &quot;reason&quot;: &quot;err5&quot;</span><br><span class="hljs-comment">  &#125;</span><br><span class="hljs-comment">]</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="5-Promise-race"><a href="#5-Promise-race" class="headerlink" title="5.Promise.race"></a>5.Promise.race</h2><h3 id="ç®€å•å›é¡¾"><a href="#ç®€å•å›é¡¾" class="headerlink" title="ç®€å•å›é¡¾"></a>ç®€å•å›é¡¾</h3><p><code>Promise.race()</code>æ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">const</span> p = Promise.race([<span class="hljs-built_in">p1</span>, <span class="hljs-built_in">p2</span>, <span class="hljs-built_in">p3</span>])<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>åªè¦<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œ<code>p</code>çš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">500</span>, <span class="hljs-number">1</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>)<br>&#125;)<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value) <span class="hljs-comment">// 2</span><br>&#125;)<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2, <span class="hljs-number">3</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value) <span class="hljs-comment">// 3</span><br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="æºç å®ç°-4"><a href="#æºç å®ç°-4" class="headerlink" title="æºç å®ç°"></a>æºç å®ç°</h3><blockquote><p>èªæ˜çš„ä½ ä¸€å®šé©¬ä¸ŠçŸ¥é“è¯¥æ€ä¹ˆå®ç°äº†ï¼Œåªè¦äº†è§£å“ªä¸ªå®ä¾‹å…ˆæ”¹å˜äº†ï¼Œé‚£ä¹ˆ<code>Promise.race</code>å°±è·Ÿéšè¿™ä¸ªç»“æœï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™å‡ºä»¥ä¸‹ä»£ç </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">myRace</span> = <span class="hljs-function">(<span class="hljs-params">promises</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">rs, rj</span>) =&gt;</span> &#123;<br>    promises.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> &#123;<br>      <span class="hljs-comment">// å¯¹pè¿›è¡Œä¸€æ¬¡åŒ…è£…ï¼Œé˜²æ­¢éPromiseå¯¹è±¡</span><br>      <span class="hljs-comment">// å¹¶ä¸”å¯¹é½è¿›è¡Œç›‘å¬ï¼Œå°†æˆ‘ä»¬è‡ªå·±è¿”å›çš„Promiseçš„resolveï¼Œrejectä¼ é€’ç»™pï¼Œå“ªä¸ªå…ˆæ”¹å˜çŠ¶æ€ï¼Œæˆ‘ä»¬è¿”å›çš„Promiseä¹Ÿå°†ä¼šæ˜¯ä»€ä¹ˆçŠ¶æ€</span><br>      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(p).<span class="hljs-title function_">then</span>(rs).<span class="hljs-title function_">catch</span>(rj)<br>    &#125;)<br>  &#125;)<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•</span><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">500</span>, <span class="hljs-number">1</span>)<br>&#125;)<br><br><span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>, <span class="hljs-number">2</span>)<br>&#125;)<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myRace</span>([p1, p2]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value) <span class="hljs-comment">// 2</span><br>&#125;)<br><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">myRace</span>([p1, p2, <span class="hljs-number">3</span>]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value) <span class="hljs-comment">// 3</span><br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>overwrite-promise</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueä¸­çš„$nextTickæ˜¯æ€ä¹ˆå®ç°çš„</title>
    <link href="/blog/2022/11/04/vue-nextTick/"/>
    <url>/blog/2022/11/04/vue-nextTick/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueä¸­çš„-nextTickæ˜¯æ€ä¹ˆå®ç°çš„"><a href="#Vueä¸­çš„-nextTickæ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="Vueä¸­çš„$nextTickæ˜¯æ€ä¹ˆå®ç°çš„"></a>Vueä¸­çš„$nextTickæ˜¯æ€ä¹ˆå®ç°çš„</h1><h3 id="1-è¯´æ˜"><a href="#1-è¯´æ˜" class="headerlink" title="1.è¯´æ˜"></a>1.è¯´æ˜</h3><p>vueå®˜æ–¹å¯¹nextTickçš„è¯´æ˜ï¼š</p><p>â€‹<a href="https://v2.cn.vuejs.org/v2/api/#vm-nextTick">https://v2.cn.vuejs.org/v2/api/#vm-nextTick</a></p><h3 id="2-ç®€å•ç¤ºä¾‹"><a href="#2-ç®€å•ç¤ºä¾‹" class="headerlink" title="2.ç®€å•ç¤ºä¾‹"></a>2.ç®€å•ç¤ºä¾‹</h3><p>å…ˆçœ‹ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div @click=&quot;handleClick&quot; ref=&quot;div&quot;&gt;&#123;&#123; text &#125;&#125;&lt;/div<br>&lt;/template&gt;<br>&lt;script&gt;<br>  export default &#123;<br>    data() &#123;<br>      return &#123;<br>        text: &#x27;old&#x27;<br>      &#125;<br>    &#125;,<br>    methods: &#123;<br>      handleClick() &#123;<br>        this.text = &#x27;new&#x27;<br>        console.log(this.$refs.div.innerText)<br>      &#125;<br>    &#125;<br>  &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶æ‰“å°çš„ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ <code>&#39;old&#39;</code>ã€‚å¦‚æœæƒ³è®©å®ƒæ‰“å° <code>&#39;new&#39;</code>ï¼Œä½¿ç”¨ <code>nextTick</code> ç¨åŠ æ”¹é€ å°±å¯ä»¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">div</span>.<span class="hljs-property">innerText</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="3-githubæºç å®ç°"><a href="#3-githubæºç å®ç°" class="headerlink" title="3.githubæºç å®ç°"></a>3.githubæºç å®ç°</h3><p>ä½†æ˜¯ä½ æƒ³è¿‡å®ƒå†…éƒ¨æ˜¯æ€ä¹ˆå®ç°çš„ä¹ˆï¼Œå’Œæˆ‘ä»¬å†™ <code>setTimeout</code> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p><p>å› ä¸ºå¹³æ—¶å·¥ä½œä½¿ç”¨çš„æ˜¯Vue2ï¼Œæ‰€ä»¥æˆ‘å°±ä»¥Vue2çš„æœ€æ–°ç‰ˆæœ¬2.6.14ä¸ºä¾‹è¿›è¡Œåˆ†æï¼ŒVue3çš„å®ç°åº”è¯¥ä¹Ÿæ˜¯å¤§åŒå°å¼‚ã€‚</p><p>æºç åœ°å€ï¼š<a href="https://link.juejin.cn/?target=https://github.com/vuejs/vue/blob/2.6/src/core/util/next-tick.js">github.com&#x2F;vuejs&#x2F;vue&#x2F;bâ€¦</a></p><p>ä¸ºäº†æ–¹ä¾¿é˜…è¯»æˆ‘åˆ æ‰äº†æ³¨é‡Šï¼Œåªå…³æ³¨æœ€é‡è¦çš„å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Promise</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-title function_">isNative</span>(<span class="hljs-title class_">Promise</span>)) &#123;<br>  <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    p.<span class="hljs-title function_">then</span>(flushCallbacks)<br>    <span class="hljs-keyword">if</span> (isIOS) <span class="hljs-built_in">setTimeout</span>(noop)<br>  &#125;<br>  isUsingMicroTask = <span class="hljs-literal">true</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!isIE &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">MutationObserver</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; (<br>  <span class="hljs-title function_">isNative</span>(<span class="hljs-title class_">MutationObserver</span>) || <span class="hljs-title class_">MutationObserver</span>.<span class="hljs-title function_">toString</span>() === <span class="hljs-string">&#x27;[object MutationObserverConstructor]&#x27;</span><br>)) &#123;<br>  <span class="hljs-keyword">let</span> counter = <span class="hljs-number">1</span><br>  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(flushCallbacks)<br>  <span class="hljs-keyword">const</span> textNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(<span class="hljs-title class_">String</span>(counter))<br>  observer.<span class="hljs-title function_">observe</span>(textNode, &#123;<br>    <span class="hljs-attr">characterData</span>: <span class="hljs-literal">true</span><br>  &#125;)<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    counter = (counter + <span class="hljs-number">1</span>) % <span class="hljs-number">2</span><br>    textNode.<span class="hljs-property">data</span> = <span class="hljs-title class_">String</span>(counter)<br>  &#125;<br>  isUsingMicroTask = <span class="hljs-literal">true</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> setImmediate !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-title function_">isNative</span>(setImmediate)) &#123;<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">setImmediate</span>(flushCallbacks)<br>  &#125;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(flushCallbacks, <span class="hljs-number">0</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-åˆ†å¼€è§£ææºç "><a href="#4-åˆ†å¼€è§£ææºç " class="headerlink" title="4.åˆ†å¼€è§£ææºç "></a>4.åˆ†å¼€è§£ææºç </h3><p>å…ˆå¤§æ¦‚æ‰«ä¸€éå¯çŸ¥ <code>$nextTick</code> ä¸»è¦æ˜¯é€šè¿‡å¾®ä»»åŠ¡æ¥å®ç°çš„ï¼Œå…¶å®åœ¨2.5ç‰ˆæœ¬ä¸­ï¼Œæ˜¯é‡‡ç”¨å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ç›¸ç»“åˆçš„æ–¹å¼å®ç°çš„ï¼Œä½†å› ä¸ºåœ¨æ¸²æŸ“å’Œäº‹ä»¶å¤„ç†ä¸­ä¸€äº›æ¯”è¾ƒæ€ªå¼‚çš„è¡Œä¸ºï¼ˆæ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹ä¸‹issueï¼‰ï¼Œæ‰€ä»¥æœ€ç»ˆç»Ÿä¸€é‡‡ç”¨äº†å¾®ä»»åŠ¡ã€‚</p><h4 id="1-å…ˆçœ‹ç¬¬ä¸€å—ï¼š"><a href="#1-å…ˆçœ‹ç¬¬ä¸€å—ï¼š" class="headerlink" title="1.å…ˆçœ‹ç¬¬ä¸€å—ï¼š"></a>1.å…ˆçœ‹ç¬¬ä¸€å—ï¼š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Promise</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-title function_">isNative</span>(<span class="hljs-title class_">Promise</span>)) &#123;<br>  <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    p.<span class="hljs-title function_">then</span>(flushCallbacks)<br>    <span class="hljs-keyword">if</span> (isIOS) <span class="hljs-built_in">setTimeout</span>(noop)<br>  &#125;<br>  isUsingMicroTask = <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœå¯ä»¥ä½¿ç”¨ <code>Promise</code> ï¼Œå°±é‡‡ç”¨ <code>promise.then</code> çš„æ–¹å¼å»æ‰§è¡Œå›è°ƒï¼Œå°†ä»»åŠ¡åœ¨ä¸‹ä¸€ä¸ªtickæ‰§è¡Œã€‚ä½†æ˜¯å…¶ä¸­ <code>if (isIOS) setTimeout(noop)</code> è¿™å¥è¯æ˜¯åœ¨åšä»€ä¹ˆå‘¢ï¼Ÿåœ¨iOS &gt;&#x3D; 9.3.3çš„UIWebViewä¸­ï¼Œå®šä¹‰çš„å›è°ƒå‡½æ•°é€šè¿‡ <code>Promise</code> çš„æ–¹å¼æ¨åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—åï¼Œé˜Ÿåˆ—ä¸åˆ·æ–°ï¼Œéœ€è¦é  <code>setTimeout</code> æ¥å¼ºåˆ¶æ›´æ–°ä¸€ä¸‹ï¼Œ<code>noop</code> å°±æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ã€‚</p><h4 id="2-å†çœ‹ç¬¬äºŒå—ï¼š"><a href="#2-å†çœ‹ç¬¬äºŒå—ï¼š" class="headerlink" title="2.å†çœ‹ç¬¬äºŒå—ï¼š"></a>2.å†çœ‹ç¬¬äºŒå—ï¼š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!isIE &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">MutationObserver</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; (<br>  <span class="hljs-title function_">isNative</span>(<span class="hljs-title class_">MutationObserver</span>) || <span class="hljs-title class_">MutationObserver</span>.<span class="hljs-title function_">toString</span>() === <span class="hljs-string">&#x27;[object MutationObserverConstructor]&#x27;</span><br>)) &#123;<br>  <span class="hljs-keyword">let</span> counter = <span class="hljs-number">1</span><br>  <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(flushCallbacks)<br>  <span class="hljs-keyword">const</span> textNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(<span class="hljs-title class_">String</span>(counter))<br>  observer.<span class="hljs-title function_">observe</span>(textNode, &#123;<br>    <span class="hljs-attr">characterData</span>: <span class="hljs-literal">true</span><br>  &#125;)<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    counter = (counter + <span class="hljs-number">1</span>) % <span class="hljs-number">2</span><br>    textNode.<span class="hljs-property">data</span> = <span class="hljs-title class_">String</span>(counter)<br>  &#125;<br>  isUsingMicroTask = <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸èƒ½ç”¨ <code>Promise</code> å°±é™çº§ä½¿ç”¨ <code>MutationObserver</code>ã€‚åˆ›å»ºäº†ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ <code>observer</code> å»è§‚å¯Ÿæ–‡æœ¬èŠ‚ç‚¹çš„å˜åŒ–ã€‚ <code>characterData: true</code> è¿™ä¸ªé…ç½®å°±æ˜¯å½“æ–‡å­—å˜åŒ–çš„æ—¶å€™å°±ä¼šæ‰§è¡Œå›è°ƒã€‚<code>(counter + 1) % 2</code> ä¼šä½¿æ–‡æœ¬èŠ‚ç‚¹çš„æ–‡å­—åœ¨ <code>0</code> ã€ <code>1</code> ã€ <code>0</code> ã€ <code>1</code>ä¹‹é—´ä¸åŒå˜åŒ–ï¼Œè¿™æ ·å°±ä¼šè¢« <code>observer</code> è§‚å¯Ÿåˆ°ã€‚<code>MutationObserver</code> ä¹Ÿæ˜¯å¾®ä»»åŠ¡ã€‚</p><h4 id="3-ç„¶åæ˜¯ç¬¬ä¸‰å—ï¼š"><a href="#3-ç„¶åæ˜¯ç¬¬ä¸‰å—ï¼š" class="headerlink" title="3.ç„¶åæ˜¯ç¬¬ä¸‰å—ï¼š"></a>3.ç„¶åæ˜¯ç¬¬ä¸‰å—ï¼š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> setImmediate !== <span class="hljs-string">&#x27;undefined&#x27;</span> &amp;&amp; <span class="hljs-title function_">isNative</span>(setImmediate)) &#123; <br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123; <br>    <span class="hljs-title function_">setImmediate</span>(flushCallbacks) <br>  &#125; <br>&#125;<br></code></pre></td></tr></table></figure><p>å½“å¾®ä»»åŠ¡éƒ½ä¸è¢«æ”¯æŒæ—¶ï¼Œå°±è¦ä½¿ç”¨å®ä»»åŠ¡äº†ã€‚å…¶å®å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ä¸ä¼šèµ°åˆ°è¿™é‡Œï¼Œå› ä¸º <code>setImmediate</code> å¹¶æ²¡æœ‰æˆä¸ºæ­£å¼çš„æ ‡å‡†ï¼Œå¹¶ä¸”å…¼å®¹æ€§å¾ˆå·®ã€‚</p><h4 id="4-æœ€åæ˜¯ç¬¬å››å—ï¼š"><a href="#4-æœ€åæ˜¯ç¬¬å››å—ï¼š" class="headerlink" title="4.æœ€åæ˜¯ç¬¬å››å—ï¼š"></a>4.æœ€åæ˜¯ç¬¬å››å—ï¼š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">else</span> &#123;<br>  timerFunc = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(flushCallbacks, <span class="hljs-number">0</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€ååœ¨æ‰€æœ‰æ–¹æ¡ˆéƒ½è¡Œä¸é€šæ—¶ï¼Œåªèƒ½é‡‡ç”¨ <code>setTimeout</code> çš„æ–¹å¼ã€‚ä¹‹æ‰€ä»¥æœ‰ç¬¬ä¸‰å—æ˜¯å› ä¸ºè™½ç„¶éƒ½æ˜¯å®ä»»åŠ¡ï¼Œä½†æ˜¯ <code>setImmediate</code> ä¼šæ¯” <code>setTimeout</code> å¿«ï¼Œæ‰€ä»¥MDNä¸Šæ‰ä¼šè¯´ <code>setTimeout(fn, 0)</code> ä¸èƒ½æˆä¸º <code>setImmediate</code> çš„polyfillã€‚å°±åƒä½œè€…åœ¨æ³¨é‡Šä¸­å†™çš„é‚£æ ·ï¼šå®ƒä»ç„¶æ˜¯æ¯” <code>setTimeout</code> æ›´å¥½çš„é€‰æ‹©ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nextTick</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜å¸¸é—®2</title>
    <link href="/blog/2022/11/04/interview-20221104/"/>
    <url>/blog/2022/11/04/interview-20221104/</url>
    
    <content type="html"><![CDATA[<h1 id="é¢è¯•ä¸­æ•´ç†çš„é¢è¯•é¢˜"><a href="#é¢è¯•ä¸­æ•´ç†çš„é¢è¯•é¢˜" class="headerlink" title="é¢è¯•ä¸­æ•´ç†çš„é¢è¯•é¢˜"></a>é¢è¯•ä¸­æ•´ç†çš„é¢è¯•é¢˜</h1><h4 id="ä¸€ã€æŸåœ°äº§çš„é¢è¯•"><a href="#ä¸€ã€æŸåœ°äº§çš„é¢è¯•" class="headerlink" title="ä¸€ã€æŸåœ°äº§çš„é¢è¯•"></a>ä¸€ã€æŸåœ°äº§çš„é¢è¯•</h4><h6 id="1ã€æœºè¯•"><a href="#1ã€æœºè¯•" class="headerlink" title="1ã€æœºè¯•"></a>1ã€æœºè¯•</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">1ã€æŠŠä¸€ä¸ªurlæ‹†è§£æˆoriginã€æ–‡ä»¶åã€<span class="hljs-built_in">hash</span>æ‹†è§£æˆç¤ºä¾‹çš„æ ¼å¼ã€‚<br>2ã€ä¸¤ä¸ªæ•°ç»„åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿›è¡Œç®—æ³•ä¼˜åŒ–ã€‚<br>3ã€è®¾ç½®å€¼çš„æ—¶å€™æ˜¯æ•°å­—ï¼Œè¾“å‡ºçš„æ—¶å€™å˜æˆç™¾åˆ†å·çš„æ ¼å¼ã€‚<br>4ã€é¦–å±ä¼˜åŒ–çš„æ–¹æ¡ˆï¼Œåˆ†åˆ«ä»ä»£ç ã€ç½‘ç»œå’Œç¼“å­˜è¯´ä¸€ä¸‹ã€‚<br>5ã€å¦‚æœä¸€æ¬¡æ€§å¢åŠ 100ä¸‡ä¸ªç”¨æˆ·è®¿é—®é¡¹ç›®ï¼Œå‰ç«¯è§’åº¦ä½ ä¼šæ€ä¹ˆä¼˜åŒ–ã€‚<br>6ã€åˆ†åˆ«ç”¨es5å’Œes6çš„æ–¹å¼è§£å†³ä¸€ä¸ªç»§æ‰¿é—®é¢˜<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="2ã€ç°åœºé¢è¯•"><a href="#2ã€ç°åœºé¢è¯•" class="headerlink" title="2ã€ç°åœºé¢è¯•"></a>2ã€ç°åœºé¢è¯•</h6><p>ç¬¬ä¸€è½®çš„æœºè¯•è¿‡äº†ï¼Œçº¦äº†ä¸‹å‘¨è¿›è¡Œé¢è¯•ã€‚</p><p>åŒä¼‘åœ¨çŸ¥ä¹ä¸Šæœäº†ä¸€ä¸‹è¿™å®¶å…¬å¸ï¼Œç½‘ä¸Šé£è¯„è¯´è¯¥å…¬å¸puaå¤ªä¸¥é‡ã€é¢†å¯¼æå°å›¢ä½“ï¼ŒæŠ€æœ¯æ ˆä¹Ÿä¸æ˜¯æˆ‘ç†Ÿæ‚‰çš„ï¼Œç»™çš„è–ªèµ„ä¸é«˜ï¼Œå°±æ‹’ç»æ¥ä¸‹æ¥çš„é¢è¯•äº†ã€‚</p><h4 id="äºŒã€æŸåŒ»ç–—é›†å›¢çš„é¢è¯•"><a href="#äºŒã€æŸåŒ»ç–—é›†å›¢çš„é¢è¯•" class="headerlink" title="äºŒã€æŸåŒ»ç–—é›†å›¢çš„é¢è¯•"></a>äºŒã€æŸåŒ»ç–—é›†å›¢çš„é¢è¯•</h4><h6 id="1ã€ç¬”è¯•"><a href="#1ã€ç¬”è¯•" class="headerlink" title="1ã€ç¬”è¯•"></a>1ã€ç¬”è¯•</h6><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-number">1</span>ã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡è¾“å‡ºæ‰§è¡Œé—®é¢˜ï¼Œæ‰“å°ç»“æœï¼Ÿ<br><span class="hljs-number">2</span>ã€<span class="hljs-keyword">this</span>æŒ‡å‘çš„é—®é¢˜ï¼Œæ‰“å°ç»“æœï¼Ÿ<br><span class="hljs-number">3</span>ã€computedå’Œwatchçš„ä½¿ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><span class="hljs-number">4</span>ã€reactå’Œvueæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><span class="hljs-number">5</span>ã€ä½ è®¤ä¸ºå¥½çš„å›¢é˜Ÿåä½œæ–¹å¼åº”è¯¥æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">6</span>ã€ä½ åšè¿‡å“ªäº›é¡¹ç›®ä¸Šçš„æ€§èƒ½ä¼˜åŒ–ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="2ã€ä¸€é¢"><a href="#2ã€ä¸€é¢" class="headerlink" title="2ã€ä¸€é¢"></a>2ã€ä¸€é¢</h6><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-number">1</span>ã€ç®€å•ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±<br><span class="hljs-number">2</span>ã€ä½ é¡¹ç›®ä¸­è¯´è‡ªå·±æ•´ç†äº†æ–‡æ¡£è§„èŒƒã€ä»£ç è§„èŒƒã€é¡¹ç›®è§„èŒƒï¼Œä½ è¯´ä¸‹éƒ½åšäº†å“ªäº›å…·ä½“çš„äº‹æƒ…ï¼Ÿ<br><span class="hljs-number">3</span>ã€ä½ è¯´åœ¨é¡¹ç›®å„é˜¶æ®µéƒ½åšäº†é—®é¢˜çš„æ±‡æ€»ï¼Œä¸¾ä¾‹ä¸€ä¸ªä½ å°è±¡æœ€æ·±çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Ÿ<br><span class="hljs-number">4</span>ã€å‘å¸ƒä¸Šçº¿æ—¶é—´å¹³å‡ç”±<span class="hljs-number">10</span>åˆ†é’Ÿæé«˜åˆ°<span class="hljs-number">1</span>åˆ†é’Ÿï¼Œä½ å‰ååšäº†å“ªäº›ä¼˜åŒ–è¾¾åˆ°è¿™ä¸ªç›®æ ‡çš„ï¼Ÿ<br><span class="hljs-number">5</span>ã€æœåŠ¡ç«¯å¼‚å¸¸è¿™ä¸ªé—®é¢˜ä½ æ˜¯æ€ä¹ˆæ•æ‰çš„ï¼Ÿ<br><span class="hljs-number">6</span>ã€webpackçš„æ„å»ºæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">7</span>ã€webpackåšè¿‡å“ªäº›ä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">8</span>ã€es <span class="hljs-keyword">module</span>å’Œbabelåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ<br><span class="hljs-number">9</span>ã€es <span class="hljs-keyword">module</span>çš„æ‰§è¡Œé€»è¾‘æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">10</span>ã€ä½ æ˜¯å¦‚ä½•ç†è§£å•æ–‡ä»¶ç»„ä»¶çš„ï¼Ÿ<br><span class="hljs-number">11</span>ã€ç¼–è¯‘<span class="hljs-keyword">template</span>ä¹‹åæœ€ç»ˆä¼šç”Ÿæˆä»€ä¹ˆï¼Œè¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">12</span>ã€vue3åœ¨æ¨¡æ¿æ–¹é¢åšäº†å“ªäº›ä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">13</span>ã€è¯´ä¸€ä¸‹å“åº”å¼åŸç†ï¼Ÿ<br><span class="hljs-number">14</span>ã€ä½ åœ¨å“åº”å¼ä¸­è¯´åˆ°diffç®—æ³•ï¼Œé‚£diffç®—æ³•çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">15</span>ã€ä¸ºä»€ä¹ˆè¦å¼•å…¥$setå’Œ$<span class="hljs-keyword">delete</span>è¿™ä¸¤ä¸ªapiï¼Ÿ<br><span class="hljs-number">16</span>ã€ä½ æ€ä¹ˆç†è§£å¼‚æ­¥æ›´æ–°æœºåˆ¶çš„ï¼Ÿ<br><span class="hljs-number">17</span>ã€å¦‚æœæˆ‘åœ¨computedä¸­ä¾èµ–çš„dataå˜åŒ–ï¼Œä½†æ˜¯è¿”å›å€¼æ²¡æœ‰å˜åŒ–ï¼Œè¿™ä¸ªcomputedä¼šæ›´æ–°å—ï¼Ÿ<br><span class="hljs-number">18</span>ã€è¯´ä¸€ä¸‹v-<span class="hljs-keyword">for</span>ä¸­keyçš„ä½œç”¨ï¼Œkeyå€¼ç”¨äº†ä¸‹æ ‡ä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br><span class="hljs-number">19</span>ã€è¯´ä¸€ä¸‹ä½œç”¨åŸŸçš„ç†è§£ï¼Ÿ<br><span class="hljs-number">20</span>ã€è¯´ä¸€ä¸‹åŸå‹å’ŒåŸå‹é“¾ï¼Ÿ<br><span class="hljs-number">21</span>ã€è¯´ä¸€ä¸‹å¦‚æœè®©ä½ å»å°è£…ä¸€ä¸‹extendså‡½æ•°ï¼Œä½ ä¼šè€ƒè™‘æ€ä¹ˆå°è£…ï¼Ÿ<br><span class="hljs-number">22</span>ã€è¯´ä¸€ä¸‹<span class="hljs-keyword">this</span>çš„æŒ‡å‘æœ‰å“ªäº›ï¼Ÿ<br><span class="hljs-number">23</span>ã€é—­åŒ…æœ‰ä»€ä¹ˆç‰¹åˆ«ï¼Œè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br><span class="hljs-number">24</span>ã€callã€applyçš„å°è£…åº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="3ã€äºŒé¢"><a href="#3ã€äºŒé¢" class="headerlink" title="3ã€äºŒé¢"></a>3ã€äºŒé¢</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs">1ã€ä½ è¯´ä¸€ä¸‹è¿™ä¸ªé”™è¯¯ç›‘æ§ä¸ŠæŠ¥åŠŸèƒ½æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ<br>2ã€ä½ ä½œä¸ºè´Ÿè´£äººçš„æ—¶å€™ï¼Œæ¥æ‰‹çš„æ—¶å€™å›¢é˜Ÿæœ‰å¤šå°‘äººï¼Ÿ<br>3ã€åŸ‹ç‚¹è‡ªå·±å¼€å‘çš„è¿˜æ˜¯ç¬¬ä¸‰æ–¹çš„ï¼Œä¸»è¦åŸ‹å“ªäº›æ•°æ®ï¼Ÿ<br>4ã€ä½ ä»¬é€šè¿‡åŸ‹ç‚¹çš„æ•°æ®æ€ä¹ˆåšåˆ†æçš„ï¼Ÿ<br>5ã€ä½ è¿™ä¸ªå‘å¸ƒä¸Šçº¿æ—¶é—´å¹³å‡ç”±10åˆ†é’Ÿæé«˜åˆ°1åˆ†é’Ÿï¼Œåšäº†å“ªäº›äº‹æƒ…è¾¾åˆ°è¿™ä¸ªç›®æ ‡çš„ï¼Ÿ<br>6ã€ä½ çš„èŒä¸šè§„åˆ’æ˜¯æ€æ ·çš„ï¼Ÿ<br>7ã€ä½ è·Ÿä½ å›¢é˜Ÿçš„äººå‘˜æ˜¯æ€ä¹ˆé…åˆçš„ï¼Ÿ<br>8ã€ä½ å¤§å­¦ä¸“ä¸šä¸æ˜¯è®¡ç®—æœºï¼Œæ€ä¹ˆå¹²èµ·äº†ç¼–ç¨‹å‘¢ï¼Œè¯´ä¸€ä¸‹è¿‡ç¨‹ï¼Ÿ<br>9ã€ä½ æƒ³è¦æ€æ ·çš„å…¬å¸æ°›å›´ï¼Ÿ<br>10ã€ä½ è¿˜æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„å—ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="4ã€äººäº‹é¢"><a href="#4ã€äººäº‹é¢" class="headerlink" title="4ã€äººäº‹é¢"></a>4ã€äººäº‹é¢</h6><p>äººäº‹é¢é‡åˆ°çš„é—®é¢˜éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œæˆ‘åœ¨ä¸‹é¢ä¼šä¸“é—¨æ‹¿ä¸€ä¸ªéƒ¨åˆ†æ±‡æ€»äººäº‹é¢çš„é—®é¢˜ã€‚</p><p>è¯¥å…¬å¸æŠŠ4è½®é¢è¯•æ”¾åœ¨äº†ä¸€ä¸ªä¸‹åˆï¼Œç›´æ¥å»äº†ç°åœºé¢è¯•ã€‚å› ä¸ºä¸€è½®é¢è¯•å›ç­”çš„æˆåŠŸç‡90%ä»¥ä¸Šï¼Œè·Ÿé¢è¯•å®˜èŠå¾—è¶Šæ¥è¶Šæ·±å…¥ï¼Œæ‰€ä»¥äºŒé¢çš„æ—¶å€™åŸºæœ¬å°±é—®äº†ä¸€äº›ä¸šåŠ¡å’Œæ±‚èŒæ„å‘çš„é—®é¢˜ï¼Œä¹Ÿæ²¡æœ‰ç»™æˆ‘æŒ–å‘ã€‚</p><p>ç¬¬äºŒå¤©äººäº‹ç»™æˆ‘å›äº†ç”µè¯ï¼Œè¯´äº†èƒ½ç»™åˆ°è–ªèµ„ï¼Œæˆ‘å›å¤è€ƒè™‘ä¸€ä¸‹ï¼Œç„¶åå†å†³å®šæ¥ä¸æ¥å—offerï¼Œè€ƒè™‘äº†2å¤©ï¼Œæ¥å—äº†è¿™å®¶å…¬å¸çš„offerã€‚</p><h4 id="ä¸‰ã€æŸåŸºé‡‘å…¬å¸çš„é¢è¯•"><a href="#ä¸‰ã€æŸåŸºé‡‘å…¬å¸çš„é¢è¯•" class="headerlink" title="ä¸‰ã€æŸåŸºé‡‘å…¬å¸çš„é¢è¯•"></a>ä¸‰ã€æŸåŸºé‡‘å…¬å¸çš„é¢è¯•</h4><h6 id="1ã€ä¸€é¢"><a href="#1ã€ä¸€é¢" class="headerlink" title="1ã€ä¸€é¢"></a>1ã€ä¸€é¢</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-number">1</span>ã€ç®€å•çš„ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±<br><span class="hljs-number">2</span>ã€ä½ ä»¬è¿™é¡¹é¡¹ç›®ä¸­æœ‰å¾®ä¿¡å…¬ä¼—å·ã€åå°ç®¡ç†ç«¯ã€åŒ»ç”Ÿappç«¯å’Œå°ç¨‹åºç«¯ï¼Œæœ‰æ²¡æœ‰æç‚¼å‡ºä¸€äº›å…¬å…±çš„å·¥å…·jsï¼Œæ€ä¹ˆæç‚¼çš„ï¼Ÿ<br><span class="hljs-number">3</span>ã€ä½ ä»¬çš„gitåˆ†æ”¯ç®¡ç†æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ<br><span class="hljs-number">4</span>ã€ä½ åœ¨åšå®Œå‰ç«¯é¡¹ç›®ä¹‹åï¼Œä¸€èˆ¬éƒ½ä¼šå†™å“ªäº›æ–‡æ¡£ï¼Œreadmeé‡Œé¢å†™ä¸€äº›ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">5</span>ã€ä½ åšå®Œä¸€ä¸ªé¡¹ç›®ä¹‹åå†™ä¸€äº›ä»€ä¹ˆå†…å®¹ï¼Œè®©æ¥æ‰‹ä½ çš„äººèƒ½å¤Ÿçœ‹æ‡‚ä½ çš„é¡¹ç›®æ¶æ„ï¼Œå¹¶ä¸”è¿…é€Ÿä¸Šæ‰‹ï¼Ÿ<br><span class="hljs-number">6</span>ã€ä½ åŸºäºä½ çš„è„šæ‰‹æ¶åšäº†å“ªäº›ä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">7</span>ã€ä½ ä»¬çš„é¡¹ç›®æ–‡æ¡£ä¸€èˆ¬éƒ½è¦è®°å½•å“ªäº›åŸºæœ¬çš„ä¸œè¥¿ï¼Ÿ<br><span class="hljs-number">8</span>ã€æœ‰åœ¨é¡¹ç›®ä¸­é‡åˆ°è¿‡xssæ”»å‡»å—ï¼Ÿ<br><span class="hljs-number">9</span>ã€ä½ è¿™ä¸ªé”™è¯¯æ•°æ®ä¸ŠæŠ¥äº†å“ªäº›æ•°æ®ï¼Œæ€ä¹ˆå®ç°çš„ï¼Ÿ<br><span class="hljs-number">10</span>ã€æˆåŠŸæŠµå¾¡è¿‡å¤šæ¬¡æ”»å‡»èƒ½å…·ä½“è¯´ä¸€è¯´å—ï¼Ÿ<br><span class="hljs-number">11</span>ã€è¯´ä¸€ä¸‹ä½ åœ¨é¡¹ç›®ä¸­é‡åˆ°å°è±¡æ·±åˆ»çš„é¡¹ç›®åœºæ™¯ï¼Œå¹¶ä¸”æ€ä¹ˆè§£å†³çš„ï¼Ÿ<br><span class="hljs-number">12</span>ã€èƒ½è¯´ä¸€ä¸‹sessionè·Ÿjwtçš„ä¼˜ç¼ºç‚¹å—ï¼Ÿ<br><span class="hljs-number">13</span>ã€ä½ è¯´ç”¨æˆ·ç™»å½•ä¹‹åè¦åœ¨sessionä¸­åŠ å…¥user_nameï¼Œä¸ºä»€ä¹ˆè¦å¢åŠ ï¼Ÿ<br><span class="hljs-number">14</span>ã€jwtçš„æ•´ä¸ªæµç¨‹æ€ä¹ˆå®ç°çš„ï¼Ÿ<br><span class="hljs-number">15</span>ã€å®ç°jwtçš„å®ç°é‡åˆ°ä»€ä¹ˆå›°éš¾äº†å—ï¼Ÿ<br><span class="hljs-number">16</span>ã€å¦‚æœåŒä¸€éƒ¨æ‰‹æœºç”¨æˆ·<span class="hljs-selector-tag">A</span>ç™»å½•äº†ï¼Œæ›´æ¢äº†<span class="hljs-selector-tag">B</span>ç™»å½•ï¼Œæ­¤æ—¶ä½¿ç”¨jwtä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ<br>  - æˆ‘è§‰å¾—è¿™é‡Œä»–ç»™æŒ–å‘äº†ï¼Œ<span class="hljs-selector-tag">B</span>ç™»å½•äº†ä¹‹åå°±ä¼šè¿”å›<span class="hljs-selector-tag">B</span>ç”¨æˆ·çš„tokenï¼Œç„¶åè¯·æ±‚å¤´å¸¦ç€çš„å°±æ˜¯<span class="hljs-selector-tag">B</span>çš„tokenï¼ŒéªŒè¯åˆ°çš„ç”¨æˆ·ä¹Ÿå°±æ˜¯<span class="hljs-selector-tag">B</span>ï¼Œæˆ‘è®¤ä¸ºæ²¡æœ‰é—®é¢˜å•Šã€‚æˆ‘ä¸å¤ªæ¸…æ¥šä»–è¯´çš„å¯èƒ½ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å€¼å•¥æƒ…å†µï¼Œå¯èƒ½æ˜¯æˆ‘è€ƒè™‘ä¸å‘¨å…¨ï¼Œå¦‚æœæœ‰ç½‘å‹çŸ¥é“å¯ä»¥æé†’ä¸€ä¸‹æˆ‘ä»–æƒ³é—®çš„ç­”æ¡ˆï¼Œè®©æˆ‘å­¦ä¹ ä¸€ä¸‹ã€‚<br><span class="hljs-number">17</span>ã€å½“çº¿ä¸Šå‡ºäº†ç´§æ€¥bugçš„æ—¶å€™ï¼Œä½ ä»¬æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ<br><span class="hljs-number">18</span>ã€ä½ ä»¬å›¢é˜Ÿæˆå‘˜æ˜¯æ€ä¹ˆé…åˆå®Œæˆä»»åŠ¡çš„ï¼Ÿ<br><span class="hljs-number">19</span>ã€ä½ è¿‘<span class="hljs-number">2</span>å¹´çš„èŒä¸šè§„åˆ’ï¼Ÿ<br><span class="hljs-number">20</span>ã€è¿˜æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„å—ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>é—®çš„ä¸€äº›é—®é¢˜åå‘äºåç«¯ï¼Œé¢è¯•å®˜å¤§æ¦‚æ˜¯javaå·¥ç¨‹å¸ˆå§ã€‚ç„¶åä»å›¢é˜Ÿç®¡ç†ã€æ€ä¹ˆè®©æ–°æ¥çš„æˆå‘˜å¿«é€Ÿæ¥æ‰‹é¡¹ç›®ã€æ–‡æ¡£æ–¹ä¾¿çš„ç®¡ç†ç­‰ç­‰ï¼›å‰ç«¯æŠ€æœ¯é—®é¢˜æ•´ä¸ªé¢è¯•è¿‡ç¨‹ä¸­å æ¯”ä¸å¤§ã€‚</p><p>çœ‹å¾—å‡ºæ¥è‡³å°‘è¦åœ¨å›¢é˜Ÿç®¡ç†æ–¹é¢æœ‰æ¯”è¾ƒæ·±çš„æ€»ç»“ï¼Œå¹¶ä¸”å¯¹äºå›¢é˜Ÿç®¡ç†ç§¯ç´¯ä¸Šï¼Œè‡ªå·±æœ‰ç‹¬æœ‰çš„è§è§£ï¼Œä¸€é¢æ‰èƒ½é¢è¯•é€šè¿‡å•Šã€‚</p><p>ä¸€é¢å°±è´¥äº†çš„åŸå› ï¼Œä¸ªäººè®¤ä¸ºä¸€æ–¹é¢å³ä½¿æŠŠè‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›æå‡åˆ°å¾ˆå‰å®³çš„æ°´å¹³ï¼Œå¯èƒ½ä¸è¿™ä¸ªå²—ä½ä¹Ÿä¸ç¬¦åˆï¼Œè¿™ä¸ªçœ‹è¿æ°”å’Œé¢è¯•å®˜çš„æ„Ÿè§‰ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œæˆ‘è§‰å¾—æœ‰å¯èƒ½æ‹›è˜å•ä½ä¹Ÿæ²¡å¤ªæƒ³æ¸…æ¥šè¦æ‹›è˜æ€æ ·çš„äººå§ï¼Œå› ä¸ºè¿™äº›é—®é¢˜æ”¾åœ¨é—®javaã€netå·¥ç¨‹å¸ˆä¸Šä¼°è®¡ä¹Ÿè¡Œå¾—é€šã€‚</p><h4 id="å››ã€æŸç”µå•†å…¬å¸çš„é¢è¯•"><a href="#å››ã€æŸç”µå•†å…¬å¸çš„é¢è¯•" class="headerlink" title="å››ã€æŸç”µå•†å…¬å¸çš„é¢è¯•"></a>å››ã€æŸç”µå•†å…¬å¸çš„é¢è¯•</h4><h6 id="1ã€ä¸€é¢-1"><a href="#1ã€ä¸€é¢-1" class="headerlink" title="1ã€ä¸€é¢"></a>1ã€ä¸€é¢</h6><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-number">1</span>ã€äº‹ä»¶å¾ªç¯çš„æœºåˆ¶äº†è§£å—ï¼Ÿå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">2</span>ã€æ€ä¹ˆç†è§£é—­åŒ…è¿™ä¸ªå®šä¹‰çš„ï¼Œåœ¨å¹³æ—¶å·¥ä½œä¸­æœ‰ç”¨åˆ°é—­åŒ…çš„ä½¿ç”¨å—ï¼Œä¸¾ä¸ªä¾‹å­ã€‚<br><span class="hljs-number">3</span>ã€vueç»„ä»¶é—´çš„å“ªäº›é€šä¿¡æ–¹å¼ï¼Ÿ<br><span class="hljs-number">4</span>ã€ä¸€ä¸ªçˆ¶ç»„ä»¶æ½œåµŒå¥—äº†å­ç»„ä»¶ï¼Œä»–çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é¡ºåºæ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Ÿ<br><span class="hljs-number">5</span>ã€vueçš„æƒé™ç®¡ç†åº”è¯¥æ€ä¹ˆåšï¼Ÿè·¯ç”±çº§å’ŒæŒ‰é’®çº§åˆ†åˆ«æ€ä¹ˆå¤„ç†ï¼Ÿ<br><span class="hljs-number">6</span>ã€è¯´ä¸€ä¸‹ä½ å¯¹è™šæ‹ŸDOMçš„ç†è§£<br><span class="hljs-number">7</span>ã€äº†è§£diffç®—æ³•å—ï¼Ÿvueçš„diffç®—æ³•æ˜¯æ€æ ·çš„ä¸€ä¸ªè¿‡ç¨‹<br><span class="hljs-number">8</span>ã€èƒ½è¯´ä¸€ä¸‹v-<span class="hljs-keyword">for</span>ä¸­keyçš„ä½œç”¨å—ï¼Ÿ<br><span class="hljs-number">9</span>ã€åšè¿‡vueé¡¹ç›®å“ªäº›æ€§èƒ½æ–¹é¢çš„ä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">10</span>ã€vueç»„ä»¶ä¸ºä»€ä¹ˆåªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Ÿ<br><span class="hljs-number">11</span>ã€å¦‚ä½•å®ç°è·¯ç”±æ‡’åŠ è½½å‘¢ï¼Ÿ<br><span class="hljs-number">12</span>ã€å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿåœ¨ä¹‹å‰çš„å·¥ä½œä¸­æœ‰åšè¿‡æœåŠ¡ç«¯æ¸²æŸ“å—ï¼Ÿ<br><span class="hljs-number">13</span>ã€Vueé•¿åˆ—è¡¨çš„ä¼˜åŒ–æ–¹å¼æ€ä¹ˆåšï¼Ÿ<br><span class="hljs-number">14</span>ã€Vue3ç›¸æ¯”Vue2æœ‰å“ªäº›ä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">15</span>ã€ä¸ºä»€ä¹ˆåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶çš„æ—¶å€™è¦åŠ .native?<br><span class="hljs-number">16</span>ã€èƒ½è¯´ä¸€ä¸‹å“åº”å¼åŸç†çš„è¿‡ç¨‹å—ï¼Ÿ<br><span class="hljs-number">17</span>ã€æ•°ç»„çš„å“åº”å¼æ€ä¹ˆå®ç°çš„ï¼Ÿ<br><span class="hljs-number">18</span>ã€Vueæ˜¯æ•°æ®æ”¹å˜åé¡µé¢ä¹Ÿä¼šé‡æ–°æ”¹å˜å˜›ï¼›<span class="hljs-keyword">this</span>.a = <span class="hljs-number">1</span>; <span class="hljs-keyword">this</span>.a = <span class="hljs-number">2</span>; ä»–æ˜¯æ€ä¹ˆå®ç°å¼‚æ­¥æ›´æ–°ä¼˜åŒ–æ•´ä¸ªæ¸²æŸ“è¿‡ç¨‹çš„ï¼Ÿ<br><span class="hljs-number">19</span>ã€renderå‡½æ•°å°è£…æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œæˆ–è€…ç”¨åˆ°æ¯”è¾ƒå·§å¦™çš„ä¸œè¥¿å—ï¼Ÿ<br><span class="hljs-number">20</span>ã€æµè§ˆå™¨ç¼“å­˜çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ<br><span class="hljs-number">21</span>ã€æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼Ÿ<br><span class="hljs-number">22</span>ã€åŸŸåè§£æè¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">23</span>ã€TCPåè®®ä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆæŒ¥æ‰‹è¦<span class="hljs-number">4</span>æ¬¡ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="2ã€äºŒé¢"><a href="#2ã€äºŒé¢" class="headerlink" title="2ã€äºŒé¢"></a>2ã€äºŒé¢</h6><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-number">1</span>ã€nextTick, setTimeout ä»¥åŠ setImmediate ä¸‰è€…æœ‰ä»€ä¹ˆåŒºåˆ«?<br><span class="hljs-number">2</span>ã€è¯´ä¸€ä¸‹ä½ åœ¨é¡¹ç›®çš„å®‰å…¨æ€§åšäº†å“ªäº›å·¥ä½œï¼Ÿ<br><span class="hljs-number">3</span>ã€å½“ä¸€å¼ è¡¨æ•°æ®é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œä¸ºäº†æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œä½ ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨å“ªäº›æ–¹å¼åšä¼˜åŒ–ï¼Ÿ<br><span class="hljs-number">4</span>ã€webSocketä¸ä¼ ç»Ÿçš„httpç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ<br><span class="hljs-number">5</span>ã€ç”¨è¿‡koaå—ï¼Ÿç®€è¦é˜è¿°ä¸€ä¸‹koaçš„æ´‹è‘±æ¨¡å‹ã€‚<br><span class="hljs-number">6</span>ã€ç”¨è¿‡promiseå—ï¼Ÿå®ƒçš„ä½¿ç”¨æ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªä»€ä¹ˆé—®é¢˜ï¼Ÿpromiseåº•å±‚æ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼Ÿ<br><span class="hljs-number">7</span>ã€ä½ ä»¬ç°åœ¨æ•´ä¸ªç™»å½•é‰´æƒæ˜¯æ€ä¹ˆè®¾è®¡çš„ï¼Ÿå¦‚æœè¦è€ƒè™‘å•ç‚¹ç™»å½•å‘¢ï¼Œä¼šå¦‚ä½•è®¾è®¡ï¼Ÿ<br><span class="hljs-number">8</span>ã€å¦‚ä½•ç”¨åŒä¸€å¥—ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸­ï¼Œæ€ä¹ˆåŒºåˆ†å½“å‰æœ¬åœ°å¼€å‘ç¯å¢ƒè¿˜æ˜¯çº¿ä¸Šç¯å¢ƒï¼Ÿæ˜¯æµ‹è¯•ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒå‘¢ï¼Œæ€ä¹ˆå»åŒºåˆ†ï¼Ÿ<br><span class="hljs-number">9</span>ã€å¾…æ”¯ä»˜çš„è®¢å•ï¼Œåˆ°æœŸåä¸»åŠ¨å–æ¶ˆè¿™ä¸ªåŠŸèƒ½ä½ ä¼šæ€ä¹ˆè®¾è®¡å»åšï¼Ÿ<br><span class="hljs-number">10</span>ã€å¦‚æœè¦åšéŸ³è§†é¢‘çš„å®‰å…¨æ€§ï¼Œä½ èƒ½æƒ³åˆ°å“ªäº›æ–¹æ¡ˆï¼Ÿ<br><span class="hljs-number">11</span>ã€å¤šå°æœåŠ¡å™¨éƒ¨ç½²å®šæ—¶ä»»åŠ¡æ€ä¹ˆä¿è¯ä¸€ä¸ªä»»åŠ¡åªä¼šåšä¸€éå‘¢ï¼Ÿ<br><span class="hljs-number">12</span>ã€ä½ è§‰å¾—ç¨‹åºå‘˜é™¤äº†æå‡æŠ€æœ¯èƒ½åŠ›ä¹‹å¤–ï¼Œå…¶ä»–ä»€ä¹ˆèƒ½åŠ›ä½ æ¯”è¾ƒçœ‹é‡ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h6 id="3ã€äººäº‹é¢"><a href="#3ã€äººäº‹é¢" class="headerlink" title="3ã€äººäº‹é¢"></a>3ã€äººäº‹é¢</h6><p>äººäº‹é¢é‡åˆ°çš„é—®é¢˜éƒ½æ¯”è¾ƒç±»ä¼¼ï¼Œæˆ‘åœ¨ä¸‹é¢ä¼šä¸“é—¨æ‹¿ä¸€ä¸ªéƒ¨åˆ†æ±‡æ€»äººäº‹é¢çš„é—®é¢˜ã€‚</p><p>è¯¥å…¬å¸æœ€åä¹Ÿæ‹¿åˆ°äº†offerã€‚</p><h4 id="äº”ã€æŸä¿é™©é›†å›¢çš„é¢è¯•"><a href="#äº”ã€æŸä¿é™©é›†å›¢çš„é¢è¯•" class="headerlink" title="äº”ã€æŸä¿é™©é›†å›¢çš„é¢è¯•"></a>äº”ã€æŸä¿é™©é›†å›¢çš„é¢è¯•</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">1ã€ä½ åœ¨é¡¹ç›®ä¸­ç”¨åˆ°mongodbå—ï¼Ÿ<br>2ã€åœ¨é¡¹ç›®ä¸­ç”¨åˆ°mongodbå­˜å‚¨å“ªäº›æ•°æ®ï¼Ÿ<br>3ã€mongodbçš„ç®¡é“æœ‰äº†è§£å—ï¼Ÿèšåˆç®¡é“æ€ä¹ˆç”¨çš„ï¼Ÿ<br>4ã€mongodbå’Œçš„mysqlä¼˜ç¼ºç‚¹ï¼Ÿ<br>5ã€ä½ å¯¹äº‹åŠ¡æ€§çš„äº†è§£æ˜¯æ€æ ·çš„ï¼Ÿ<br>6ã€nodeæ€ä¹ˆå¼€å¯å­è¿›ç¨‹ï¼Ÿ<br>7ã€åœ¨ä¸€å°æœºå™¨ä¸Šå¼€å¯è´Ÿè½½å‡è¡¡çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªé¡¹ç›®æœ‰ç”¨åˆ°å®šæ—¶ä»»åŠ¡ï¼Œä½ æ€ä¹ˆå»æ§åˆ¶è¿™ä¸ªå®šæ—¶ä»»åŠ¡åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Ÿ<br>8ã€ä½ åœ¨eggä¸­æ€ä¹ˆå¼€å¯å­è¿›ç¨‹ï¼Œæ€ä¹ˆç¼–å†™ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Ÿ<br>9ã€reactç”¨çš„å¤šå—ï¼Ÿ<br>10ã€reactç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ<br>11ã€vuexè·Ÿreduxçš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ<br>12ã€computedå’Œwatchçš„åŒºåˆ«ï¼Ÿ<br>13ã€watchå’Œcomputedå“ªä¸€ä¸ªå¯ä»¥å®ç°å¼‚æ­¥ï¼Ÿ<br>14ã€vueçš„é€šä¿¡æ–¹å¼æœ‰å“ªäº›ï¼Ÿ<br>15ã€vueçš„<span class="hljs-built_in">history</span>æ¨¡å¼å’Œ<span class="hljs-built_in">hash</span>æ¨¡å¼çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>16ã€<span class="hljs-built_in">history</span>æ¨¡å¼ä¸‹ä¼šå‡ºç°404ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ<br>17ã€ä½ èƒ½è¯´ä¸€ä¸‹é—­åŒ…çš„ä¼˜ç¼ºç‚¹å—ï¼Ÿ<br>18ã€å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>19ã€è¿˜æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„å—ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>è¯¥å²—ä½æ˜¯nodeå…¨æ ˆå·¥ç¨‹å¸ˆçš„å²—ä½ï¼Œå¯¹åç«¯çš„çŸ¥è¯†ç‚¹é—®é¢˜çš„æ¯”è¾ƒæ·±ï¼Œä¸€å±‚ä¸€å±‚çš„å¾€ä¸‹é—®ï¼Œæˆ‘åç«¯çš„çŸ¥è¯†ç‚¹ç¨å¾®è–„å¼±ä¸€äº›ï¼Œå¾ˆå¤šå¾ˆç»†çš„é—®é¢˜ç­”ä¸ä¸Šæ¥ï¼›ä»–é‚£è¾¹æŠ€æœ¯æ ˆç”¨çš„æ˜¯reactï¼Œæˆ‘å¤ä¹ çš„çŸ¥è¯†ä¹Ÿæ¯”è¾ƒå°‘ã€‚</p><p>æ‰‘è¡—äº†ç†æ‰€å½“ç„¶ã€‚</p><h4 id="å…­ã€æŸæµ·å¤–ç›´æ’­å¹³å°çš„é¢è¯•"><a href="#å…­ã€æŸæµ·å¤–ç›´æ’­å¹³å°çš„é¢è¯•" class="headerlink" title="å…­ã€æŸæµ·å¤–ç›´æ’­å¹³å°çš„é¢è¯•"></a>å…­ã€æŸæµ·å¤–ç›´æ’­å¹³å°çš„é¢è¯•</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-number">1.1</span>ã€è‡ªæˆ‘ä»‹ç»ï¼Ÿ<br><span class="hljs-number">1.2</span>ã€å¸¸ç”¨çš„é€‰æ‹©å™¨æœ‰å“ªäº›ï¼Œä¼˜å…ˆçº§æ€ä¹ˆæ ·ï¼Ÿï¼ˆé™¤äº†è¿™äº›è¿˜æœ‰å…¶ä»–çš„å˜›ï¼‰<br><span class="hljs-number">1.3</span>ã€å‚ç›´å±…ä¸­çš„å®ç°æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ<br><span class="hljs-number">2.1</span>ã€ä½ è¯´çš„ç½‘æ ¼å¸ƒå±€gridå‚ç›´å±…ä¸­æœ‰å“ªäº›å±æ€§å€¼ï¼Ÿ<br><span class="hljs-number">2.2</span>ã€width:<span class="hljs-number">100</span>%å’Œwidth:<span class="hljs-keyword">auto</span>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><span class="hljs-number">3</span>ã€è¯´ä¸€ä¸‹cookieçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">4</span>ã€cookieæœ‰å“ªäº›å±æ€§ï¼Ÿ<br><span class="hljs-number">5</span>ã€è®¾ç½®cookieçš„domainç”¨æ¥å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ<br><span class="hljs-number">6</span>ã€æ‡’åŠ è½½çš„å®ç°åŸç†æ˜¯æ€æ ·çš„ï¼Ÿï¼ˆé™¤äº†ä½ è¯´çš„é‚£ä¸€ç§è¿˜æœ‰å…¶ä»–çš„å˜›ï¼‰<br><span class="hljs-number">7</span>ã€vueä¸­è·¯ç”±æ‡’åŠ è½½æ€ä¹ˆå®ç°ï¼Ÿï¼ˆé™¤äº†ä½ è¯´çš„è¿™ä¸€ç§è¿˜æœ‰å…¶ä»–çš„å˜›ï¼‰<br><span class="hljs-number">8</span>ã€è¯´ä¸€ä¸‹åŸå‹é“¾çš„ç†è§£ï¼Ÿ<br><span class="hljs-number">9</span>ã€åŸå‹é“¾__proto__è¿™ä¸ªéšå¼å±æ€§çš„å®ç°åŸç†æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">10</span>ã€è¯´ä¸€ä¸‹vueä¸­åŒå‘æ•°æ®ç»‘å®šï¼Ÿ<br><span class="hljs-number">11</span>ã€vueä¸­computedå’Œwatchçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">12</span>ã€è¯´ä¸€ä¸‹ä½ ä»¬çš„å‰ç«¯ç™»å½•æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ<br><span class="hljs-number">13</span>ã€jwtæ˜¯ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">14</span>ã€jwtç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Ÿ<br><span class="hljs-number">15</span>ã€ä½ åœ¨é¡¹ç›®ä¸­æ€ä¹ˆå®ç°æ‰“åŒ…ä¼˜åŒ–çš„ï¼Ÿ<br><span class="hljs-number">16</span>ã€ä½ è¯´çš„è¿™äº›ä¼˜åŒ–æ–¹å¼æ˜¯webpackå“ªä¸ªç‰ˆæœ¬çš„ï¼Ÿ<br><span class="hljs-number">17</span>ã€ä½ è¯´ä¸€ä¸‹é¡¹ç›®ä¸­æ¯”è¾ƒå›°éš¾çš„äº‹æƒ…æœ‰å“ªäº›ï¼ˆBFFå¤„ç†æ¨¡å¼ï¼‰ï¼Ÿ<br><span class="hljs-number">18</span>ã€ä½ ä»¬éƒ¨ç½²ä¸Šçº¿æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ<br><span class="hljs-number">19</span>ã€åœ¨é¡¹ç›®ä¸­æœ‰ä½¿ç”¨jekeniså’Œdockerè¿™äº›å—ï¼Ÿ<br><span class="hljs-number">20</span>ã€æœ‰ä»€ä¹ˆæƒ³é—®æˆ‘çš„å—ï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>æˆ‘è®°å¾—ç½‘æ ¼å¸ƒå±€æ˜¯æœ‰ <code>justify-content</code>å’Œ <code>align-items</code>å±æ€§ï¼Œå¹¶ä¸”é¢è¯•ä¹‹åä¸“é—¨å†™äº†ä¸€ä¸ªæ–‡ä»¶æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡ã€‚é¢è¯•å®˜è¯´æˆ‘å±æ€§è®°é”™äº†ã€‚</p><p><code>width:100%</code>å’Œ <code>width:autoæœ‰ä»€ä¹ˆåŒºåˆ«?</code>è¿™ä¸ªé—®é¢˜æˆ‘æ²¡å›ç­”å‡ºæ¥ï¼Œæœ€åæˆ‘é—®é¢è¯•å®˜ä»–ä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆã€‚é¢è¯•ç»“æŸä¹‹åæˆ‘æŒ‰ç…§ä»–è¯´çš„é‚£ç§æ–¹å¼ï¼Œä¹Ÿæ²¡æµ‹è¯•å‡ºæ¥åŒºåˆ«ï¼Œå¾ˆçº³é—·ã€‚</p><p><code>åŸå‹é“¾__proto__è¿™ä¸ªéšå¼å±æ€§çš„å®ç°åŸç†æ˜¯æ€æ ·çš„ï¼Ÿ</code>ï¼Œæˆ‘ä»¥ä¸ºè¿™ä¸ªé—®é¢˜å°±æ˜¯è®©æˆ‘è¯´ä¸€ä¸‹ <code>å®ä¾‹.__proto__</code>æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ï¼ŒæŠ“ä½è¿™ä¸ªç‚¹ç„¶åæ‰©å±•ä¸€ä¸‹åŸå‹é“¾çš„çŸ¥è¯†å°±å¥½äº†ã€‚ä»–è¯´ä¸æ˜¯è¦ä½ å›ç­”è¿™ä¸ªï¼Œè€Œæ˜¯è®©æˆ‘è¯´ä¸€ä¸‹__proto__çš„åº•å±‚å®ç°ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä¸çŸ¥é“ï¼Œæœ‰çŸ¥é“çš„æœ‹å‹å¯ä»¥åœ¨è¯„è®ºåŒºå¸®æˆ‘å›å¤ä¸€ä¸‹ï¼Œæˆ‘å­¦ä¹ ä¸€ä¸‹è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚</p><p>æ•´ä¸ªé¢è¯•ä»é¢è¯•å®˜çš„è¡¨è¾¾ä¸Šå¯ä»¥çœ‹å¾—å‡ºæ¥ä»–æœ‰ä¸€äº›ç´§å¼ ï¼Œå¯¼è‡´æœ‰ä¸€äº›é—®é¢˜æˆ‘ä¹Ÿå¬çš„ä¸æ˜¯ç‰¹åˆ«æ¸…æ¥šã€‚ç»“æŸä¹‹åæˆ‘æµ‹è¯•çš„å‡ ä¸ªçŸ¥è¯†ç‚¹ä¹Ÿæ²¡è¾¾åˆ°ä»–è¯´çš„æ•ˆæœï¼Œé—æ†¾ã€‚</p><p>æœ€ååº”è¯¥æ˜¯æŒ‚äº†ã€‚</p><h3 id="äººäº‹é¢é—®é¢˜æ±‡æ€»"><a href="#äººäº‹é¢é—®é¢˜æ±‡æ€»" class="headerlink" title="äººäº‹é¢é—®é¢˜æ±‡æ€»"></a>äººäº‹é¢é—®é¢˜æ±‡æ€»</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-number">1</span>ã€å¯¹è‡ªå·±çš„è¯„ä»·ï¼Ÿ<br><span class="hljs-number">2</span>ã€ä½ æœ‰å“ªäº›å…´è¶£çˆ±å¥½ï¼Ÿ<br><span class="hljs-number">3</span>ã€æè¿°ä¸€ä¸‹ä½ è‡ªå·±çš„ä¼˜ç¼ºç‚¹?æˆ–è€…ç”¨ä¸‰ä¸ªè¯è¯­æè¿°ä½ è‡ªå·±ï¼Ÿ<br><span class="hljs-number">4</span>ã€ä½ åœ¨å…¬å¸ä¸»è¦åšä¸€äº›ä»€ä¹ˆå·¥ä½œï¼Ÿ<br><span class="hljs-number">5</span>ã€ç¦»èŒåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ<br><span class="hljs-number">6</span>ã€åœ¨å·¥ä½œä¹‹å¤–æœ‰å“ªäº›å­¦ä¹ æŠ€æœ¯çš„æ–¹å¼ï¼Ÿ<br><span class="hljs-number">7</span>ã€å…¬å¸çš„æ•´ä¸ªå¼€å‘æµç¨‹æ˜¯æ€æ ·çš„,ä½ è·Ÿå›¢é˜Ÿæˆå‘˜å¦‚ä½•é…åˆå®Œæˆä»»åŠ¡ï¼Ÿ<br><span class="hljs-number">8</span>ã€ä½ æœ‰å¥³(ç”·)æœ‹å‹äº†å—(ç¨³å®šæ€§)ï¼Ÿ<br><span class="hljs-number">9</span>ã€ä½ æœ‰å…¶ä»–offerå—(ç¨³å®šæ€§)ï¼Ÿ<br><span class="hljs-number">10</span>ã€å¦‚ä½•æé«˜å·¥ä½œæ•ˆç‡? <br><span class="hljs-number">11</span>ã€ä¸é¢†å¯¼æ„è§ä¸ç»Ÿä¸€æ—¶åº”è¯¥æ€ä¹ˆåŠ?<br><span class="hljs-number">12</span>ã€ä½ è§‰å¾—ç›®å‰è‡ªå·±çš„æŠ€æœ¯åœ¨ä»€ä¹ˆä½ç½®ï¼Œè§‰å¾—è‡ªå·±å“ªä¸€å—èƒ½åŠ›éœ€è¦åŠ å¼ºï¼Ÿ<br><span class="hljs-number">13</span>ã€æ‚¨è¿˜æœ‰ä»€ä¹ˆé—®é¢˜æƒ³é—®æˆ‘çš„å˜›? <br><span class="hljs-number">15</span>ã€ä½ çš„èŒä¸šè§„åˆ’æ˜¯æ€æ ·çš„? <br><span class="hljs-number">16</span>ã€å…¥èŒä¹‹åå¦‚ä½•å¼€å±•å·¥ä½œ? <br><span class="hljs-number">17</span>ã€æ˜¯å¦æ„¿æ„æ¥å—åŠ ç­?<br><span class="hljs-number">18</span>ã€ä½ èƒ½ä¸ºå…¬å¸å¸¦æ¥ä»€ä¹ˆ?ä½ å¸Œæœ›å…¬å¸ç»™ä½ ä»€ä¹ˆ?<br><span class="hljs-number">19</span>ã€åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä»€ä¹ˆéš¾ç‚¹é—®é¢˜ï¼Œæœ€åæ€ä¹ˆè§£å†³çš„ï¼Ÿ<br><span class="hljs-number">20</span>ã€è°ˆä¸€ä¸‹ä½ åœ¨ä¸Šä¸€å®¶å…¬å¸æ•´ä¸ªæŠ€æœ¯å¼€å‘æµç¨‹ï¼Œä½ è´Ÿè´£å“ªäº›å·¥ä½œï¼Ÿ<br><span class="hljs-number">21</span>ã€ä½ å¸Œæœ›è‡ªå·±ä»¥åçš„å‘å±•æ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿ<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>äººäº‹çš„è¿™äº›é—®é¢˜æ¯æ¬¡éƒ½å¤§å·®ä¸å·®ï¼Œè¿™äº›éƒ½é—®éƒ½å¯ä»¥æå‰è‡ªé—®è‡ªç­”ï¼Œå‡†å¤‡å¥½æœ€å¥½çš„çŠ¶æ€ï¼Œå›å¤äººäº‹ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ï¼šæˆ‘é¢„åˆ¤äº†äººäº‹çš„é¢„åˆ¤ã€‚æ•´ç†50é“å·¦å³çš„é¢è¯•å¸¸é—®é¢˜ç›®ï¼Œè¶³ä»¥åº”ä»˜ç›®å‰çš„äººäº‹æŒ–å‘é—®é¢˜ã€‚</p><h3 id="æ¥ä¸‹æ¥çš„è®¡åˆ’"><a href="#æ¥ä¸‹æ¥çš„è®¡åˆ’" class="headerlink" title="æ¥ä¸‹æ¥çš„è®¡åˆ’"></a>æ¥ä¸‹æ¥çš„è®¡åˆ’</h3><p>åœ¨è¿™æ¬¡çš„é¢è¯•ä¸­ï¼Œä¹Ÿå‘ç°äº†è‡ªå·±èƒ½åŠ›çš„ä¸è¶³ã€‚æ¯”å¦‚æˆ‘ä¹‹å‰é€šè¿‡nodeå†™äº†ä¸€äº›æå‡å›¢é˜Ÿçš„å·¥å…·ï¼Œç”¨äºæå‡è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„kpiã€‚ä½†æ˜¯åœ¨çº¯å‰ç«¯ä¸­å¯èƒ½åªèƒ½ä½œä¸ºä¸€å®¶åŠ åˆ†é¡¹æ¥çœ‹ï¼Œå› ä¸ºå¦‚æœé—®åˆ°å¾ˆå…·ä½“çš„nodeçš„å†…å­˜é—®é¢˜ã€mongodbç»†èŠ‚çš„é—®é¢˜ï¼Œå¯èƒ½å°±ä¼šè¢«é—®åˆ°å“‘å£æ— è¨€äº†ï¼Œè¿™æ ·æ•´ä¸ªé¢è¯•ä½“éªŒç¡®å®ä¼šæ¯”è¾ƒç³Ÿç³•ã€‚</p><p>æ·±åœ³å¾ˆå¤šå¤§å…¬å¸éƒ½æ˜¯ç”¨çš„reactï¼Œæˆ‘ä¹‹å‰åœ¨é¡¹ç›®ä¸­ç”¨reactæ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å…¥èŒå…¬å¸ä¹‹åè¦æŠŠreactç”¨èµ·æ¥ï¼Œä¸ç”¨èµ·æ¥å°±ä¼šå¿˜ã€‚</p><p>ç„¶åvue3çš„æºç å’Œä¼˜åŒ–çš„æ–¹é¢ä¹Ÿè¦ç»§ç»­çœ‹çœ‹äº†ã€‚</p><p>è¿˜æœ‰è¿™ä¸€æ¬¡æ²¡æœ‰æŠ•é€’å¤§å‚çš„åŸå› æ˜¯æˆ‘æ²¡æœ‰åˆ·ç®—æ³•ï¼Œè¿™ä¸€ç‚¹åœ¨ä¹‹å‰çš„æ±‚èŒè¿‡ç¨‹ä¸­éƒ½æ²¡æœ‰é‡è§†èµ·æ¥ã€‚ç°åœ¨å¹´é™åˆ°è¿™äº†ï¼Œå¿…é¡»è¦åˆ·èµ·æ¥ï¼Œæ‰èƒ½æ›´è¿›ä¸€æ­¥æå‡è‡ªå·±ã€‚</p><h3 id="ç»™å¤§å®¶çš„ä¸€ä¸ªå»ºè®®"><a href="#ç»™å¤§å®¶çš„ä¸€ä¸ªå»ºè®®" class="headerlink" title="ç»™å¤§å®¶çš„ä¸€ä¸ªå»ºè®®"></a>ç»™å¤§å®¶çš„ä¸€ä¸ªå»ºè®®</h3><p>æˆ‘åœ¨é¢è¯•çš„è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªä½“ä¼šï¼Œå°±æ˜¯ï¼šå½“é¢è¯•å®˜é—®ä½ ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜çš„æ—¶å€™ï¼Œä½ è¦æ€ä¹ˆå›ç­”ï¼Ÿ</p><p>æ¯”å¦‚é¢è¯•å®˜é—®é¢˜ï¼Œç®€å•çš„è·Ÿæˆ‘è¯´ä¸€ä¸‹ç»§æ‰¿æ˜¯ä»€ä¹ˆå§ï¼Ÿ</p><p>å¾ˆå¤šæœ‹å‹é‡åˆ°è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼Œé©¬ä¸Šå°±å¤§è„‘è’™åœˆäº†ï¼Œè„‘è¢‹é‡Œå¾ˆç´Šä¹±ï¼ŒçŸ¥é“å¾ˆå¤šï¼Œä½†æ˜¯æ— æ³•æŠŠä»–ä»¬ä¸²èµ·æ¥ï¼Œä¸çŸ¥é“ä»ä½•è¯´èµ·ï¼Œå¯¼è‡´å›ç­”çš„ç»“æœä¸æ˜¯å¾ˆå¥½ã€‚</p><p>æ‰€ä»¥åƒè¿™äº›æŠ€èƒ½é¢˜ï¼Œæˆ‘ä»¬åœ¨è®°ç¬”è®°çš„æ—¶å€™ä¹Ÿåº”è¯¥ç”¨è¿™æ ·çš„æ–¹å¼å»è®°å¿†å’ŒèƒŒè¯µã€‚éµå¾ªä¸‹é¢çš„å‡ ä¸ªæ­¥éª¤å°±è¡Œäº†ï¼Œå¥—å…¬å¼çš„æ–¹å¼ï¼Œä¸€ç‚¹ä¹Ÿä¸ä¼šæ…Œä¹±ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs">1ã€è§£é‡Šæ˜¯ä»€ä¹ˆçš„é—®é¢˜ã€‚<br>2ã€è§£é‡Šè¿™ä¸ªæŠ€æœ¯çš„åº”ç”¨ç‚¹ã€åº”ç”¨åœºæ™¯åœ¨å“ªé‡Œã€‚<br>3ã€æ•´ç†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆã€‚<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>æˆ‘ä¸¾ä¸€ä¸ªä¾‹å­æ¥å›ç­”ä¸€ä¸‹ã€‚æ¯”å¦‚é¢è¯•å®˜é—®ï¼š<code>ä½ ç»™æˆ‘è®²ä¸€ä¸‹é—­åŒ…å§ï¼Ÿ</code></p><p>æˆ‘å°±å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„å½’çº³ï¼Œåˆ†3æ­¥èµ°çš„åŸåˆ™ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-number">1</span>. é—­åŒ…æ˜¯ï¼šèƒ½å¤Ÿè®¿é—®å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚<br><span class="hljs-number">2</span>. é—­åŒ…ä¸€èˆ¬ä¼šåœ¨ï¼šå°è£…æ¨¡å—çš„æ—¶å€™ï¼Œé€šè¿‡å‡½æ•°è‡ªæ‰§è¡Œå‡½æ•°çš„æ–¹å¼è¿›è¡Œå®ç°ï¼›æˆ–è€…åœ¨æ¨¡ä»¿å—çº§ä½œç”¨åŸŸçš„æ—¶å€™å®ç°ï¼›å¦‚ï¼šæˆ‘ä»¬å¸¸ç”¨çš„åº“jQueryæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤§çš„é—­åŒ…ã€‚<br><span class="hljs-number">3</span>. é—­åŒ…çš„ä¼˜ç‚¹æ˜¯ï¼š<br>    <span class="hljs-selector-tag">a</span>ã€èƒ½å¤Ÿåœ¨ç¦»å¼€å‡½æ•°ä¹‹åç»§ç»­è®¿é—®è¯¥å‡½æ•°çš„å˜é‡ï¼Œå˜é‡ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚<br>    <span class="hljs-selector-tag">b</span>ã€é—­åŒ…ä¸­çš„å˜é‡æ˜¯ç§æœ‰çš„ï¼Œåªæœ‰é—­åŒ…å‡½æ•°æ‰æœ‰æƒé™è®¿é—®å®ƒã€‚ä¸ä¼šè¢«å¤–é¢çš„å˜é‡å’Œæ–¹æ³•ç»™æ±¡æŸ“ã€‚<br>é—­åŒ…çš„ç¼ºç‚¹æ˜¯ï¼š<br>    <span class="hljs-selector-tag">a</span>ã€ä¼šå¢åŠ å¯¹å†…å­˜çš„ä½¿ç”¨é‡ï¼Œå½±å“æ€§èƒ½ã€‚<br>    <span class="hljs-selector-tag">b</span>ã€ä¸æ­£ç¡®çš„ä½¿ç”¨é—­åŒ…ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>é’ˆå¯¹ä¸Šé¢é—­åŒ…çš„å›ç­”ï¼Œå¯èƒ½é¢è¯•å®˜åˆä¼šç»§ç»­é—®ä½ ï¼š<code>å†…å­˜æ³„æ¼æ˜¯ä»€ä¹ˆå•Šï¼Œä½ èƒ½ç»™æˆ‘è®²ä¸€ä¸‹å—ï¼Ÿåƒåœ¾å›æ”¶æœºåˆ¶è¯´ä¸€ä¸‹å§ï¼Ÿå†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</code>ç­‰ç­‰ã€‚</p><p>å°±æ˜¯æ¯ä¸€ä¸ªé—®é¢˜çš„å›ç­”éƒ½æ˜¯å¯ä»¥ç­–åˆ’å‡ºæ¥çš„ï¼Œä½ å›ç­”å®Œäº†è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œä½ å¯ä»¥å…ˆå‡è®¾æ€§çš„æƒ³ä¸€ä¸‹é¢è¯•å®˜çœ‹åˆ°ä½ çš„è¿™ä¸ªå›ç­”å¯èƒ½ä¼šé—®ä½ ä»€ä¹ˆã€‚ç”¨ä¸Šé¢é¢å¯¹äººäº‹çš„é‚£ç§ï¼š<code>ç”¨ä½ çš„é¢„åˆ¤å»é¢„åˆ¤ä»–å¯èƒ½çš„æé—®</code>ã€‚</p><p>è¿™æ ·å°±å¯ä»¥åœ¨è¿™æ¬¡çš„å¤§è§æ¡ä¸­è·å¾—æ›´æœ‰åˆ©çš„æ¡ä»¶ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>interview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¢è¯•é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptæ‰‹å†™reduceå‡½æ•°</title>
    <link href="/blog/2022/11/03/js-reduce/"/>
    <url>/blog/2022/11/03/js-reduce/</url>
    
    <content type="html"><![CDATA[<h1 id="javascriptæ‰‹å†™reduceå‡½æ•°"><a href="#javascriptæ‰‹å†™reduceå‡½æ•°" class="headerlink" title="javascriptæ‰‹å†™reduceå‡½æ•°"></a>javascriptæ‰‹å†™reduceå‡½æ•°</h1><h3 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h3><p>æ–‡ç« ä¼šä»ä¸‰ä¸ªæ–¹é¢åº”å¯¹è¿™é“é¢è¯•é¢˜ï¼šè®¤è¯† <code>reduce</code>ã€ä½¿ç”¨ <code>reduce</code>ã€å®ç° <code>reduce</code>ã€‚ é˜…è¯»æœ¬æ–‡ï¼Œä½ å°†å­¦åˆ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">1.</span> è®¤è¯†<span class="hljs-string">`reduce`</span>å‡½æ•°ï¼›<br><span class="hljs-number">2.</span> <span class="hljs-string">`reduce`</span>å‡½æ•°å¸¸è§ä½¿ç”¨åœºæ™¯ï¼›<br><span class="hljs-number">3.</span> ä»<span class="hljs-number">0</span>åˆ°<span class="hljs-number">1</span>å®ç°ä¸€ä¸ª<span class="hljs-string">`reduce`</span>å‡½æ•°ï¼›<br></code></pre></td></tr></table></figure><h3 id="2-è®¤è¯†-reduce"><a href="#2-è®¤è¯†-reduce" class="headerlink" title="2. è®¤è¯† reduce"></a>2. è®¤è¯† reduce</h3><p><code>reduce()</code>æ–¹æ³•å¯¹<strong>æ•°ç»„</strong>ä¸­<strong>æ¯ä¸ªå…ƒç´ </strong>æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„<strong>å‡½æ•°</strong>ï¼ˆå‡åºæ‰§è¡Œï¼‰ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸º<strong>å•ä¸ªè¿”å›å€¼</strong>ã€‚</p><p>æ³¨æ„å‡ ä¸ªå…³é”®è¯ï¼š<strong>æ•°ç»„ã€æ¯ä¸ªå…ƒç´ ã€å‡½æ•°ã€å•ä¸ªè¿”å›å€¼</strong>ã€‚</p><p>é€šä¿—çš„è§£é‡Šä¸€ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-number">1.</span> reduceæ˜¯æ•°ç»„çš„ä¸€ä¸ªæ–¹æ³•ï¼›<br><span class="hljs-number">2.</span> ä¼šå¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå¤„ç†çš„å‡½æ•°ä½œä¸ºå½¢å‚ä¼ å…¥ï¼›<br><span class="hljs-number">3.</span> reduceæœ€ååªè¿”å›ä¸€ä¸ªç»“æœï¼›<br></code></pre></td></tr></table></figure><p>è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-title function_">callback</span>(accumulator, currentValue[, index[, array]])[, initialValue])<br><span class="hljs-comment">// ä¸¾ä¾‹</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur, index, array</span>) =&gt;</span> (arr + cur), initialValue)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>reduce</code> æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š<code>callback</code> å‡½æ•°ã€<code>initialValue</code> åˆå§‹å€¼ï¼›å…¶ä¸­ï¼Œä¼ å…¥çš„å¤„ç†æ•°ç»„æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ï¼ˆ<code>callback</code>ï¼‰æ¥å— 4 ä¸ªå‚æ•°ï¼š</p><ul><li><ol><li><code>Accumulator</code> ç´¯è®¡å™¨</li></ol></li><li><ol><li><code>Current Value</code> å½“å‰å€¼</li></ol></li><li><ol><li><code>Index</code> å½“å‰ç´¢å¼•</li></ol></li><li><ol><li><code>array</code> æºæ•°ç»„</li></ol></li></ul><p>æ¯æ¬¡å¤„ç†ä¸€ä¸ªå…ƒç´ ï¼Œ<code>callback</code> éƒ½æœ‰è¿”å›å€¼ï¼Œè¿™ä¸ªè¿”å›å€¼å°±æ˜¯ç´¯è®¡å™¨ï¼Œå¹¶æœ€ç»ˆæˆä¸ºå•ä¸ªç»“æœã€‚</p><h3 id="3-ä½¿ç”¨-reduce"><a href="#3-ä½¿ç”¨-reduce" class="headerlink" title="3. ä½¿ç”¨ reduce"></a>3. ä½¿ç”¨ reduce</h3><p>å¸¸ç”¨çš„ä½¿ç”¨åœºæ™¯ï¼š</p><h4 id="3-1-æ•°ç»„é‡Œæ‰€æœ‰å€¼çš„å’Œ"><a href="#3-1-æ•°ç»„é‡Œæ‰€æœ‰å€¼çš„å’Œ" class="headerlink" title="3.1 æ•°ç»„é‡Œæ‰€æœ‰å€¼çš„å’Œ"></a>3.1 æ•°ç»„é‡Œæ‰€æœ‰å€¼çš„å’Œ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">const</span> initVal = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">const</span> total = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur, index, array</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(acc, cur);<br>  <span class="hljs-comment">// 0 1</span><br>  <span class="hljs-comment">// 1 2</span><br>  <span class="hljs-comment">// 3 3</span><br>  <span class="hljs-comment">// 6 4</span><br>  <span class="hljs-keyword">return</span> acc + cur;<br>&#125;, initVal);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(total); <span class="hljs-comment">// è¾“å‡ºï¼š10</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ <code>reduce</code> æœ‰åˆå§‹å€¼çš„æƒ…å†µä¸‹, ç¬¬ä¸€æ¬¡è¿­ä»£ç´¯åŠ å™¨ <code>acc</code> çš„å€¼æ˜¯ <code>0</code>, å½“å‰å€¼ <code>cur</code> æ˜¯ <code>1</code>, ç°åœ¨æŠŠåˆå§‹å€¼å»æ‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">const</span> total = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur, index, array</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(acc, cur);<br>  <span class="hljs-comment">// 1 2</span><br>  <span class="hljs-comment">// 3 3</span><br>  <span class="hljs-comment">// 6 4</span><br>  <span class="hljs-keyword">return</span> acc + cur;<br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(total); <span class="hljs-comment">// è¾“å‡ºï¼š10</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡è¿­ä»£çš„ç´¯åŠ å™¨ <code>acc</code> çš„å€¼æ˜¯ <code>1</code>, å½“å‰å€¼ <code>cur</code> æ˜¯ <code>2</code>, ä¹Ÿå°±æ˜¯è¯´ï¼š<strong>æœ‰åˆå§‹å€¼çš„æƒ…å†µä¸‹: ç´¯è®¡å™¨æ˜¯ä»åˆå§‹å€¼å¼€å§‹ç´¯åŠ ï¼›æ²¡æœ‰åˆå§‹å€¼çš„æƒ…å†µä¸‹ï¼šç´¯è®¡å™¨æ˜¯ä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ç´¯åŠ </strong>ã€‚</p><h4 id="3-2-å°†äºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„"><a href="#3-2-å°†äºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„" class="headerlink" title="3.2 å°†äºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„"></a>3.2 å°†äºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> res = [<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">4</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> cur === <span class="hljs-string">&quot;object&quot;</span>) &#123;<br>    acc = acc.<span class="hljs-title function_">concat</span>(cur);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    acc.<span class="hljs-title function_">push</span>(cur);<br>  &#125;<br>  <span class="hljs-keyword">return</span> acc;<br>&#125;, []);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br></code></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯é€šè¿‡æ•°ç»„çš„ <code>concat</code> æ–¹æ³•, ç´¯è®¡å¾—åˆ°æœ€ç»ˆçš„ä¸€ç»´æ•°ç»„ã€‚å½“ç„¶ï¼ŒäºŒç»´æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨<code>ECMAScript 2019</code>æå‡ºçš„<code>flat</code>æ–¹æ³•(ä¸æ”¯æŒ IE æµè§ˆå™¨)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">4</span>].<span class="hljs-title function_">flat</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// è¾“å‡ºï¼š[1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure><h4 id="3-3-è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"><a href="#3-3-è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°" class="headerlink" title="3.3 è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°"></a>3.3 è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-string">&#x27;kobe&#x27;</span>, <span class="hljs-string">&#x27;james&#x27;</span>, <span class="hljs-string">&#x27;kobe&#x27;</span>, <span class="hljs-string">&#x27;jim&#x27;</span>, <span class="hljs-string">&#x27;wade&#x27;</span>, <span class="hljs-string">&#x27;wade&#x27;</span>, <span class="hljs-string">&#x27;kobe&#x27;</span>];<br><span class="hljs-keyword">const</span> res = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span>(cur <span class="hljs-keyword">in</span> acc) &#123;<br>        acc[cur]++;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        acc[cur] = <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> acc<br>&#125;, &#123;&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res) <span class="hljs-comment">// è¾“å‡ºï¼š&#123; kobe: 3, james: 1, jim: 1, wade: 2 &#125;</span><br></code></pre></td></tr></table></figure><h4 id="3-4-æŒ‰å±æ€§å¯¹objectè¿›è¡Œåˆ†ç±»"><a href="#3-4-æŒ‰å±æ€§å¯¹objectè¿›è¡Œåˆ†ç±»" class="headerlink" title="3.4 æŒ‰å±æ€§å¯¹objectè¿›è¡Œåˆ†ç±»"></a>3.4 æŒ‰å±æ€§å¯¹objectè¿›è¡Œåˆ†ç±»</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> players = [<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kobe&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">24</span> &#125;,<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;James&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">23</span> &#125;,<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jordon&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">23</span> &#125;,<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;George&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">24</span> &#125;<br>];<br><span class="hljs-keyword">const</span> groupe = players.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span>(!(item.<span class="hljs-property">number</span> <span class="hljs-keyword">in</span> acc)) &#123;<br>            acc[item.<span class="hljs-property">number</span>] = [];<br>        &#125;<br>        acc[item.<span class="hljs-property">number</span>].<span class="hljs-title function_">push</span>(item);<br>        <span class="hljs-keyword">return</span> acc<br>&#125;, &#123;&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(groupe)<br><span class="hljs-comment">// è¾“å‡º</span><br>&#123;<br>    <span class="hljs-number">23</span>: [<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;James&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">23</span> &#125;,<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jordon&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">23</span> &#125;,<br>    ],<br>    <span class="hljs-number">24</span>: [<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kobe&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">24</span> &#125;,<br>        &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;George&#x27;</span>, <span class="hljs-attr">number</span>: <span class="hljs-number">24</span> &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-5-è®¡ç®—æ•°ç»„ä¸­çš„æœ€å¤§å€¼"><a href="#3-5-è®¡ç®—æ•°ç»„ä¸­çš„æœ€å¤§å€¼" class="headerlink" title="3.5 è®¡ç®—æ•°ç»„ä¸­çš„æœ€å¤§å€¼"></a>3.5 è®¡ç®—æ•°ç»„ä¸­çš„æœ€å¤§å€¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>];<br><span class="hljs-keyword">const</span> max = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre, cur</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(pre, cur));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(max) <span class="hljs-comment">// è¾“å‡ºï¼š10</span><br><br><span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨`Math.max`é…åˆæ‰©å±•è¿ç®—ç¬¦æ‰¾å‡ºæœ€å¤§å€¼</span><br><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...arr)  <span class="hljs-comment">// è¾“å‡ºï¼š10</span><br></code></pre></td></tr></table></figure><h4 id="3-6-æ•°ç»„å»é‡"><a href="#3-6-æ•°ç»„å»é‡" class="headerlink" title="3.6 æ•°ç»„å»é‡"></a>3.6 æ•°ç»„å»é‡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> newArr = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">retArr, cur</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span>(retArr.<span class="hljs-title function_">indexOf</span>(cur) === -<span class="hljs-number">1</span>) &#123;<br>        retArr.<span class="hljs-title function_">push</span>(cur);<br>    &#125;<br>    <span class="hljs-keyword">return</span> retArr<br>&#125;, [])<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArr) <span class="hljs-comment">// è¾“å‡ºï¼š[3, 4, 6, 10, 5]</span><br><br><span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨Setæ•°æ®ç»“æ„æ¥å®ç°</span><br>[...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)]; <span class="hljs-comment">// è¾“å‡ºï¼š[3, 4, 6, 10, 5]</span><br></code></pre></td></tr></table></figure><h3 id="4-æ‰‹å†™å®ç°"><a href="#4-æ‰‹å†™å®ç°" class="headerlink" title="4. æ‰‹å†™å®ç°"></a>4. æ‰‹å†™å®ç°</h3><p>é€šè¿‡ä»¥ä¸Šçš„ä¸€äº›ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯¹reduceå‡½æ•°æœ‰äº†ä¸€äº›äº†è§£ï¼Œå…ˆæ¥åˆ†æä¸‹å®ç°æ­¥éª¤ï¼š</p><ul><li><ol><li>reduceæ˜¯ä¸ªå‡½æ•°ï¼Œä¸”æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼›</li></ol></li><li><ol><li>reduceæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯callbackå‡½æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯åˆå§‹å€¼ï¼ˆå¯é€‰ï¼‰ï¼›</li></ol></li><li><ol><li>callbackå‡½æ•°æ¥å—4ä¸ªå‚æ•°ï¼šç´¯åŠ å™¨ã€å½“å‰å€¼ã€å½“å‰ç´¢å¼•ã€åŸæ•°ç»„ï¼›</li></ol></li><li><ol><li>callbackå‡½æ•°æœ‰è¿”å›å€¼ï¼Œä¸”è¿”å›å€¼ä¼šèµ‹å€¼ç»™ç¬¬ä¸€ä¸ªå‚æ•°ï¼›</li></ol></li></ul><p>åŠ¨æ‰‹æ¥å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">selfReduce</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback, initValue</span>) &#123;<br>        <span class="hljs-comment">// è·å–æºæ•°ç»„</span><br>        <span class="hljs-keyword">const</span> originArray = <span class="hljs-variable language_">this</span>;<br><br>        <span class="hljs-comment">// åˆ¤æ–­æºæ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼ŒæŠ›å‡ºå¼‚å¸¸</span><br>        <span class="hljs-keyword">if</span>(!originArray.<span class="hljs-property">length</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;selfReduce of empty array with no initial value&#x27;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// å£°æ˜ç´¯è®¡å™¨</span><br>        <span class="hljs-keyword">let</span> accumulator<br><br>        <span class="hljs-comment">// æ˜¯å¦æœ‰åˆå§‹å€¼æƒ…å†µ</span><br>        <span class="hljs-comment">// è®¾ç½®ç´¯è®¡å™¨åˆå§‹å€¼ï¼ˆå¦‚æœæœ‰åˆå§‹å€¼ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨`callback`æ—¶ï¼Œ`callback`çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ä¸ºåˆå§‹å€¼ï¼Œå¦åˆ™ä¸ºæºæ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼‰</span><br>        <span class="hljs-keyword">if</span> (initValue === <span class="hljs-literal">undefined</span>) &#123;<br>            accumulator = originArray[<span class="hljs-number">0</span>];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            accumulator = initValue;<br>        &#125;<br><br>        <span class="hljs-comment">// éå†æ•°ç»„ï¼Œæ‰§è¡Œ`callback`å‡½æ•°</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; originArray.<span class="hljs-property">length</span>; i++) &#123;<br>            <span class="hljs-comment">// å¦‚æœæ˜¯æœ€åä¸€æ¬¡å¾ªç¯ï¼Œä¸åœ¨æ‰§è¡Œcallback</span><br>            <span class="hljs-keyword">if</span>((i + <span class="hljs-number">1</span>) === originArray.<span class="hljs-property">length</span>) <span class="hljs-keyword">break</span>;<br><br>            <span class="hljs-comment">// å¾ªç¯æ‰§è¡Œ `callback`</span><br>            <span class="hljs-comment">// è¿™é‡Œåˆ¤æ–­ä¸€ä¸‹`currentValue`</span><br>            <span class="hljs-comment">// å› ä¸ºæœ‰åˆå§‹å€¼æ—¶ï¼Œ`currentValue`æ˜¯`originArray[i]`</span><br>            <span class="hljs-comment">// æ²¡æœ‰åˆå§‹å€¼æ—¶`currentValue`æ˜¯`originArray[i + 1]`</span><br>            accumulator = <span class="hljs-title function_">callback</span>(accumulator, initValue === <span class="hljs-literal">undefined</span> ? originArray[i + <span class="hljs-number">1</span>] : originArray[i], i, originArray);<br>        &#125;<br><br>        <span class="hljs-comment">// æŠŠç´¯è®¡å™¨è¿”å›å‡ºå»</span><br>        <span class="hljs-keyword">return</span> accumulator<br>&#125;<br></code></pre></td></tr></table></figure><p>éªŒè¯ä¸€ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ‰¾å‡ºæœ€å¤§å€¼</span><br><span class="hljs-keyword">const</span> r = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>].<span class="hljs-title function_">selfReduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(a, b))<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r) <span class="hljs-comment">// è¾“å‡ºï¼š 8</span><br><br><span class="hljs-comment">// æ•°ç»„å…ƒç´ æ±‚å’Œ</span><br><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">const</span> initVal = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">const</span> total = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur, index, array</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(acc, cur);<br>        <span class="hljs-comment">// 0 1</span><br>        <span class="hljs-comment">// 1 2</span><br>        <span class="hljs-comment">// 3 3</span><br>        <span class="hljs-comment">// 6 4</span><br>        <span class="hljs-keyword">return</span> acc + cur;<br>&#125;, initVal);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(total); <span class="hljs-comment">// è¾“å‡ºï¼š10</span><br></code></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œå°±åŸºæœ¬å®ç°äº†<code>reduce</code>çš„åŠŸèƒ½ï¼›</p><h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h3><p>é¢è¯•è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šè¢«é—®åˆ°ä¸€äº›æ‰‹å†™å®ç°åŸç”Ÿapiçš„é—®é¢˜ï¼›å¦‚æœçœŸçš„é—®åˆ°äº†ï¼Œä¹Ÿä¸ç”¨ç‰¹åˆ«ç´§å¼ ï¼Œå…¶å®åªè¦æ¢³ç†ä¸€ä¸‹æ€è·¯çš„è¯ï¼Œæ²¡æœ‰é‚£ä¹ˆéš¾çš„ï¼›å¦‚æœæ˜¯å‡½æ•°çš„è¯ï¼Œå°±è¦ä»å‡½æ•°çš„å‚æ•°ã€è¿”å›å€¼å¼€å§‹åˆ†æï¼Œä¸€æ­¥ä¸€æ­¥çš„å»å®ç°ï¼ŒåŸºæœ¬æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>reduce</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜å¸¸é—®1</title>
    <link href="/blog/2022/09/08/interview-20220908/"/>
    <url>/blog/2022/09/08/interview-20220908/</url>
    
    <content type="html"><![CDATA[<h1 id="20220908å‰ç«¯é¢è¯•é¢˜"><a href="#20220908å‰ç«¯é¢è¯•é¢˜" class="headerlink" title="20220908å‰ç«¯é¢è¯•é¢˜"></a>20220908å‰ç«¯é¢è¯•é¢˜</h1><p><strong>ä¸­å›½ç”µä¿¡é›†æˆ</strong></p><ul><li>vueç”Ÿå‘½å‘¨æœŸ</li><li>webpackæ‰“åŒ…æœºåˆ¶</li><li>v-if v-show</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´</li><li>æ•æ·å¼€å‘çš„æ€ç»´æ¨¡å¼</li></ul><p><strong>ç‰§åŸè‚¡ä»½ä¸€é¢</strong></p><ul><li>è®²ä¸€ä¸‹react hookså†…éƒ¨å®ç°åŸç†</li><li>å¾®å‰ç«¯ä¸­å¾®ä»»åŠ¡æ³¨å…¥æƒé™å¦‚ä½•æ§åˆ¶</li><li>è®²ä¸€ä¸‹å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</li><li>è®²ä¸€ä¸‹ä¸ºä»€ä¹ˆç”¨å¾®å‰ç«¯ï¼Œqiankunçš„ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Œæœ‰æ²¡æœ‰çœ‹è¿‡single-spaçš„å†…éƒ¨å®ç°æ–¹å¼</li><li>éœ€è¦å»å—é˜³å‡ºå·®ï¼Œæ¥å—å—</li></ul><p><strong>æ•°å­—éƒ‘å·ä¸€é¢</strong></p><ul><li>æµè§ˆå™¨åå•†ç¼“å­˜</li><li>äº‹ä»¶å¾ªç¯ å®ä»»åŠ¡ å¾®ä»»åŠ¡ï¼ˆæ²¡å›ç­”å¥½ï¼‰</li><li>reactçˆ¶å­ç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Œreduxé€šä¿¡æœºåˆ¶</li><li>çˆ¶ç»„ä»¶å¦‚ä½•è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</li><li>reactç”Ÿå‘½å‘¨æœŸ</li><li>antd fromè¡¨å•è‡ªå®šä¹‰ç»„ä»¶</li><li>webpackæ‰“åŒ…åŸç†</li><li>webpack å¦‚ä½•åˆ†åŒ…</li><li>webpack load pluginåŒºåˆ«</li><li>è¾“å…¥URLå›è½¦å‘ç”Ÿäº†å•¥ï¼ˆä»å‘é€httpå¼€å§‹è¯´ï¼‰</li><li>å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶</li><li>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¾®å‰ç«¯</li><li>react context</li><li>ES6+ç”¨è¿‡å“ªäº›ç‰¹æ€§</li><li>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼ˆåªè®²é¡¹ç›®ä¸­ç”¨åˆ°çš„ï¼ŒcorsåŸç†åŠå¦‚ä½•é…ç½®ï¼‰</li><li>promiseèƒ½å–æ¶ˆå—</li><li>å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜ï¼Œremå’Œvwæœ‰å•¥åŒºåˆ«</li><li>èƒ½æ¥å—åŠ ç­å—ï¼Œæœ‰æ²¡æœ‰é‡åˆ°å‹åŠ›ç‰¹åˆ«å¤§çš„æ—¶å€™</li></ul><p><strong>æ•°å­—éƒ‘å·äºŒé¢</strong></p><ul><li>å¦‚ä½•å®ç°ä¸€ä¸ªforEachï¼ŒforEachå•è¯å¾ªç¯è¿”å›çš„æ˜¯ä¸ªä»€ä¹ˆ</li><li>å¦‚ä½•ä½¿ç”¨react hookså®ç°ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸ</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªajaixï¼Œè®²ä¸‹åŸç†</li><li>promiseå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Œgeneorå‡½æ•°å†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¦‚ä½•é€šè¿‡geneå®ç°ä¸€ä¸ªasync awaitæ–¹æ³•</li><li>è®²è®²ä½ éƒ½åŠ ç­å’Œå‡ºå·®çš„çœ‹æ³•</li><li>vue3 æœ‰å“ªäº›ç‰¹æ€§</li><li>è®²ä¸€ä¸‹reduxçš„æ•°æ®è¿è½¬åŠåŸç†ï¼Œè®²ä¸€ä¸‹ä½ å¯¹reduxä½¿ç”¨åœºæ™¯çš„çœ‹æ³•</li><li>csså®ç°åŠ¨ç”»vs jsæ¥å®ç°åŠ¨ç”»</li><li>è®²ä¸€ä¸‹å¦‚ä½•å®ç°å‰ç«¯è‡ªåŠ¨åŒ–</li><li>ä½¿ç”¨è¿‡dockeréƒ¨ç½²å—</li></ul><p><strong>uuè·‘è…¿å…±å››é¢</strong></p><ul><li>es6æœ‰å“ªäº›ç‰¹æ€§</li><li>å‰ç«¯æ‰“åŒ…å·¥å…·vite</li><li>é«˜é˜¶ç»„ä»¶å¹³æ—¶ä½¿ç”¨è¿‡æ²¡</li><li>redux åŸåˆ™ï¼Œ connect</li><li>æ·±æµ…æ‹·è´ å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´</li><li>ä»æ‹¿åˆ°ä¸€ä¸ªå¤§å‹é¡¹ç›®å¼€å§‹ï¼Œå¦‚ä½•åšä¼˜åŒ–</li><li>æœ‰æ²¡æœ‰åšè¿‡å¤§å±é¡¹ç›®</li><li>æœ‰æ²¡æœ‰åšè¿‡å¯è§†åŒ–æ‹–æ‹½ç”Ÿæˆé¡µé¢ï¼Œå¯ä»¥ç®€å•è®²ä¸‹å®ç°æµç¨‹</li><li>redux ä¸‰å¤§åŸåˆ™</li><li>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜</li></ul><p><strong>é¸¿ç¿¼è‚¡ä»½ä¸€é¢</strong></p><ul><li>css ä¼ªç±» ä¼ªå…ƒç´ </li><li>htmlè¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ </li><li>ä»€ä¹ˆæ˜¯å¤–è¾¹è·åˆå¹¶ï¼Œå¦‚ä½•è§£å†³</li><li>react hooks ç›¸å¯¹äºclassç»„ä»¶çš„ä¼˜åŠ¿</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªé—­åŒ…</li><li>è®²ä¸€è®²js åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå¦‚ä½•å›æ”¶</li></ul><p><strong>é¸¿ç¿¼è‚¡ä»½äºŒé¢</strong></p><ul><li>webpackå¦‚ä½•ä¼˜åŒ–åŒ…ä½“ç§¯</li><li>webpack å¦‚ä½•ä¼˜åŒ–æ„å»ºæ—¶é—´</li><li>å¹³æ—¶ä½ æ˜¯æ€ä¹ˆå­¦ä¹ å’Œè¿›æ­¥çš„ï¼Œé‡åˆ°ä¸ä¼šçš„é—®é¢˜æ€ä¹ˆåŠ</li><li>é«˜é˜¶ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯</li><li>ä½ æœªæ¥çš„å‘å±•æ–¹å‘æ˜¯ä»€ä¹ˆ</li><li>æ‹¿åˆ°ä¸€ä¸ªé¡¹ç›®é™¤äº†webpackå¤–ï¼Œå¦‚ä½•åšä»£ç å±‚é¢çš„ä¼˜åŒ–</li><li>react å®ç°å¼‚æ­¥åŠ è½½ç»„ä»¶çš„æ–¹å¼æœ‰å“ªäº›</li></ul><p><strong>å­—èŠ‚è·³åŠ¨ä¸€é¢</strong></p><ul><li>æ‰‹å†™ä»£ç  å®ç°ä¸€ä¸ªreact memoæ•ˆæœï¼Œreact.menoç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»€ä¹ˆ</li><li>pureComponent</li><li>æ‰‹å†™ä»£ç å®ç°ä¸€ä¸ªæœ‰çŠ¶æ€çš„å€’è®¡æ—¶</li><li>æµè§ˆå™¨å¼ºç¼“å­˜ï¼Œcacle-control æœ‰å“ªäº›å­—æ®µ æµè§ˆå™¨ç¼“å­˜åŸç†</li><li>å¾®ä¿¡åŸç”Ÿå°ç¨‹åºæ€§èƒ½æŒ‡æ ‡</li><li>æœ‰æ²¡æœ‰çœ‹è¿‡qiankunçš„åº•å±‚åŸç†</li><li>webpack5ç¼“å­˜æœ‰å“ªå‡ ç§æ–¹å¼</li><li>å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„çŠ¶æ€ç æ˜¯å¤šå°‘</li><li>HTTP2.0ç›¸å½“äº1.Xæœ‰å“ªäº›ä¼˜åŠ¿</li><li>webpack æ˜¯åˆ©ç”¨ä»€ä¹ˆæœºåˆ¶åˆ†åŒ…çš„</li><li>webpack5 æ¨¡å—è”é‚¦ç®€å•ä»‹ç»ä¸‹å¦‚ä½•å®ç°</li></ul><p><strong>å­—èŠ‚è·³åŠ¨äºŒé¢</strong></p><ul><li>è‡ªå®šä¹‰ä¸€ä¸ªhooks</li><li>å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°ï¼ˆç„¶åæ”¹æˆhoosçš„å†™æ³•ï¼‰</li><li>å®ç°ä¸€ä¸ªå¿«æ’</li><li>è¯´è¯´ä½ æœŸæœ›çš„å‰ç«¯å‘å±•æ–¹å‘</li></ul><p><strong>ä¸­è½¯å›½é™…(ç”µä¿¡å…¬å¸)</strong></p><ul><li>webpack dllPlugin å…·ä½“å¦‚ä½•åšé…ç½®çš„</li><li>react classå’Œhooks åˆ†åˆ«æ˜¯å¦‚ä½•å®ç°ç”Ÿå‘½å‘¨æœŸçš„</li><li>çº¯å‡½æ•°ç»„ä»¶çš„å¥½å¤„</li><li>é«˜é˜¶ç»„ä»¶</li><li>react é¡¹ç›®å¦‚ä½•åšä»£ç ä¼˜åŒ–</li><li>loadå’Œpluginæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå¸¸ç”¨çš„loadå’Œpluginæœ‰å“ªäº›</li><li>ä¸€ä¸ªé¡µé¢çš„æŒ‰é’®æƒé™å¦‚ä½•æ§åˆ¶ï¼ˆå‡å¦‚ç»™ä½ ä¸€ä¸ªæ•´ä¸ªé¡¹ç›®çš„æŒ‰é’®æƒé™æ•°æ®ï¼‰</li></ul><p><strong>XXä¸€é¢ï¼ˆè¿‡äº†ï¼‰</strong></p><ul><li>å®ä»»åŠ¡å¾®ä»»åŠ¡</li><li>ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸé—®é¢˜ï¼Œå¦‚æœæ¥å£æœ‰è·¨åŸŸé—®é¢˜ï¼Œé‚£æ¥å£åˆ°æœåŠ¡ç«¯äº†å—</li><li>è§£é‡Šä¸€ä¸‹BFCã€‚BFCè„±ç¦»æ–‡æ¡£æµæ²¡</li><li>commonjsçš„æ¨¡å—å¯¼å…¥å¯¼å‡ºå’ŒES6çš„å¯¼å…¥å¯¼å‡ºæœ‰ä»€ä¹ˆåŒºåˆ«</li><li>flexç”¨è¿‡æ²¡</li><li>å¦‚ä½•è§£å†³ç§»åŠ¨ç«¯é€‚é…é—®é¢˜</li><li>ä¸€ä¸ªdivå†…åµŒä¸€ä¸ªdiv margin-top30ï¼Œ2ä¸ªdivç›¸å·®å¤šå°‘</li><li>CORS2ä¸ªè¯·æ±‚æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œèƒ½å¦åˆå¹¶æˆä¸€ä¸ª</li><li>HTTP1.0å’ŒHTTP1.1æœ‰ä»€ä¹ˆåŒºåˆ«</li><li>[â€˜fldffdâ€™,â€™flrtossâ€™,â€™flodofsâ€™] æ±‚æœ€é•¿ç›¸åŒå­—ç¬¦å‰ç¼€</li><li>forEachå¦‚ä½•è·³å‡ºå¾ªç¯</li><li>ä½ å¯¹è‡ªå·±çš„æœªæ¥è§„åˆ’æ˜¯ä»€ä¹ˆ</li></ul><p><strong>XXäºŒé¢ï¼ˆè¿‡äº†ï¼‰</strong></p><ul><li>ä¹‹å‰é‡åˆ°æœ€å¤§çš„å›°æƒ‘å’ŒæŒ‘æˆ˜æ˜¯ä»€ä¹ˆ</li><li>å¦‚ä½•åšç§»åŠ¨ç«¯é€‚é…</li><li>å¦‚ä½•åšé¡µé¢æ€§èƒ½ä¼˜åŒ–</li><li>å¦‚ä½•ä¿è¯ä¸€ä¸ªé¡¹ç›®ä»å¼€å‘åˆ°ä¸Šçº¿æ²¡æœ‰bugï¼Œè®²è®²ä½ çš„æ€è·¯</li><li>webpackå¦‚ä½•ä¼˜åŒ–åŒ…ä½“ç§¯å’Œæ„å»ºé€Ÿåº¦</li></ul><p><strong>XXä¸‰é¢ï¼ˆè¿‡äº†ï¼‰</strong></p><ul><li>åšå¾®å‰ç«¯ä¹‹å‰æ˜¯å¦‚ä½•è€ƒè™‘çš„ï¼Œåˆ©ç”¨å¾®å‰ç«¯èƒ½è§£å†³ä»€ä¹ˆç—›ç‚¹ï¼Œå‰æœŸåšäº†å“ªäº›è°ƒç ”</li><li>qiankuné…ç½®å¾®åº”ç”¨å…¥å£åï¼Œentryæ˜¯å¦‚ä½•å®ç°åº”ç”¨çš„è·¯ç”±çš„</li><li>jsxä¸ºä»€ä¹ˆèƒ½åœ¨jsé‡Œå†™htmlä»£ç ï¼Œæœ€åæ˜¯æ€ä¹ˆå¤„ç†å’Œç¼–è¯‘çš„</li><li>webpackçš„ç¼–è¯‘å’Œæµè§ˆå™¨çš„ç¼–è¯‘ä¸»è¦åšäº†å“ªäº›äº‹æƒ…</li><li>vueä¸­ htmlä¸­å¯ä»¥å†™æŒ‡ä»¤ï¼Œå¦‚v-model,è¯·é—®æ˜¯å¦‚ä½•å®ç°çš„</li><li>vueä¸­åŒå‘æ•°æ®ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„</li><li>reactä¸­ çŠ¶æ€çš„æ›´æ–°æ˜¯å¦‚ä½•è§¦å‘è§†å›¾æ¸²æŸ“çš„</li><li>ä¸€ä¸ªé¡¹ç›®åšæ€§èƒ½ä¼˜åŒ–å‰ï¼Œæ˜¯åšå¦‚ä½•è€ƒè™‘çš„ï¼Œåšæ€§èƒ½ä¼˜åŒ–æœ‰å“ªäº›æŒ‡æ ‡èƒ½å‚è€ƒï¼Œæ‹¿åˆ°ä¸€ä¸ªé¡¹ç›®åï¼Œæ˜¯å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–çš„</li></ul><p><strong>å¼€æºä¸­å›½ä¸€é¢</strong></p><ul><li>less sasså¹³æ—¶ä½¿ç”¨è¿‡æ²¡ï¼Œæœ‰å“ªäº›ç‰¹æ€§</li><li>nodejsç”¨è¿‡å“ªäº›ä¸œè¥¿</li><li>è®²ä¸€ä¸‹æ …æ ¼å¸ƒå±€å’Œflexå¸ƒå±€</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªæ¢è‚¤åŠŸèƒ½ï¼›ï¼ˆ2ä¸ªä¸åŒçš„cssæ–‡ä»¶ï¼‰</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªå¯¼èˆªæ çš„æ˜¾ç¤ºéšè—ï¼ˆæ ¹æ®åˆ†è¾¨ç‡ï¼‰</li><li>å¦‚ä½•å®ç°ä¸€ä¸ªå¯¼èˆªæ å˜çª„</li><li>class superæ˜¯å¹²å˜›çš„</li><li>classæ–¹æ³•å’Œçº¯å‡½æ•°æœ‰ä»€ä¹ˆä¸ä¸€æ ·</li><li>tsæ•°æ®ç±»å‹ç”¨è¿‡å“ªäº›</li><li>ts @ç¬¦åˆçš„ä½¿ç”¨ï¼Œangularä¸­@æ˜¯ç”¨æ¥å®ç°ä¸ªä»€ä¹ˆä¸œè¥¿çš„</li><li>tsä¸­çš„ä¸€äº›æ²¡å¬è¿‡çš„çŸ¥è¯†ç‚¹ï¼ˆè®°ä¸èµ·æ¥äº†ï¼‰</li><li>react forwardRefç”¨è¿‡æ²¡</li><li>react hooks å¦‚ä½•å®ç°ç»„ä»¶é”€æ¯</li><li>vueç†Ÿæ‚‰å—</li><li>HTTPç¼“å­˜æ˜¯å¦‚ä½•å¤„ç†çš„ï¼ˆæœåŠ¡å™¨æˆ–è€…ngæ˜¯å¦‚ä½•è¿”å›ç¼“å­˜å­—æ®µçš„ï¼‰</li><li>ä¸‰æ–¹npmèµ„æºé“¾æ¥å¤ç”¨ï¼Œä½ ä»¬å…¬å¸ä¸€èˆ¬éƒ½æ”¾åœ¨å“ªé‡Œ</li><li>è¯´è¯´å¤æ‚æ•°æ®ç±»å‹ï¼Œfunctionæ˜¯å¤æ‚æ•°æ®ç±»å‹å—ï¼Œå¦‚ä½•åˆ¤å®šå¤æ‚æ•°æ®ç±»å‹çš„ç±»å‹</li><li>é¡¹ç›®æ‰“åŒ…ä»200Mä¼˜åŒ–åˆ°120Mè¿™ä¹‹é—´åšäº†å“ªäº›äº‹æƒ…</li></ul><p><strong>å¼€æºäºŒé¢</strong></p><ul><li>CDNå¦‚ä½•åšé…ç½®ï¼Œæµè§ˆå™¨ç¼“å­˜åŠCDNç¼“å­˜ç­–ç•¥ï¼ŒCDNåŸºæœ¬æ¦‚å¿µï¼ŒCDNå¯¹åº”çš„æœåŠ¡å™¨å®•æœºäº†ï¼Œå‰ç«¯å¿«é€Ÿè®©é¡µé¢èƒ½æ­£å¸¸æ‰“å¼€</li><li>ç§»åŠ¨ç«¯é€‚é…åŸç†å’Œæ–¹æ¡ˆï¼Œflexå¸ƒå±€å’Œæ …æ ¼ç³»ç»Ÿ</li><li>reduxæ˜¯å¹²å˜›çš„ï¼Œæ˜¯å¦æ˜¯å¿…é¡»çš„</li><li>æŠ›å¼€ä¸‰æ–¹æ’ä»¶ï¼Œå¦‚ä½•å®ç°è·¨é¡µé¢é€šä¿¡ï¼Œç¼“å­˜æœ‰I&#x2F;Oï¼Œæœ‰æ²¡æœ‰å…¶ä»–æ–¹æ¡ˆï¼Œreact contextä¹‹ç±»</li><li>åœ¨åšæ€§èƒ½ä¼˜åŒ–ä¹‹å‰ï¼Œæ˜¯åŸºäºä»€ä¹ˆåšè€ƒè™‘çš„ï¼Œä¸ºä»€ä¹ˆéœ€è¦åšæ€§èƒ½ä¼˜åŒ–</li><li>å¦‚ä½•ä»ä»£ç å±‚é¢åšæ€§èƒ½ä¼˜åŒ–ï¼Œè®²è®²ä½ çš„æ€è·¯</li><li>ä¸€èˆ¬é¡¹ç›®ä»å¼€å‘åˆ°ä¸Šçº¿ï¼Œä½ è®¤ä¸ºéœ€è¦å…·å¤‡å‡ ä¸ªç¯å¢ƒæ‰æ˜¯åˆç†çš„</li><li>git merge å’Œ git rebaseæœ‰ä»€ä¹ˆåŒºåˆ«</li><li>ç”¨reactå®ç°ä¸€ä¸ªslectä¸‹æ‹‰ç»„ä»¶ï¼Œä»ç®€å•åˆ°è´Ÿè´£ï¼Œé€šè¿‡å¯¹propsã€çŠ¶æ€ã€äº‹ä»¶å¹¶è¿ç”¨ç»„ä»¶åŒ–çš„æ€æƒ³è®²ä¸€ä¸‹ä½ çš„æ€è·¯</li><li>tså¹³æ—¶éƒ½ä½¿ç”¨è¿‡ï¼Œåœ¨é¡¹ç›®ä¸­ä½ è®¤ä¸ºtsçš„å®šä½æ˜¯ä»€ä¹ˆ</li></ul>]]></content>
    
    
    <categories>
      
      <category>interview</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é¢è¯•é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptå¯¹è±¡æ•°ç»„å»é‡</title>
    <link href="/blog/2022/08/08/js-ArrayDeleteRepetition/"/>
    <url>/blog/2022/08/08/js-ArrayDeleteRepetition/</url>
    
    <content type="html"><![CDATA[<h1 id="javascript-å¯¹è±¡æ•°ç»„å»é‡"><a href="#javascript-å¯¹è±¡æ•°ç»„å»é‡" class="headerlink" title="javascript å¯¹è±¡æ•°ç»„å»é‡"></a>javascript å¯¹è±¡æ•°ç»„å»é‡</h1><h3 id="1-ä½¿ç”¨setå’Œmapç»“åˆ"><a href="#1-ä½¿ç”¨setå’Œmapç»“åˆ" class="headerlink" title="1.ä½¿ç”¨setå’Œmapç»“åˆ"></a>1.ä½¿ç”¨setå’Œmapç»“åˆ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> jsonArray = [  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mary&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mary&#x27;</span> &#125;,  <br>];  <br>  <br><span class="hljs-keyword">let</span> uniqueArray = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(jsonArray.<span class="hljs-title function_">map</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-property">stringify</span>))].<span class="hljs-title function_">map</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-property">parse</span>);  <br>  <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArray);<br></code></pre></td></tr></table></figure><p>â€‹é¦–å…ˆï¼Œä½¿ç”¨<code>Array.prototype.map</code>å’Œ<code>JSON.stringify</code>å°†æ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚<br>â€‹ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Set</code>å¯¹è±¡å»é™¤é‡å¤çš„å­—ç¬¦ä¸²ã€‚<br>â€‹æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Array.prototype.map</code>å’Œ<code>JSON.parse</code>å°†ç»“æœè½¬æ¢å›å¯¹è±¡æ•°ç»„</p><h3 id="2-åŒé‡forå¾ªç¯"><a href="#2-åŒé‡forå¾ªç¯" class="headerlink" title="2.åŒé‡forå¾ªç¯"></a>2.åŒé‡forå¾ªç¯</h3><h4 id="i-å¯¹æ¯”idå±æ€§"><a href="#i-å¯¹æ¯”idå±æ€§" class="headerlink" title="i.å¯¹æ¯”idå±æ€§"></a>i.å¯¹æ¯”idå±æ€§</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;gucheng&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;<br>]<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = i + <span class="hljs-number">1</span>; j &lt; arr.<span class="hljs-property">length</span>; j++) &#123;<br>        <span class="hljs-keyword">if</span> (arr[i].<span class="hljs-property">id</span> === arr[j].<span class="hljs-property">id</span>) &#123;<br>            arr.<span class="hljs-title function_">splice</span>(j, <span class="hljs-number">1</span>)<br>            j--<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arr--&#x27;</span>, arr)<br></code></pre></td></tr></table></figure><h4 id="ii-ä½¿ç”¨JSON-stringifyè½¬å­—ç¬¦ä¸²ï¼Œåœ¨å¯¹æ¯”"><a href="#ii-ä½¿ç”¨JSON-stringifyè½¬å­—ç¬¦ä¸²ï¼Œåœ¨å¯¹æ¯”" class="headerlink" title="ii.ä½¿ç”¨JSON.stringifyè½¬å­—ç¬¦ä¸²ï¼Œåœ¨å¯¹æ¯”"></a>ii.ä½¿ç”¨JSON.stringifyè½¬å­—ç¬¦ä¸²ï¼Œåœ¨å¯¹æ¯”</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> jsonArray = [  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mary&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span> &#125;,  <br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Mary&#x27;</span> &#125;,  <br>];  <br>  <br><span class="hljs-keyword">let</span> uniqueArray = [];  <br>  <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; jsonArray.<span class="hljs-property">length</span>; i++) &#123;  <br>  <span class="hljs-keyword">let</span> isDuplicate = <span class="hljs-literal">false</span>;  <br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; uniqueArray.<span class="hljs-property">length</span>; j++) &#123;  <br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(jsonArray[i]) === <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(uniqueArray[j])) &#123;  <br>      isDuplicate = <span class="hljs-literal">true</span>;  <br>      <span class="hljs-keyword">break</span>;  <br>    &#125;  <br>  &#125;  <br>  <span class="hljs-keyword">if</span> (!isDuplicate) &#123;  <br>    uniqueArray.<span class="hljs-title function_">push</span>(jsonArray[i]);  <br>  &#125;  <br>&#125;  <br>  <br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArray);<br></code></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨ä¸¤ä¸ªåµŒå¥—çš„ for å¾ªç¯ã€‚å¤–éƒ¨å¾ªç¯éå†åŸå§‹æ•°ç»„ï¼Œå†…éƒ¨å¾ªç¯éå†æ–°æ•°ç»„ã€‚å¦‚æœåŸå§‹æ•°ç»„ä¸­çš„å½“å‰å…ƒç´ ä¸æ–°æ•°ç»„ä¸­çš„ä»»ä½•å…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°† <code>isDuplicate</code> è®¾ç½®ä¸º <code>true</code> å¹¶è·³å‡ºå†…éƒ¨å¾ªç¯ã€‚å¦‚æœ <code>isDuplicate</code> ä¸º <code>false</code>ï¼Œåˆ™æˆ‘ä»¬å°†å½“å‰å…ƒç´ æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­ã€‚æœ€åï¼Œæ–°æ•°ç»„å°†åªåŒ…å«æ²¡æœ‰é‡å¤çš„æ•°æ®ã€‚</p><h3 id="3-forEachæ­é…findindex"><a href="#3-forEachæ­é…findindex" class="headerlink" title="3.forEachæ­é…findindex"></a>3.forEachæ­é…findindex</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr1 = [<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;gucheng&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;<br>]<br><span class="hljs-keyword">let</span> newArr1 = []<br>arr1.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>    arr1.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-property">id</span> == item.<span class="hljs-property">id</span>) == index &amp;&amp; newArr1.<span class="hljs-title function_">push</span>(item)<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;newArr1&#x27;</span>, newArr1)<br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°éå†çš„æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦åˆåˆ¤æ–­æ¡ä»¶çš„å€¼ï¼Œå¹¶è¿”å›è¯¥å€¼å¯¹åº”çš„ç´¢å¼•ï¼Œåœæ­¢éå†</p><h3 id="4-filteræ­é…findIndex"><a href="#4-filteræ­é…findIndex" class="headerlink" title="4.filteræ­é…findIndex"></a>4.filteræ­é…findIndex</h3><p>ä½œä¸ºä¸€åä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œåªä¼šä¸¤ç§å»é‡æ–¹å¼æ€ä¹ˆè¡Œï¼Œç»§ç»­å»ç²˜ï¼Œï¼Œï¼Œç»§ç»­æ€»ç»“â€¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr2 = [<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;gucheng&#x27;</span>&#125;,<br>    &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;<br>]<br>arr2 = arr2.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> arr2.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-property">id</span> == item.<span class="hljs-property">id</span>) == index<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arr3--&#x27;</span>, arr2)<br></code></pre></td></tr></table></figure><p>å®ç°æ•°ç»„è¿‡æ»¤ã€‚åˆ¤æ–­filterå›è°ƒå‡½æ•°ä¸­çš„æ¡ä»¶æ˜¯å¦ä¸ºtrueï¼Œå¦‚æœä¸ºtrueï¼Œè¿”å›è¯¥éå†é¡¹ï¼Œæœ€ç»ˆåŒ…è£…åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ç»Ÿä¸€è¿”å›</p><h3 id="5-forEachæ­é…some"><a href="#5-forEachæ­é…some" class="headerlink" title="5.forEachæ­é…some"></a>5.forEachæ­é…some</h3><p>â€‹åœ¨æ€»ç»“å®Œä¸Šè¿°ä¸‰ä¸ªæ–¹æ³•ä¹‹åï¼Œæˆ‘å°±åœ¨æƒ³äº†ï¼šæ•°ç»„å»é‡ï¼Œå¦‚æœè¿™ä¸ªæ•°ç»„æ˜¯ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ï¼Œæˆ‘ä»¬åªè¦éå†ä¸€å±‚ï¼Œå¾ªç¯ä½“é‡Œé¢åªè¦é…åˆindexOfã€includesç­‰æ–¹æ³•ï¼Œå°±å¯ä»¥æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„å€¼äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [ <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;lsm&quot;</span>, <span class="hljs-string">&quot;52&quot;</span>, <span class="hljs-number">2</span>, <span class="hljs-number">81</span>, <span class="hljs-number">2</span>, <span class="hljs-number">81</span>]<br><span class="hljs-keyword">let</span> newArr = []<br>arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//!newArr.includes(item) &amp;&amp; newArr.push(item)</span><br>    newArr.<span class="hljs-title function_">indexOf</span>(arr1[i]) === -<span class="hljs-number">1</span> &amp;&amp; newArr.<span class="hljs-title function_">push</span>(arr1[i])<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;newArr--&#x27;</span>, newArr)<br></code></pre></td></tr></table></figure><p>â€‹åˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­æœ‰æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å€¼ï¼Œåªè¦æ•°ç»„ä¸­æœ‰ä¸€é¡¹ç¬¦åˆæ¡ä»¶è¿”å›trueï¼Œä½†æ˜¯ä¸ä¼šç»ˆæ­¢å¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨returnç»ˆæ­¢å¾ªç¯ï¼ˆè¯¥ä¾‹ä¸­å¹¶æ²¡ç”¨åˆ°è¯¥ç‰¹æ€§ï¼‰</p><h3 id="6-filterå’Œfind"><a href="#6-filterå’Œfind" class="headerlink" title="6.filterå’Œfind"></a>6.filterå’Œfind</h3><p>â€‹æŒ‰ç…§ä¸Šé¢çš„æ€»ç»“ï¼Œæƒ³è¿›è¡Œå¼•ç”¨ç±»å‹æ•°ç»„å»é‡ï¼Œå¾—è¿›è¡ŒåŒé‡forå¾ªç¯ï¼Œå†…å±‚å¾ªç¯è¦æœ‰ä¸€ä¸ªå…·ä½“çš„è¿”å›å€¼ã€‚å¤–å±‚å¾ªç¯ç”¨æ¥æä¾›å»é‡çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨forEachï¼Œmapç­‰å•çº¯æä¾›éå†çš„æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°ç»„æ¥æ”¶ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨filterï¼Œæ ¹æ®æ¡ä»¶ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸éœ€è¦é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¹Ÿä¸ç”¨è¿›è¡Œpushæ“ä½œã€‚å’ŒfindIndexæ–¹æ³•ç±»ä¼¼çš„è¿˜æœ‰findæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr4 = [<br>      &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;,<br>      &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;gucheng&#x27;</span>&#125;,<br>      &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;<br>    ]<br>    arr4 = arr4.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> arr4.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-property">id</span> == item.<span class="hljs-property">id</span>) === item<br>    &#125;)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arr4&#x27;</span>, arr4)<br></code></pre></td></tr></table></figure><p>æ‰¾å‡ºç¬¦åˆåˆ¤æ–­æ¡ä»¶çš„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿›è¡Œè¿”å›</p><h3 id="7-mapç»“åˆsome-find-findexIndex"><a href="#7-mapç»“åˆsome-find-findexIndex" class="headerlink" title="7.mapç»“åˆsome | find | findexIndex"></a>7.mapç»“åˆsome | find | findexIndex</h3><p><strong>æœ€ç»ˆæ€»ç»“ï¼š</strong></p><p><strong>1. å®ç°å¼•ç”¨ç±»å‹æ•°ç»„å»é‡ï¼Œä¸»è¦é åŒé‡å¾ªç¯ã€‚</strong></p><p><strong>2. å¤–å±‚çš„å¾ªç¯å¯ä»¥æ˜¯forEachã€mapè¿™ç§æ–¹æ³•ï¼Œå•çº¯çš„ç»™å†…å±‚å¾ªç¯æä¾›å»é‡å¯¹è±¡ã€‚è¿™è¦æˆ‘ä»¬åœ¨æœ€å¤–é¢å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç”¨æ¥å­˜æ”¾ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ã€‚ä¹Ÿå¯ä»¥ç”¨filteræ–¹æ³•ï¼Œæ ¹æ®filterçš„ç‰¹æ€§è¿”å›ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ï¼Œä¸ç”¨è‡ªå®šä¹‰æ–°æ•°ç»„ã€‚</strong></p><p><strong>3. å†…å±‚çš„å‡½æ•°å®ç°å»é‡ï¼Œå¹¶ä¸”å†…å±‚çš„å‡½æ•°è¦æœ‰ä¸€ä¸ªæœ‰å…·ä½“å«ä¹‰çš„è¿”å›å€¼ï¼Œç”¨äºå¤–å±‚å‡½æ•°çš„åˆ¤æ–­ã€‚å¯ä»¥æ˜¯someï¼ŒfindIndexï¼Œfindç­‰ã€‚</strong></p><p>å…·ä½“æƒ…å†µæ˜¯ä¸æ˜¯ä¸ä¸Šè¿°æ€»ç»“ä¸€ç›´å‘¢ã€‚æˆ‘ä»¬æœ€åä½¿ç”¨mapå’Œsomeã€findã€findexIndexå†æ¥è¯æ˜ä¸€é</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr5 = [<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;gucheng&#x27;</span>&#125;,<br>  &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;kuye&#x27;</span>&#125;<br>]<br><span class="hljs-keyword">let</span> newArr5 = []<br>arr5.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// !newArr5.some(el =&gt; el.id == item.id) &amp;&amp; newArr5.push(item)</span><br>  <span class="hljs-comment">// arr5.findIndex(el =&gt; el.id === item.id) === index &amp;&amp; newArr5.push(item)</span><br>  arr5.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>) === item &amp;&amp; newArr5.<span class="hljs-title function_">push</span>(item)<br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;arr5&#x27;</span>, newArr5)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å»é‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript-åŸºç¡€</title>
    <link href="/blog/2022/07/12/ts-basic/"/>
    <url>/blog/2022/07/12/ts-basic/</url>
    
    <content type="html"><![CDATA[<h1 id="TypeScript-åŸºç¡€"><a href="#TypeScript-åŸºç¡€" class="headerlink" title="TypeScript-åŸºç¡€"></a>TypeScript-åŸºç¡€</h1><h2 id="1ã€å¸¸ç”¨ç±»å‹"><a href="#1ã€å¸¸ç”¨ç±»å‹" class="headerlink" title="1ã€å¸¸ç”¨ç±»å‹"></a>1ã€å¸¸ç”¨ç±»å‹</h2><h3 id="1-1-äº¤å‰ç±»å‹"><a href="#1-1-äº¤å‰ç±»å‹" class="headerlink" title="1.1 äº¤å‰ç±»å‹"></a>1.1 äº¤å‰ç±»å‹</h3><p>äº¤å‰ç±»å‹å°±æ˜¯é€šè¿‡ &amp; ç¬¦å·ï¼Œå°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> T1 &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> T2 &#123;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-variable constant_">T2</span> &amp; <span class="hljs-variable constant_">T1</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-variable constant_">T3</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;xm&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-2-è”åˆç±»å‹"><a href="#1-2-è”åˆç±»å‹" class="headerlink" title="1.2 è”åˆç±»å‹"></a>1.2 è”åˆç±»å‹</h3><p>è”åˆç±»å‹å°±æ˜¯é€šè¿‡ | ç¬¦å·ï¼Œè¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h3 id="1-3-å­—é¢é‡ç±»å‹"><a href="#1-3-å­—é¢é‡ç±»å‹" class="headerlink" title="1.3 å­—é¢é‡ç±»å‹"></a>1.3 å­—é¢é‡ç±»å‹</h3><p>å­—é¢é‡ç±»å‹å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—æˆ–å¸ƒå°”ç±»å‹ä½œä¸ºå˜é‡çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">BtnType</span> =<span class="hljs-string">&#x27;default&#x27;</span>| <span class="hljs-string">&#x27;primary&#x27;</span>| <span class="hljs-string">&#x27;ghost&#x27;</span>| <span class="hljs-string">&#x27;dashed&#x27;</span>| <span class="hljs-string">&#x27;link&#x27;</span>| <span class="hljs-string">&#x27;text&#x27;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">btn</span>:<span class="hljs-title class_">BtnType</span>= <span class="hljs-string">&#x27;primary&#x27;</span><br><br><span class="hljs-comment">// æ•°å­—</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> = <span class="hljs-number">1</span><br><br><span class="hljs-comment">// å¸ƒå°”</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-literal">true</span> = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h3 id="1-4-å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹"><a href="#1-4-å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹" class="headerlink" title="1.4 å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹"></a>1.4 å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹</h3><p>å­—ç¬¦ä¸²æ¨¡æ¿ç±»å‹å°±æ˜¯é€šè¿‡ ES6 çš„æ¨¡æ¿å­—ç¬¦ä¸²è¯­æ³•ï¼Œå¯¹ç±»å‹è¿›è¡Œçº¦æŸã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> https = <span class="hljs-string">`https://<span class="hljs-subst">$&#123;<span class="hljs-built_in">string</span>&#125;</span>`</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>:https = <span class="hljs-string">`https://www.baidu.com</span><br></code></pre></td></tr></table></figure><h2 id="2ã€è¿ç®—ç¬¦"><a href="#2ã€è¿ç®—ç¬¦" class="headerlink" title="2ã€è¿ç®—ç¬¦"></a>2ã€è¿ç®—ç¬¦</h2><h3 id="2-1-éç©ºæ–­è¨€è¿ç®—ç¬¦"><a href="#2-1-éç©ºæ–­è¨€è¿ç®—ç¬¦" class="headerlink" title="2.1 éç©ºæ–­è¨€è¿ç®—ç¬¦"></a>2.1 éç©ºæ–­è¨€è¿ç®—ç¬¦</h3><p>éç©ºæ–­è¨€è¿ç®—ç¬¦ ! ç”¨äºå¼ºè°ƒå…ƒç´ æ˜¯é null é undefinedï¼Œå‘Šè¯‰ Typescript è¯¥å±æ€§ä¼šè¢«æ˜ç¡®çš„èµ‹å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// ä½ å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€å°†å…¶æŒ‡å®šä¸ºä¸€ä¸ªæ›´å…·ä½“çš„ç±»å‹ï¼š</span><br><span class="hljs-keyword">const</span> myCanvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;main_canvas&quot;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLCanvasElement</span>;<br><br><span class="hljs-comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨å°–æ‹¬å·è¯­æ³•ï¼ˆæ³¨æ„ä¸èƒ½åœ¨ .tsx æ–‡ä»¶å†…ä½¿ç”¨ï¼‰ï¼Œæ˜¯ç­‰ä»·çš„ï¼š</span><br><span class="hljs-keyword">const</span> myCanvas = &lt;<span class="hljs-title class_">HTMLCanvasElement</span>&gt;<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;main_canvas&quot;</span>);<br><br><br><span class="hljs-comment">// å½“ä½ æ˜ç¡®çš„çŸ¥é“è¿™ä¸ªå€¼ä¸å¯èƒ½æ˜¯ null æˆ–è€… undefined æ—¶æ‰ä½¿ç”¨ ! </span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">liveDangerously</span>(<span class="hljs-params"><span class="hljs-attr">x</span>?: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x!.<span class="hljs-title function_">toFixed</span>());<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-2-å¯é€‰è¿ç®—ç¬¦"><a href="#2-2-å¯é€‰è¿ç®—ç¬¦" class="headerlink" title="2.2 å¯é€‰è¿ç®—ç¬¦"></a>2.2 å¯é€‰è¿ç®—ç¬¦</h3><p>å¯é€‰é“¾è¿ç®—ç¬¦ ?. ç”¨äºåˆ¤æ–­å·¦ä¾§è¡¨è¾¾å¼çš„å€¼æ˜¯å¦æ˜¯ null æˆ– undefinedï¼Œå¦‚æœæ˜¯å°†åœæ­¢è¡¨è¾¾å¼è¿è¡Œã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> name = <span class="hljs-built_in">object</span>?.<span class="hljs-property">name</span><br></code></pre></td></tr></table></figure><h3 id="2-3-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#2-3-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="2.3 ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"></a>2.3 ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h3><p>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ?? ç”¨äºåˆ¤æ–­å·¦ä¾§è¡¨è¾¾å¼çš„å€¼æ˜¯å¦æ˜¯ null æˆ– undefinedï¼Œå¦‚æœä¸æ˜¯è¿”å›å³ä¾§çš„å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> a = b ?? <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h2 id="3ã€æ“ä½œç¬¦"><a href="#3ã€æ“ä½œç¬¦" class="headerlink" title="3ã€æ“ä½œç¬¦"></a>3ã€æ“ä½œç¬¦</h2><h3 id="3-1-keyof"><a href="#3-1-keyof" class="headerlink" title="3.1 keyof"></a>3.1 keyof</h3><p>keyof ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›å€¼æ˜¯è”åˆç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">person</span>: keyof &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125; = <span class="hljs-string">&#x27;name&#x27;</span>   <span class="hljs-comment">//const person: &#x27;name&#x27; | &#x27;age&#x27; = &#x27;name&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="3-2-typeof"><a href="#3-2-typeof" class="headerlink" title="3.2 typeof"></a>3.2 typeof</h3><p>typeof ç”¨äºè·å–å¯¹è±¡æˆ–è€…å‡½æ•°çš„ç»“æ„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> a2 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;xm&#x27;</span>,<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-keyword">typeof</span> a2 <span class="hljs-comment">// &#123; name: string &#125;</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn1</span>(<span class="hljs-params"><span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> &#123;<br>  <span class="hljs-keyword">return</span> x * <span class="hljs-number">10</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-keyword">typeof</span> fn1 <span class="hljs-comment">// (x: number) =&gt; number</span><br></code></pre></td></tr></table></figure><h3 id="3-3-in"><a href="#3-3-in" class="headerlink" title="3.3 in"></a>3.3 in</h3><p>in ç”¨äºéå†è”åˆç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;xm&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">20</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T5</span> = &#123;<br>  [P <span class="hljs-keyword">in</span> keyof obj]: <span class="hljs-built_in">string</span><br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">&#123; name: string, age: string &#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="3-4-T-K"><a href="#3-4-T-K" class="headerlink" title="3.4 T[K]"></a>3.4 T[K]</h3><p>T[K] ç”¨äºè®¿é—®ç´¢å¼•ï¼Œå¾—åˆ°ç´¢å¼•å¯¹åº”çš„å€¼çš„è”åˆç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> I3 &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T6</span> = <span class="hljs-variable constant_">I3</span>[keyof <span class="hljs-variable constant_">I3</span>] <span class="hljs-comment">// string | number</span><br></code></pre></td></tr></table></figure><h2 id="4ã€ç±»å‹åˆ«å"><a href="#4ã€ç±»å‹åˆ«å" class="headerlink" title="4ã€ç±»å‹åˆ«å"></a>4ã€ç±»å‹åˆ«å</h2><p>ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚ç±»å‹åˆ«åå¸¸ç”¨äºè”åˆç±»å‹ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬ä»…ä»…æ˜¯ç»™ç±»å‹å–äº†ä¸€ä¸ªæ–°çš„åå­—ï¼Œå¹¶ä¸æ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Message</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[]<br><span class="hljs-keyword">let</span> <span class="hljs-title function_">greet</span> = (<span class="hljs-params"><span class="hljs-attr">message</span>: <span class="hljs-title class_">Message</span></span>) =&gt; &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5ã€ç±»å‹æ–­è¨€"><a href="#5ã€ç±»å‹æ–­è¨€" class="headerlink" title="5ã€ç±»å‹æ–­è¨€"></a>5ã€ç±»å‹æ–­è¨€</h2><p>ç±»å‹æ–­è¨€å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨æˆ‘éå¸¸ç¡®å®šçš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// å°–æ‹¬å· è¯­æ³•</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (&lt;<span class="hljs-built_in">string</span>&gt;someValue).<span class="hljs-property">length</span>;<br><br><span class="hljs-comment">// as è¯­æ³•</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (someValue <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><h2 id="6ã€ç±»å‹ç¼©å°"><a href="#6ã€ç±»å‹ç¼©å°" class="headerlink" title="6ã€ç±»å‹ç¼©å°"></a>6ã€ç±»å‹ç¼©å°</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸäº›æ“ä½œå°†å˜é‡çš„ç±»å‹ç”±ä¸€ä¸ªè¾ƒä¸ºå®½æ³›çš„é›†åˆç¼©å°åˆ°ç›¸å¯¹è¾ƒå°ã€è¾ƒæ˜ç¡®çš„é›†åˆ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-title function_">func</span> = (<span class="hljs-params"><span class="hljs-attr">anything</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>) =&gt; &#123;<br>   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> anything === <span class="hljs-string">&#x27;string&#x27;</span>) &#123;<br>     <span class="hljs-keyword">return</span> anything; <span class="hljs-comment">// ç±»å‹æ˜¯ string </span><br>   &#125; <span class="hljs-keyword">else</span> &#123;<br>     <span class="hljs-keyword">return</span> anything; <span class="hljs-comment">// ç±»å‹æ˜¯ number</span><br>   &#125;<br> &#125;;<br></code></pre></td></tr></table></figure><h2 id="7ã€æ³›å‹"><a href="#7ã€æ³›å‹" class="headerlink" title="7ã€æ³›å‹"></a>7ã€æ³›å‹</h2><p>æ³›å‹å°±æ˜¯é€šè¿‡ç»™ç±»å‹ä¼ å‚ï¼Œå¾—åˆ°ä¸€ä¸ªæ›´åŠ é€šç”¨çš„ç±»å‹ï¼Œå°±åƒç»™å‡½æ•°ä¼ å‚ä¸€æ ·ã€‚ å¦‚ä¸‹æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªé€šç”¨çš„æ³›å‹ç±»å‹ T1ï¼Œé€šè¿‡ä¼ å‚ï¼Œå¯ä»¥å¾—åˆ° T2 ç±»å‹ string[]ã€T3 ç±»å‹ number[]ï¼› T æ˜¯å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»»æ„å…¶ä»–å˜é‡åä»£æ›¿ä»–ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span>&lt;T&gt; = T[]<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-variable constant_">T1</span>&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-comment">// string[]</span><br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-variable constant_">T1</span>&lt;<span class="hljs-built_in">number</span>&gt; <span class="hljs-comment">// number[]</span><br></code></pre></td></tr></table></figure><h3 id="7-1-å¸¸è§æ³›å‹å®šä¹‰"><a href="#7-1-å¸¸è§æ³›å‹å®šä¹‰" class="headerlink" title="7.1 å¸¸è§æ³›å‹å®šä¹‰"></a>7.1 å¸¸è§æ³›å‹å®šä¹‰</h3><ul><li>Tï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°</li><li>Kï¼š è¡¨ç¤ºå¯¹è±¡çš„é”®ç±»å‹</li><li>Vï¼šè¡¨ç¤ºå¯¹è±¡çš„å€¼ç±»å‹</li><li>Eï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹</li></ul><h3 id="7-2-æ³›å‹æ¥å£"><a href="#7-2-æ³›å‹æ¥å£" class="headerlink" title="7.2 æ³›å‹æ¥å£"></a>7.2 æ³›å‹æ¥å£</h3><p>æ³›å‹æ¥å£å’Œä¸Šè¿°ç¤ºä¾‹ç±»ä¼¼ï¼Œä¸ºæ¥å£ç±»å‹ä¼ å‚ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> I1&lt;T, U&gt; &#123;<br>  <span class="hljs-attr">name</span>: T;<br>  <span class="hljs-attr">age</span>: U;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">I2</span> = <span class="hljs-variable constant_">I1</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt;<br></code></pre></td></tr></table></figure><h3 id="7-3-æ³›å‹çº¦æŸ"><a href="#7-3-æ³›å‹çº¦æŸ" class="headerlink" title="7.3 æ³›å‹çº¦æŸ"></a>7.3 æ³›å‹çº¦æŸ</h3><p>Typescript é€šè¿‡ extends å®ç°ç±»å‹çº¦æŸã€‚è®©ä¼ å…¥å€¼æ»¡è¶³ç‰¹å®šæ¡ä»¶ï¼›</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IWithLength</span> &#123;<br>  <span class="hljs-attr">length</span>:<span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">function</span> echoWithLength&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IWithLength</span>&gt;(<span class="hljs-attr">arg</span>:T):T&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arg.<span class="hljs-property">length</span>)<br>  <span class="hljs-keyword">return</span> arg<br>&#125;<br><br><span class="hljs-title function_">echoWithLength</span>(<span class="hljs-string">&#x27;str&#x27;</span>)<br></code></pre></td></tr></table></figure><p>é€šè¿‡ extends çº¦æŸäº† K å¿…é¡»æ˜¯ T çš„ keyã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> getProperty&lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt;(<span class="hljs-attr">obj</span>: T, <span class="hljs-attr">key</span>: K): T[K] &#123;<br>    <span class="hljs-keyword">return</span> obj[key];<br>&#125;<br><br><span class="hljs-keyword">let</span> tsInfo = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Typescript&quot;</span>,<br>    <span class="hljs-attr">supersetOf</span>: <span class="hljs-string">&quot;Javascript&quot;</span>,<br>    <span class="hljs-attr">difficulty</span>: <span class="hljs-title class_">Difficulty</span>.<span class="hljs-property">Intermediate</span><br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">difficulty</span>: <span class="hljs-title class_">Difficulty</span> =<br>    <span class="hljs-title function_">getProperty</span>(tsInfo, <span class="hljs-string">&#x27;difficulty&#x27;</span>); <span class="hljs-comment">// OK</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">supersetOf</span>: <span class="hljs-built_in">string</span> =<br>    <span class="hljs-title function_">getProperty</span>(tsInfo, <span class="hljs-string">&#x27;superset_of&#x27;</span>); <span class="hljs-comment">// Error</span><br></code></pre></td></tr></table></figure><h3 id="7-4-æ³›å‹å‚æ•°é»˜è®¤å€¼"><a href="#7-4-æ³›å‹å‚æ•°é»˜è®¤å€¼" class="headerlink" title="7.4 æ³›å‹å‚æ•°é»˜è®¤å€¼"></a>7.4 æ³›å‹å‚æ•°é»˜è®¤å€¼</h3><p>æ³›å‹å‚æ•°é»˜è®¤å€¼ï¼Œå’Œå‡½æ•°å‚æ•°é»˜è®¤å€¼ä¸€æ ·ï¼Œåœ¨æ²¡æœ‰ä¼ å‚æ—¶ï¼Œç»™å®šé»˜è®¤å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> I4&lt;T = <span class="hljs-built_in">string</span>&gt; &#123;<br>  <span class="hljs-attr">name</span>: T;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">S1</span>: <span class="hljs-variable constant_">I4</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;123&#x27;</span> &#125; <span class="hljs-comment">// é»˜è®¤ name: stringç±»å‹</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">S2</span>: <span class="hljs-variable constant_">I4</span>&lt;<span class="hljs-built_in">number</span>&gt; = &#123; <span class="hljs-attr">name</span>: <span class="hljs-number">123</span> &#125;<br></code></pre></td></tr></table></figure><h3 id="7-5-æ³›å‹å·¥å…·ç±»å‹"><a href="#7-5-æ³›å‹å·¥å…·ç±»å‹" class="headerlink" title="7.5 æ³›å‹å·¥å…·ç±»å‹"></a>7.5 æ³›å‹å·¥å…·ç±»å‹</h3><h4 id="7-5-1-typeof"><a href="#7-5-1-typeof" class="headerlink" title="7.5.1 typeof"></a>7.5.1 typeof</h4><p>typeof çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ç±»å‹ä¸Šä¸‹æ–‡ä¸­è·å–å˜é‡æˆ–è€…å±æ€§çš„ç±»å‹ï¼›</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">sem</span>: <span class="hljs-title class_">Person</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;semlinker&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> &#125;;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Sem</span> = <span class="hljs-keyword">typeof</span> sem; <span class="hljs-comment">// type Sem = Person</span><br><br><span class="hljs-comment">// ä½¿ç”¨Semç±»å‹</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">lolo</span>: <span class="hljs-title class_">Sem</span> = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;lolo&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">5</span> &#125; <br></code></pre></td></tr></table></figure><h4 id="7-5-2-keyof"><a href="#7-5-2-keyof" class="headerlink" title="7.5.2 keyof"></a>7.5.2 keyof</h4><p>keyof å¯ä»¥ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">K1</span> = keyof <span class="hljs-title class_">Person</span>; <span class="hljs-comment">// &quot;name&quot; | &quot;age&quot;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">K2</span> = keyof <span class="hljs-title class_">Person</span>[]; <span class="hljs-comment">// &quot;length&quot; | &quot;toString&quot; | &quot;pop&quot; | &quot;push&quot; | &quot;concat&quot; | &quot;join&quot; </span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">K3</span> = keyof &#123; [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-title class_">Person</span> &#125;;  <span class="hljs-comment">// string | number</span><br></code></pre></td></tr></table></figure><h4 id="7-5-3-æ˜ å°„ç±»å‹"><a href="#7-5-3-æ˜ å°„ç±»å‹" class="headerlink" title="7.5.3 æ˜ å°„ç±»å‹"></a>7.5.3 æ˜ å°„ç±»å‹</h4><p>æ˜ å°„ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ç§æ³›å‹ç±»å‹ï¼Œå¯ç”¨äºæŠŠåŸæœ‰çš„å¯¹è±¡ç±»å‹æ˜ å°„æˆæ–°çš„å¯¹è±¡ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">TestInterface</span>&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-built_in">string</span>,<br>    <span class="hljs-attr">age</span>:<span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-comment">// æˆ‘ä»¬å¯ä»¥é€šè¿‡+/-æ¥æŒ‡å®šæ·»åŠ è¿˜æ˜¯åˆ é™¤</span><br><span class="hljs-comment">// æŠŠä¸Šé¢å®šä¹‰çš„æ¥å£é‡Œé¢çš„å±æ€§å…¨éƒ¨å˜æˆå¯é€‰</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalTestInterface</span>&lt;T&gt; = &#123;<br>  [p <span class="hljs-keyword">in</span> keyof T]+?:T[p]<br>&#125;<br><br><span class="hljs-comment">// å†åŠ ä¸Šåªè¯»</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalTestInterface</span>&lt;T&gt; = &#123;<br>  +<span class="hljs-keyword">readonly</span> [p <span class="hljs-keyword">in</span> keyof T]+?:T[p]<br>&#125;<br><br><br><br><span class="hljs-keyword">type</span> newTestInterface = <span class="hljs-title class_">OptionalTestInterface</span>&lt;<span class="hljs-title class_">TestInterface</span>&gt;<br></code></pre></td></tr></table></figure><h4 id="7-5-4-Partial"><a href="#7-5-4-Partial" class="headerlink" title="7.5.4 Partial"></a>7.5.4 Partial</h4><p>Partial å°†ç±»å‹çš„å±æ€§å˜æˆå¯é€‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Partial</span>&lt;T&gt; = &#123;<br>  [P <span class="hljs-keyword">in</span> keyof T]?: T[P]<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Partial</span>&lt;&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,<br>&#125;&gt;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">a</span>: <span class="hljs-variable constant_">T1</span> = &#123;&#125; <span class="hljs-comment">// æ²¡æœ‰nameå±æ€§ä¹Ÿä¸ä¼šæŠ¥é”™</span><br></code></pre></td></tr></table></figure><h4 id="7-5-5-Required"><a href="#7-5-5-Required" class="headerlink" title="7.5.5 Required"></a>7.5.5 Required</h4><p>Required å°†æ³›å‹çš„æ‰€æœ‰å±æ€§å˜ä¸ºå¿…é€‰ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// è¯­æ³•-?ï¼Œæ˜¯æŠŠ?å¯é€‰å±æ€§å‡å»çš„æ„æ€</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Required</span>&lt;T&gt; = &#123;<br>  [P <span class="hljs-keyword">in</span> keyof T]-?: T[P]<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Required</span>&lt;&#123;<br>  <span class="hljs-attr">name</span>?: <span class="hljs-built_in">string</span>,<br>&#125;&gt;<br><br><span class="hljs-comment">// tsæŠ¥é”™ï¼Œç±»å‹ &quot;&#123;&#125;&quot; ä¸­ç¼ºå°‘å±æ€§ &quot;name&quot;ï¼Œä½†ç±»å‹ &quot;Required&lt;&#123; name?: string | undefined; &#125;&gt;&quot; ä¸­éœ€è¦è¯¥å±æ€§ã€‚ts(2741)</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">b</span>: <span class="hljs-variable constant_">T2</span> = &#123;&#125;<br></code></pre></td></tr></table></figure><h4 id="7-5-6-Readonly"><a href="#7-5-6-Readonly" class="headerlink" title="7.5.6 Readonly"></a>7.5.6 Readonly</h4><p>Readonly å°†æ³›å‹çš„æ‰€æœ‰å±æ€§å˜ä¸ºåªè¯»ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T3</span> = <span class="hljs-title class_">Readonly</span>&lt;&#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,<br>&#125;&gt;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">c</span>: <span class="hljs-variable constant_">T3</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tj&#x27;</span>,<br>&#125;<br><br>c.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;tj1&#x27;</span> <span class="hljs-comment">// ts æŠ¥é”™ï¼Œæ— æ³•åˆ†é…åˆ° &quot;name&quot; ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ã€‚ts(2540)</span><br></code></pre></td></tr></table></figure><h4 id="7-5-7-Pick"><a href="#7-5-7-Pick" class="headerlink" title="7.5.7 Pick"></a>7.5.7 Pick</h4><p>Pick ä»ç±»å‹ä¸­é€‰æ‹©ä¸€ä¸‹å±æ€§ï¼Œç”Ÿæˆä¸€ä¸ªæ–°ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// ä¾‹å­ä¸€</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Pick</span>&lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt; = &#123;<br>  [P <span class="hljs-keyword">in</span> K]: T[P]<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T4</span> = <span class="hljs-title class_">Pick</span>&lt;<br>  &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>,<br>  &#125;,<br>  <span class="hljs-string">&#x27;name&#x27;</span><br>&gt;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¿™æ˜¯ä¸€ä¸ªæ–°ç±»å‹ï¼ŒT4=&#123;name: string&#125;</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">d</span>: <span class="hljs-variable constant_">T4</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tj&#x27;</span>,<br>&#125;<br><br><span class="hljs-comment">// ä¾‹å­äºŒ</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Todo</span> &#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">completed</span>: <span class="hljs-built_in">boolean</span>;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">TodoPreview</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Todo</span>, <span class="hljs-string">&quot;title&quot;</span> | <span class="hljs-string">&quot;completed&quot;</span>&gt;;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">todo</span>: <span class="hljs-title class_">TodoPreview</span> = &#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Clean room&quot;</span>,<br>  <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span>,<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="7-5-8-Record"><a href="#7-5-8-Record" class="headerlink" title="7.5.8 Record"></a>7.5.8 Record</h4><p>Record å°† key å’Œ value è½¬åŒ–ä¸º T ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// ä¾‹å­ä¸€</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Record</span>&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-built_in">any</span>, T&gt; = &#123;<br>  [key <span class="hljs-keyword">in</span> K]: T<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">e</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tj&#x27;</span>,<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">f</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = &#123;<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">11</span>,<br>&#125;<br><br><br><span class="hljs-comment">// ä¾‹å­äºŒ</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PageInfo</span> &#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Page</span> = <span class="hljs-string">&quot;home&quot;</span> | <span class="hljs-string">&quot;about&quot;</span> | <span class="hljs-string">&quot;contact&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-attr">x</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">Page</span>, <span class="hljs-title class_">PageInfo</span>&gt; = &#123;<br>  <span class="hljs-attr">about</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;about&quot;</span> &#125;,<br>  <span class="hljs-attr">contact</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;contact&quot;</span> &#125;,<br>  <span class="hljs-attr">home</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;home&quot;</span> &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="7-5-9-Exclude"><a href="#7-5-9-Exclude" class="headerlink" title="7.5.9 Exclude"></a>7.5.9 Exclude</h4><p>Exclude å°†æŸä¸ªç±»å‹ä¸­å±äºå¦ä¸€ä¸ªçš„ç±»å‹ç§»é™¤æ‰ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Exclude</span>&lt;T, U&gt; = T <span class="hljs-keyword">extends</span> U ? <span class="hljs-built_in">never</span> : T;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T0</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;b&quot;</span> | <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;a&quot;</span>&gt;; <span class="hljs-comment">// &quot;b&quot; | &quot;c&quot;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;b&quot;</span> | <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;b&quot;</span>&gt;; <span class="hljs-comment">// &quot;c&quot;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T2</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | (<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>), <span class="hljs-title class_">Function</span>&gt;; <span class="hljs-comment">// string | number</span><br></code></pre></td></tr></table></figure><h4 id="7-5-10-Extract"><a href="#7-5-10-Extract" class="headerlink" title="7.5.10 Extract"></a>7.5.10 Extract</h4><p>Extract ä» T ä¸­æå–å‡º Uã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Extract</span>&lt;T, U&gt; = T <span class="hljs-keyword">extends</span> U ? T : <span class="hljs-built_in">never</span>;<br><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T0</span> = <span class="hljs-title class_">Extract</span>&lt;<span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;b&quot;</span> | <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;a&quot;</span> | <span class="hljs-string">&quot;f&quot;</span>&gt;; <span class="hljs-comment">// &quot;a&quot;</span><br><span class="hljs-keyword">type</span> <span class="hljs-variable constant_">T1</span> = <span class="hljs-title class_">Extract</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | (<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>), <span class="hljs-title class_">Function</span>&gt;; <span class="hljs-comment">// () =&gt;void</span><br></code></pre></td></tr></table></figure><h4 id="7-5-11-Omit"><a href="#7-5-11-Omit" class="headerlink" title="7.5.11 Omit"></a>7.5.11 Omit</h4><p>Omit ä½¿ç”¨ T ç±»å‹ä¸­é™¤äº† K ç±»å‹çš„æ‰€æœ‰å±æ€§ï¼Œæ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Omit</span>&lt;T, K <span class="hljs-keyword">extends</span> keyof <span class="hljs-built_in">any</span>&gt; = <span class="hljs-title class_">Pick</span>&lt;T, <span class="hljs-title class_">Exclude</span>&lt;keyof T, K&gt;&gt;;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Todo</span> &#123;<br>  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">completed</span>: <span class="hljs-built_in">boolean</span>;<br>  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">TodoPreview</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">Todo</span>, <span class="hljs-string">&quot;description&quot;</span>&gt;;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment">  title: string;</span><br><span class="hljs-comment">  completed: boolean;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="8ã€ç±»å‹åˆ«åä¸æ¥å£åŒºåˆ«"><a href="#8ã€ç±»å‹åˆ«åä¸æ¥å£åŒºåˆ«" class="headerlink" title="8ã€ç±»å‹åˆ«åä¸æ¥å£åŒºåˆ«"></a>8ã€ç±»å‹åˆ«åä¸æ¥å£åŒºåˆ«</h2><h3 id="8-1-å®šä¹‰"><a href="#8-1-å®šä¹‰" class="headerlink" title="8.1 å®šä¹‰"></a>8.1 å®šä¹‰</h3><p>æ¥å£ï¼šæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰æ•°æ®æ¨¡å‹ã€‚</p><p>ç±»å‹åˆ«åï¼štype(ç±»å‹åˆ«å)ä¼šç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚</p><p>type æœ‰æ—¶å’Œ interface å¾ˆåƒï¼Œä½†æ˜¯å¯ä»¥ä½œç”¨äºåŸå§‹å€¼ï¼ˆåŸºæœ¬ç±»å‹ï¼‰ï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ä»¥åŠå…¶å®ƒä»»ä½•ä½ éœ€è¦æ‰‹å†™çš„ç±»å‹ã€‚</p><h3 id="8-2-Objects-Functions"><a href="#8-2-Objects-Functions" class="headerlink" title="8.2 Objects &#x2F; Functions"></a>8.2 Objects &#x2F; Functions</h3><p>ä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥æè¿°å¯¹è±¡æˆ–å‡½æ•°çš„ç±»å‹ï¼Œä½†æ˜¯è¯­æ³•ä¸åŒã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// interface</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;<br>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">SetPoint</span> &#123;<br>  (<span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span>;<br>&#125;<br><br><span class="hljs-comment">// type</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = &#123;<br>  <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;<br>  <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;<br>&#125;;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">SetPoint</span> = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;<br></code></pre></td></tr></table></figure><h3 id="8-3-typeå®šä¹‰å…¶ä»–ç±»å‹"><a href="#8-3-typeå®šä¹‰å…¶ä»–ç±»å‹" class="headerlink" title="8.3 typeå®šä¹‰å…¶ä»–ç±»å‹"></a>8.3 typeå®šä¹‰å…¶ä»–ç±»å‹</h3><p>ä¸æ¥å£ä¸åŒï¼Œç±»å‹åˆ«åè¿˜å¯ä»¥ç”¨äºå…¶ä»–ç±»å‹ï¼Œå¦‚åŸºæœ¬ç±»å‹ï¼ˆåŸå§‹å€¼ï¼‰ã€è”åˆç±»å‹ã€å…ƒç»„ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// primitive</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-built_in">string</span>;<br><br><span class="hljs-comment">// object</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PartialPointX</span> = &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; &#125;;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PartialPointY</span> = &#123; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>; &#125;;<br><br><span class="hljs-comment">// union</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PartialPoint</span> = <span class="hljs-title class_">PartialPointX</span> | <span class="hljs-title class_">PartialPointY</span>;<br><br><span class="hljs-comment">// tuple</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Data</span> = [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>];<br><br><span class="hljs-comment">// dom</span><br><span class="hljs-keyword">let</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);<br><span class="hljs-keyword">type</span> B = <span class="hljs-keyword">typeof</span> div;<br></code></pre></td></tr></table></figure><h3 id="8-4-æ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡-ç±»å‹åˆ«åä¸å¯ä»¥"><a href="#8-4-æ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡-ç±»å‹åˆ«åä¸å¯ä»¥" class="headerlink" title="8.4 æ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡,ç±»å‹åˆ«åä¸å¯ä»¥"></a>8.4 æ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡,ç±»å‹åˆ«åä¸å¯ä»¥</h3><p>ä¸ç±»å‹åˆ«åä¸åŒï¼Œæ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡ï¼Œä¼šè¢«è‡ªåŠ¨åˆå¹¶ä¸ºå•ä¸ªæ¥å£ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> &#123; <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>; &#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> &#123; <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>; &#125;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">point</span>: <span class="hljs-title class_">Point</span> = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> &#125;;<br></code></pre></td></tr></table></figure><h3 id="8-5-æ‰©å±•"><a href="#8-5-æ‰©å±•" class="headerlink" title="8.5 æ‰©å±•"></a>8.5 æ‰©å±•</h3><p>ä¸¤è€…éƒ½å¯ä»¥æ‰©å±•ï¼Œæ¥å£é€šè¿‡ extends æ¥å®ç°ã€‚ç±»å‹åˆ«åçš„æ‰©å±•å°±æ˜¯äº¤å‰ç±»å‹ï¼Œé€šè¿‡ &amp; æ¥å®ç°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// æ¥å£æ‰©å±•æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PointX</span> &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PointX</span> &#123;<br>    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-comment">// ç±»å‹åˆ«åæ‰©å±•ç±»å‹åˆ«å</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PointX</span> = &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = <span class="hljs-title class_">PointX</span> &amp; &#123;<br>    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-comment">// æ¥å£æ‰©å±•ç±»å‹åˆ«å</span><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">PointX</span> = &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PointX</span> &#123;<br>    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span><br>&#125;<br><br><span class="hljs-comment">// ç±»å‹åˆ«åæ‰©å±•æ¥å£</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PointX</span> &#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = <span class="hljs-title class_">PointX</span> &amp; &#123;<br>    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ts</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ts-basic</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueæ··å…¥mixin</title>
    <link href="/blog/2022/07/08/vue-mixin/"/>
    <url>/blog/2022/07/08/vue-mixin/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueæ··å…¥mixin"><a href="#Vueæ··å…¥mixin" class="headerlink" title="Vueæ··å…¥mixin"></a>Vueæ··å…¥mixin</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯æ··å…¥"><a href="#1ã€ä»€ä¹ˆæ˜¯æ··å…¥" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯æ··å…¥"></a>1ã€ä»€ä¹ˆæ˜¯æ··å…¥</h2><p><strong>Vueå®˜æ–¹ï¼š</strong></p><blockquote><p>æ··å…¥ (mixin) æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p></blockquote><p><strong>è‡ªæ‚Ÿï¼š</strong></p><blockquote><p>å°†ç»„ä»¶çš„å…¬å…±é€»è¾‘æˆ–è€…é…ç½®æå–å‡ºæ¥ï¼Œå“ªä¸ªç»„ä»¶éœ€è¦ç”¨åˆ°æ—¶ï¼Œç›´æ¥å°†æå–çš„è¿™éƒ¨åˆ†æ··å…¥åˆ°ç»„ä»¶å†…éƒ¨å³å¯ã€‚è¿™æ ·æ—¢å¯ä»¥å‡å°‘ä»£ç å†—ä½™åº¦ï¼Œä¹Ÿå¯ä»¥è®©åæœŸç»´æŠ¤èµ·æ¥æ›´åŠ å®¹æ˜“</p></blockquote><p><strong>æ··å…¥åˆ†ä¸º<code>å…¨å±€æ··å…¥</code>å’Œ<code>å±€éƒ¨æ··å…¥</code></strong></p><blockquote><p>å±€éƒ¨æ··å…¥å’Œç»„ä»¶çš„æŒ‰éœ€åŠ è½½æœ‰ç‚¹ç±»ä¼¼ï¼Œå°±æ˜¯éœ€è¦ç”¨åˆ°mixinä¸­çš„ä»£ç æ—¶ï¼Œæˆ‘ä»¬å†åœ¨ç»„ä»¶ç« å¼•å…¥å®ƒã€‚<br>å…¨å±€æ··å…¥çš„è¯ï¼Œåˆ™ä»£è¡¨æˆ‘åœ¨é¡¹ç›®çš„ä»»ä½•ç»„ä»¶ä¸­éƒ½å¯ä»¥ä½¿ç”¨mixinã€‚</p></blockquote><h2 id="2ã€å®ä¾‹"><a href="#2ã€å®ä¾‹" class="headerlink" title="2ã€å®ä¾‹"></a>2ã€å®ä¾‹</h2><h3 id="1-å‡†å¤‡å·¥ä½œ"><a href="#1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1.å‡†å¤‡å·¥ä½œ"></a>1.å‡†å¤‡å·¥ä½œ</h3><p>åœ¨æˆ‘ä»¬çš„é¡¹ç›®srcç›®å½•ä¸‹æ–°å»ºmixinæ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»ºindex.jsæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å­˜æ”¾æˆ‘ä»¬çš„mixinä»£ç ã€‚</p><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// src/mixin/index.js</span><br><span class="hljs-comment">//å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„mixinéå¸¸çš„ç®€å•ï¼Œä¸»è¦åŒ…å«äº†ä¸€ä¸ªVueç»„ä»¶çš„å¸¸è§çš„é€»è¾‘ç»“æ„</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixins = &#123;<br>  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;æˆ‘æ˜¯å°çŒªè¯¾å ‚&quot;</span>,<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">computed</span>: &#123;&#125;,<br>  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯mixinä¸­çš„createdç”Ÿå‘½å‘¨æœŸå‡½æ•°&quot;</span>);<br>  &#125;,<br>  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯mixinä¸­çš„mountedç”Ÿå‘½å‘¨æœŸå‡½æ•°&quot;</span>);<br>  &#125;,<br>  <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">clickMe</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯mixinä¸­çš„ç‚¹å‡»äº‹ä»¶&quot;</span>);<br>    &#125;,<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="2-å±€éƒ¨æ··å…¥"><a href="#2-å±€éƒ¨æ··å…¥" class="headerlink" title="2.å±€éƒ¨æ··å…¥"></a>2.å±€éƒ¨æ··å…¥</h3><p>ç»„ä»¶ä¸­å¼•å…¥mixinä¹Ÿéå¸¸ç®€å•ï¼Œä¿®æ”¹App.vueç»„ä»¶ã€‚</p><p><strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">// src/App.vue<br>&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot; /&gt;<br>    &lt;button @click=&quot;clickMe&quot;&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mixins &#125; from &quot;./mixin/index&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  mixins: [mixins],<br>  components: &#123;&#125;,<br>  created()&#123;<br>    console.log(&quot;ç»„ä»¶è°ƒç”¨minxiæ•°æ®&quot;,this.msg);<br>  &#125;,<br>  mounted()&#123;<br>    console.log(&quot;æˆ‘æ˜¯ç»„ä»¶çš„mountedç”Ÿå‘½å‘¨æœŸå‡½æ•°&quot;)<br>  &#125;<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="3-å…¨å±€æ··å…¥"><a href="#3-å…¨å±€æ··å…¥" class="headerlink" title="3.å…¨å±€æ··å…¥"></a>3.å…¨å±€æ··å…¥</h3><p>ä¸Šä¸€ç‚¹æˆ‘ä»¬ä½¿ç”¨mixinæ˜¯åœ¨éœ€è¦çš„ç»„ä»¶ä¸­å¼•å…¥å®ƒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å…¨å±€å…ˆæŠŠå®ƒæ³¨å†Œå¥½ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨äº†ã€‚</p><p>ä¿®æ”¹main.jsï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; mixins &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./mixin/index&quot;</span>;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(mixins);<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure><p>ç„¶åæŠŠApp.vueä¸­å¼•å…¥mixinçš„ä»£ç æ³¨é‡Šæ‰ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot; /&gt;<br>    &lt;button @click=&quot;clickMe&quot;&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;<br>    &lt;button @click=&quot;changeMsg&quot;&gt;æ›´æ”¹mixinæ•°æ®&lt;/button&gt;<br>    &lt;demo&gt;&lt;/demo&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// import &#123; mixins &#125; from &quot;./mixin/index&quot;;<br>import demo from &quot;./components/demo.vue&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  // mixins: [mixins],<br>  components: &#123; demo &#125;,<br>  created() &#123;<br>    console.log(&quot;ç»„ä»¶è°ƒç”¨minxiæ•°æ®&quot;, this.msg);<br>  &#125;,<br>  mounted() &#123;<br>    console.log(&quot;æˆ‘æ˜¯ç»„ä»¶çš„mountedç”Ÿå‘½å‘¨æœŸå‡½æ•°&quot;);<br>  &#125;,<br>  methods: &#123;<br>    changeMsg() &#123;<br>      this.msg = &quot;æˆ‘æ˜¯å˜å¼‚çš„å°çŒªè¯¾å ‚&quot;;<br>      console.log(&quot;æ›´æ”¹åçš„msg:&quot;, this.msg);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>è™½ç„¶è¿™æ ·åšå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æ¨èï¼Œæ¥çœ‹çœ‹å®˜æ–¹çš„ä¸€æ®µè¯ï¼š</p><blockquote><p>è¯·è°¨æ…ä½¿ç”¨å…¨å±€æ··å…¥ï¼Œå› ä¸ºå®ƒä¼šå½±å“æ¯ä¸ªå•ç‹¬åˆ›å»ºçš„ Vue å®ä¾‹ (åŒ…æ‹¬ç¬¬ä¸‰æ–¹ç»„ä»¶)ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªåº”å½“åº”ç”¨äºè‡ªå®šä¹‰é€‰é¡¹ï¼Œå°±åƒä¸Šé¢ç¤ºä¾‹ä¸€æ ·ã€‚æ¨èå°†å…¶ä½œä¸º<a href="https://link.juejin.cn/?target=https://link.zhihu.com/?target=https://cn.vuejs.org/v2/guide/plugins.html">æ’ä»¶</a>å‘å¸ƒï¼Œä»¥é¿å…é‡å¤åº”ç”¨æ··å…¥ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mixin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueè‡ªå®šä¹‰æŒ‡ä»¤</title>
    <link href="/blog/2022/07/08/vue-directive/"/>
    <url>/blog/2022/07/08/vue-directive/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueè‡ªå®šä¹‰æŒ‡ä»¤"><a href="#Vueè‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="Vueè‡ªå®šä¹‰æŒ‡ä»¤"></a>Vueè‡ªå®šä¹‰æŒ‡ä»¤</h1><h2 id="ä¸€ã€vueè‡ªå®šä¹‰æŒ‡ä»¤API"><a href="#ä¸€ã€vueè‡ªå®šä¹‰æŒ‡ä»¤API" class="headerlink" title="ä¸€ã€vueè‡ªå®šä¹‰æŒ‡ä»¤API"></a>ä¸€ã€vueè‡ªå®šä¹‰æŒ‡ä»¤API</h2><h3 id="1-é’©å­å‡½æ•°"><a href="#1-é’©å­å‡½æ•°" class="headerlink" title="1.é’©å­å‡½æ•°"></a>1.é’©å­å‡½æ•°</h3><ul><li><code>bind</code>ï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚</li><li><code>inserted</code>ï¼šè¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)ã€‚</li><li><code>update</code>ï¼šæ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œ<strong>ä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰</strong>ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–° (è¯¦ç»†çš„é’©å­å‡½æ•°å‚æ•°è§ä¸‹)ã€‚</li><li><code>componentUpdated</code>ï¼šæŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode <strong>åŠå…¶å­ VNode</strong> å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li><li><code>unbind</code>ï¼šåªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li></ul><h3 id="2-é’©å­å‡½æ•°å‚æ•°"><a href="#2-é’©å­å‡½æ•°å‚æ•°" class="headerlink" title="2.é’©å­å‡½æ•°å‚æ•°"></a>2.é’©å­å‡½æ•°å‚æ•°</h3><p>æŒ‡ä»¤é’©å­å‡½æ•°ä¼šè¢«ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li><p><code>el</code>ï¼šæŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æ¥æ“ä½œ DOMã€‚</p></li><li><p>bindingå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹ propertyï¼š</p></li><li><p><code>name</code>ï¼šæŒ‡ä»¤åï¼Œä¸åŒ…æ‹¬ <code>v-</code> å‰ç¼€ã€‚</p></li><li><p><code>value</code>ï¼šæŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚ï¼š<code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œç»‘å®šå€¼ä¸º <code>2</code>ã€‚</p><ul><li><code>oldValue</code>ï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ã€‚</li><li><code>expression</code>ï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ <code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œè¡¨è¾¾å¼ä¸º <code>&quot;1 + 1&quot;</code>ã€‚</li><li><code>arg</code>ï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œå¯é€‰ã€‚ä¾‹å¦‚ <code>v-my-directive:foo</code> ä¸­ï¼Œå‚æ•°ä¸º <code>&quot;foo&quot;</code>ã€‚</li><li><code>modifiers</code>ï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š<code>v-my-directive.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º <code>{ foo: true, bar: true }</code>ã€‚</li></ul></li><li><p><code>vnode</code>ï¼šVue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ã€‚ç§»æ­¥ <a href="https://cn.vuejs.org/v2/api/#VNode-%E6%8E%A5%E5%8F%A3">VNode API</a> æ¥äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</p></li><li><p><code>oldVnode</code>ï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨ <code>update</code> å’Œ <code>componentUpdated</code> é’©å­ä¸­å¯ç”¨ã€‚</p></li></ul><h2 id="äºŒã€è‡ªå®šä¹‰æŒ‡ä»¤ä¾‹å­"><a href="#äºŒã€è‡ªå®šä¹‰æŒ‡ä»¤ä¾‹å­" class="headerlink" title="äºŒã€è‡ªå®šä¹‰æŒ‡ä»¤ä¾‹å­"></a>äºŒã€è‡ªå®šä¹‰æŒ‡ä»¤ä¾‹å­</h2><h3 id="1-èšç„¦æŒ‡ä»¤ï¼ˆv-focusï¼‰"><a href="#1-èšç„¦æŒ‡ä»¤ï¼ˆv-focusï¼‰" class="headerlink" title="1.èšç„¦æŒ‡ä»¤ï¼ˆv-focusï¼‰"></a>1.èšç„¦æŒ‡ä»¤ï¼ˆv-focusï¼‰</h3><p>â€‹é™¤äº†æ ¸å¿ƒåŠŸèƒ½é»˜è®¤å†…ç½®çš„æŒ‡ä»¤ (<code>v-model</code> å’Œ <code>v-show</code>)ï¼ŒVue ä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ³¨æ„ï¼Œåœ¨ Vue2.0 ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚ä¸¾ä¸ªèšç„¦è¾“å…¥æ¡†çš„ä¾‹å­</p><p>â€‹éœ€æ±‚ï¼šå½“é¡µé¢åŠ è½½æ—¶ï¼Œè¯¥å…ƒç´ å°†è·å¾—ç„¦ç‚¹ï¼Œåªè¦ä½ åœ¨æ‰“å¼€è¿™ä¸ªé¡µé¢åè¿˜æ²¡ç‚¹å‡»è¿‡ä»»ä½•å†…å®¹ï¼Œè¿™ä¸ªè¾“å…¥æ¡†å°±åº”å½“è¿˜æ˜¯å¤„äºèšç„¦çŠ¶æ€ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬ç”¨æŒ‡ä»¤æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus`</span><br><span class="hljs-comment">// å¯ä»¥æ–°å»ºä¸€ä¸ªdirectiveæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾v-focus.js</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-comment">// å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦</span><br>  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) &#123;<br>    <span class="hljs-comment">// èšç„¦å…ƒç´ </span><br>    el.<span class="hljs-title function_">focus</span>()<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³æ³¨å†Œå±€éƒ¨æŒ‡ä»¤ï¼Œç»„ä»¶ä¸­ä¹Ÿæ¥å—ä¸€ä¸ª <code>directives</code> çš„é€‰é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å’ŒmethodåŒçº§</span><br><span class="hljs-attr">directives</span>: &#123;<br>  <span class="hljs-attr">focus</span>: &#123;<br>    <span class="hljs-comment">// æŒ‡ä»¤çš„å®šä¹‰</span><br>    <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) &#123;<br>      el.<span class="hljs-title function_">focus</span>()<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä»»ä½•å…ƒç´ ä¸Šä½¿ç”¨æ–°çš„ <code>v-focus</code> propertyï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-focus</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ˆv-LazyLoadï¼‰"><a href="#2-å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ˆv-LazyLoadï¼‰" class="headerlink" title="2.å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ˆv-LazyLoadï¼‰"></a>2.å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ˆv-LazyLoadï¼‰</h3><p>éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªå›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ŒåªåŠ è½½æµè§ˆå™¨å¯è§åŒºåŸŸçš„å›¾ç‰‡ã€‚</p><p>æ€è·¯ï¼š</p><ol><li>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„</li><li>æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ Dom ï¼Œéå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…</li><li>å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ <code>src</code> å±æ€§ï¼Œå¦åˆ™æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡</li></ol><p>å›¾ç‰‡æ‡’åŠ è½½æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ï¼Œä¸€æ˜¯ç»‘å®š <code>srcoll</code> äº‹ä»¶è¿›è¡Œç›‘å¬ï¼ŒäºŒæ˜¯ä½¿ç”¨ <code>IntersectionObserver</code> åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸï¼Œä½†æ˜¯æœ‰æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚</p><p>ä¸‹é¢å°è£…ä¸€ä¸ªæ‡’åŠ è½½æŒ‡ä»¤å…¼å®¹ä¸¤ç§æ–¹æ³•ï¼Œåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ <code>IntersectionObserver</code> APIï¼Œå¦‚æœæ”¯æŒå°±ä½¿ç”¨ <code>IntersectionObserver</code> å®ç°æ‡’åŠ è½½ï¼Œå¦åˆ™åˆ™ä½¿ç”¨ <code>srcoll</code> äº‹ä»¶ç›‘å¬ + èŠ‚æµçš„æ–¹æ³•å®ç°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyLoad</span> = &#123;<br>  <span class="hljs-comment">// installæ–¹æ³•</span><br>  <span class="hljs-title function_">install</span>(<span class="hljs-params">Vue, options</span>) &#123;<br>    <span class="hljs-keyword">const</span> defaultSrc = options.<span class="hljs-property">default</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;lazy&#x27;</span>, &#123;<br>      <span class="hljs-title function_">bind</span>(<span class="hljs-params">el, binding</span>) &#123;<br>        <span class="hljs-title class_">LazyLoad</span>.<span class="hljs-title function_">init</span>(el, binding.<span class="hljs-property">value</span>, defaultSrc)<br>      &#125;,<br>      <span class="hljs-title function_">inserted</span>(<span class="hljs-params">el</span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">IntersectionObserver</span>) &#123;<br>          <span class="hljs-title class_">LazyLoad</span>.<span class="hljs-title function_">observe</span>(el)<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          <span class="hljs-title class_">LazyLoad</span>.<span class="hljs-title function_">listenerScroll</span>(el)<br>        &#125;<br>      &#125;,<br>    &#125;)<br>  &#125;,<br>  <span class="hljs-comment">// åˆå§‹åŒ–</span><br>  <span class="hljs-title function_">init</span>(<span class="hljs-params">el, val, def</span>) &#123;<br>    el.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;data-src&#x27;</span>, val)<br>    el.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;src&#x27;</span>, def)<br>  &#125;,<br>  <span class="hljs-comment">// åˆ©ç”¨IntersectionObserverç›‘å¬el</span><br>  <span class="hljs-title function_">observe</span>(<span class="hljs-params">el</span>) &#123;<br>    <span class="hljs-keyword">var</span> io = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">const</span> realSrc = el.<span class="hljs-property">dataset</span>.<span class="hljs-property">src</span><br>      <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].<span class="hljs-property">isIntersecting</span>) &#123;<br>        <span class="hljs-keyword">if</span> (realSrc) &#123;<br>          el.<span class="hljs-property">src</span> = realSrc<br>          el.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">&#x27;data-src&#x27;</span>)<br>        &#125;<br>      &#125;<br>    &#125;)<br>    io.<span class="hljs-title function_">observe</span>(el)<br>  &#125;,<br>  <span class="hljs-comment">// ç›‘å¬scrolläº‹ä»¶</span><br>  <span class="hljs-title function_">listenerScroll</span>(<span class="hljs-params">el</span>) &#123;<br>    <span class="hljs-keyword">const</span> handler = <span class="hljs-title class_">LazyLoad</span>.<span class="hljs-title function_">throttle</span>(<span class="hljs-title class_">LazyLoad</span>.<span class="hljs-property">load</span>, <span class="hljs-number">300</span>)<br>    <span class="hljs-title class_">LazyLoad</span>.<span class="hljs-title function_">load</span>(el)<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">handler</span>(el)<br>    &#125;)<br>  &#125;,<br>  <span class="hljs-comment">// åŠ è½½çœŸå®å›¾ç‰‡</span><br>  <span class="hljs-title function_">load</span>(<span class="hljs-params">el</span>) &#123;<br>    <span class="hljs-keyword">const</span> windowHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span><br>    <span class="hljs-keyword">const</span> elTop = el.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">top</span><br>    <span class="hljs-keyword">const</span> elBtm = el.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">bottom</span><br>    <span class="hljs-keyword">const</span> realSrc = el.<span class="hljs-property">dataset</span>.<span class="hljs-property">src</span><br>    <span class="hljs-keyword">if</span> (elTop - windowHeight &lt; <span class="hljs-number">0</span> &amp;&amp; elBtm &gt; <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">if</span> (realSrc) &#123;<br>        el.<span class="hljs-property">src</span> = realSrc<br>        el.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">&#x27;data-src&#x27;</span>)<br>      &#125;<br>    &#125;<br>  &#125;,<br>  <span class="hljs-comment">// èŠ‚æµ</span><br>  <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>    <span class="hljs-keyword">let</span> timer<br>    <span class="hljs-keyword">let</span> prevTime<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>      <span class="hljs-keyword">const</span> currTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br>      <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span><br>      <span class="hljs-keyword">if</span> (!prevTime) prevTime = currTime<br>      <span class="hljs-built_in">clearTimeout</span>(timer)<br><br>      <span class="hljs-keyword">if</span> (currTime - prevTime &gt; delay) &#123;<br>        prevTime = currTime<br>        fn.<span class="hljs-title function_">apply</span>(context, args)<br>        <span class="hljs-built_in">clearTimeout</span>(timer)<br>        <span class="hljs-keyword">return</span><br>      &#125;<br><br>      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        prevTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br>        timer = <span class="hljs-literal">null</span><br>        fn.<span class="hljs-title function_">apply</span>(context, args)<br>      &#125;, delay)<br>    &#125;<br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">LazyLoad</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼Œå°†ç»„ä»¶å†…  æ ‡ç­¾çš„ <code>src</code> æ¢æˆ <code>v-LazyLoad</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">v-LazyLoad</span>=<span class="hljs-string">&quot;xxx.jpg&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><h3 id="3-æƒé™éªŒè¯ï¼ˆv-permissionï¼‰"><a href="#3-æƒé™éªŒè¯ï¼ˆv-permissionï¼‰" class="headerlink" title="3.æƒé™éªŒè¯ï¼ˆv-permissionï¼‰"></a>3.æƒé™éªŒè¯ï¼ˆv-permissionï¼‰</h3><p>éœ€æ±‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªæƒé™æŒ‡ä»¤ï¼Œå¯¹éœ€è¦æƒé™åˆ¤æ–­çš„ Dom è¿›è¡Œæ˜¾ç¤ºéšè—ã€‚</p><p>æ€è·¯ï¼š</p><ol><li>è‡ªå®šä¹‰ä¸€ä¸ªæƒé™æ•°ç»„</li><li>åˆ¤æ–­ç”¨æˆ·çš„æƒé™æ˜¯å¦åœ¨è¿™ä¸ªæ•°ç»„å†…ï¼Œå¦‚æœæ˜¯åˆ™æ˜¾ç¤ºï¼Œå¦åˆ™åˆ™ç§»é™¤ Dom</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkArray</span>(<span class="hljs-params">key</span>) &#123;<br>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;test&#x27;</span>, <span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-string">&#x27;pro&#x27;</span>]<br>  <span class="hljs-keyword">let</span> index = arr.<span class="hljs-title function_">indexOf</span>(key)<br>  <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// æœ‰æƒé™</span><br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-comment">// æ— æƒé™</span><br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> permission = &#123;<br>  <span class="hljs-attr">inserted</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">el, binding</span>) &#123;<br>    <span class="hljs-keyword">let</span> permission = binding.<span class="hljs-property">value</span> <span class="hljs-comment">// è·å–åˆ° v-permissionçš„å€¼</span><br>    <span class="hljs-keyword">if</span> (permission) &#123;<br>      <span class="hljs-keyword">let</span> hasPermission = <span class="hljs-title function_">checkArray</span>(permission)<br>      <span class="hljs-keyword">if</span> (!hasPermission) &#123;<br>        <span class="hljs-comment">// æ²¡æœ‰æƒé™ ç§»é™¤Domå…ƒç´ </span><br>        el.<span class="hljs-property">parentNode</span> &amp;&amp; el.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(el)<br>      &#125;<br>    &#125;<br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> permission<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ï¼šç»™ <code>v-permission</code> èµ‹å€¼åˆ¤æ–­å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btns&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- æ˜¾ç¤º --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-permission</span>=<span class="hljs-string">&quot;&#x27;admin&#x27;&quot;</span>&gt;</span>æ–°å¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- ä¸æ˜¾ç¤º --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-permission</span>=<span class="hljs-string">&quot;&#x27;person&#x27;&quot;</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è‡ªå®šä¹‰æŒ‡ä»¤</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>npm run xxx çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</title>
    <link href="/blog/2022/07/08/js-npmRunTime/"/>
    <url>/blog/2022/07/08/js-npmRunTime/</url>
    
    <content type="html"><![CDATA[<h1 id="è¿è¡Œ-npm-run-xxx-çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#è¿è¡Œ-npm-run-xxx-çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è¿è¡Œ npm run xxx çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>è¿è¡Œ npm run xxx çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h1><h3 id="1-npm-run-serveçš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#1-npm-run-serveçš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.npm run serveçš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>1.npm run serveçš„æ—¶å€™ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3><p>â€‹é¦–å…ˆä¼šå»é¡¹ç›®çš„package.jsonæ–‡ä»¶é‡Œæ‰¾scripts é‡Œæ‰¾å¯¹åº”çš„xxxï¼Œç„¶åæ‰§è¡Œ xxxçš„å‘½ä»¤ï¼Œä¾‹å¦‚å¯åŠ¨vueé¡¹ç›® npm run serveçš„æ—¶å€™ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰§è¡Œäº†vue-cli-service serve è¿™æ¡å‘½ä»¤</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;h5&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0.7&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;private&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;serve&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vue-cli-service serve&quot;</span><br>   <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="2-ä¸ºä»€ä¹ˆ-ä¸ç›´æ¥æ‰§è¡Œvue-cli-service-serveè€Œè¦æ‰§è¡Œnpm-run-serve-å‘¢ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆ-ä¸ç›´æ¥æ‰§è¡Œvue-cli-service-serveè€Œè¦æ‰§è¡Œnpm-run-serve-å‘¢ï¼Ÿ" class="headerlink" title="2.ä¸ºä»€ä¹ˆ ä¸ç›´æ¥æ‰§è¡Œvue-cli-service serveè€Œè¦æ‰§è¡Œnpm run serve å‘¢ï¼Ÿ"></a>2.ä¸ºä»€ä¹ˆ ä¸ç›´æ¥æ‰§è¡Œ<code>vue-cli-service serve</code>è€Œè¦æ‰§è¡Œ<code>npm run serve</code> å‘¢ï¼Ÿ</h3><p>â€‹å› ä¸º ç›´æ¥æ‰§è¡Œ<code>vue-cli-service serve</code>ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸­æ²¡æœ‰å­˜åœ¨<code>vue-cli-service</code>è¿™ä¸€æ¡æŒ‡ä»¤</p><h3 id="3-é‚£æ—¢ç„¶vue-cli-serviceè¿™æ¡æŒ‡ä»¤ä¸å­˜åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œnpm-run-serveçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰§è¡Œäº†vue-cli-service-serve-ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ƒå°±èƒ½æˆåŠŸï¼Œè€Œä¸”ä¸æŠ¥æŒ‡ä»¤ä¸å­˜åœ¨çš„é”™è¯¯å‘¢ï¼Ÿ"><a href="#3-é‚£æ—¢ç„¶vue-cli-serviceè¿™æ¡æŒ‡ä»¤ä¸å­˜åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œnpm-run-serveçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰§è¡Œäº†vue-cli-service-serve-ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ƒå°±èƒ½æˆåŠŸï¼Œè€Œä¸”ä¸æŠ¥æŒ‡ä»¤ä¸å­˜åœ¨çš„é”™è¯¯å‘¢ï¼Ÿ" class="headerlink" title="3.é‚£æ—¢ç„¶vue-cli-serviceè¿™æ¡æŒ‡ä»¤ä¸å­˜åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œnpm run serveçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰§è¡Œäº†vue-cli-service serve ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ƒå°±èƒ½æˆåŠŸï¼Œè€Œä¸”ä¸æŠ¥æŒ‡ä»¤ä¸å­˜åœ¨çš„é”™è¯¯å‘¢ï¼Ÿ"></a>3.é‚£æ—¢ç„¶<code>vue-cli-service</code>è¿™æ¡æŒ‡ä»¤ä¸å­˜åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œ<code>npm run serve</code>çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæ‰§è¡Œäº†<code>vue-cli-service serve</code> ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ƒå°±èƒ½æˆåŠŸï¼Œè€Œä¸”ä¸æŠ¥æŒ‡ä»¤ä¸å­˜åœ¨çš„é”™è¯¯å‘¢ï¼Ÿ</h3><p>â€‹æˆ‘ä»¬åœ¨å®‰è£…ä¾èµ–çš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡npm i xxx æ¥æ‰§è¡Œçš„ï¼Œä¾‹å¦‚ <code>npm i @vue/cli-service</code>ï¼Œnpm åœ¨ å®‰è£…è¿™ä¸ªä¾èµ–çš„æ—¶å€™ï¼Œå°±ä¼š<code>node_modules/.bin/</code> ç›®å½•ä¸­åˆ›å»º å¥½<code>vue-cli-service</code> ä¸ºåçš„å‡ ä¸ªå¯æ‰§è¡Œæ–‡ä»¶äº†ã€‚</p><p>â€‹.bin ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸æ˜¯ä»»ä½•ä¸€ä¸ª npm åŒ…ã€‚ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä¸ªè½¯é“¾æ¥ï¼Œæ‰“å¼€æ–‡ä»¶å¯ä»¥çœ‹åˆ°æ–‡ä»¶é¡¶éƒ¨å†™ç€ <code>#!/bin/sh</code> ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè„šæœ¬ã€‚</p><p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“ä½¿ç”¨ <code>npm run serve</code> æ‰§è¡Œ <code>vue-cli-service  serve</code> æ—¶ï¼Œè™½ç„¶æ²¡æœ‰å®‰è£… <code>vue-cli-service</code>çš„å…¨å±€å‘½ä»¤ï¼Œä½†æ˜¯ npm ä¼šåˆ° <code>./node_modules/.bin</code> ä¸­æ‰¾åˆ° <code>vue-cli-service</code> æ–‡ä»¶ä½œä¸º  è„šæœ¬æ¥æ‰§è¡Œï¼Œåˆ™ç›¸å½“äºæ‰§è¡Œäº† <code>./node_modules/.bin/vue-cli-service serve</code>ï¼ˆæœ€åçš„ serve ä½œä¸ºå‚æ•°ä¼ å…¥ï¼‰</p><h3 id="4-bin-ç›®å½•ä¸‹çš„æ–‡ä»¶è¡¨ç¤ºè½¯è¿æ¥ï¼Œé‚£è¿™ä¸ªbinç›®å½•ä¸‹çš„é‚£äº›è½¯è¿æ¥æ–‡ä»¶æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿå®ƒåˆæ˜¯æ€ä¹ˆçŸ¥é“è¿™æ¡è½¯è¿æ¥æ˜¯æ‰§è¡Œå“ªé‡Œçš„å‘¢ï¼Ÿ"><a href="#4-bin-ç›®å½•ä¸‹çš„æ–‡ä»¶è¡¨ç¤ºè½¯è¿æ¥ï¼Œé‚£è¿™ä¸ªbinç›®å½•ä¸‹çš„é‚£äº›è½¯è¿æ¥æ–‡ä»¶æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿå®ƒåˆæ˜¯æ€ä¹ˆçŸ¥é“è¿™æ¡è½¯è¿æ¥æ˜¯æ‰§è¡Œå“ªé‡Œçš„å‘¢ï¼Ÿ" class="headerlink" title="4. .&#x2F;bin ç›®å½•ä¸‹çš„æ–‡ä»¶è¡¨ç¤ºè½¯è¿æ¥ï¼Œé‚£è¿™ä¸ªbinç›®å½•ä¸‹çš„é‚£äº›è½¯è¿æ¥æ–‡ä»¶æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿå®ƒåˆæ˜¯æ€ä¹ˆçŸ¥é“è¿™æ¡è½¯è¿æ¥æ˜¯æ‰§è¡Œå“ªé‡Œçš„å‘¢ï¼Ÿ"></a>4. .&#x2F;bin ç›®å½•ä¸‹çš„æ–‡ä»¶è¡¨ç¤ºè½¯è¿æ¥ï¼Œé‚£è¿™ä¸ªbinç›®å½•ä¸‹çš„é‚£äº›è½¯è¿æ¥æ–‡ä»¶æ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Ÿå®ƒåˆæ˜¯æ€ä¹ˆçŸ¥é“è¿™æ¡è½¯è¿æ¥æ˜¯æ‰§è¡Œå“ªé‡Œçš„å‘¢ï¼Ÿ</h3><p>â€‹æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ–°å»ºçš„vueé¡¹ç›®é‡Œé¢æœç´¢vue-cli-service</p><p>å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå­˜åœ¨é¡¹ç›®æœ€å¤–å±‚çš„<strong>package-lock.json</strong>æ–‡ä»¶ä¸­</p><p>ä» package-lock.json ä¸­å¯çŸ¥ï¼Œå½“æˆ‘ä»¬npm i æ•´ä¸ªæ–°å»ºçš„vueé¡¹ç›®çš„æ—¶å€™ï¼Œnpm å°† bin&#x2F;vue-cli-service.js ä½œä¸º bin å£°æ˜äº†ã€‚</p><p>æ‰€ä»¥åœ¨ npm install æ—¶ï¼Œnpm è¯»åˆ°è¯¥é…ç½®åï¼Œå°±å°†è¯¥æ–‡ä»¶è½¯é“¾æ¥åˆ° .&#x2F;node_modules&#x2F;.bin ç›®å½•ä¸‹ï¼Œè€Œ npm è¿˜ä¼šè‡ªåŠ¨æŠŠnode_modules&#x2F;.binåŠ å…¥$PATHï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ä½œä¸ºå‘½ä»¤è¿è¡Œä¾èµ–ç¨‹åºå’Œå¼€å‘ä¾èµ–ç¨‹åºï¼Œä¸ç”¨å…¨å±€å®‰è£…äº†ã€‚</p><p>å‡å¦‚æˆ‘ä»¬åœ¨å®‰è£…åŒ…æ—¶ï¼Œä½¿ç”¨ <code>npm install -g xxx</code> æ¥å®‰è£…ï¼Œé‚£ä¹ˆä¼šå°†å…¶ä¸­çš„ bin æ–‡ä»¶åŠ å…¥åˆ°å…¨å±€ï¼Œæ¯”å¦‚ create-react-app å’Œ vue-cli ï¼Œåœ¨å…¨å±€å®‰è£…åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¦‚ vue-cli projectName è¿™æ ·çš„å‘½ä»¤æ¥åˆ›å»ºé¡¹ç›®äº†ã€‚</p><p>æœå™¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œnpm i çš„æ—¶å€™ï¼Œnpm å°±å¸®æˆ‘ä»¬æŠŠè¿™ç§è½¯è¿æ¥é…ç½®å¥½äº†ï¼Œå…¶å®è¿™ç§è½¯è¿æ¥ç›¸å½“äºä¸€ç§æ˜ å°„ï¼Œæ‰§è¡Œnpm run xxx çš„æ—¶å€™ï¼Œå°±ä¼šåˆ° node_modules&#x2F;binä¸­æ‰¾å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ï¼Œç„¶åå†æ‰¾åˆ°ç›¸åº”çš„jsæ–‡ä»¶æ¥æ‰§è¡Œã€‚</p><h3 id="5-åœ¨node-modules-binä¸­-æœ‰ä¸‰ä¸ªvue-cli-serviceæ–‡ä»¶ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ"><a href="#5-åœ¨node-modules-binä¸­-æœ‰ä¸‰ä¸ªvue-cli-serviceæ–‡ä»¶ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ" class="headerlink" title="5.åœ¨node_modules&#x2F;binä¸­ æœ‰ä¸‰ä¸ªvue-cli-serviceæ–‡ä»¶ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ"></a>5.åœ¨node_modules&#x2F;binä¸­ æœ‰ä¸‰ä¸ªvue-cli-serviceæ–‡ä»¶ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰ä¸‰ä¸ªæ–‡ä»¶å‘¢ï¼Ÿ</h3><p>å¦‚æœæˆ‘ä»¬åœ¨ cmd é‡Œè¿è¡Œçš„æ—¶å€™ï¼Œwindows ä¸€èˆ¬æ˜¯è°ƒç”¨äº† <code>vue-cli-service.cmd</code>ï¼Œè¿™ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯ windows ä¸‹çš„æ‰¹å¤„ç†è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sh">@ECHO off<br>GOTO start<br>:find_dp0<br>SET dp0=%~dp0<br>EXIT /b<br>:start<br>SETLOCAL<br>CALL :find_dp0<br><br>IF EXIST <span class="hljs-string">&quot;%dp0%\node.exe&quot;</span> (<br>  SET <span class="hljs-string">&quot;_prog=%dp0%\node.exe&quot;</span><br>) ELSE (<br>  SET <span class="hljs-string">&quot;_prog=node&quot;</span><br>  SET PATHEXT=%PATHEXT:;.JS;=;%<br>)<br><br>endLocal &amp; goto <span class="hljs-comment">#_undefined_# 2&gt;NUL || title %COMSPEC% &amp; &quot;%_prog%&quot;  &quot;%dp0%\..\@vue\cli-service\bin\vue-cli-service.js&quot; %*</span><br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å½“æˆ‘ä»¬è¿è¡Œ<code>vue-cli-service serve</code>è¿™æ¡å‘½ä»¤çš„æ—¶å€™ï¼Œå°±ç›¸å½“äºè¿è¡Œ <code>node_modules/.bin/vue-cli-service.cmd serve</code>ã€‚</p><p>ç„¶åè¿™ä¸ªè„šæœ¬ä¼šä½¿ç”¨ node å»è¿è¡Œ<code> vue-cli-service.js</code>è¿™ä¸ª js æ–‡ä»¶</p><p>ç”±äº node ä¸­å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—ç³»ç»Ÿç›¸å…³çš„ api ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ª js ä¸­å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œä¾‹å¦‚è¯»å–å¹¶åˆ†æè¿è¡Œè¿™æ¡å‘½ä»¤çš„ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæ ¹æ®æ¨¡æ¿ç”Ÿæˆæ–‡ä»¶ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"># unix ç³»é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¿…é¡»è¾“å…¥å®Œæ•´æ–‡ä»¶å<br>vue-cli-service<br><br># windows cmd ä¸­é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬ä¸æ·»åŠ åç¼€åæ—¶ï¼Œè‡ªåŠ¨æ ¹æ® pathext æŸ¥æ‰¾æ–‡ä»¶<br>vue-cli-service.<span class="hljs-property">cmd</span><br><br># <span class="hljs-title class_">Windows</span> <span class="hljs-title class_">PowerShell</span> ä¸­å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥è·¨å¹³å°<br>vue-cli-service.<span class="hljs-property">ps1</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>npm run serve</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mock.js CRUD</title>
    <link href="/blog/2022/07/01/mock-crud/"/>
    <url>/blog/2022/07/01/mock-crud/</url>
    
    <content type="html"><![CDATA[<h1 id="mock-jsæ³¨è§£å®ç°å¢åˆ æ”¹æŸ¥CRUD"><a href="#mock-jsæ³¨è§£å®ç°å¢åˆ æ”¹æŸ¥CRUD" class="headerlink" title="mock.jsæ³¨è§£å®ç°å¢åˆ æ”¹æŸ¥CRUD"></a>mock.jsæ³¨è§£å®ç°å¢åˆ æ”¹æŸ¥CRUD</h1><p>æ³¨:CRUDå³:å¢Createã€æŸ¥Retriveã€åˆ Deleteã€æ”¹Update</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// cdnå¼•å…¥æ–‡ä»¶ ï¼š</span><br><span class="hljs-comment">// &lt;script src=&quot;http://mockjs.com/dist/mock.js&quot;&gt;&lt;/script&gt;</span><br></code></pre></td></tr></table></figure><h3 id="1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡"><a href="#1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡" class="headerlink" title="1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡"></a>1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr =  [<br>&#123;<br><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;fei&#x27;</span>,<br><span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,<br><span class="hljs-attr">id</span>: <span class="hljs-number">1</span><br>&#125;,<br>&#123;<br><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;liang&#x27;</span>,<br><span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,<br><span class="hljs-attr">id</span>: <span class="hljs-number">2</span><br>&#125;<br>]<br></code></pre></td></tr></table></figure><p>â€‹   </p><h3 id="2ã€åˆ é™¤å…ƒç´ "><a href="#2ã€åˆ é™¤å…ƒç´ " class="headerlink" title="2ã€åˆ é™¤å…ƒç´ "></a>2ã€åˆ é™¤å…ƒç´ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>, <span class="hljs-string">&#x27;delete&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) &#123;<br><span class="hljs-keyword">var</span> id = <span class="hljs-built_in">parseInt</span>(options.<span class="hljs-property">body</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>]) <br><span class="hljs-keyword">var</span> index;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> arr) &#123;<br><span class="hljs-keyword">if</span> (arr[i].<span class="hljs-property">id</span> === id) &#123; <br>index = i<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>arr.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>) <br><span class="hljs-keyword">return</span> arr; <br>&#125;)<br><br>$.<span class="hljs-title function_">ajax</span>(&#123;<br><span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>,<br><span class="hljs-attr">type</span>: <span class="hljs-string">&quot;DELETE&quot;</span>,<br><span class="hljs-attr">data</span>: &#123;<br><span class="hljs-attr">id</span>: <span class="hljs-number">1</span> <br>&#125;,<br><span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span>,<br><span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="3ã€æ·»åŠ å…ƒç´ "><a href="#3ã€æ·»åŠ å…ƒç´ " class="headerlink" title="3ã€æ·»åŠ å…ƒç´ "></a>3ã€æ·»åŠ å…ƒç´ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>, <span class="hljs-string">&#x27;push&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) &#123;<br><span class="hljs-keyword">var</span> id = <span class="hljs-built_in">parseInt</span>(options.<span class="hljs-property">body</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>]) <br><span class="hljs-keyword">var</span> index;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> arr) &#123;<br><span class="hljs-keyword">if</span> (arr[i].<span class="hljs-property">id</span> === id) &#123; <br>index = i<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>arr.<span class="hljs-title function_">push</span>(index) <br><span class="hljs-keyword">return</span> arr; <br>&#125;)<br><br>$.<span class="hljs-title function_">ajax</span>(&#123;<br><span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>,<br><span class="hljs-attr">type</span>: <span class="hljs-string">&quot;push&quot;</span>,<br><span class="hljs-attr">data</span>: &#123;<br><span class="hljs-attr">id</span>: <span class="hljs-number">1</span> <br>&#125;,<br><span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span>,<br><span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="4ã€ç¼–è¾‘å…ƒç´ "><a href="#4ã€ç¼–è¾‘å…ƒç´ " class="headerlink" title="4ã€ç¼–è¾‘å…ƒç´ "></a>4ã€ç¼–è¾‘å…ƒç´ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>, <span class="hljs-string">&#x27;post&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) &#123;<br><span class="hljs-keyword">var</span> id = <span class="hljs-built_in">parseInt</span>(options.<span class="hljs-property">body</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>])<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> arr) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br><span class="hljs-keyword">if</span> (arr[i].<span class="hljs-property">id</span> === id) &#123; <br>arr[i].<span class="hljs-property">name</span> = <span class="hljs-built_in">decodeURI</span>(options.<span class="hljs-property">body</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">2</span>])<br><span class="hljs-comment">// index = i</span><br><span class="hljs-comment">// break;</span><br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> arr; <br>&#125;)<br><br>$.<span class="hljs-title function_">ajax</span>(&#123;<br><span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>,<br><span class="hljs-attr">type</span>: <span class="hljs-string">&quot;POST&quot;</span>,<br><span class="hljs-attr">data</span>: &#123;<br><span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <br><span class="hljs-attr">mane</span>: <span class="hljs-string">&#x27;qwe&#x27;</span><br>&#125;,<br><span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span>,<br><span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="5ã€æŸ¥æ‰¾å…ƒç´ "><a href="#5ã€æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="5ã€æŸ¥æ‰¾å…ƒç´ "></a>5ã€æŸ¥æ‰¾å…ƒç´ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">mock</span>(<span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>, <span class="hljs-string">&#x27;push&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) &#123;<br><span class="hljs-keyword">var</span> id = <span class="hljs-built_in">parseInt</span>(options.<span class="hljs-property">body</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>]) <br><span class="hljs-keyword">var</span> findo = &#123;&#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> arr) &#123;<br><span class="hljs-keyword">if</span> (arr[i].<span class="hljs-property">id</span> === id) &#123;<br>    findo[i] = arr[i]<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> findo; <br>&#125;)<br><br>$.<span class="hljs-title function_">ajax</span>(&#123;<br><span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;ipåœ°å€&#x27;</span>,<br><span class="hljs-attr">type</span>: <span class="hljs-string">&quot;push&quot;</span>,<br><span class="hljs-attr">data</span>: &#123;<br><span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <br>&#125;,<br><span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span>,<br><span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>mock</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mock-crud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mock.jsè¯­æ³•</title>
    <link href="/blog/2022/07/01/mock-fastMock/"/>
    <url>/blog/2022/07/01/mock-fastMock/</url>
    
    <content type="html"><![CDATA[<h1 id="Mock-jsè¯­æ³•"><a href="#Mock-jsè¯­æ³•" class="headerlink" title="Mock.jsè¯­æ³•"></a>Mock.jsè¯­æ³•</h1><h3 id="1-åŸºç¡€éšæœºå†…å®¹çš„ç”Ÿæˆ"><a href="#1-åŸºç¡€éšæœºå†…å®¹çš„ç”Ÿæˆ" class="headerlink" title="1.åŸºç¡€éšæœºå†…å®¹çš„ç”Ÿæˆ"></a>1.åŸºç¡€éšæœºå†…å®¹çš„ç”Ÿæˆ</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;string|1-10&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;=&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆ1åˆ°10ä¸ªç­‰å·</span><br>  <span class="hljs-attr">&quot;string2|3&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;=&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆ2ä¸ªæˆ–è€…ä¸‰ä¸ªç­‰å·</span><br>  <span class="hljs-attr">&quot;number|+1&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä»0å¼€å§‹è‡ªå¢</span><br>  <span class="hljs-attr">&quot;number2|1-00.1-3&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªå°æ•°ï¼Œå°æ•°ç‚¹å‰é¢1åˆ°10ï¼Œå°æ•°ç‚¹å1åˆ°3ä½</span><br>  <span class="hljs-attr">&quot;boolean&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@boolean( 1, 2, true )&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç”Ÿæˆbooleanå€¼ ä¸‰ä¸ªå‚æ•°ï¼Œ1è¡¨ç¤ºç¬¬ä¸‰ä¸ªå‚æ•°trueå‡ºç°çš„æ¦‚ç‡ï¼Œ2è¡¨ç¤ºfalseå‡ºç°çš„æ¦‚ç‡</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@cname&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆä¸­æ–‡å§“å</span><br>  <span class="hljs-attr">&quot;firstname&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@cfirst&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆä¸­æ–‡å§“</span><br>  <span class="hljs-attr">&quot;int&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@integer(1, 10)&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆ1-10çš„æ•´æ•°</span><br>  <span class="hljs-attr">&quot;float&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@float(1,2,3,4)&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆæµ®ç‚¹æ•°ï¼Œå››ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼Œæ•´æ•°éƒ¨åˆ†çš„æœ€å¤§æœ€å°å€¼å’Œå°æ•°éƒ¨åˆ†çš„æœ€å¤§æœ€å°å€¼</span><br>  <span class="hljs-attr">&quot;range&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@range(1,100,10)&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆæ•´æ•°æ•°ç»„ï¼Œä¸‰ä¸ªå‚æ•°ä¸ºï¼Œæœ€å¤§æœ€å°å€¼å’ŒåŠ çš„æ­¥é•¿</span><br>  <span class="hljs-attr">&quot;natural&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@natural(60, 100)&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éšæœºç”Ÿæˆè‡ªç„¶æ•°ï¼ˆå¤§äºé›¶çš„æ•°ï¼‰</span><br>  <span class="hljs-attr">&quot;email&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@email&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é‚®ç®±</span><br>  <span class="hljs-attr">&quot;ip&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@ip&quot;</span> <span class="hljs-punctuation">,</span><span class="hljs-comment">// ip</span><br>  <span class="hljs-attr">&quot;datatime&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@date(&#x27;yy-MM-dd hh:mm:ss&#x27;)&quot;</span> <span class="hljs-comment">// éšæœºç”ŸæˆæŒ‡å®šæ ¼å¼çš„æ—¶é—´</span><br>  <span class="hljs-comment">// ......</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="2-åˆ—è¡¨æ•°æ®"><a href="#2-åˆ—è¡¨æ•°æ®" class="headerlink" title="2.åˆ—è¡¨æ•°æ®"></a>2.åˆ—è¡¨æ•°æ®</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0000&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;pageNo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@integer(1, 100)&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;totalRecord&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@integer(100, 1000)&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageSize&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;list|10&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;id|+1&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@cword(10)&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@cword(20)&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;descript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@csentence(20,50)&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@float(10,100,10,100)&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;desc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆåŠŸ&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="3-å›¾ç‰‡"><a href="#3-å›¾ç‰‡" class="headerlink" title="3.å›¾ç‰‡"></a>3.å›¾ç‰‡</h3><p>mockjså¯ä»¥ç”Ÿæˆä»»æ„å¤§å°ï¼Œä»»æ„é¢œè‰²å—ï¼Œä¸”ç”¨æ–‡å­—å¡«å……å†…å®¹çš„å›¾ç‰‡ï¼Œä½¿æˆ‘ä»¬ä¸ç”¨åˆ°å¤„æ‰¾å›¾ç‰‡èµ„æºå°±èƒ½è½»æ¾å®ç°å›¾ç‰‡çš„æ¨¡æ‹Ÿå±•ç¤º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;code&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0000&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;pageNo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@integer(1, 100)&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;totalRecord&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@integer(100, 1000)&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;pageSize&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;list|10&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-comment">// å‚æ•°ä»å·¦åˆ°å³ä¾æ¬¡ä¸ºï¼Œå›¾ç‰‡å°ºå¯¸ï¼ŒèƒŒæ™¯è‰²ï¼Œå‰æ™¯è‰²ï¼ˆåŠæ–‡å­—é¢œè‰²ï¼‰,å›¾ç‰‡æ ¼å¼ï¼Œå›¾ç‰‡ä¸­é—´çš„å¡«å……æ–‡å­—å†…å®¹</span><br>      <span class="hljs-attr">&quot;image&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;@image(&#x27;200x100&#x27;, &#x27;#ffcc33&#x27;, &#x27;#FFF&#x27;, &#x27;png&#x27;, &#x27;Fast Mock&#x27;)&quot;</span> <br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;desc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;æˆåŠŸ&quot;</span><br></code></pre></td></tr></table></figure><h3 id="4-fastMockçš„è·Ÿåœ°å€"><a href="#4-fastMockçš„è·Ÿåœ°å€" class="headerlink" title="4.fastMockçš„è·Ÿåœ°å€"></a>4.fastMockçš„è·Ÿåœ°å€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//https://www.fastmock.site/mock/72e7ab90b2647c478924e7c328542c82/api</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>mock</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mock</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>fibonacciå‡½æ•°</title>
    <link href="/blog/2022/07/01/js-fibonacci/"/>
    <url>/blog/2022/07/01/js-fibonacci/</url>
    
    <content type="html"><![CDATA[<h1 id="js-è®°å¿†å‡½æ•°"><a href="#js-è®°å¿†å‡½æ•°" class="headerlink" title="js è®°å¿†å‡½æ•°"></a>js è®°å¿†å‡½æ•°</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>fibonacci<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> memoizer = <span class="hljs-keyword">function</span>(<span class="hljs-params">memo, fundamental</span>) &#123;    <span class="hljs-comment">//memoè®°å¿†æ•°ç»„å’Œfundamentalå‡½æ•°</span></span><br><span class="language-javascript">            <span class="hljs-comment">//ç®¡ç†memoå­˜å‚¨ã€ä½•æ—¶è°ƒç”¨fundamental</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> shell = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">var</span> result = memo[n];                  </span><br><span class="language-javascript">                <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> result !== <span class="hljs-string">&#x27;number&#x27;</span>) &#123;</span><br><span class="language-javascript">                    result = <span class="hljs-title function_">fundamental</span>(shell, n);</span><br><span class="language-javascript">                    memo[n] = result;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> result;</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> shell;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-comment">//ç”¨memoizerå®šä¹‰fibonacciå‡½æ•°</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> fibonacci = <span class="hljs-title function_">memoizer</span>([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-keyword">function</span>(<span class="hljs-params">shell, n</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-title function_">shell</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-title function_">shell</span>(n - <span class="hljs-number">2</span>);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">        </span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;111&#x27;</span>,<span class="hljs-title function_">fibonacci</span>(<span class="hljs-number">10</span>));</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>fibonacci</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>v-selectæ‡’åŠ è½½</title>
    <link href="/blog/2022/06/20/vue-select/"/>
    <url>/blog/2022/06/20/vue-select/</url>
    
    <content type="html"><![CDATA[<h1 id="v-selectæ‡’åŠ è½½"><a href="#v-selectæ‡’åŠ è½½" class="headerlink" title="v-selectæ‡’åŠ è½½"></a>v-selectæ‡’åŠ è½½</h1><h3 id="1-æ ‡ç­¾ä»£ç "><a href="#1-æ ‡ç­¾ä»£ç " class="headerlink" title="1.æ ‡ç­¾ä»£ç "></a>1.æ ‡ç­¾ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;el-select placeholder=&quot;è¯·é€‰æ‹©&quot; v-model=&quot;selectedCode&quot; @change=&quot;changeSelected&quot;<br>    :filter-method=&quot;filterMethodHandler&quot; filterable v-el-select-lazy=&#x27;loadMore&#x27;&gt;<br>        &lt;el-option :label=&quot;&#x27;è¯·é€‰æ‹©&#x27;&quot; value=&quot;&quot;&gt;&lt;/el-option&gt;<br>        &lt;el-option :label=&quot;item[labelKey]&quot; :key=&quot;item.id&quot; :value=&quot;item[labelKey]&quot; v-for=&quot;item in expectCodeFilter&quot;&gt;<br>            &lt;span class=&quot;fl&quot;&gt;&#123;&#123;item[labelKey]&#125;&#125;&lt;/span&gt;<br>            &lt;span class=&quot;fl codeName t-overflow&quot; :title=&quot;item[labelValue]&quot;&gt;(&#123;&#123;item[labelValue]&#125;&#125;)&lt;/span&gt;<br>        &lt;/el-option&gt;<br>    &lt;/el-select&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h3 id="2-vueä»£ç "><a href="#2-vueä»£ç " class="headerlink" title="2.vueä»£ç "></a>2.vueä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script&gt;<br>    export default &#123;<br>        name: &quot;selectLazyLoading&quot;,<br>        directives:&#123;<br>            &#x27;el-select-lazy&#x27;: &#123;<br>                bind(el, binding) &#123;<br>                    const SELECTWRAP_DOM = el.querySelector( &#x27;.el-select-dropdown .el-select-dropdown__wrap&#x27;);<br>                    SELECTWRAP_DOM.addEventListener(&#x27;scroll&#x27;, function() &#123;<br>                        const condition = this.scrollHeight - this.scrollTop &lt;= this.clientHeight;<br>                        if (condition) &#123;<br>                            binding.value();<br>                        &#125;<br>                    &#125;);<br>                &#125;<br>            &#125;<br>        &#125;,<br>        data()&#123;<br>            return &#123;<br>                formData:&#123;<br>                    pageIndex:1,<br>                    pageSize:20,<br>                &#125;,<br>                selectedCode:&#x27;&#x27;,<br>                allCodeData:[]<br>            &#125;<br>        &#125;,<br>        props:&#123;<br>            selectModel:String,<br>            labelKey:&#123;<br>                type:String,<br>                default:&#x27;&#x27;<br>            &#125;,<br>            labelValue:&#123;<br>                type:String,<br>                default:&#x27;&#x27;<br>            &#125;,<br>            renderCode:&#123;<br>                type:Array,<br>                default:function()&#123;<br>                    return []<br>                &#125;<br>            &#125;,<br>        &#125;,<br>        model:&#123;<br>            prop:&#x27;selectModel&#x27;,<br>            event:&#x27;selection&#x27;<br>        &#125;,<br>        computed:&#123;<br>            expectCodeFilter()&#123;<br>                let num = this.formData.pageIndex * this.formData.pageSize;<br>                return this.allCodeData.filter((ele,index)=&gt;&#123;<br>                    return index &lt; num;<br>                &#125;)<br>            &#125;<br>        &#125;,<br>        watch: &#123;<br>            selectModel:&#123;<br>                handler:function(val) &#123;<br>                    this.selectedCode = val<br>                &#125;,<br>                immediate:true<br>            &#125;<br>        &#125;,<br>        methods:&#123;<br>            filterMethodHandler(query)&#123;<br>                //æœç´¢æ—¶ï¼Œä»å…¨éƒ¨çš„æ•°æ®ä¸­æŸ¥æ‰¾<br>                if(query !== &#x27;&#x27;)&#123;<br>                    this.allCodeData =  this.renderCode.filter(item =&gt;<br>                item[this.labelKey].toLowerCase().indexOf(query.toLowerCase()) &gt; -1)<br>                &#125; else &#123;<br>                    //å¦‚æœæœç´¢æ¡†ä¸ºç©ºï¼Œåˆ™åˆå§‹åŒ–ä¸‹æ‹‰æ¡†<br>                    this.initSelectData();<br>                &#125;<br>            &#125;,<br>            changeSelected(val)&#123;<br>                //è·å–ä¸‹æ‹‰æ¡†é€‰ä¸­çš„å€¼<br>                let sendEmit = &#123;&#125;;<br>                for (let i = 0; i &lt; this.expectCodeFilter.length; i++) &#123;<br>                    const item = this.expectCodeFilter[i];<br>                    if(item[this.labelKey] === val)&#123;<br>                        sendEmit = item;<br>                        break<br>                    &#125;<br>                &#125;<br>                this.$emit(&#x27;getChangeValue&#x27;,sendEmit);<br>                this.$emit(&#x27;selection&#x27;,val);<br>            &#125;,<br>            loadMore()&#123;<br>                //ä¸‹æ‹‰æ¡†æ»šåŠ¨æ—¶è§¦å‘<br>                this.formData.pageIndex++;<br>            &#125;,<br>            initSelectData()&#123;<br>                //åˆå§‹åŒ–æœç´¢ä¸‹æ‹‰æ¡†<br>                this.formData = &#123;<br>                    pageIndex:1,<br>                    pageSize:20,<br>                &#125;;<br>                this.allCodeData = this.renderCode;<br>            &#125;,<br>        &#125;<br>    &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>v-selectæ‡’åŠ è½½</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è°·æ­Œæµè§ˆå™¨é«˜çº§è°ƒè¯•æŠ€å·§</title>
    <link href="/blog/2022/06/10/chrome/"/>
    <url>/blog/2022/06/10/chrome/</url>
    
    <content type="html"><![CDATA[<h1 id="è°·æ­Œæµè§ˆå™¨é«˜çº§è°ƒè¯•æŠ€å·§"><a href="#è°·æ­Œæµè§ˆå™¨é«˜çº§è°ƒè¯•æŠ€å·§" class="headerlink" title="è°·æ­Œæµè§ˆå™¨é«˜çº§è°ƒè¯•æŠ€å·§"></a>è°·æ­Œæµè§ˆå™¨é«˜çº§è°ƒè¯•æŠ€å·§</h1><h3 id="1-ä¸€é”®é‡æ–°å‘èµ·è¯·æ±‚"><a href="#1-ä¸€é”®é‡æ–°å‘èµ·è¯·æ±‚" class="headerlink" title="1.ä¸€é”®é‡æ–°å‘èµ·è¯·æ±‚"></a>1.ä¸€é”®é‡æ–°å‘èµ·è¯·æ±‚</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> é€‰ä¸­<span class="hljs-code">`Network`</span><br><span class="hljs-bullet">2.</span> ç‚¹å‡»<span class="hljs-code">`Fetch/XHR`</span><br><span class="hljs-bullet">3.</span> é€‰æ‹©è¦é‡æ–°å‘é€çš„è¯·æ±‚<br><span class="hljs-bullet">4.</span> å³é”®é€‰æ‹©<span class="hljs-code">`Replay XHR`</span><br></code></pre></td></tr></table></figure><h3 id="2-åœ¨æ§åˆ¶å°å¿«é€Ÿå‘èµ·è¯·æ±‚"><a href="#2-åœ¨æ§åˆ¶å°å¿«é€Ÿå‘èµ·è¯·æ±‚" class="headerlink" title="2.åœ¨æ§åˆ¶å°å¿«é€Ÿå‘èµ·è¯·æ±‚"></a>2.åœ¨æ§åˆ¶å°å¿«é€Ÿå‘èµ·è¯·æ±‚</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> é€‰ä¸­<span class="hljs-code">`Network`</span><br><span class="hljs-bullet">2.</span> ç‚¹å‡»<span class="hljs-code">`Fetch/XHR`</span><br><span class="hljs-bullet">3.</span> é€‰æ‹©<span class="hljs-code">`Copy as fetch`</span><br><span class="hljs-bullet">4.</span> æ§åˆ¶å°ç²˜è´´ä»£ç <br><span class="hljs-bullet">5.</span> ä¿®æ”¹å‚æ•°ï¼Œå›è½¦æå®š<br></code></pre></td></tr></table></figure><h3 id="3-å¤åˆ¶JavaScriptå˜é‡"><a href="#3-å¤åˆ¶JavaScriptå˜é‡" class="headerlink" title="3. å¤åˆ¶JavaScriptå˜é‡"></a>3. å¤åˆ¶JavaScriptå˜é‡</h3><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">å‡å¦‚ä½ çš„ä»£ç ç»è¿‡è®¡ç®—ä¼šè¾“å‡ºä¸€ä¸ª**å¤æ‚çš„å¯¹è±¡**ï¼Œä¸”éœ€è¦è¢«å¤åˆ¶ä¸‹æ¥å‘é€ç»™å…¶ä»–äººï¼Œæ€ä¹ˆåŠï¼Ÿ<br><br><span class="hljs-number">1</span>. ä½¿ç”¨`copy`å‡½æ•°ï¼Œå°†`å¯¹è±¡`ä½œä¸ºå…¥å‚æ‰§è¡Œå³å¯<br></code></pre></td></tr></table></figure><h3 id="4-ä¸€é”®å±•å¼€æ‰€æœ‰DOMå…ƒç´ "><a href="#4-ä¸€é”®å±•å¼€æ‰€æœ‰DOMå…ƒç´ " class="headerlink" title="4.ä¸€é”®å±•å¼€æ‰€æœ‰DOMå…ƒç´ "></a>4.ä¸€é”®å±•å¼€æ‰€æœ‰DOMå…ƒç´ </h3><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">æŒ‰ä½`opt`é”® + clickï¼ˆéœ€è¦å±•å¼€çš„æœ€å¤–å±‚å…ƒç´ ï¼‰<br></code></pre></td></tr></table></figure><h3 id="5-æˆªå–ä¸€å¼ å…¨å±çš„ç½‘é¡µ"><a href="#5-æˆªå–ä¸€å¼ å…¨å±çš„ç½‘é¡µ" class="headerlink" title="5.æˆªå–ä¸€å¼ å…¨å±çš„ç½‘é¡µ"></a>5.æˆªå–ä¸€å¼ å…¨å±çš„ç½‘é¡µ</h3><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><span class="hljs-number">1</span>. å‡†å¤‡å¥½éœ€è¦æˆªå±çš„å†…å®¹<br><span class="hljs-number">2</span>. `cmd + shift + p` æ‰§è¡Œ`Command`å‘½ä»¤<br><span class="hljs-number">3</span>. è¾“å…¥`Capture full size screenshot` æŒ‰ä¸‹å›è½¦<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>browser</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è°·æ­Œæµè§ˆå™¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Reactå‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶</title>
    <link href="/blog/2022/06/01/react-class-function%EF%BC%88component%EF%BC%89/"/>
    <url>/blog/2022/06/01/react-class-function%EF%BC%88component%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="React-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶"><a href="#React-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶" class="headerlink" title="React-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶"></a>React-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶</h1><h3 id="ç±»ç»„ä»¶"><a href="#ç±»ç»„ä»¶" class="headerlink" title="ç±»ç»„ä»¶"></a>ç±»ç»„ä»¶</h3><p><strong>ä½•è°“ç±»ç»„ä»¶ï¼ˆClass Component)</strong></p><p>æ‰€è°“ç±»ç»„ä»¶ï¼Œå°±æ˜¯åŸºäº ES6 Class è¿™ç§å†™æ³•ï¼Œé€šè¿‡ç»§æ‰¿ React.Component å¾—æ¥çš„ React ç»„ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„ç±»ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoClass</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–ç±»ç»„ä»¶çš„ state</span><br>  state = &#123;<br>    <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;&quot;</span><br>  &#125;;<br><br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// çœç•¥ä¸šåŠ¡é€»è¾‘</span><br>  &#125;<br><br>  changeText = <span class="hljs-function">(<span class="hljs-params">newText</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// æ›´æ–° state</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">text</span>: newText<br>    &#125;);<br>  &#125;;<br><br>  <span class="hljs-comment">// ç¼–å†™ç”Ÿå‘½å‘¨æœŸæ–¹æ³• render</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;this.state.text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>this.changeText(&quot;newText&quot;)&#125;&gt;ç‚¹æˆ‘ä¿®æ”¹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>ä¸ºäº†é¿å…ä»£ç å†—ä½™ï¼Œæé«˜ä»£ç åˆ©ç”¨ç‡ï¼Œç»„ä»¶å¯ä»¥é‡å¤è°ƒç”¨</li><li>ç»„ä»¶çš„å±æ€§propsæ˜¯åªè¯»çš„ï¼Œè°ƒç”¨è€…å¯ä»¥ä¼ é€’å‚æ•°åˆ°propså¯¹è±¡ä¸­å®šä¹‰å±æ€§ï¼Œè°ƒç”¨è€…å¯ä»¥ç›´æ¥å°†å±æ€§ä½œä¸ºç»„ä»¶å†…çš„å±æ€§æˆ–æ–¹æ³•ç›´æ¥è°ƒç”¨ã€‚å¾€å¾€æ˜¯ç»„ä»¶è°ƒç”¨æ–¹è°ƒç”¨ç»„ä»¶æ—¶æŒ‡å®špropså®šä¹‰å±æ€§ï¼Œå¾€å¾€å®šå€¼åå°±ä¸æ”¹è¾¹äº†ï¼Œæ³¨æ„ç»„ä»¶è°ƒç”¨æ–¹å¯èµ‹å€¼è¢«è°ƒç”¨æ–¹ã€‚</li><li>é€šè¿‡propsçš„æ–¹å¼è¿›è¡Œçˆ¶å­ç»„ä»¶äº¤äº’,é€šè¿‡ä¼ é€’ä¸€ä¸ªæ–°çš„propså±æ€§å€¼ä½¿å¾—å­ç»„ä»¶é‡æ–°renderï¼Œä»è€Œè¾¾åˆ°çˆ¶å­ç»„ä»¶é€šè®¯ã€‚</li><li>{â€¦this.props}å¯ä»¥ä¼ é€’å±æ€§é›†åˆï¼Œâ€¦ä¸ºå±æ€§æ‰©å±•ç¬¦</li><li>ç»„ä»¶å¿…é¡»è¿”å›äº†ä¸€ä¸ª React å…ƒç´ </li><li>ç»„ä»¶ä¸­stateä¸ºç§æœ‰å±æ€§ï¼Œæ˜¯å¯å˜çš„ï¼Œä¸€èˆ¬åœ¨construct()ä¸­å®šä¹‰ï¼Œä½¿ç”¨æ–¹æ³•ï¼šä¸è¦ç›´æ¥ä¿®æ”¹ state(çŠ¶æ€)</li><li>ä¿®æ”¹å­ç»„ä»¶è¿˜æœ‰ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ refå±æ€§ï¼Œè¡¨ç¤ºä¸ºå¯¹ç»„ä»¶çœŸæ­£å®ä¾‹å¼•ç”¨ï¼Œå…¶å®å°±æ˜¯ReactDOM.render()è¿”å›çš„ç»„ä»¶å®ä¾‹</li></ul><h3 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h3><p><strong>ä½•è°“å‡½æ•°ç»„ä»¶&#x2F;æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunction Component&#x2F;Stateless Componentï¼‰</strong></p><p>å‡½æ•°ç»„ä»¶é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä»¥å‡½æ•°çš„å½¢æ€å­˜åœ¨çš„ React ç»„ä»¶ã€‚æ—©æœŸå¹¶æ²¡æœ‰ React-Hooks çš„åŠ æŒï¼Œå‡½æ•°ç»„ä»¶å†…éƒ¨æ— æ³•å®šä¹‰å’Œç»´æŠ¤ stateï¼Œå› æ­¤å®ƒè¿˜æœ‰ä¸€ä¸ªåˆ«åå«â€œæ— çŠ¶æ€ç»„ä»¶â€ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡½æ•°ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">DemoFunction</span>(<span class="hljs-params">props</span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123; text &#125; = props<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demoFunction&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;`function ç»„ä»¶æ‰€æ¥æ”¶åˆ°çš„æ¥è‡ªå¤–ç•Œçš„æ–‡æœ¬å†…å®¹æ˜¯ï¼š[$&#123;text&#125;]`&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul><li>åªè´Ÿè´£æ¥æ”¶ propsï¼Œæ¸²æŸ“ DOM</li><li>æ²¡æœ‰ state</li><li>è¿”å›äº†ä¸€ä¸ª React å…ƒç´ </li><li>ä¸èƒ½è®¿é—®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</li><li>ä¸éœ€è¦å£°æ˜ç±»ï¼šå¯ä»¥é¿å… extends æˆ– constructor ä¹‹ç±»çš„ä»£ç ï¼Œè¯­æ³•ä¸Šæ›´åŠ ç®€æ´ã€‚</li><li>ä¸ä¼šè¢«å®ä¾‹åŒ–ï¼šå› æ­¤ä¸èƒ½ç›´æ¥ä¼  refï¼ˆå¯ä»¥ä½¿ç”¨ React.forwardRef åŒ…è£…åå†ä¼  refï¼‰ã€‚</li><li>ä¸éœ€è¦æ˜¾ç¤ºå£°æ˜ this å…³é”®å­—ï¼šåœ¨ ES6 çš„ç±»å£°æ˜ä¸­å¾€å¾€éœ€è¦å°†å‡½æ•°çš„ this å…³é”®å­—ç»‘å®šåˆ°å½“å‰ä½œç”¨åŸŸï¼Œè€Œå› ä¸ºå‡½æ•°å¼å£°æ˜çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†å¼ºåˆ¶ç»‘å®šã€‚</li><li>æ›´å¥½çš„æ€§èƒ½è¡¨ç°ï¼šå› ä¸ºå‡½æ•°å¼ç»„ä»¶ä¸­å¹¶ä¸éœ€è¦è¿›è¡Œç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ä¸çŠ¶æ€ç®¡ç†ï¼Œå› æ­¤Reactå¹¶ä¸éœ€è¦è¿›è¡ŒæŸäº›ç‰¹å®šçš„æ£€æŸ¥æˆ–è€…å†…å­˜åˆ†é…ï¼Œä»è€Œä¿è¯äº†æ›´å¥½åœ°æ€§èƒ½è¡¨ç°ã€‚</li></ul><h3 id="å…±åŒç‚¹"><a href="#å…±åŒç‚¹" class="headerlink" title="å…±åŒç‚¹"></a>å…±åŒç‚¹</h3><ul><li>æ¥æ”¶å€¼ï¼šéƒ½ä¸€æ ·æ¥æ”¶äº†ä¸€ä¸ªåªè¯»çš„ props</li><li>è¿”å›å€¼ï¼šéƒ½æ˜¯è¿”å›äº†ä¸€ä¸ª React å…ƒç´ </li></ul><h3 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h3><h4 id="è®¾è®¡æ€æƒ³å±‚é¢"><a href="#è®¾è®¡æ€æƒ³å±‚é¢" class="headerlink" title="è®¾è®¡æ€æƒ³å±‚é¢"></a>è®¾è®¡æ€æƒ³å±‚é¢</h4><blockquote><ul><li>ç±»ç»„ä»¶çš„æ ¹åŸºæ˜¯ OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ï¼Œæ‰€ä»¥å®ƒæœ‰ç»§æ‰¿ã€æœ‰å±æ€§ã€æœ‰å†…éƒ¨çŠ¶æ€çš„ç®¡ç†ã€‚</li><li>å‡½æ•°ç»„ä»¶çš„æ ¹åŸºæ˜¯ FP (å‡½æ•°å¼ç¼–ç¨‹)ã€‚å®ƒå±äºâ€œç»“æ„åŒ–ç¼–ç¨‹â€çš„ä¸€ç§ï¼Œä¸æ•°å­¦å‡½æ•°æ€æƒ³ç±»ä¼¼ã€‚ä¹Ÿå°±æ˜¯å‡å®šè¾“å…¥ä¸è¾“å‡ºå­˜åœ¨æŸç§ç‰¹å®šçš„æ˜ å°„å…³ç³»ï¼Œé‚£ä¹ˆè¾“å…¥ä¸€å®šçš„æƒ…å†µä¸‹ï¼Œè¾“å‡ºå¿…ç„¶æ˜¯ç¡®å®šçš„ã€‚</li></ul></blockquote><h4 id="æ¸²æŸ“å·®å¼‚"><a href="#æ¸²æŸ“å·®å¼‚" class="headerlink" title="æ¸²æŸ“å·®å¼‚"></a>æ¸²æŸ“å·®å¼‚</h4><p><strong>å‡½æ•°ç»„ä»¶ä¼šæ•è·renderå†…éƒ¨çš„çŠ¶æ€</strong></p><blockquote><p>å…·ä½“æ–‡ç« å‚è§ï¼šReact ä½œè€… Dançš„æ–‡ç« <a href="https://link.juejin.cn/?target=https://overreacted.io/how-are-function-components-different-from-classes/">How Are Function Components Different from Classes</a></p></blockquote><h4 id="èƒ½åŠ›"><a href="#èƒ½åŠ›" class="headerlink" title="èƒ½åŠ›"></a>èƒ½åŠ›</h4><ul><li>ç±»ç»„ä»¶é€šè¿‡ç”Ÿå‘½å‘¨æœŸåŒ…è£…ä¸šåŠ¡é€»è¾‘</li><li>å‡½æ•°ç»„ä»¶å¯ä»¥é€šè¿‡<strong>React Hooks</strong> é’©å­å‡½æ•°æ¥æ¨¡æ‹Ÿç±»ç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸï¼ˆuseState ï¼ŒuseEffectï¼ŒuseContextï¼ŒuseCallback ç­‰ï¼‰</li></ul><blockquote><p>Hooks çš„æœ¬è´¨ï¼šä¸€å¥—èƒ½å¤Ÿä½¿å‡½æ•°ç»„ä»¶æ›´å¼ºå¤§ã€æ›´çµæ´»çš„â€œé’©å­â€</p></blockquote><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><ul><li>åœ¨ä¸ä½¿ç”¨ Recompose æˆ–è€… Hooks çš„æƒ…å†µä¸‹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆå°±ç”¨ç±»ç»„ä»¶ï¼Œé™å®šçš„åœºæ™¯æ˜¯éå¸¸å›ºå®šçš„ï¼›</li><li>ä½†åœ¨ recompose æˆ– Hooks çš„åŠ æŒä¸‹ï¼Œè¿™æ ·çš„è¾¹ç•Œå°±æ¨¡ç³ŠåŒ–äº†ï¼Œç±»ç»„ä»¶ä¸å‡½æ•°ç»„ä»¶çš„èƒ½åŠ›è¾¹ç•Œæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç±»ä¼¼ç”Ÿå‘½å‘¨æœŸç­‰èƒ½åŠ›ã€‚</li></ul><h3 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h3><p>åœ¨è®¾è®¡æ¨¡å¼ä¸Šï¼Œå› ä¸ºç±»æœ¬èº«çš„åŸå› ï¼Œ<strong>ç±»ç»„ä»¶</strong>æ˜¯å¯ä»¥å®ç°ç»§æ‰¿çš„ï¼Œè€Œå‡½æ•°ç»„ä»¶ç¼ºå°‘ç»§æ‰¿çš„èƒ½åŠ›ã€‚</p><p>å½“ç„¶åœ¨ React ä¸­ä¹Ÿæ˜¯ä¸æ¨èç»§æ‰¿å·²æœ‰çš„ç»„ä»¶çš„ï¼Œå› ä¸ºç»§æ‰¿çš„çµæ´»æ€§æ›´å·®ï¼Œç»†èŠ‚å±è”½è¿‡å¤šï¼Œæ‰€ä»¥æœ‰è¿™æ ·ä¸€ä¸ªé“å¾‹ï¼Œ<strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ã€‚</p><h3 id="å‘å±•è¶‹åŠ¿"><a href="#å‘å±•è¶‹åŠ¿" class="headerlink" title="å‘å±•è¶‹åŠ¿"></a>å‘å±•è¶‹åŠ¿</h3><p><strong>å‡½æ•°ç»„ä»¶æ›´åŠ å¥‘åˆ React æ¡†æ¶çš„è®¾è®¡ç†å¿µ</strong></p><p>React ç»„ä»¶æœ¬èº«çš„å®šä½å°±æ˜¯å‡½æ•°ï¼Œä¸€ä¸ªåƒè¿›æ•°æ®ã€åå‡º UI çš„å‡½æ•°ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬ç¼–å†™çš„æ˜¯å£°æ˜å¼çš„ä»£ç ï¼Œè€Œ React æ¡†æ¶çš„ä¸»è¦å·¥ä½œï¼Œå°±æ˜¯åŠæ—¶åœ°æŠŠå£°æ˜å¼çš„ä»£ç è½¬æ¢ä¸ºå‘½ä»¤å¼çš„ DOM æ“ä½œï¼ŒæŠŠæ•°æ®å±‚é¢çš„æè¿°æ˜ å°„åˆ°ç”¨æˆ·å¯è§çš„ UI å˜åŒ–ä¸­å»ã€‚è¿™å°±æ„å‘³ç€ä»åŸåˆ™ä¸Šæ¥è®²ï¼ŒReact çš„æ•°æ®åº”è¯¥æ€»æ˜¯ç´§ç´§åœ°å’Œæ¸²æŸ“ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œè€Œç±»ç»„ä»¶åšä¸åˆ°è¿™ä¸€ç‚¹ã€‚</p><p>ç”±äº React Hooks çš„æ¨å‡ºï¼Œå‡½æ•°ç»„ä»¶æˆäº†ç¤¾åŒºæœªæ¥ä¸»æ¨çš„æ–¹æ¡ˆã€‚</p><p>React å›¢é˜Ÿä» Facebook çš„å®é™…ä¸šåŠ¡å‡ºå‘ï¼Œé€šè¿‡æ¢ç´¢æ—¶é—´åˆ‡ç‰‡ä¸å¹¶å‘æ¨¡å¼ï¼Œä»¥åŠè€ƒè™‘æ€§èƒ½çš„è¿›ä¸€æ­¥ä¼˜åŒ–ä¸ç»„ä»¶é—´æ›´åˆç†çš„ä»£ç æ‹†åˆ†ç»“æ„åï¼Œè®¤ä¸ºç±»ç»„ä»¶çš„æ¨¡å¼å¹¶ä¸èƒ½å¾ˆå¥½åœ°é€‚åº”æœªæ¥çš„è¶‹åŠ¿ã€‚ ä»–ä»¬ç»™å‡ºäº†3 ä¸ªåŸå› ï¼š</p><blockquote><ul><li>this çš„æ¨¡ç³Šæ€§ï¼›</li><li>ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨ç”Ÿå‘½å‘¨æœŸä¸­ï¼›</li><li>React çš„ç»„ä»¶ä»£ç ç¼ºä¹æ ‡å‡†çš„æ‹†åˆ†æ–¹å¼ã€‚</li></ul></blockquote><p>è€Œä½¿ç”¨ Hooks çš„å‡½æ•°ç»„ä»¶å¯ä»¥æä¾›æ¯”åŸå…ˆæ›´ç»†ç²’åº¦çš„é€»è¾‘ç»„ç»‡ä¸å¤ç”¨ï¼Œä¸”èƒ½æ›´å¥½åœ°é€‚ç”¨äºæ—¶é—´åˆ‡ç‰‡ä¸å¹¶å‘æ¨¡å¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>reactå¸¸ç”¨çš„ä¸¤ä¸ªHook</title>
    <link href="/blog/2022/03/16/react-command-two/"/>
    <url>/blog/2022/03/16/react-command-two/</url>
    
    <content type="html"><![CDATA[<h1 id="Reactæœ€å¸¸ç”¨çš„ä¸¤ä¸ªHook"><a href="#Reactæœ€å¸¸ç”¨çš„ä¸¤ä¸ªHook" class="headerlink" title="Reactæœ€å¸¸ç”¨çš„ä¸¤ä¸ªHook"></a>Reactæœ€å¸¸ç”¨çš„ä¸¤ä¸ªHook</h1><h2 id="ä¸€-useState"><a href="#ä¸€-useState" class="headerlink" title="ä¸€.useState"></a>ä¸€.useState</h2><p>ä»£ç ä¸­ï¼š</p><p>React.useState(0)ç›¸å½“äºclassç»„ä»¶ä¸­çš„this.stateæ·»åŠ ä¸€ä¸ªå±æ€§å€¼</p><p>variableç›¸å½“äºclassç»„ä»¶ä¸­çš„this.state. variableçš„å€¼</p><p>setVariableå¯ä»¥ç”¨æ¥ä¿®æ”¹variableçš„å€¼ï¼Œå¯ä»¥ç›¸å½“äºclassç»„ä»¶ä¸­çš„this.setState</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,(useState) <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useState_Demo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> [variable, setVariable] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<span class="hljs-comment">//é€šè¿‡è§£æ„èµ‹å€¼ï¼Œæˆ‘ä»¬æ‹¿åˆ°çš„variableã€setVariable</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeVariable</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">setVariable</span>(<span class="hljs-function">(<span class="hljs-params">variable</span>) =&gt;</span> variable +<span class="hljs-number">1</span>) <span class="hljs-comment">//setVariableçš„å›è°ƒä¸­ä¼ è¿›æ¥çš„å‚æ•°æ˜¯variable</span><br>    &#125;<br>    <span class="hljs-title function_">render</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span> = <span class="hljs-string">&#123;change&#125;</span>&gt;</span>ç‚¹æˆ‘ä¼šä½¿variable+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äºŒ-useEffect"><a href="#äºŒ-useEffect" class="headerlink" title="äºŒ.useEffect"></a>äºŒ.useEffect</h2><p>ä»£ç ä¸­ï¼š</p><p>ä»¥ä¸‹ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼ŒuseEffectçš„ä½¿ç”¨ä»£æ›¿äº†åœ¨classç»„ä»¶ä¸­componentDidMounã€componentDidUpdateã€componentWillUnmountçš„ä½¿ç”¨</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,(useState, useEffect) <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useState_Demo</span>(<span class="hljs-params"></span>) &#123;<br>   <span class="hljs-keyword">const</span> [variable, setVariable] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<span class="hljs-comment">//é€šè¿‡è§£æ„èµ‹å€¼ï¼Œæˆ‘ä»¬æ‹¿åˆ°çš„variableã€setVariable</span><br>    <br>    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è¿™ä¸ªreturnæ˜¯åœ¨è¯¥ç»„ä»¶ç›‘æµ‹çš„æ•°æ®å˜åŒ–æ—¶æˆ–è€…è¢«å¸è½½æ—¶è°ƒç”¨çš„ï¼Œè¢«å¸è½½æ—¶è°ƒç”¨å¯ä»¥ç›¸å½“äºcomponentWillUnmounté’©å­ </span><br>        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è¯¥ç»„ä»¶è¢«å¸è½½äº†&#x27;</span>)<br>        &#125;<br>    &#125;, [variable])<span class="hljs-comment">//ç¬¬äºŒä¸ªå‚æ•°ä¼ äº†[variable]ï¼Œè¡¨ç¤ºæ£€æµ‹variableçš„æ›´æ–°å˜åŒ–ï¼Œä¸€æ—¦variableå˜åŒ–å°±ä¼šå†æ¬¡æ‰§è¡ŒuseEffectçš„å›è°ƒ</span><br>                  <span class="hljs-comment">//ç¬¬äºŒä¸ªå‚æ•°ä¼ äº†[],è¡¨ç¤ºè°éƒ½ä¸æ£€æµ‹åªæ‰§è¡Œä¸€æ¬¡useEffectçš„å›è°ƒï¼Œç›¸å½“äºcomponentDidMounté’©å­</span><br>                  <span class="hljs-comment">//ç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ å‚ï¼Œåªè¦è¯¥ç»„ä»¶æœ‰stateå˜åŒ–å°±ä¼šæ‰§è¡ŒuseEffectçš„å›è°ƒï¼Œç›¸å½“äºcomponentDidUpdateé’©å­</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeVariable</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">setVariable</span>(<span class="hljs-function">(<span class="hljs-params">variable</span>) =&gt;</span> variable +<span class="hljs-number">1</span>) <span class="hljs-comment">//setVariableçš„å›è°ƒä¸­ä¼ è¿›æ¥çš„å‚æ•°æ˜¯variable</span><br>    &#125;<br>    <span class="hljs-title function_">render</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> </span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span> = <span class="hljs-string">&#123;change&#125;</span>&gt;</span>ç‚¹æˆ‘ä¼šä½¿variable+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸‰-ä½¿ç”¨hookéœ€è¦æ³¨æ„çš„"><a href="#ä¸‰-ä½¿ç”¨hookéœ€è¦æ³¨æ„çš„" class="headerlink" title="ä¸‰.ä½¿ç”¨hookéœ€è¦æ³¨æ„çš„"></a>ä¸‰.ä½¿ç”¨hookéœ€è¦æ³¨æ„çš„</h2><p>1ã€åªåœ¨ç»„ä»¶å‡½æ•°çš„æœ€å¤–å±‚ä½¿ç”¨Hookï¼Œä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hook</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,(useEffect) <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useState_Demo</span>(<span class="hljs-params"></span>) &#123;<br>   <span class="hljs-comment">//è¿™é‡Œæ‰æ˜¯æ­£ç¡®çš„</span><br>   <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;)<br>    <br>   <span class="hljs-comment">//é”™è¯¯1ï¼Œä½¿ç”¨äº†æ¡ä»¶åˆ¤æ–­</span><br>   <span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;)<br>   &#125;<br>   <span class="hljs-comment">//é”™è¯¯2ï¼Œä½¿ç”¨äº†å¾ªç¯</span><br>   <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;)<br>   &#125;<br>  <span class="hljs-comment">//é”™è¯¯3,ä½¿ç”¨äº†åµŒå¥—</span><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;)<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€ä¸èƒ½åœ¨ç»„ä»¶çš„å‡½æ•°å¤–ä½¿ç”¨Hook</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,(useState, useEffect) <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-comment">//é”™è¯¯1ï¼Œåœ¨ç»„ä»¶å‡½æ•°å¤–ä½¿ç”¨äº†useState</span><br><span class="hljs-keyword">const</span> [variable, setVariable] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><span class="hljs-comment">//é”™è¯¯2ï¼Œåœ¨ç»„ä»¶å‡½æ•°å¤–ä½¿ç”¨äº†useEffect</span><br><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useState_Demo</span>(<span class="hljs-params"></span>) &#123;<br>   <span class="hljs-comment">//åœ¨ç»„ä»¶å‡½æ•°é‡Œä½¿ç”¨æ‰æ˜¯æ­£ç¡®çš„</span><br>   <span class="hljs-keyword">const</span> [variable, setVariable] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>3ã€ä¸ºäº†é¿å…ä»¥ä¸Šçš„é”™è¯¯ï¼Œå¯ä»¥ å®‰è£…<a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/eslint-plugin-react-hooks"><code>eslint-plugin-react-hooks</code></a> ESLint æ’ä»¶æ¥æ£€æŸ¥ä»£ç ä¸Šé”™è¯¯</p><h2 id="å››-è‡ªå®šä¹‰hook"><a href="#å››-è‡ªå®šä¹‰hook" class="headerlink" title="å››.è‡ªå®šä¹‰hook"></a>å››.è‡ªå®šä¹‰hook</h2><p>hookå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè‡ªå®šä¹‰hookæ˜¯ä¸ºäº†æ–¹ä¾¿ç»„ä»¶ä¹‹é—´å…±äº«é€»è¾‘ï¼Œå…¶å®å°±æ˜¯å¯¹å¤ç”¨åŠŸèƒ½è¿›è¡Œå°è£…ï¼Œè‡ªå®šä¹‰hookå†…éƒ¨ä¹Ÿè°ƒç”¨äº†reactè‡ªå¸¦çš„hookï¼Œå‘½åè¦ä»¥useå¼€å¤´</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//è‡ªå®šä¹‰hook</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">useHook</span>(<span class="hljs-params">initState</span>) &#123;<br>  <span class="hljs-keyword">const</span> [variable, setVariable] = <span class="hljs-title function_">useState</span>(initState)<br>  <span class="hljs-keyword">return</span> variable;<br>&#125;<br><span class="hljs-comment">//ä½¿ç”¨è‡ªå®šä¹‰hook</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useState_Demo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> variableState = <span class="hljs-title function_">useHook</span>(<span class="hljs-number">0</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯èƒ½ä½ ä¼šç–‘æƒ‘ï¼Œå¤šä¸ªç»„ä»¶ä¸­ä½¿ç”¨ç›¸åŒçš„ Hook ä¼šå…±äº« state å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼šä¸ä¼šã€‚å› ä¸ºæ¯æ¬¡è°ƒç”¨reactè‡ªå¸¦çš„hookéƒ½æ˜¯ç‹¬è‡ªäº’ä¸å½±å“çš„ï¼Œæ‰€ä»¥è‡ªå®šä¹‰hookè¢«å¤šæ¬¡é‡å¤è°ƒç”¨ä¹Ÿæ˜¯ç‹¬è‡ªäº’ä¸å½±å“çš„</p>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>reactå¸¸ç”¨çš„ä¸¤ä¸ªHook</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>linux å¸¸ç”¨å‘½ä»¤</title>
    <link href="/blog/2022/03/16/linux-basic/"/>
    <url>/blog/2022/03/16/linux-basic/</url>
    
    <content type="html"><![CDATA[<h1 id="Linuxå¸¸ç”¨å‘½ä»¤"><a href="#Linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Linuxå¸¸ç”¨å‘½ä»¤"></a>Linuxå¸¸ç”¨å‘½ä»¤</h1><h3 id="ä¸€-ç›®å½•æ“ä½œå‘½ä»¤"><a href="#ä¸€-ç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="ä¸€.ç›®å½•æ“ä½œå‘½ä»¤"></a>ä¸€.ç›®å½•æ“ä½œå‘½ä»¤</h3><h4 id="2-1-ç›®å½•åˆ‡æ¢-cd"><a href="#2-1-ç›®å½•åˆ‡æ¢-cd" class="headerlink" title="2.1 ç›®å½•åˆ‡æ¢ cd"></a>2.1 ç›®å½•åˆ‡æ¢ cd</h4><p>å‘½ä»¤ï¼šcd ç›®å½•</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-keyword">cd</span> /        åˆ‡æ¢åˆ°æ ¹ç›®å½•<br><span class="hljs-keyword">cd</span> <span class="hljs-string">/usr</span>        åˆ‡æ¢åˆ°æ ¹ç›®å½•ä¸‹çš„usrç›®å½•<br><span class="hljs-keyword">cd</span> <span class="hljs-string">../</span>        åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½• æˆ–è€…  <span class="hljs-keyword">cd</span> <span class="hljs-string">..</span><br><span class="hljs-keyword">cd</span> ~        åˆ‡æ¢åˆ°homeç›®å½•<br><span class="hljs-keyword">cd</span> -        åˆ‡æ¢åˆ°ä¸Šæ¬¡è®¿é—®çš„ç›®å½•<br></code></pre></td></tr></table></figure><h4 id="2-2-ç›®å½•æŸ¥çœ‹-ls-al"><a href="#2-2-ç›®å½•æŸ¥çœ‹-ls-al" class="headerlink" title="2.2 ç›®å½•æŸ¥çœ‹ ls [-al]"></a>2.2 ç›®å½•æŸ¥çœ‹ ls [-al]</h4><p>å‘½ä»¤ï¼šls [-al]</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span>                æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶<br><span class="hljs-built_in">ls</span> -a            æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—çš„æ–‡ä»¶ï¼‰<br><span class="hljs-built_in">ls</span> -l æˆ– ll       åˆ—è¡¨æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼ˆåˆ—è¡¨æŸ¥çœ‹ï¼Œæ˜¾ç¤ºæ›´å¤šä¿¡æ¯ï¼‰<br><span class="hljs-built_in">ls</span> /dir            æŸ¥çœ‹æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶   å¦‚ï¼š<span class="hljs-built_in">ls</span> /usr<br></code></pre></td></tr></table></figure><h4 id="2-3-ç›®å½•æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘"><a href="#2-3-ç›®å½•æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘" class="headerlink" title="2.3 ç›®å½•æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘"></a>2.3 ç›®å½•æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘</h4><h5 id="2-3-1-åˆ›å»ºç›®å½•ã€å¢ã€‘-mkdir"><a href="#2-3-1-åˆ›å»ºç›®å½•ã€å¢ã€‘-mkdir" class="headerlink" title="2.3.1 åˆ›å»ºç›®å½•ã€å¢ã€‘ mkdir"></a>2.3.1 åˆ›å»ºç›®å½•ã€å¢ã€‘ mkdir</h5><p>å‘½ä»¤ï¼šmkdir ç›®å½•</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">mkdir   <span class="hljs-keyword">aaa</span>       åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<span class="hljs-keyword">aaa</span>çš„ç›®å½•<br>mkdir   /usr/<span class="hljs-keyword">aaa</span>   åœ¨æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<span class="hljs-keyword">aaa</span>çš„ç›®å½•<br></code></pre></td></tr></table></figure><h4 id="2-3-2-åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ã€åˆ ã€‘rm"><a href="#2-3-2-åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ã€åˆ ã€‘rm" class="headerlink" title="2.3.2 åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ã€åˆ ã€‘rm"></a>2.3.2 åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ã€åˆ ã€‘rm</h4><p>å‘½ä»¤ï¼šrm [-rf] ç›®å½•</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># åˆ é™¤æ–‡ä»¶ï¼š</span><br><span class="hljs-built_in">rm</span> æ–‡ä»¶        åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶<br><span class="hljs-built_in">rm</span> <span class="hljs-operator">-f</span> æ–‡ä»¶    åˆ é™¤å½“å‰ç›®å½•çš„çš„æ–‡ä»¶ï¼ˆä¸è¯¢é—®ï¼‰<br><br><span class="hljs-comment"># åˆ é™¤ç›®å½•ï¼š</span><br><span class="hljs-built_in">rm</span> <span class="hljs-literal">-r</span> aaa    é€’å½’åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„aaaç›®å½•<br><span class="hljs-built_in">rm</span> <span class="hljs-literal">-rf</span> aaa    é€’å½’åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„aaaç›®å½•ï¼ˆä¸è¯¢é—®ï¼‰<br><br><span class="hljs-comment"># å…¨éƒ¨åˆ é™¤ï¼š</span><br><span class="hljs-built_in">rm</span> <span class="hljs-literal">-rf</span> *    å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨åˆ é™¤<br><span class="hljs-built_in">rm</span> <span class="hljs-literal">-rf</span> /*    ã€å‘½ä»¤ï¼æ…ç”¨ï¼æ…ç”¨ï¼æ…ç”¨ï¼ã€‘å°†æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å…¨éƒ¨åˆ é™¤<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šrmä¸ä»…å¯ä»¥åˆ é™¤ç›®å½•ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å…¶ä»–æ–‡ä»¶æˆ–å‹ç¼©åŒ…ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶çš„è®°å¿†ï¼Œæ— è®ºåˆ é™¤ä»»ä½•ç›®å½•æˆ–æ–‡ä»¶ï¼Œéƒ½ç›´æ¥ä½¿ç”¨ rm -rf ç›®å½•&#x2F;æ–‡ä»¶&#x2F;å‹ç¼©åŒ…</p><h4 id="2-3-3-ç›®å½•ä¿®æ”¹ã€æ”¹ã€‘mv-å’Œ-cp"><a href="#2-3-3-ç›®å½•ä¿®æ”¹ã€æ”¹ã€‘mv-å’Œ-cp" class="headerlink" title="2.3.3 ç›®å½•ä¿®æ”¹ã€æ”¹ã€‘mv å’Œ cp"></a>2.3.3 ç›®å½•ä¿®æ”¹ã€æ”¹ã€‘mv å’Œ cp</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡å‘½åç›®å½•</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">   å‘½ä»¤ï¼š<span class="hljs-built_in">mv</span> å½“å‰ç›®å½• æ–°ç›®å½• ï¼ˆå°†ç›®å½•aaaæ”¹ä¸ºbbbï¼‰</span><br>mv aaa bbb <br><span class="hljs-meta prompt_"># </span><span class="language-bash">   æ³¨æ„ï¼š<span class="hljs-built_in">mv</span>çš„è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé‡å‘½åè€Œä¸”ä¹Ÿå¯ä»¥å¯¹å„ç§æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰è¿›è¡Œ    é‡å‘½åçš„æ“ä½œ</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å‰ªåˆ‡ç›®å½•</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">   å‘½ä»¤ï¼š<span class="hljs-built_in">mv</span> ç›®å½•åç§° ç›®å½•çš„æ–°ä½ç½®</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">   ç¤ºä¾‹ï¼šå°†/usr/tmpç›®å½•ä¸‹çš„aaaç›®å½•å‰ªåˆ‡åˆ° /usrç›®å½•ä¸‹é¢</span>  <br>mv /usr/tmp/aaa /usr<br><span class="hljs-meta prompt_"># </span><span class="language-bash">   æ³¨æ„ï¼š<span class="hljs-built_in">mv</span>è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œå‰ªåˆ‡æ“ä½œï¼Œå¯¹æ–‡ä»¶å’Œå‹ç¼©åŒ…ç­‰éƒ½å¯æ‰§è¡Œå‰ªåˆ‡æ“ä½œ</span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ‹·è´ç›®å½•</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">   å‘½ä»¤ï¼š<span class="hljs-built_in">cp</span> -r ç›®å½•åç§° ç›®å½•æ‹·è´çš„ç›®æ ‡ä½ç½®  -rä»£è¡¨é€’å½’</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">   ç¤ºä¾‹ï¼šå°†/usr/tmpç›®å½•ä¸‹çš„aaaç›®å½•å¤åˆ¶åˆ° /usrç›®å½•ä¸‹é¢</span>   <br>cp /usr/tmp/aaa  /usr<br><span class="hljs-meta prompt_"># </span><span class="language-bash">   æ³¨æ„ï¼š<span class="hljs-built_in">cp</span>å‘½ä»¤ä¸ä»…å¯ä»¥æ‹·è´ç›®å½•è¿˜å¯ä»¥æ‹·è´æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰ï¼Œæ‹·è´æ–‡ä»¶å’Œå‹ç¼©åŒ…æ—¶ä¸ç”¨å†™-ré€’å½’</span><br><br></code></pre></td></tr></table></figure><h4 id="2-3-4-æœç´¢ç›®å½•ã€æŸ¥ã€‘find"><a href="#2-3-4-æœç´¢ç›®å½•ã€æŸ¥ã€‘find" class="headerlink" title="2.3.4 æœç´¢ç›®å½•ã€æŸ¥ã€‘find"></a>2.3.4 æœç´¢ç›®å½•ã€æŸ¥ã€‘find</h4><p>å‘½ä»¤ï¼šfind ç›®å½• å‚æ•° æ–‡ä»¶åç§°</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle"><span class="hljs-keyword">find</span> <span class="hljs-regexp">/usr/</span>tmp -name <span class="hljs-string">&#x27;a*&#x27;</span>   æŸ¥æ‰¾<span class="hljs-regexp">/usr/</span>tmpç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥aå¼€å¤´çš„ç›®å½•æˆ–æ–‡ä»¶<br></code></pre></td></tr></table></figure><h3 id="äºŒ-æ–‡ä»¶æ“ä½œå‘½ä»¤"><a href="#äºŒ-æ–‡ä»¶æ“ä½œå‘½ä»¤" class="headerlink" title="äºŒ.æ–‡ä»¶æ“ä½œå‘½ä»¤"></a>äºŒ.æ–‡ä»¶æ“ä½œå‘½ä»¤</h3><h4 id="3-1-æ–‡ä»¶æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘"><a href="#3-1-æ–‡ä»¶æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘" class="headerlink" title="3.1 æ–‡ä»¶æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘"></a>3.1 æ–‡ä»¶æ“ä½œã€å¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ã€‘</h4><h5 id="3-1-1-æ–°å»ºæ–‡ä»¶ã€å¢ã€‘touch"><a href="#3-1-1-æ–°å»ºæ–‡ä»¶ã€å¢ã€‘touch" class="headerlink" title="3.1.1 æ–°å»ºæ–‡ä»¶ã€å¢ã€‘touch"></a>3.1.1 æ–°å»ºæ–‡ä»¶ã€å¢ã€‘touch</h5><p>å‘½ä»¤ï¼štouch æ–‡ä»¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ç¤ºä¾‹ï¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªåä¸ºaa.txtçš„æ–‡ä»¶   </span><br><span class="hljs-built_in">touch</span>  aa.txt<br></code></pre></td></tr></table></figure><h5 id="3-1-2-åˆ é™¤æ–‡ä»¶-ã€åˆ ã€‘-rm"><a href="#3-1-2-åˆ é™¤æ–‡ä»¶-ã€åˆ ã€‘-rm" class="headerlink" title="3.1.2 åˆ é™¤æ–‡ä»¶ ã€åˆ ã€‘ rm"></a>3.1.2 åˆ é™¤æ–‡ä»¶ ã€åˆ ã€‘ rm</h5><p>å‘½ä»¤ï¼šrm -rf æ–‡ä»¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ç¤ºä¾‹ï¼šåœ¨å½“å‰ç›®å½•åˆ é™¤ä¸€ä¸ªåä¸ºaa.txtçš„æ–‡ä»¶   </span><br><span class="hljs-built_in">rm</span> -rf aa.txt<br></code></pre></td></tr></table></figure><h5 id="3-1-3-ä¿®æ”¹æ–‡ä»¶ã€æ”¹ã€‘-viæˆ–vim"><a href="#3-1-3-ä¿®æ”¹æ–‡ä»¶ã€æ”¹ã€‘-viæˆ–vim" class="headerlink" title="3.1.3 ä¿®æ”¹æ–‡ä»¶ã€æ”¹ã€‘ viæˆ–vim"></a>3.1.3 ä¿®æ”¹æ–‡ä»¶ã€æ”¹ã€‘ viæˆ–vim</h5><p>ã€viç¼–è¾‘å™¨çš„3ç§æ¨¡å¼ã€‘<br>    åŸºæœ¬ä¸Šviå¯ä»¥åˆ†ä¸ºä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆcommand modeï¼‰ã€æ’å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰å’Œåº•è¡Œæ¨¡å¼ï¼ˆlast line modeï¼‰ï¼Œå„æ¨¡å¼çš„åŠŸèƒ½åŒºåˆ†å¦‚ä¸‹ï¼š</p> <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-number">1</span>) å‘½ä»¤è¡Œæ¨¡å¼<span class="hljs-keyword">command</span> <span class="hljs-keyword">mode</span>ï¼‰<br>     æ§åˆ¶å±å¹•å…‰æ ‡çš„ç§»åŠ¨ï¼Œå­—ç¬¦ã€å­—æˆ–è¡Œçš„åˆ é™¤ï¼ŒæŸ¥æ‰¾ï¼Œç§»åŠ¨å¤åˆ¶æŸåŒºæ®µåŠè¿›å…¥Insert <span class="hljs-keyword">mode</span>ä¸‹ï¼Œæˆ–è€…åˆ° <span class="hljs-keyword">last</span> <span class="hljs-built_in">line</span> <span class="hljs-keyword">mode</span>ã€‚<br>     å‘½ä»¤è¡Œæ¨¡å¼ä¸‹çš„å¸¸ç”¨å‘½ä»¤ï¼š<br>        ã€<span class="hljs-number">1</span>ã€‘æ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼šâ†‘ï¼Œâ†“ï¼Œ<span class="hljs-keyword">j</span><br>        ã€<span class="hljs-number">2</span>ã€‘åˆ é™¤å½“å‰è¡Œï¼šdd <br>        ã€<span class="hljs-number">3</span>ã€‘æŸ¥æ‰¾ï¼š/å­—ç¬¦<br>        ã€<span class="hljs-number">4</span>ã€‘è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ši <span class="hljs-keyword">o</span> <span class="hljs-keyword">a</span><br>        ã€<span class="hljs-number">5</span>ã€‘è¿›å…¥åº•è¡Œæ¨¡å¼ï¼š:<br>     <br><span class="hljs-number">2</span>) ç¼–è¾‘æ¨¡å¼ï¼ˆInsert <span class="hljs-keyword">mode</span>ï¼‰<br>     åªæœ‰åœ¨Insert <span class="hljs-keyword">mode</span>ä¸‹ï¼Œæ‰å¯ä»¥åšæ–‡å­—è¾“å…¥ï¼ŒæŒ‰ã€ŒESCã€é”®å¯å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚<br>      ç¼–è¾‘æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤ï¼š<br>        ã€<span class="hljs-number">1</span>ã€‘ESC é€€å‡ºç¼–è¾‘æ¨¡å¼åˆ°å‘½ä»¤è¡Œæ¨¡å¼ï¼›<br>     <br><span class="hljs-number">3</span>) åº•è¡Œæ¨¡å¼ï¼ˆ<span class="hljs-keyword">last</span> <span class="hljs-built_in">line</span> <span class="hljs-keyword">mode</span>ï¼‰<br>      å°†æ–‡ä»¶ä¿å­˜æˆ–é€€å‡º<span class="hljs-keyword">vi</span>ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ç¼–è¾‘ç¯å¢ƒï¼Œå¦‚å¯»æ‰¾å­—ç¬¦ä¸²ã€åˆ—å‡ºè¡Œå·â€¦â€¦ç­‰ã€‚<br>      åº•è¡Œæ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤ï¼š<br>        ã€<span class="hljs-number">1</span>ã€‘é€€å‡ºç¼–è¾‘ï¼š   :q<br>        ã€<span class="hljs-number">2</span>ã€‘å¼ºåˆ¶é€€å‡ºï¼š   :q!<br>        ã€<span class="hljs-number">3</span>ã€‘ä¿å­˜å¹¶é€€å‡ºï¼š  :<span class="hljs-keyword">wq</span><br></code></pre></td></tr></table></figure><p>â€‹      </p><p><strong>æ‰“å¼€æ–‡ä»¶</strong></p><p>å‘½ä»¤ï¼švi æ–‡ä»¶å</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-comment"># ç¤ºä¾‹ï¼šæ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„aa.txtæ–‡ä»¶   </span><br><span class="hljs-attribute">vi</span> aa.txt <br><span class="hljs-comment"># æˆ–è€…</span><br>vim aa.txt<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä½¿ç”¨viç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶åï¼Œå¹¶ä¸èƒ½ç¼–è¾‘ï¼Œå› ä¸ºæ­¤æ—¶å¤„äºå‘½ä»¤æ¨¡å¼ï¼Œç‚¹å‡»é”®ç›˜i&#x2F;a&#x2F;oè¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚</p><p><strong>ç¼–è¾‘æ–‡ä»¶</strong></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less">ä½¿ç”¨<span class="hljs-selector-tag">vi</span>ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶åç‚¹å‡»æŒ‰é”®ï¼š<span class="hljs-selector-tag">i</span> ï¼Œ<span class="hljs-selector-tag">a</span>æˆ–è€…<span class="hljs-selector-tag">o</span>å³å¯è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚<br><br><span class="hljs-selector-tag">i</span>:åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰å¼€å§‹æ’å…¥<br><span class="hljs-selector-tag">a</span>:åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦åå¼€å§‹æ’å…¥<br><span class="hljs-selector-tag">o</span>:åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹é¢å¦èµ·ä¸€æ–°è¡Œæ’å…¥<br></code></pre></td></tr></table></figure><p><strong>ä¿å­˜æˆ–è€…å–æ¶ˆç¼–è¾‘</strong></p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs makefile">ä¿å­˜æ–‡ä»¶ï¼š<br><br>ç¬¬ä¸€æ­¥ï¼šESC  è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼<br><span class="hljs-section">ç¬¬äºŒæ­¥ï¼š:     è¿›å…¥åº•è¡Œæ¨¡å¼</span><br>ç¬¬ä¸‰æ­¥ï¼šwq     ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘<br><br>å–æ¶ˆç¼–è¾‘ï¼š<br><br>ç¬¬ä¸€æ­¥ï¼šESC  è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼<br><span class="hljs-section">ç¬¬äºŒæ­¥ï¼š:     è¿›å…¥åº•è¡Œæ¨¡å¼</span><br>ç¬¬ä¸‰æ­¥ï¼šq!     æ’¤é”€æœ¬æ¬¡ä¿®æ”¹å¹¶é€€å‡ºç¼–è¾‘<br></code></pre></td></tr></table></figure><h5 id="3-1-4-æ–‡ä»¶çš„æŸ¥çœ‹ã€æŸ¥ã€‘"><a href="#3-1-4-æ–‡ä»¶çš„æŸ¥çœ‹ã€æŸ¥ã€‘" class="headerlink" title="3.1.4 æ–‡ä»¶çš„æŸ¥çœ‹ã€æŸ¥ã€‘"></a>3.1.4 æ–‡ä»¶çš„æŸ¥çœ‹ã€æŸ¥ã€‘</h5><p>æ–‡ä»¶çš„æŸ¥çœ‹å‘½ä»¤ï¼šcat&#x2F;more&#x2F;less&#x2F;tail</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">cat</span>ï¼šçœ‹æœ€åä¸€å±</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¤ºä¾‹ï¼šä½¿ç”¨<span class="hljs-built_in">cat</span>æŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œåªèƒ½æ˜¾ç¤ºæœ€åä¸€å±å†…å®¹</span><br>cat sudo.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">moreï¼šç™¾åˆ†æ¯”æ˜¾ç¤º</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¤ºä¾‹ï¼šä½¿ç”¨moreæŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œå¯ä»¥æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œå›è½¦å¯ä»¥å‘ä¸‹ä¸€è¡Œï¼Œç©ºæ ¼å¯ä»¥å‘ä¸‹ä¸€é¡µï¼Œqå¯ä»¥é€€å‡ºæŸ¥çœ‹</span><br>more sudo.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">lessï¼šç¿»é¡µæŸ¥çœ‹</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¤ºä¾‹ï¼šä½¿ç”¨lessæŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„PgUpå’ŒPgDnå‘ä¸Š    å’Œå‘ä¸‹ç¿»é¡µï¼Œqç»“æŸæŸ¥çœ‹</span><br>less sudo.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">tail</span>ï¼šæŒ‡å®šè¡Œæ•°æˆ–è€…åŠ¨æ€æŸ¥çœ‹</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç¤ºä¾‹ï¼šä½¿ç”¨<span class="hljs-built_in">tail</span> -10 æŸ¥çœ‹/etc/sudo.confæ–‡ä»¶çš„å10è¡Œï¼ŒCtrl+Cç»“æŸ</span>  <br>tail -10 sudo.conf<br></code></pre></td></tr></table></figure><h3 id="ä¸‰-å‹ç¼©æ–‡ä»¶æ“ä½œ"><a href="#ä¸‰-å‹ç¼©æ–‡ä»¶æ“ä½œ" class="headerlink" title="ä¸‰.å‹ç¼©æ–‡ä»¶æ“ä½œ"></a>ä¸‰.å‹ç¼©æ–‡ä»¶æ“ä½œ</h3><h4 id="4-1-æ‰“åŒ…å’Œå‹ç¼©"><a href="#4-1-æ‰“åŒ…å’Œå‹ç¼©" class="headerlink" title="4.1 æ‰“åŒ…å’Œå‹ç¼©"></a>4.1 æ‰“åŒ…å’Œå‹ç¼©</h4><p>linuxä¸­æ‰“åŒ…å¹¶å‹ç¼©çš„æ–‡ä»¶ï¼š.tar.gz</p><p>Linuxä¸­çš„æ‰“åŒ…æ–‡ä»¶ä¸€èˆ¬æ˜¯ä»¥.tarç»“å°¾çš„ï¼Œå‹ç¼©çš„å‘½ä»¤ä¸€èˆ¬æ˜¯ä»¥.gzç»“å°¾çš„ã€‚<br>è€Œä¸€èˆ¬æƒ…å†µä¸‹æ‰“åŒ…å’Œå‹ç¼©æ˜¯ä¸€èµ·è¿›è¡Œçš„ï¼Œæ‰“åŒ…å¹¶å‹ç¼©åçš„æ–‡ä»¶çš„åç¼€åä¸€èˆ¬.tar.gzã€‚</p><p>å‘½ä»¤ï¼štar -zcvf æ‰“åŒ…å‹ç¼©åçš„æ–‡ä»¶å è¦æ‰“åŒ…çš„æ–‡ä»¶</p><p>  zï¼šè°ƒç”¨gzipå‹ç¼©å‘½ä»¤è¿›è¡Œå‹ç¼©<br>  cï¼šæ‰“åŒ…æ–‡ä»¶<br>  vï¼šæ˜¾ç¤ºè¿è¡Œè¿‡ç¨‹<br>  fï¼šæŒ‡å®šæ–‡ä»¶å</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-comment"># ç¤ºä¾‹ï¼šæ‰“åŒ…å¹¶å‹ç¼©/usr/tmp ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ å‹ç¼©åçš„å‹ç¼©åŒ…æŒ‡å®šåç§°ä¸ºxxx.tar</span><br>tar -zcvf ab.tar aa.txt <span class="hljs-keyword">bb.txt </span><br><span class="hljs-comment"># æˆ–</span><br>tar -zcvf ab.tar *<br></code></pre></td></tr></table></figure><h4 id="4-2-è§£å‹"><a href="#4-2-è§£å‹" class="headerlink" title="4.2 è§£å‹"></a>4.2 è§£å‹</h4><p>å‘½ä»¤ï¼štar [-zxvf] å‹ç¼©æ–‡ä»¶<br>å…¶ä¸­ï¼šxï¼šä»£è¡¨è§£å‹<br>ç¤ºä¾‹ï¼šå°†&#x2F;usr&#x2F;tmp ä¸‹çš„ab.tarè§£å‹åˆ°å½“å‰ç›®å½•ä¸‹</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">tar</span> -zxvf ab.tar<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼šå°†&#x2F;usr&#x2F;tmp ä¸‹çš„ab.tarè§£å‹åˆ°æ ¹ç›®å½•&#x2F;usrä¸‹<br>tar -xvf ab.tar -C &#x2F;usrâ€”â€”Cä»£è¡¨æŒ‡å®šè§£å‹çš„ä½ç½®</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">tar -zxvf ab.tar -C <span class="hljs-regexp">/usr/</span><br></code></pre></td></tr></table></figure><h3 id="å››-æŸ¥æ‰¾å‘½ä»¤"><a href="#å››-æŸ¥æ‰¾å‘½ä»¤" class="headerlink" title="å››.æŸ¥æ‰¾å‘½ä»¤"></a>å››.æŸ¥æ‰¾å‘½ä»¤</h3><h4 id="1-grep"><a href="#1-grep" class="headerlink" title="1.grep"></a>1.grep</h4><p>grepå‘½ä»¤æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment"># æŸ¥æ‰¾æŒ‡å®šsshæœåŠ¡è¿›ç¨‹</span><br>ps -ef | <span class="hljs-keyword">grep</span> sshd <br><span class="hljs-comment"># æŸ¥æ‰¾æŒ‡å®šæœåŠ¡è¿›ç¨‹ï¼Œæ’é™¤gerpèº« </span><br>ps -ef | <span class="hljs-keyword">grep</span> sshd | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span> <br><span class="hljs-comment"># æŸ¥æ‰¾æŒ‡å®šè¿›ç¨‹ä¸ªæ•° </span><br>ps -ef | <span class="hljs-keyword">grep</span> sshd -c <br></code></pre></td></tr></table></figure><h4 id="2-find"><a href="#2-find" class="headerlink" title="2.find"></a>2.find</h4><p>findå‘½ä»¤åœ¨ç›®å½•ç»“æ„ä¸­æœç´¢æ–‡ä»¶ï¼Œå¹¶å¯¹æœç´¢ç»“æœæ‰§è¡ŒæŒ‡å®šçš„æ“ä½œã€‚ </p><p>find é»˜è®¤æœç´¢å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ï¼Œå¹¶ä¸”ä¸è¿‡æ»¤ä»»ä½•ç»“æœï¼ˆä¹Ÿå°±æ˜¯è¿”å›æ‰€æœ‰æ–‡ä»¶ï¼‰ï¼Œå°†å®ƒä»¬å…¨éƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># åœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ä»¥.logç»“å°¾çš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚ </span><br><span class="hljs-built_in">find</span> . -name <span class="hljs-string">&quot;*.log&quot;</span> -ls <br><span class="hljs-comment">#  æŸ¥æ‰¾/root/ç›®å½•ä¸‹æƒé™ä¸º600çš„æ–‡ä»¶ </span><br><span class="hljs-built_in">find</span> /root/ -perm 600 <br><span class="hljs-comment">#  æŸ¥æ‰¾å½“ç›®å½•ï¼Œä»¥.logç»“å°¾çš„æ™®é€šæ–‡ä»¶ </span><br><span class="hljs-built_in">find</span> . -type f -name <span class="hljs-string">&quot;*.log&quot;</span>  <br><span class="hljs-comment">#  æŸ¥æ‰¾å½“å‰æ‰€æœ‰ç›®å½•å¹¶æ’åº </span><br><span class="hljs-built_in">find</span> . -type d | sort <br><span class="hljs-comment">#  æŸ¥æ‰¾å½“å‰ç›®å½•å¤§äº100Mçš„æ–‡ä»¶</span><br><span class="hljs-built_in">find</span> . -size +100M <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>react-reduxä½¿ç”¨</title>
    <link href="/blog/2022/03/03/react-redux/"/>
    <url>/blog/2022/03/03/react-redux/</url>
    
    <content type="html"><![CDATA[<h1 id="react-reduxä½¿ç”¨"><a href="#react-reduxä½¿ç”¨" class="headerlink" title="react-reduxä½¿ç”¨"></a>react-reduxä½¿ç”¨</h1><h4 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h4><ul><li>A Predictable State Container for JS Appsï¼ˆJS åº”ç”¨ç¨‹åºçš„å¯é¢„æµ‹çŠ¶æ€å®¹å™¨ï¼‰</li></ul><h4 id="2-reduxç®€ä»‹"><a href="#2-reduxç®€ä»‹" class="headerlink" title="2. reduxç®€ä»‹"></a>2. reduxç®€ä»‹</h4><ul><li>reduxæ˜¯reactå…¨å®¶æ¡¶çš„ä¸€å‘˜ï¼Œå®ƒè¯•å›¾ä¸º React åº”ç”¨æä¾›ã€Œå¯é¢„æµ‹åŒ–çš„çŠ¶æ€ç®¡ç†ã€æœºåˆ¶ã€‚</li><li>Reduxæ˜¯å°†æ•´ä¸ªåº”ç”¨çŠ¶æ€å­˜å‚¨åˆ°åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œç§°ä¸ºstore</li><li>é‡Œé¢ä¿å­˜ä¸€æ£µçŠ¶æ€æ ‘(state tree)</li><li>ç»„ä»¶å¯ä»¥æ´¾å‘(dispatch)è¡Œä¸º(action)ç»™store,è€Œä¸æ˜¯ç›´æ¥é€šçŸ¥å…¶å®ƒç»„ä»¶</li><li>å…¶å®ƒç»„ä»¶å¯ä»¥é€šè¿‡è®¢é˜…storeä¸­çš„çŠ¶æ€(state)æ¥åˆ·æ–°è‡ªå·±çš„è§†å›¾</li></ul><h4 id="3-å®‰è£…"><a href="#3-å®‰è£…" class="headerlink" title="3. å®‰è£…"></a>3. å®‰è£…</h4><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save redux</span><br></code></pre></td></tr></table></figure><h4 id="4-reduxæ ¸å¿ƒ"><a href="#4-reduxæ ¸å¿ƒ" class="headerlink" title="4. reduxæ ¸å¿ƒ"></a>4. reduxæ ¸å¿ƒ</h4><h5 id="4-1-State"><a href="#4-1-State" class="headerlink" title="4.1 State"></a>4.1 State</h5><p>stateæ˜¯æ•°æ®é›†åˆ</p><p><strong>å¯ä»¥ç†è§£ä¸ºå·¥å‚åŠ å·¥å•†å“æ‰€éœ€çš„åŸææ–™</strong></p><h5 id="4-2-action"><a href="#4-2-action" class="headerlink" title="4.2 action"></a>4.2 action</h5><p>Stateçš„å˜åŒ–ï¼Œä¼šå¯¼è‡´Viewçš„å˜åŒ–ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·æ¥è§¦ä¸åˆ° Stateï¼Œåªèƒ½æ¥è§¦åˆ°View æ‰€ä»¥ï¼ŒStateçš„å˜åŒ–å¿…é¡»æ˜¯ Viewå¯¼è‡´çš„ã€‚</p><p>actionå°±æ˜¯æ”¹å˜stateçš„æŒ‡ä»¤ï¼Œæœ‰å¤šå°‘æ“ä½œstateçš„åŠ¨ä½œå°±ä¼šæœ‰å¤šå°‘actionã€‚</p><p><strong>å¯ä»¥å°†actionç†è§£ä¸ºæè¿°å‘ç”Ÿäº†ä»€ä¹ˆçš„æŒ‡ç¤ºå™¨</strong></p><h5 id="4-3-reducer-åŠ å·¥å‡½æ•°"><a href="#4-3-reducer-åŠ å·¥å‡½æ•°" class="headerlink" title="4.3 reducer åŠ å·¥å‡½æ•°"></a>4.3 reducer åŠ å·¥å‡½æ•°</h5><p>actionå‘å‡ºå‘½ä»¤åå°†stateæ”¾å…¥reuceråŠ å·¥å‡½æ•°ä¸­ï¼Œè¿”å›æ–°çš„stateã€‚ <strong>å¯ä»¥ç†è§£ä¸ºåŠ å·¥çš„æœºå™¨</strong></p><h5 id="4-4-store"><a href="#4-4-store" class="headerlink" title="4.4 store"></a>4.4 store</h5><p><strong>store å¯ä»¥ç†è§£ä¸ºæœ‰å¤šä¸ªåŠ å·¥æœºå™¨çš„æ€»å·¥å‚</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">let</span> store = <span class="hljs-title function_">createStore</span>(reducers);<br></code></pre></td></tr></table></figure><p>Store å°±æ˜¯æŠŠå®ƒä»¬è”ç³»åˆ°ä¸€èµ·çš„å¯¹è±¡ã€‚Store æœ‰ä»¥ä¸‹èŒè´£ï¼š</p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pf">ç»´æŒåº”ç”¨çš„ <span class="hljs-keyword">state</span>ï¼›<br>æä¾› getState() æ–¹æ³•è·å– <span class="hljs-keyword">state</span>ï¼›<br>æä¾› dispatch(action) æ–¹æ³•æ›´æ–° <span class="hljs-keyword">state</span>ï¼›<br>é€šè¿‡ subscribe(listener) æ³¨å†Œç›‘å¬å™¨;<br>é€šè¿‡ subscribe(listener) è¿”å›çš„å‡½æ•°æ³¨é”€ç›‘å¬å™¨ã€‚<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡store.getState()æ¥äº†è§£å·¥å‚ä¸­å•†å“çš„çŠ¶æ€ï¼Œ ä½¿ç”¨store.dispatchå‘é€actionæŒ‡ä»¤ã€‚</p><h4 id="5-ç»å…¸æ¡ˆä¾‹"><a href="#5-ç»å…¸æ¡ˆä¾‹" class="headerlink" title="5. ç»å…¸æ¡ˆä¾‹"></a>5. ç»å…¸æ¡ˆä¾‹</h4><p>è¿™æ˜¯ä¸€ä¸ªreduxçš„ç»å…¸æ¡ˆä¾‹</p><ul><li>å®šä¹‰reducerå‡½æ•°æ ¹æ®actionçš„ç±»å‹æ”¹å˜state</li><li>actions å®šä¹‰æŒ‡ä»¤</li><li>é€šè¿‡createStoreåˆ›å»ºstore</li><li>è°ƒç”¨store.dispatch()å‘å‡ºä¿®æ”¹stateçš„å‘½ä»¤</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> &#123; createStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state = &#123;count: <span class="hljs-number">0</span>&#125;, action</span>) =&gt; &#123;<br>  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;INCREASE&#x27;</span>: <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>&#125;;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;DECREASE&#x27;</span>: <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span>&#125;;<br>    <span class="hljs-attr">default</span>: <span class="hljs-keyword">return</span> state;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-attr">increase</span>: <span class="hljs-function">() =&gt;</span> (&#123;<span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;INCREASE&#x27;</span>&#125;),<br>  <span class="hljs-attr">decrease</span>: <span class="hljs-function">() =&gt;</span> (&#123;<span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;DECREASE&#x27;</span>&#125;)<br>&#125;<br><br><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer);<br><br>store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(store.<span class="hljs-title function_">getState</span>())<br>);<br><br>store.<span class="hljs-title function_">dispatch</span>(actions.<span class="hljs-title function_">increase</span>()) <span class="hljs-comment">// &#123;count: 1&#125;</span><br>store.<span class="hljs-title function_">dispatch</span>(actions.<span class="hljs-title function_">increase</span>()) <span class="hljs-comment">// &#123;count: 2&#125;</span><br>store.<span class="hljs-title function_">dispatch</span>(actions.<span class="hljs-title function_">increase</span>()) <span class="hljs-comment">// &#123;count: 3&#125;</span><br><br></code></pre></td></tr></table></figure><p><strong>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨react componentä¸Šä½¿ç”¨store.dispatchï¼Œä½†æ˜¯è¿™æ ·ä¸å¤ªæ–¹ä¾¿ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦react-redux</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Todos</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>(<br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onCLick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>store.dispatch(actions.delTodo()) &#125;&gt;test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        )<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-react-redux"><a href="#6-react-redux" class="headerlink" title="6. react-redux"></a>6. react-redux</h4><p>Redux å®˜æ–¹æä¾›çš„ React ç»‘å®šåº“ã€‚ å…·æœ‰é«˜æ•ˆä¸”çµæ´»çš„ç‰¹æ€§ã€‚</p><h5 id="6-1-å®‰è£…"><a href="#6-1-å®‰è£…" class="headerlink" title="6.1 å®‰è£…"></a>6.1 å®‰è£…</h5><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install <span class="hljs-comment">--save react-redux</span><br></code></pre></td></tr></table></figure><h5 id="6-2-æ ¸å¿ƒ"><a href="#6-2-æ ¸å¿ƒ" class="headerlink" title="6.2 æ ¸å¿ƒ"></a>6.2 æ ¸å¿ƒ</h5><ul><li>&lt; Provider store&gt;</li><li>connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])</li></ul><p>Provider å†…çš„ä»»ä½•ä¸€ä¸ªç»„ä»¶ï¼ˆæ¯”å¦‚è¿™é‡Œçš„ Compï¼‰ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ state ä¸­çš„æ•°æ®ï¼Œå°±å¿…é¡»æ˜¯ã€Œè¢« connect è¿‡çš„ã€ç»„ä»¶â€”â€”ä½¿ç”¨ connect æ–¹æ³•å¯¹ã€Œä½ ç¼–å†™çš„ç»„ä»¶ï¼ˆMyCompï¼‰ã€è¿›è¡ŒåŒ…è£…åçš„äº§ç‰©ã€‚</p><p>è¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬å°† store ä¸­çš„æ•°æ®ä½œä¸º props ç»‘å®šåˆ°ç»„ä»¶ä¸Šã€‚</p><p>react-reduxä¸­çš„connectæ–¹æ³•å°†storeä¸Šçš„getState å’Œ dispatch åŒ…è£…æˆç»„ä»¶çš„propsã€‚</p><p>å°†ä¹‹å‰ç›´æ¥åœ¨ç»„ä»¶ä¸Šdispatchçš„ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š</p><p>index.js</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store&#x27;</span>;<br><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store/actions/list&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;connect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Todos</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>(<br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onCLick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>this.props.del_todo() &#125;&gt;test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>        )<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">connect</span>(<br>    <span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span>state,<br>    actions<br>)(<span class="hljs-title class_">Todos</span>);<br></code></pre></td></tr></table></figure><p>Provider èƒ½æ‹¿åˆ°å…³é”®çš„storeå¹¶ä¼ é€’ç»™æ¯ä¸ªå­ç»„ä»¶</p><h4 id="7-connectå¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#7-connectå¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="7. connectå¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>7. connectå¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h4><p>connect() æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ mapStateToProps ï¼Œ mapDispatchToPropsï¼Œ mergeProps å’Œ options ã€‚</p><h5 id="7-1-mapStateToPropsè¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬å°†-store-ä¸­çš„æ•°æ®ä½œä¸º-props-ç»‘å®šåˆ°ç»„ä»¶ä¸Šã€‚"><a href="#7-1-mapStateToPropsè¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬å°†-store-ä¸­çš„æ•°æ®ä½œä¸º-props-ç»‘å®šåˆ°ç»„ä»¶ä¸Šã€‚" class="headerlink" title="7.1 mapStateToPropsè¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬å°† store ä¸­çš„æ•°æ®ä½œä¸º props ç»‘å®šåˆ°ç»„ä»¶ä¸Šã€‚"></a>7.1 <code>mapStateToPropsè¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬å°† store ä¸­çš„æ•°æ®ä½œä¸º props ç»‘å®šåˆ°ç»„ä»¶ä¸Šã€‚</code></h5><p><strong>reducer.js</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">state = &#123; lists: [&#123;text:<span class="hljs-string">&#x27;ç§»åŠ¨ç«¯è®¡åˆ’&#x27;</span>&#125;],newType:<span class="hljs-string">&#x27;all&#x27;</span>&#125;, action</span>) &#123;<br>    <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) &#123;<br>        <span class="hljs-keyword">case</span> types.<span class="hljs-property">ADD_TODO</span>:<br>            <span class="hljs-keyword">return</span> &#123;...state,<span class="hljs-attr">lists</span>:[...state.<span class="hljs-property">lists</span>,&#123;<span class="hljs-attr">text</span>:action.<span class="hljs-property">text</span>&#125;]&#125;<br>        <span class="hljs-keyword">case</span> types.<span class="hljs-property">TOGGLE_TODO</span>:<br>            <span class="hljs-keyword">return</span> &#123;...state,<span class="hljs-attr">lists</span>:state.<span class="hljs-property">lists</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item,index</span>)=&gt;</span>&#123;<br>                <span class="hljs-keyword">if</span>(index == action.<span class="hljs-property">index</span>)&#123;<br>                    item.<span class="hljs-property">completed</span> = !item.<span class="hljs-property">completed</span><br>                &#125;<br>                <span class="hljs-keyword">return</span> item<br>            &#125;)&#125;<br>        <span class="hljs-keyword">case</span> types.<span class="hljs-property">DEL_TODO</span>:<br>            <span class="hljs-keyword">return</span> &#123;...state,<span class="hljs-attr">lists</span>:[...state.<span class="hljs-property">lists</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,action.<span class="hljs-property">index</span>),...state.<span class="hljs-property">lists</span>.<span class="hljs-title function_">slice</span>(action.<span class="hljs-property">index</span>+<span class="hljs-number">1</span>)]&#125;<br>        <span class="hljs-keyword">case</span> types.<span class="hljs-property">SWITCH_TYPE</span>:<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;...state,<span class="hljs-attr">newType</span>:action.<span class="hljs-property">newType</span>&#125;)<br>            <span class="hljs-keyword">return</span> &#123;...state,<span class="hljs-attr">newType</span>:action.<span class="hljs-property">newType</span>&#125;<br>        <span class="hljs-attr">default</span>:<br>            <span class="hljs-keyword">return</span> state;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨reducer.jsä¸­ï¼Œå®šä¹‰äº†åˆå§‹åŒ–çš„stateï¼Œé€šè¿‡connectæ–¹æ³•ï¼Œæˆ‘ä»¬å°±èƒ½ä½¿ç”¨this.props.listsæ‹¿åˆ°åˆå§‹åŒ–çš„stateã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store&#x27;</span>;<br><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store/actions/list&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;connect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Todos</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>(<br>            &#123;<br>                + <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">                +    this.props.state.lists.map(list =&gt;(</span><br><span class="language-xml">                +        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;list.text&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                +    ))</span><br><span class="language-xml">                + <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>   <br>            &#125;<br>            &lt;div onCLick=&#123;<span class="hljs-function">()=&gt;</span><span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">del_todo</span>() &#125;&gt;test&lt;/div&gt;<br>        )<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">connect</span>(<br>    <span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span>state,<br>    actions<br>)(<span class="hljs-title class_">Todos</span>);<br></code></pre></td></tr></table></figure><p>å½“ state å˜åŒ–ï¼Œæˆ–è€… ownProps å˜åŒ–çš„æ—¶å€™ï¼ŒmapStateToProps éƒ½ä¼šè¢«è°ƒç”¨ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ–°çš„ statePropsï¼Œï¼ˆåœ¨ä¸ ownProps merge åï¼‰æ›´æ–°ç»™ MyCompã€‚</p><h5 id="7-2-mapDispatchToProps-dispatch-ownProps-dispatchProps-connect-çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯-mapDispatchToPropsï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼Œå°†-action-ä½œä¸º-props-ç»‘å®šåˆ°-MyComp-ä¸Šã€‚"><a href="#7-2-mapDispatchToProps-dispatch-ownProps-dispatchProps-connect-çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯-mapDispatchToPropsï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼Œå°†-action-ä½œä¸º-props-ç»‘å®šåˆ°-MyComp-ä¸Šã€‚" class="headerlink" title="7.2 mapDispatchToProps(dispatch, ownProps): dispatchProps connect çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ mapDispatchToPropsï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼Œå°† action ä½œä¸º props ç»‘å®šåˆ° MyComp ä¸Šã€‚"></a>7.2 <code>mapDispatchToProps(dispatch, ownProps): dispatchProps connect çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ mapDispatchToPropsï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼Œå°† action ä½œä¸º props ç»‘å®šåˆ° MyComp ä¸Šã€‚</code></h5><p><strong>action.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../action-types&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-title function_">add_todo</span>(<span class="hljs-params">text</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">type</span>: types.<span class="hljs-property">ADD_TODO</span>, <span class="hljs-attr">text</span>: text&#125;<br>    &#125;,<br>    <span class="hljs-title function_">del_todo</span>(<span class="hljs-params">idx</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">type</span>:types.<span class="hljs-property">DEL_TODO</span>, <span class="hljs-attr">index</span>: idx&#125;<br>    &#125;,<br>    <span class="hljs-title function_">toggle_todo</span>(<span class="hljs-params">index</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">type</span>:types.<span class="hljs-property">TOGGLE_TODO</span>, index&#125;<br>    &#125;,<br>    <span class="hljs-title function_">del_todo</span>(<span class="hljs-params">index</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">type</span>:types.<span class="hljs-property">DEL_TODO</span>, index&#125;<br>    &#125;,<br>    <span class="hljs-title function_">switch_type</span>(<span class="hljs-params">newType</span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">type</span>:types.<span class="hljs-property">SWITCH_TYPE</span>, newType&#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘åœ¨action.jsä¸­å®šä¹‰çš„ä¿®æ”¹çŠ¶æ€çš„å‘½ä»¤ï¼Œä¼šé€šè¿‡connect çš„ mapDispatchToPropsæ–¹æ³•å˜ä¸ºpropsç»‘å®šåœ¨reacç»„ä»¶ä¸Šã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿å¾—ä½¿ç”¨å»è°ƒç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onCLick</span>=<span class="hljs-string">&#123;()</span>=&gt;</span>this.props.del_todo() &#125;&gt;test<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="8-æ·±å…¥"><a href="#8-æ·±å…¥" class="headerlink" title="8. æ·±å…¥"></a>8. æ·±å…¥</h4><p>äº†è§£åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¼šå‘ç°å¹¶æ²¡æœ‰ä½¿ç”¨store.dispatchæ–¹æ³•å»å‘å‡ºå‘½ä»¤ï¼Œä½†æ˜¯stateå·²ç»ä¿®æ”¹ï¼Œviewä¹Ÿå˜åŒ–äº†ï¼Œé‚£ä¹ˆåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">store.<span class="hljs-title function_">dispatch</span>(actions.<span class="hljs-title function_">increase</span>())<br></code></pre></td></tr></table></figure><p><strong>å…³é”®çš„æ˜¯connect()</strong></p><p>connectåŸç†ç®€åŒ–ç‰ˆ</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,&#123;<span class="hljs-title class_">Component</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;bindActionCreators&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>;<br><span class="hljs-keyword">import</span> propTypes <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">mapStateToProps,mapDispatchToProps</span>)&#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">WrapedComponent</span>)&#123;<br>      <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span>&#123;<br>          <span class="hljs-keyword">static</span> contextTypes = &#123;<br>              <span class="hljs-attr">store</span>:propTypes.<span class="hljs-property">object</span><br>          &#125;<br>          <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props,context</span>)&#123;<br>            <span class="hljs-variable language_">super</span>(props,context);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span> = context.<span class="hljs-property">store</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-title function_">mapStateToProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">getState</span>());<br>          &#125;<br>          <span class="hljs-title function_">componentWillMount</span>(<span class="hljs-params"></span>)&#123;<br>              <span class="hljs-variable language_">this</span>.<span class="hljs-property">unsubscribe</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(<span class="hljs-title function_">mapStateToProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">getState</span>()));<br>              &#125;);<br>          &#125;<br>          <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"></span>)&#123;<br>              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">unsubscribe</span>();<br>          &#125;<br>          <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>              <span class="hljs-keyword">let</span> actions= &#123;&#125;;<br>              <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> mapDispatchToProps == <span class="hljs-string">&#x27;function&#x27;</span>)&#123;<br>                actions = <span class="hljs-title function_">mapDispatchToProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-property">disaptch</span>);<br>              &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> mapDispatchToProps == <span class="hljs-string">&#x27;object&#x27;</span>)&#123;<br>                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;object&#x27;</span>, mapDispatchToProps)<br>                actions = <span class="hljs-title function_">bindActionCreators</span>(mapDispatchToProps,<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-property">dispatch</span>);<br>              &#125;<br>                <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">WrapedComponent</span> &#123;<span class="hljs-attr">...this.state</span>&#125; &#123;<span class="hljs-attr">...actions</span>&#125;/&gt;</span></span><br>         &#125;<br>      &#125;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">ProxyComponent</span>;<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>1.stateçš„è¿”å› connectä¸­å¯¹äºProvidedçˆ¶ç»„ä»¶ä¸Šä¼ æ¥çš„store,é€šè¿‡å°†çŠ¶æ€è¿”å›</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">mapStateToProps</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">getState</span>());<br></code></pre></td></tr></table></figure><p>é€šè¿‡ Redux çš„è¾…åŠ©å‡½æ•° bindActionCreators()ï¼Œç”¨dispatchç›‘å¬æ¯ä¸€ä¸ªactionã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">bindActionCreators</span>(mapDispatchToProps,<span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-property">dispatch</span>);<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥è°ƒç”¨propsä¸Šçš„æ–¹æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨å‘èµ·store.dispachï¼ˆXXXï¼‰äº‹ä»¶ï¼Œå‘å‡ºå‘½ä»¤</p>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>redux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript Reflectæ˜ å°„å¯¹è±¡</title>
    <link href="/blog/2022/03/03/js-reflect/"/>
    <url>/blog/2022/03/03/js-reflect/</url>
    
    <content type="html"><![CDATA[<h1 id="JS-Reflectæ˜ å°„å¯¹è±¡"><a href="#JS-Reflectæ˜ å°„å¯¹è±¡" class="headerlink" title="JS-Reflectæ˜ å°„å¯¹è±¡"></a>JS-Reflectæ˜ å°„å¯¹è±¡</h1><h3 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h3><p><code>Reflect</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç¿»è¯‘è¿‡æ¥æ˜¯åå°„çš„æ„æ€ï¼Œå®ƒæä¾›äº†å¾ˆå¤šæ“ä½œ<code>JavaScript</code>å¯¹è±¡çš„æ–¹æ³•ï¼Œ æ˜¯ä¸ºäº†å¼¥è¡¥<code>Object</code>ä¸­å¯¹è±¡çš„ä¸€äº›ç¼ºé™·ã€‚ä¸”æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ã€‚</p><h4 id="ä¸ºä»€ä¹ˆä¼šæœ‰Reflect"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰Reflect" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰Reflect"></a>ä¸ºä»€ä¹ˆä¼šæœ‰Reflect</h4><p>åœ¨æ—©æœŸï¼Œ<code>JavaScript</code>è¿™é—¨è¯­è¨€ä¸­çš„ä¸€äº›å†…éƒ¨æ–¹æ³•éƒ½è¢«éƒ¨ç½²åˆ°äº†<code>Object</code>è¿™ä¸ªå¯¹è±¡ä¸Šã€‚å°±ä¾‹å¦‚<code>getPrototype</code>ã€<code>deinfeProperty</code>ç­‰<code>API</code>ã€ç±»ä¼¼<code>in</code>ã€<code>delete</code>æ“ä½œç¬¦éƒ½æ”¾åˆ°äº†<code>Object</code>å¯¹è±¡ä¸Šäº†ã€‚ä½†<code>Object</code>ä½œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆ<code>Reflect</code>å¹¶éä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¸èƒ½é€šè¿‡newå…³é”®å­—è°ƒç”¨ï¼‰ï¼Œè¿™äº›æ–¹æ³•æ”¾åˆ°å®ƒèº«ä¸Šå¹¶ä¸åˆé€‚ï¼Œæ‰€ä»¥åœ¨<code>ES6</code>ä¹‹åçš„å†…éƒ¨æ–°æ–¹æ³•ä¼šéƒ¨ç½²åˆ°<code>Reflect</code>å¯¹è±¡ä¸­ã€‚</p><h4 id="ä½¿ç”¨Reflectå¯¹è±¡æ“ä½œObjectå¯¹è±¡"><a href="#ä½¿ç”¨Reflectå¯¹è±¡æ“ä½œObjectå¯¹è±¡" class="headerlink" title="ä½¿ç”¨Reflectå¯¹è±¡æ“ä½œObjectå¯¹è±¡"></a>ä½¿ç”¨Reflectå¯¹è±¡æ“ä½œObjectå¯¹è±¡</h4><p>Reflectå¯¹è±¡è®©æˆ‘ä»¬æ“ä½œ<code>Object</code>å¯¹è±¡ä¸å†æ˜¯é€šè¿‡ç‚¹è¯­æ³•äº†ï¼Œè€Œæ˜¯å˜æˆäº†å‡½æ•°è¡Œä¸ºã€‚</p><p>æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œè·å–å¯¹è±¡å±æ€§å¯ä»¥ä½¿ç”¨<code>Reflect.get</code>æ–¹æ³•ã€å°†å¯¹è±¡çš„å±æ€§èµ‹å€¼å¯ä»¥ä½¿ç”¨<code>Reflect.set</code>æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;_island&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>&#125;;<br><br><span class="hljs-comment">// è·å–å¯¹åº”å±æ€§çš„å€¼</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">name</span>); <span class="hljs-comment">// _island</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, <span class="hljs-string">&quot;name&quot;</span>)); <span class="hljs-comment">// _island</span><br><br><span class="hljs-comment">// å¯¹å¯¹è±¡çš„å±æ€§èµ‹å€¼æ“ä½œ</span><br>obj.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(obj, <span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;abc&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, <span class="hljs-string">&quot;name&quot;</span>)); <span class="hljs-comment">// abc</span><br><br><br><span class="hljs-comment">// åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡ä¸­æ˜¯å¦æœ‰è¯¥å±æ€§</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-keyword">in</span> obj); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(obj, <span class="hljs-string">&quot;name&quot;</span>)); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h4 id="Reflectä¸­çš„æ–¹æ³•"><a href="#Reflectä¸­çš„æ–¹æ³•" class="headerlink" title="Reflectä¸­çš„æ–¹æ³•"></a>Reflectä¸­çš„æ–¹æ³•</h4><table><thead><tr><th>å¯¹è±¡ä¸­çš„æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Reflect.apply()</td><td>å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œ<code>apply</code>è°ƒç”¨</td></tr><tr><td>Reflect.construct()</td><td>å¯¹æ„é€ å‡½æ•°è¿›è¡Œ<code>new</code>æ“ä½œ</td></tr><tr><td>Reflect.defineProperty()</td><td>å®šä¹‰ä¸€ä¸ªå±æ€§</td></tr><tr><td>Reflect.deleteProperty()</td><td>åˆ é™¤ä¸€ä¸ªå±æ€§</td></tr><tr><td>Reflect.get()</td><td>è·å–ä¸€ä¸ªå±æ€§</td></tr><tr><td>Reflect.getOwnPropertyDescriptor()</td><td>è·å–ä¸€ä¸ªå±æ€§æè¿°ç¬¦</td></tr><tr><td>Reflect.getPrototypeOf()</td><td>è·å–ä¸€ä¸ªå¯¹è±¡çš„åŸå‹</td></tr><tr><td>Reflect.has()</td><td>åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦åœ¨å¯¹è±¡ä¸­</td></tr><tr><td>Reflect.isExtensible()</td><td>åˆ¤æ–­å¯ä»¥æ‰©å±•</td></tr><tr><td>Reflect.ownKeys()</td><td>è·å–ä¸€ä¸ªå¯¹è±¡ä¸­çš„<code>key</code>é›†åˆ</td></tr><tr><td>Reflect.preventExtensions()</td><td>ä½¿ä¸€ä¸ªå¯¹è±¡ä¸å¯æ‰©å±•</td></tr><tr><td>Reflect.set()</td><td>è®¾ç½®ä¸€ä¸ªå±æ€§</td></tr><tr><td>Reflect.setPrototypeOf()</td><td>è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹</td></tr></tbody></table><p><code>Reflect</code>å¯¹è±¡ä¸­ä¸€äº›æ–¹æ³•ä¸<code>Object</code>ç›¸åŒï¼Œä½†å®ƒä»¬å­˜åœ¨ä¸€äº›ç»†å¾®çš„åŒºåˆ«ï¼Œå¦‚æœä½ æƒ³æ›´åŠ äº†è§£å¯ä»¥é˜…è¯»<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/Comparing_Reflect_and_Object_methods">Reflectå’ŒObjectä¸­çš„æ–¹æ³•åŒºåˆ«</a>ã€‚</p><p>åœ¨è¿”å›å€¼æ–¹ä¾¿<code>Reflect</code>å¯¹è±¡ä¸­çš„æ–¹æ³•è®¾è®¡çš„æ›´åŠ åˆç†ã€‚æ¯”å¦‚<code>defineProperty</code>æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å°†å±æ€§è®¾ç½®æˆåŠŸï¼Œåœ¨<code>Reflect</code>ä¸­ä¼šè¿”å›<code>boolean</code>å€¼ï¼Œè€Œ<code>Object</code>å¯¹è±¡ä¸­å¦‚æœæ²¡æœ‰å®šä¹‰æˆåŠŸåˆ™ä¼šæŠ›å‡º<code>TypeError</code>ã€‚</p><h4 id="Reflectæ­é…Proxy"><a href="#Reflectæ­é…Proxy" class="headerlink" title="Reflectæ­é…Proxy"></a>Reflectæ­é…Proxy</h4><p><code>Reflect</code>å¯¹è±¡ä¸­çš„æ–¹æ³•å’Œä¸Šä¸€ç¯‡æ–‡ç« å°†åˆ°çš„<code>Proxy</code>å¯¹è±¡çš„æ–¹æ³•çš„å¯¹åº”çš„ï¼Œ<code>Proxy</code>å¯¹è±¡ä¸­çš„æ–¹æ³•ä¹Ÿèƒ½åœ¨<code>Reflect</code>å¯¹è±¡ä¸­è°ƒç”¨ã€‚</p><p>é€šå¸¸æˆ‘ä»¬å°†<code>Reflect</code>å¯¹è±¡æ­é…<code>Proxy</code>ä¸€èµ·ä½¿ç”¨ï¼Œæˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ª<code>Reflect</code>æ­é…<code>Proxy</code>å¯¹è±¡ä½¿ç”¨çš„æ¡ˆä¾‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;_island&quot;</span><br>&#125;;<br><br><span class="hljs-keyword">const</span> objProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, &#123;<br>  <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">target, key, receiver</span>) &#123;<br>    <span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span><br>    <span class="hljs-comment">// return target[key]</span><br>    <span class="hljs-comment">// ä½¿ç”¨Reflect</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);<br>  &#125;,<br>  <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">target, key, newVal, receiver</span>) &#123;<br>    <span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span><br>    <span class="hljs-comment">// target[key]=newVal</span><br>    <span class="hljs-comment">// ä½¿ç”¨Reflect</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, newVal, receiver);<br>  &#125;,<br>&#125;);<br><br>objProxy.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objProxy.<span class="hljs-property">name</span>); <span class="hljs-comment">// abc</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢ï¼Œ<code>Proxy</code>å¯¹è±¡ä¸­<code>get</code>ã€<code>set</code>æ•è·å™¨å¤šäº†ä¸€ä¸ª<code>receiver</code>å‚æ•°ï¼Œè¿™æ˜¯è¿™ä¸¤ä¸ªæ•è·å™¨ç‰¹æœ‰çš„ï¼Œè¿™ä¸ª<code>receiver</code>å‚æ•°æ˜¯å½“å‰ä»£ç†çš„ç›®æ ‡ã€‚</p><p>å½“<code>Proxy</code>å’Œ<code>Reflect</code>æ­é…ä½¿ç”¨æ—¶ï¼Œ<code>Proxy</code>å¯¹è±¡ä¼šæ‹¦æˆªå¯¹åº”çš„æ“ä½œï¼Œåè€…å®Œæˆå¯¹åº”çš„æ“ä½œï¼Œå¦‚æœä¼ å…¥<code>receiver</code>ï¼Œé‚£ä¹ˆ<code>Reflect.get</code>å±æ€§ä¼šè§¦å‘<code>Proxy.defineProperty</code>æ•è·å™¨ã€‚æˆ‘ä»¬å†ä¸Šé¢è¿™é‡Œæ¡ˆä¾‹ä¸Šå†æ–°å¢ä¸€äº›ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;_island&quot;</span><br>&#125;;<br><br><span class="hljs-keyword">const</span> objProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, &#123;<br>  <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">target, key, receiver</span>) &#123;<br>    <span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span><br>    <span class="hljs-comment">// return target[key]</span><br>    <span class="hljs-comment">// ä½¿ç”¨Reflect</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(receiver);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);<br>  &#125;,<br>  <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">target, key, newVal, receiver</span>) &#123;<br>    <span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span><br>    <span class="hljs-comment">// target[key]=newVal</span><br>    <span class="hljs-comment">// ä½¿ç”¨Reflect</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, newVal, receiver);<br>  &#125;,<br>  <span class="hljs-attr">defineProperty</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">target, key, attr</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;defineProperty&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target, key, attr);<br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">defineProperty</span>(target, key, attr);<br>  &#125;<br>&#125;);<br><br>objProxy.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(objProxy.<span class="hljs-property">name</span>); <br><span class="hljs-comment">// defineProperty</span><br><span class="hljs-comment">// &#123; name: &#x27;_island&#x27; &#125; name &#123; value: &#x27;abc&#x27; &#125;</span><br><span class="hljs-comment">// &#123; name: &#x27;abc&#x27; &#125;</span><br><span class="hljs-comment">// abc</span><br></code></pre></td></tr></table></figure><p>ä¼ å…¥åœ¨æˆ‘ä»¬è·å–ä»£ç†å¯¹è±¡ä¸­çš„<code>name</code>å±æ€§æ—¶ï¼Œå½“<code>Reflect</code>æœ‰<code>receiver</code>å‚æ•°ä¼ å…¥æ—¶ï¼Œè·å–å±æ€§å€¼æ—¶ä¼šè·å–åˆ°<code>receiver</code>ä¸­çš„ï¼Œæ‰€ä»¥ä¼šè§¦å‘<code>defineProperty</code>æ•è·å™¨ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥<code>receiver</code>å‚æ•°ï¼Œåˆ™ä¸ä¼šè§¦å‘<code>defineProperty</code>æ•è·å™¨ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li><code>Reflect</code>å¯¹è±¡ä¸­é›†åˆäº†<code>JavaScript</code>å†…éƒ¨æ–¹æ³•</li><li>æ“ä½œ<code>Object</code>å¯¹è±¡çš„æ–¹å¼å˜æˆäº†å‡½æ•°è¡Œä¸º</li><li><code>Reflect</code>å¯¹è±¡ä¸­çš„æ–¹æ³•è¿”å›ç»“æœæ›´åŠ åˆç†</li></ul>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Reflect</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue3çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼</title>
    <link href="/blog/2022/03/02/vue-component-communication/"/>
    <url>/blog/2022/03/02/vue-component-communication/</url>
    
    <content type="html"><![CDATA[<h1 id="Vue3çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#Vue3çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="Vue3çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼"></a>Vue3çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼</h1><h2 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h2><p>æœ¬ç¯‡æ–‡ç« æ˜¯å…¨éƒ¨é‡‡ç”¨çš„è¿™ç§ç»„åˆå¼APIå†™æ³•ï¼Œç›¸å¯¹äºé€‰é¡¹å¼æ¥è¯´ï¼Œç»„åˆå¼APIè¿™ç§å†™æ³•æ›´åŠ è‡ªç”±ï¼Œå…·ä½“å¯ä»¥å‚è€ƒVueæ–‡æ¡£å¯¹ä¸¤ç§æ–¹å¼çš„æè¿°ã€‚</p><p>ä¸ƒç§ç»„ä»¶é€šä¿¡æ–¹å¼ï¼š</p><ul><li>props</li><li>emit</li><li>v-model</li><li>refs</li><li>provide&#x2F;inject</li><li>eventBus</li><li>vuex&#x2F;pinia(çŠ¶æ€ç®¡ç†å·¥å…·)</li></ul><h2 id="äºŒ-Propsæ–¹å¼"><a href="#äºŒ-Propsæ–¹å¼" class="headerlink" title="äºŒ.Propsæ–¹å¼"></a>äºŒ.Propsæ–¹å¼</h2><p><code>Props</code>æ–¹å¼æ˜¯Vueä¸­æœ€å¸¸è§çš„ä¸€ç§<strong>çˆ¶ä¼ å­</strong>çš„ä¸€ç§æ–¹å¼ï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„demoï¼Œæˆ‘ä»¬å°†æ•°æ®ä»¥åŠå¯¹æ•°æ®çš„æ“ä½œå®šä¹‰åœ¨çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶ä»…åšåˆ—è¡¨çš„ä¸€ä¸ªæ¸²æŸ“ï¼›</p><p>çˆ¶ç»„ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child-components</span> <span class="hljs-attr">:list</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-components</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child-wrap input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;value&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-append&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAdd&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br>        æ·»åŠ <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponents</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./child.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;HTML&#x27;</span>, <span class="hljs-string">&#x27;CSS&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> value = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-comment">// add è§¦å‘åçš„äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">  list.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(value.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">  value.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å­ç»„ä»¶åªéœ€è¦å¯¹çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼è¿›è¡Œæ¸²æŸ“å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent list-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in props.list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; defineProps &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>(&#123;</span><br><span class="language-javascript">  <span class="hljs-attr">list</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Array</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> [],</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="ä¸‰-emitæ–¹å¼"><a href="#ä¸‰-emitæ–¹å¼" class="headerlink" title="ä¸‰.emitæ–¹å¼"></a>ä¸‰.emitæ–¹å¼</h2><p><code>emit</code>æ–¹å¼ä¹Ÿæ˜¯Vueä¸­æœ€å¸¸è§çš„ç»„ä»¶é€šä¿¡æ–¹å¼ï¼Œè¯¥æ–¹å¼ç”¨äº<strong>å­ä¼ çˆ¶</strong>ï¼›</p><p>æ ¹æ®ä¸Šé¢çš„demoï¼Œæˆ‘ä»¬å°†åˆ—è¡¨å®šä¹‰åœ¨çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶åªéœ€è¦ä¼ é€’æ·»åŠ çš„å€¼å³å¯ã€‚</p><p>å­ç»„ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child-wrap input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;value&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-append&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleSubmit&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br>        æ·»åŠ <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref, defineEmits &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> value = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> emits = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&#x27;add&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">emits</span>(<span class="hljs-string">&#x27;add&#x27;</span>, value.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">  value.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨å­ç»„ä»¶ä¸­ç‚¹å‡»ã€æ·»åŠ ã€‘æŒ‰é’®åï¼Œ<code>emit</code>ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶å°†æ·»åŠ çš„å€¼ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p><p>çˆ¶ç»„ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent list-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child-components</span> @<span class="hljs-attr">add</span>=<span class="hljs-string">&quot;handleAdd&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-components</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponents</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./child.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;HTML&#x27;</span>, <span class="hljs-string">&#x27;CSS&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-comment">// add è§¦å‘åçš„äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = value =&gt; &#123;</span><br><span class="language-javascript">  list.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(value)</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨çˆ¶ç»„ä»¶ä¸­åªéœ€è¦ç›‘å¬å­ç»„ä»¶è‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œç„¶åæ‰§è¡Œå¯¹åº”çš„æ·»åŠ æ“ä½œã€‚</p><h2 id="å››-v-modelæ–¹å¼"><a href="#å››-v-modelæ–¹å¼" class="headerlink" title="å››.v-modelæ–¹å¼"></a>å››.v-modelæ–¹å¼</h2><p><code>v-model</code>æ˜¯Vueä¸­ä¸€ä¸ªæ¯”è¾ƒå‡ºè‰²çš„è¯­æ³•ç³–ï¼Œå°±æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">v-model:title</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> /&gt;</span><br><br></code></pre></td></tr></table></figure><p>å°±æ˜¯ä¸‹é¢è¿™æ®µä»£ç çš„ç®€å†™å½¢åŠ¿</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;pageTitle&quot;</span> @<span class="hljs-attr">update:title</span>=<span class="hljs-string">&quot;pageTitle = $event&quot;</span> /&gt;</span><br><br></code></pre></td></tr></table></figure><p><code>v-model</code>ç¡®å®ç®€ä¾¿äº†ä¸å°‘ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ä¸Šé¢é‚£ä¸ªdemoï¼Œå¦‚ä½•ç”¨v-modelå®ç°ã€‚</p><p>å­ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child-wrap input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;value&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-append&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAdd&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br>        æ·»åŠ <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref, defineEmits, defineProps &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> value = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>(&#123;</span><br><span class="language-javascript">  <span class="hljs-attr">list</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Array</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> [],</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> emits = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&#x27;update:list&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-comment">// æ·»åŠ æ“ä½œ</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> arr = props.<span class="hljs-property">list</span></span><br><span class="language-javascript">  arr.<span class="hljs-title function_">push</span>(value.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">  <span class="hljs-title function_">emits</span>(<span class="hljs-string">&#x27;update:list&#x27;</span>, arr)</span><br><span class="language-javascript">  value.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨å­ç»„ä»¶ä¸­æˆ‘ä»¬é¦–å…ˆå®šä¹‰<code>props</code>å’Œ<code>emits</code>ï¼Œç„¶åæ·»åŠ å®Œæˆä¹‹å<code>emit</code>æŒ‡å®šäº‹ä»¶ã€‚</p><blockquote><p>æ³¨ï¼š<code>update:*</code>æ˜¯Vueä¸­çš„å›ºå®šå†™æ³•ï¼Œ<code>*</code>è¡¨ç¤º<code>props</code>ä¸­çš„æŸä¸ªå±æ€§åã€‚</p></blockquote><p>çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å°±æ¯”è¾ƒç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent list-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child-components</span> <span class="hljs-attr">v-model:list</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-components</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponents</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./child.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;HTML&#x27;</span>, <span class="hljs-string">&#x27;CSS&#x27;</span>])</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="äº”-refsæ–¹å¼"><a href="#äº”-refsæ–¹å¼" class="headerlink" title="äº”.refsæ–¹å¼"></a>äº”.refsæ–¹å¼</h2><p>åœ¨ä½¿ç”¨é€‰é¡¹å¼APIæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>this.$refs.name</code>çš„æ–¹å¼è·å–æŒ‡å®šå…ƒç´ æˆ–è€…ç»„ä»¶ï¼Œä½†æ˜¯ç»„åˆå¼APIä¸­å°±æ— æ³•ä½¿ç”¨å“ªç§æ–¹å¼è·å–ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦é€šè¿‡<code>ref</code>çš„æ–¹å¼è·å–ç»„ä»¶æˆ–è€…å…ƒç´ ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªåŒåçš„Refå¯¹è±¡ï¼Œåœ¨ç»„ä»¶æŒ‚è½½åå°±å¯ä»¥è®¿é—®äº†ã€‚</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent list-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in childRefs?.list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span><br>      &#123;&#123; i &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å­ç»„ä»¶ refçš„å€¼ä¸&lt;script&gt;ä¸­çš„ä¿æŒä¸€è‡´ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child-components</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;childRefs&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-components</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponents</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./child.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> childRefs = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å­ç»„ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child-wrap input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;value&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-append&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAdd&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br>        æ·»åŠ <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref, defineExpose &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;HTML&#x27;</span>, <span class="hljs-string">&#x27;CSS&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> value = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-comment">// add è§¦å‘åçš„äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">  list.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(value.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">  value.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"><span class="hljs-title function_">defineExpose</span>(&#123; list &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>setup</code>ç»„ä»¶é»˜è®¤æ˜¯å…³é—­çš„ï¼Œä¹Ÿå³é€šè¿‡æ¨¡æ¿<code>ref</code>è·å–åˆ°çš„ç»„ä»¶çš„å…¬å¼€å®ä¾‹ï¼Œä¸ä¼šæš´éœ²ä»»ä½•åœ¨<code>&lt;script setup&gt;</code>ä¸­å£°æ˜çš„ç»‘å®šã€‚å¦‚æœéœ€è¦å…¬å¼€éœ€è¦é€šè¿‡<code>defineExpose</code>APIæš´éœ²ã€‚</p><h2 id="å…­-provide-injectæ–¹å¼"><a href="#å…­-provide-injectæ–¹å¼" class="headerlink" title="å…­.provide&#x2F;injectæ–¹å¼"></a>å…­.provide&#x2F;injectæ–¹å¼</h2><p><code>provide</code>å’Œ<code>inject</code>æ˜¯Vueä¸­æä¾›çš„ä¸€å¯¹APIï¼Œè¯¥APIå¯ä»¥å®ç°çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œæ— è®ºå±‚çº§æœ‰å¤šæ·±ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™å¯¹APIå®ç°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>çˆ¶ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- å­ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child-components</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-components</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child-wrap input-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;value&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input-group-append&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAdd&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span><br>        æ·»åŠ <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; ref, provide &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponents</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./child.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;HTML&#x27;</span>, <span class="hljs-string">&#x27;CSS&#x27;</span>])</span><br><span class="language-javascript"><span class="hljs-keyword">const</span> value = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="language-javascript"><span class="hljs-comment">// å‘å­ç»„ä»¶æä¾›æ•°æ®</span></span><br><span class="language-javascript"><span class="hljs-title function_">provide</span>(<span class="hljs-string">&#x27;list&#x27;</span>, list.<span class="hljs-property">value</span>)</span><br><span class="language-javascript"><span class="hljs-comment">// add è§¦å‘åçš„äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">  list.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(value.<span class="hljs-property">value</span>)</span><br><span class="language-javascript">  value.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å­ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;parent list-group&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;i in list&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;</span>&#123;&#123; i &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; inject &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-comment">// æ¥å—çˆ¶ç»„ä»¶æä¾›çš„æ•°æ®</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">inject</span>(<span class="hljs-string">&#x27;list&#x27;</span>)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ä½¿ç”¨<code>provide</code>è¿›è¡Œæ•°æ®ä¼ é€’æ—¶ï¼Œå°½é‡<code>readonly</code>è¿›è¡Œæ•°æ®çš„åŒ…è£…ï¼Œé¿å…å­ç»„ä»¶ä¿®æ”¹çˆ¶çº§ä¼ é€’è¿‡å»çš„æ•°æ®ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vueç»„ä»¶é€šä¿¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</title>
    <link href="/blog/2022/03/02/js-ArrowFunction-function/"/>
    <url>/blog/2022/03/02/js-ArrowFunction-function/</url>
    
    <content type="html"><![CDATA[<h1 id="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"><a href="#ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"></a>ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</h1><h2 id="ä¸€-ä»‹ç»ç®­å¤´å‡½æ•°-Arrow-Function"><a href="#ä¸€-ä»‹ç»ç®­å¤´å‡½æ•°-Arrow-Function" class="headerlink" title="ä¸€.ä»‹ç»ç®­å¤´å‡½æ•°(Arrow Function)"></a>ä¸€.ä»‹ç»ç®­å¤´å‡½æ•°(Arrow Function)</h2><blockquote><p>ES6ä¸­å…è®¸ä½¿ç”¨â€œç®­å¤´â€<strong>ï¼ˆ&#x3D;&gt;ï¼‰</strong> æ¥å®šä¹‰å‡½æ•°ã€‚ç®­å¤´å‡½æ•°ç›¸å½“äºåŒ¿åå‡½æ•°ï¼Œå¹¶ä¸”ç®€åŒ–äº†å‡½æ•°å®šä¹‰ã€‚</p></blockquote><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ <strong>ï¼ˆ&#x3D;&gt;ï¼‰</strong> æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç®­å¤´å‡½æ•°</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params">name</span>) =&gt; <span class="hljs-string">`æˆ‘æ˜¯<span class="hljs-subst">$&#123;name&#125;</span>`</span><br><span class="hljs-title function_">foo</span>(<span class="hljs-string">&#x27;å—ç–&#x27;</span>) <span class="hljs-comment">// æˆ‘æ˜¯å—ç–</span><br><br><span class="hljs-comment">// ç­‰åŒäºä¸‹é¢è¿™ä¸ªæ™®é€šå‡½æ•°</span><br><span class="hljs-keyword">let</span> foo2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`æˆ‘æ˜¯<span class="hljs-subst">$&#123;name&#125;</span>`</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿<code>{ ... }</code>å’Œ<code>return</code>éƒ½çœç•¥æ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥<code>{ ... }</code>å’Œ<code>return</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-keyword">if</span>(name)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">`æˆ‘æ˜¯<span class="hljs-subst">$&#123;name&#125;</span>`</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;å‰ç«¯å—ç–&#x27;</span><br>&#125;<br><span class="hljs-title function_">foo</span>(<span class="hljs-string">&#x27;å—ç–&#x27;</span>) <span class="hljs-comment">// æˆ‘æ˜¯å—ç–</span><br></code></pre></td></tr></table></figure><p>å¦‚æœç®­å¤´å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå­—é¢é‡å¯¹è±¡ï¼Œåˆ™éœ€è¦ç”¨æ‹¬å·åŒ…è£¹è¯¥å­—é¢é‡å¯¹è±¡è¿”å›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params">name</span>) =&gt; (&#123;<br>    name,<br>    <span class="hljs-attr">job</span>: <span class="hljs-string">&#x27;front end&#x27;</span><br>&#125;)<br><span class="hljs-comment">// ç­‰åŒäº</span><br><span class="hljs-keyword">let</span> foo2 = <span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    name,<br>    <span class="hljs-attr">job</span>: <span class="hljs-string">&#x27;front end&#x27;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äºŒ-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"><a href="#äºŒ-ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«" class="headerlink" title="äºŒ.ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«"></a>äºŒ.ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“å°ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æ¥çœ‹çœ‹ä¸¤è€…åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = name =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><span class="hljs-keyword">let</span> fn2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(fn) <span class="hljs-comment">// </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(fn2) <span class="hljs-comment">// </span><br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//  fn</span><br><span class="hljs-title function_">fn</span>()<br><span class="hljs-attr">length</span>: <span class="hljs-number">1</span><br><span class="hljs-attr">name</span>: <span class="hljs-string">&quot;fn&quot;</span><br><span class="hljs-attr">arguments</span>: (...)<br><span class="hljs-attr">caller</span>: (...)<br>[[<span class="hljs-title class_">FunctionLocation</span>]]: <span class="hljs-title class_">VM62</span>:<span class="hljs-number">1</span><br>[[<span class="hljs-title class_">Prototype</span>]]: Æ’ ()<br><br><span class="hljs-comment">//  fn2</span><br><br>Æ’ <span class="hljs-title function_">fn2</span>(name)<br><span class="hljs-attr">arguments</span>: <span class="hljs-literal">null</span><br><span class="hljs-attr">caller</span>: <span class="hljs-literal">null</span><br><span class="hljs-attr">length</span>: <span class="hljs-number">1</span><br><span class="hljs-attr">name</span>: <span class="hljs-string">&quot;fn2&quot;</span><br><span class="hljs-attr">prototype</span>: &#123;<span class="hljs-attr">constructor</span>: Æ’&#125;<br>[[<span class="hljs-title class_">FunctionLocation</span>]]: <span class="hljs-title class_">VM62</span>:<span class="hljs-number">4</span><br>[[<span class="hljs-title class_">Prototype</span>]]: Æ’ ()<br></code></pre></td></tr></table></figure><p>ä»æ‰“å°ç»“æœæ¥çœ‹ï¼Œç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œç¼ºå°‘äº†<code>callerï¼Œargumentsï¼Œprototype</code></p><h3 id="1-å£°æ˜æ–¹å¼ä¸åŒï¼ŒåŒ¿åå‡½æ•°"><a href="#1-å£°æ˜æ–¹å¼ä¸åŒï¼ŒåŒ¿åå‡½æ•°" class="headerlink" title="1.å£°æ˜æ–¹å¼ä¸åŒï¼ŒåŒ¿åå‡½æ•°"></a>1.å£°æ˜æ–¹å¼ä¸åŒï¼ŒåŒ¿åå‡½æ•°</h3><ul><li>å£°æ˜ä¸€ä¸ªæ™®é€šå‡½æ•°éœ€è¦ä½¿ç”¨å…³é”®å­—<code>function</code>æ¥å®Œæˆï¼Œå¹¶ä¸”ä½¿ç”¨<code>function</code>æ—¢å¯ä»¥å£°æ˜æˆä¸€ä¸ª<strong>å…·åå‡½æ•°</strong>ä¹Ÿå¯ä»¥å£°æ˜æˆä¸€ä¸ª<strong>åŒ¿åå‡½æ•°</strong></li><li>å£°æ˜ä¸€ä¸ªç®­å¤´å‡½æ•°åˆ™åªéœ€è¦ä½¿ç”¨ç®­å¤´å°±å¯ä»¥ï¼Œæ— éœ€ä½¿ç”¨å…³é”®å­—<code>function</code>ï¼Œæ¯”æ™®é€šå‡½æ•°å£°æ˜æ›´ç®€æ´ã€‚</li><li>ç®­å¤´å‡½æ•°åªèƒ½å£°æ˜æˆ<strong>åŒ¿åå‡½æ•°</strong>ï¼Œä½†å¯ä»¥é€šè¿‡è¡¨è¾¾å¼çš„æ–¹å¼è®©ç®­å¤´å‡½æ•°å…·å</li></ul><h3 id="2-thisæŒ‡å‘ä¸åŒ"><a href="#2-thisæŒ‡å‘ä¸åŒ" class="headerlink" title="2.thisæŒ‡å‘ä¸åŒ"></a>2.thisæŒ‡å‘ä¸åŒ</h3><p>å¯¹äºæ™®é€šå‡½æ•°æ¥è¯´ï¼Œå†…éƒ¨çš„<code>this</code>æŒ‡å‘å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸€ç‚¹å¯¹ç®­å¤´å‡½æ•°ä¸æˆç«‹ã€‚å®ƒæ²¡æœ‰è‡ªå·±çš„<code>this</code>å¯¹è±¡ï¼Œå†…éƒ¨çš„<code>this</code>å°±æ˜¯å®šä¹‰æ—¶ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„<code>this</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘æ˜¯å›ºå®šçš„ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå‡½æ•°çš„<code>this</code>æŒ‡å‘æ˜¯å¯å˜çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;å—ç–&#x27;</span><br><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;nanjiu&#x27;</span>,<br>    <span class="hljs-attr">say</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;,<br>    <span class="hljs-attr">say2</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say2:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;<br>&#125;<br>person.<span class="hljs-title function_">say</span>() <span class="hljs-comment">// say: nanjiu</span><br>person.<span class="hljs-title function_">say2</span>() <span class="hljs-comment">// say2: å—ç–</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œç¬¬ä¸€ä¸ª<code>say</code>å®šä¹‰çš„æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå¹¶ä¸”å®ƒæ˜¯ä½œä¸ºå¯¹è±¡<code>person</code>çš„æ–¹æ³•æ¥è¿›è¡Œè°ƒç”¨çš„ï¼Œæ‰€ä»¥å®ƒçš„<code>this</code>æŒ‡å‘çš„å°±æ˜¯<code>person</code>ï¼Œæ‰€ä»¥å®ƒåº”è¯¥ä¼šè¾“å‡º<code>say: nanjiu</code></p><p>è€Œç¬¬äºŒä¸ª<code>say2</code>å®šä¹‰çš„æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬çŸ¥é“ç®­å¤´å‡½æ•°æœ¬èº«æ²¡æœ‰<code>this</code>ï¼Œå®ƒçš„<code>this</code>æ°¸è¿œæŒ‡å‘å®ƒå®šä¹‰æ—¶æ‰€åœ¨çš„ä¸Šå±‚ä½œç”¨åŸŸï¼Œæ‰€ä»¥<code>say2</code>çš„<code>this</code>åº”è¯¥æŒ‡å‘çš„æ˜¯å…¨å±€windowï¼Œæ‰€ä»¥å®ƒä¼šè¾“å‡º<code>say2: å—ç–</code></p><p><strong>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>Babel</code> è½¬ç®­å¤´å‡½æ•°äº§ç”Ÿçš„ <code>ES5</code> ä»£ç æ¥è¯æ˜ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œè€Œæ˜¯å¼•ç”¨çš„ä¸Šå±‚ä½œç”¨åŸŸä¸­<code>this</code>ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES6</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;id:&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span>);<br>  &#125;, <span class="hljs-number">100</span>);<br>&#125;<br><br><span class="hljs-comment">// ES5</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> _this = <span class="hljs-variable language_">this</span>;<br><br>  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;id:&#x27;</span>, _this.<span class="hljs-property">id</span>);<br>  &#125;, <span class="hljs-number">100</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>è½¬æ¢åçš„ ES5 ç‰ˆæœ¬æ¸…æ¥šåœ°è¯´æ˜äº†ï¼Œç®­å¤´å‡½æ•°é‡Œé¢æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œè€Œæ˜¯å¼•ç”¨çš„ä¸Šå±‚ä½œç”¨åŸŸä¸­<code>this</code>ã€‚</p><h3 id="3-ç®­å¤´å‡½æ•°çš„thisæ°¸è¿œä¸ä¼šå˜ï¼Œcallã€applyã€bindä¹Ÿæ— æ³•æ”¹å˜"><a href="#3-ç®­å¤´å‡½æ•°çš„thisæ°¸è¿œä¸ä¼šå˜ï¼Œcallã€applyã€bindä¹Ÿæ— æ³•æ”¹å˜" class="headerlink" title="3.ç®­å¤´å‡½æ•°çš„thisæ°¸è¿œä¸ä¼šå˜ï¼Œcallã€applyã€bindä¹Ÿæ— æ³•æ”¹å˜"></a>3.ç®­å¤´å‡½æ•°çš„thisæ°¸è¿œä¸ä¼šå˜ï¼Œcallã€applyã€bindä¹Ÿæ— æ³•æ”¹å˜</h3><p>æˆ‘ä»¬å¯ä»¥ç”¨callã€applyã€bindæ¥æ”¹å˜æ™®é€šå‡½æ•°çš„thisæŒ‡å‘ï¼Œä½†æ˜¯ç”±äºç®­å¤´å‡½æ•°çš„thisæŒ‡å‘åœ¨å®ƒå®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ï¼Œæ°¸è¿œæŒ‡å‘å®ƒå®šä¹‰æ—¶çš„ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„thisï¼Œæ‰€ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ°¸è¿œä¹Ÿæ”¹å˜ä¸äº†ç®­å¤´å‡½æ•°<code>this</code>çš„æŒ‡å‘ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;å—ç–&#x27;</span><br><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;nanjiu&#x27;</span>,<br>    <span class="hljs-attr">say</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;,<br>    <span class="hljs-attr">say2</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say2:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;<br>&#125;<br><br>person.<span class="hljs-property">say</span>.<span class="hljs-title function_">call</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å°æ˜&#x27;</span>&#125;) <span class="hljs-comment">// say: å°æ˜</span><br>person.<span class="hljs-property">say2</span>.<span class="hljs-title function_">call</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å°çº¢&#x27;</span>&#125;) <span class="hljs-comment">// say2: å—ç–</span><br></code></pre></td></tr></table></figure><p>è¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œåªä¸è¿‡æˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™ä½¿ç”¨<code>call</code>è¯•å›¾æ”¹å˜<code>this</code>æŒ‡å‘ï¼Œç¬¬ä¸€ä¸ª<code>say</code>æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå®ƒç»è¿‡callè°ƒç”¨ï¼Œæ‰“å°å‡ºçš„æ˜¯<code>say: å°æ˜</code>ï¼Œè¿™è¯´æ˜æ™®é€šå‡½æ•°çš„thiså·²ç»æ”¹å˜äº†ï¼Œç¬¬äºŒä¸ª<code>say2</code>æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå®ƒä¹Ÿç»è¿‡callè°ƒç”¨ï¼Œä½†å®ƒæ‰“å°å‡ºçš„ä»ç„¶æ˜¯<code>say2: å—ç–</code>ï¼Œè¿™å°±èƒ½å¤Ÿè¯æ˜<strong>ç®­å¤´å‡½æ•°çš„thisæ°¸è¿œä¸ä¼šå˜ï¼Œå³ä½¿ä½¿ç”¨callã€applyã€bindä¹Ÿæ— æ³•æ”¹å˜</strong></p><h3 id="4-ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype"><a href="#4-ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype" class="headerlink" title="4.ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype"></a>4.ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = name =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><span class="hljs-keyword">let</span> fn2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fn.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-comment">// undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(fn2.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-comment">// &#123;constructor: Æ’&#125;</span><br></code></pre></td></tr></table></figure><h3 id="5-ç®­å¤´å‡½æ•°ä¸èƒ½å½“æˆä¸€ä¸ªæ„é€ å‡½æ•°"><a href="#5-ç®­å¤´å‡½æ•°ä¸èƒ½å½“æˆä¸€ä¸ªæ„é€ å‡½æ•°" class="headerlink" title="5.ç®­å¤´å‡½æ•°ä¸èƒ½å½“æˆä¸€ä¸ªæ„é€ å‡½æ•°"></a>5.ç®­å¤´å‡½æ•°ä¸èƒ½å½“æˆä¸€ä¸ªæ„é€ å‡½æ•°</h3><p>ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½å½“æˆä¸€ä¸ªæ„é€ å‡½æ•°å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥ç”¨<code>new</code>è°ƒç”¨ä¸€ä¸‹çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = name =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><br><span class="hljs-keyword">const</span> f = <span class="hljs-keyword">new</span> <span class="hljs-title function_">fn</span>(<span class="hljs-string">&#x27;nanjiu&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç»“æœç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œè¿™æ ·è°ƒç”¨ä¼šæŠ¥é”™ã€‚</p><p>æˆ‘ä»¬çŸ¥é“newå†…éƒ¨å®ç°å…¶å®æ˜¯åˆ†ä¸ºä»¥ä¸‹å››æ­¥ï¼š</p><ul><li>æ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡</li><li>é“¾æ¥åˆ°åŸå‹</li><li>ç»‘å®šthisï¼Œæ‰§è¡Œæ„é€ å‡½æ•°</li><li>è¿”å›æ–°å¯¹è±¡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">// 1.æ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡</span><br><span class="hljs-keyword">let</span> obj = &#123;&#125;<br><span class="hljs-comment">// 2.è·å¾—æ„é€ å‡½æ•°</span><br><span class="hljs-keyword">let</span> con = <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">__proto__</span>.<span class="hljs-property">constructor</span><br><span class="hljs-comment">// 3.é“¾æ¥åŸå‹</span><br>obj.<span class="hljs-property">__proto__</span> = con.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br><span class="hljs-comment">// 4.ç»‘å®šthisï¼Œæ‰§è¡Œæ„é€ å‡½æ•°</span><br><span class="hljs-keyword">let</span> res = con.<span class="hljs-title function_">apply</span>(obj, <span class="hljs-variable language_">arguments</span>)<br><span class="hljs-comment">// 5.è¿”å›æ–°å¯¹è±¡</span><br><span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> res === <span class="hljs-string">&#x27;object&#x27;</span> ? res : obj<br>&#125;<br></code></pre></td></tr></table></figure><p>å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œå®ƒçš„<code>this</code>å…¶å®æ˜¯ç»§æ‰¿äº†å¤–å±‚æ‰§è¡Œç¯å¢ƒä¸­çš„<code>this</code>ï¼Œä¸”<code>this</code>æŒ‡å‘æ°¸è¿œä¸ä¼šå˜ï¼Œå¹¶ä¸”ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹<code>prototype</code>ï¼Œæ²¡æ³•è®©ä»–çš„å®ä¾‹çš„<code>__proto__</code>å±æ€§æŒ‡å‘ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°ä¹Ÿå°±æ— æ³•ä½œä¸ºæ„é€ å‡½æ•°ï¼Œå¦åˆ™ç”¨<code>new</code>è°ƒç”¨æ—¶ä¼šæŠ¥é”™ï¼</p><h4 id="æ²¡æœ‰new-target"><a href="#æ²¡æœ‰new-target" class="headerlink" title="æ²¡æœ‰new.target"></a>æ²¡æœ‰new.target</h4><p><code>new</code>æ˜¯ä»æ„é€ å‡½æ•°ç”Ÿæˆå®ä¾‹å¯¹è±¡çš„å‘½ä»¤ã€‚ES6 ä¸º<code>new</code>å‘½ä»¤å¼•å…¥äº†ä¸€ä¸ª<code>new.target</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¸€èˆ¬ç”¨åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè¿”å›<code>new</code>è°ƒç”¨çš„é‚£ä¸ªæ„é€ å‡½æ•°ã€‚å¦‚æœæ„é€ å‡½æ•°ä¸æ˜¯é€šè¿‡<code>new</code>å‘½ä»¤æˆ–<code>Reflect.construct()</code>è°ƒç”¨çš„ï¼Œ<code>new.target</code>ä¼šè¿”å›<code>undefined</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥ç¡®å®šæ„é€ å‡½æ•°æ˜¯æ€ä¹ˆè°ƒç”¨çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn:&#x27;</span>,<span class="hljs-keyword">new</span>.<span class="hljs-property">target</span>)<br>&#125;<br><br><span class="hljs-title function_">fn</span>(<span class="hljs-string">&#x27;nanjiu&#x27;</span>) <span class="hljs-comment">// undefined</span><br><span class="hljs-keyword">new</span> <span class="hljs-title function_">fn</span>(<span class="hljs-string">&#x27;nanjiu&#x27;</span>) <br><span class="hljs-comment">/*</span><br><span class="hljs-comment">fn: Æ’ fn(name) &#123;</span><br><span class="hljs-comment">    console.log(&#x27;fn:&#x27;,new.target)</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn2</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn2&#x27;</span>,<span class="hljs-keyword">new</span>.<span class="hljs-property">target</span>)<br>&#125;<br><span class="hljs-title function_">fn2</span>(<span class="hljs-string">&#x27;nan&#x27;</span>) <span class="hljs-comment">// æŠ¥é”™ Uncaught SyntaxError: new.target expression is not allowed here</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ul><li><code>new.target</code>å±æ€§ä¸€èˆ¬ç”¨åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè¿”å›<code>new</code>è°ƒç”¨çš„é‚£ä¸ªæ„é€ å‡½æ•°</li><li>ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œåœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨<code>new.target</code>ä¼šæŠ¥é”™</li><li>ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘æ™®é€šå‡½æ•°ï¼Œå®ƒçš„<code>new.target</code>å°±æ˜¯æŒ‡å‘è¯¥æ™®é€šå‡½æ•°çš„å¼•ç”¨</li></ul><h3 id="6-ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments"><a href="#6-ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments" class="headerlink" title="6.ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments"></a>6.ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments</h3><h4 id="ç®­å¤´å‡½æ•°å¤„äºå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œåˆ™æ²¡æœ‰arguments"><a href="#ç®­å¤´å‡½æ•°å¤„äºå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œåˆ™æ²¡æœ‰arguments" class="headerlink" title="ç®­å¤´å‡½æ•°å¤„äºå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œåˆ™æ²¡æœ‰arguments"></a>ç®­å¤´å‡½æ•°å¤„äºå…¨å±€ä½œç”¨åŸŸä¸­ï¼Œåˆ™æ²¡æœ‰arguments</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = name =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>)<br>&#125;<br><span class="hljs-keyword">let</span> fn2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>)<br>&#125;<br><span class="hljs-title function_">fn2</span>() <span class="hljs-comment">// Arguments [callee: Æ’, Symbol(Symbol.iterator): Æ’]</span><br><span class="hljs-title function_">fn</span>()  <span class="hljs-comment">// æŠ¥é”™ Uncaught ReferenceError: arguments is not defined</span><br></code></pre></td></tr></table></figure><p>è¿˜æ˜¯ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥æ¯”è¾ƒï¼Œæ™®é€šå‡½æ•°èƒ½å¤Ÿæ‰“å°å‡º<code>arguments</code>ï¼Œç®­å¤´å‡½æ•°ä½¿ç”¨<code>arguments</code>åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºç®­å¤´å‡½æ•°è‡ªèº«æ˜¯æ²¡æœ‰argumentsçš„ï¼Œç„¶åå®ƒä¼šå¾€ä¸Šå±‚ä½œç”¨åŸŸä¸­å»æŸ¥æ‰¾<code>arguments</code>ï¼Œç”±äºå…¨å±€ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰å®šä¹‰<code>arguments</code>ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><h4 id="ç®­å¤´å‡½æ•°å¤„äºæ™®é€šå‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œargumentsåˆ™æ˜¯ä¸Šå±‚æ™®é€šå‡½æ•°çš„arguments"><a href="#ç®­å¤´å‡½æ•°å¤„äºæ™®é€šå‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œargumentsåˆ™æ˜¯ä¸Šå±‚æ™®é€šå‡½æ•°çš„arguments" class="headerlink" title="ç®­å¤´å‡½æ•°å¤„äºæ™®é€šå‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œargumentsåˆ™æ˜¯ä¸Šå±‚æ™®é€šå‡½æ•°çš„arguments"></a>ç®­å¤´å‡½æ•°å¤„äºæ™®é€šå‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œargumentsåˆ™æ˜¯ä¸Šå±‚æ™®é€šå‡½æ•°çš„arguments</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> fn2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn2:&#x27;</span>,<span class="hljs-variable language_">arguments</span>)<br>    <span class="hljs-keyword">let</span> <span class="hljs-title function_">fn</span> = name =&gt; &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn:&#x27;</span>,<span class="hljs-variable language_">arguments</span>)<br>    &#125;<br>    <span class="hljs-title function_">fn</span>()<br>&#125;<br><span class="hljs-title function_">fn2</span>(<span class="hljs-string">&#x27;nanjiu&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä¸¤ä¸ªå‡½æ•°æ‰“å°çš„<code>arguments</code>ç›¸åŒï¼Œéƒ½æ˜¯fn2å‡½æ•°çš„<code>arguments</code>ã€‚</p><h4 id="å¯ä»¥ä½¿ç”¨restå‚æ•°ä»£æ›¿"><a href="#å¯ä»¥ä½¿ç”¨restå‚æ•°ä»£æ›¿" class="headerlink" title="å¯ä»¥ä½¿ç”¨restå‚æ•°ä»£æ›¿"></a>å¯ä»¥ä½¿ç”¨restå‚æ•°ä»£æ›¿</h4><p>ES6 å¼•å…¥ <code>rest</code> å‚æ•°ï¼Œç”¨äºè·å–å‡½æ•°ä¸å®šæ•°é‡çš„å‚æ•°æ•°ç»„ï¼Œè¿™ä¸ªAPIæ˜¯ç”¨æ¥æ›¿ä»£<code>arguments</code>çš„ï¼Œå½¢å¼ä¸º<code>...å˜é‡å</code>ï¼Œrest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn3</span> = (<span class="hljs-params">a,...arr</span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a,arr) <span class="hljs-comment">//1, [2,3,4,5,6]</span><br>&#125;<br><br><span class="hljs-title function_">fn3</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)<br></code></pre></td></tr></table></figure><p><strong>ä¸Šé¢å°±æ˜¯restå‚æ•°çš„åŸºæœ¬ç”¨æ³•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š</strong></p><ul><li><code>rest</code>å‚æ•°åªèƒ½ä½œä¸ºå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æŠ¥é”™</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">a, ...b, c</span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å‡½æ•°çš„<code>length</code>å±æ€§ï¼Œä¸åŒ…æ‹¬<code>rest</code>å‚æ•°</li></ul><p><strong>restå‚æ•°ä¸argumentsçš„æ¯”è¾ƒï¼š</strong></p><ul><li>ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨<code>rest</code>å‚æ•°ï¼Œè€Œ<code>arguments</code>åªèƒ½æ™®é€šå‡½æ•°ä½¿ç”¨</li><li>æ¥å—å‚æ•°<code>rest</code>æ¯”<code>arguments</code>æ›´åŠ çµæ´»</li><li><code>rest</code>å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œ<code>arguments</code>æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨æ•°ç»„æ–¹æ³•</li></ul><h3 id="7-ç®­å¤´å‡½æ•°ä¸èƒ½é‡å¤å‡½æ•°å‚æ•°åç§°"><a href="#7-ç®­å¤´å‡½æ•°ä¸èƒ½é‡å¤å‡½æ•°å‚æ•°åç§°" class="headerlink" title="7.ç®­å¤´å‡½æ•°ä¸èƒ½é‡å¤å‡½æ•°å‚æ•°åç§°"></a>7.ç®­å¤´å‡½æ•°ä¸èƒ½é‡å¤å‡½æ•°å‚æ•°åç§°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">name,name</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn2:&#x27;</span>,name)<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-title function_">fn2</span> = (<span class="hljs-params">name,name</span>) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;fn&#x27;</span>,name)<br>&#125;<br><span class="hljs-title function_">fn</span>(<span class="hljs-string">&#x27;nan&#x27;</span>,<span class="hljs-string">&#x27;jiu&#x27;</span>) <span class="hljs-comment">// &#x27;jiu&#x27;</span><br><span class="hljs-title function_">fn2</span>(<span class="hljs-string">&#x27;nan&#x27;</span>,<span class="hljs-string">&#x27;jiu&#x27;</span>) <span class="hljs-comment">// æŠ¥é”™</span><br></code></pre></td></tr></table></figure><h3 id="8-ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ-Generator-å‡½æ•°ã€‚"><a href="#8-ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ-Generator-å‡½æ•°ã€‚" class="headerlink" title="8.ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚"></a>8.ä¸å¯ä»¥ä½¿ç”¨<code>yield</code>å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</h3><p>è¿™ä¸ªå¯èƒ½æ˜¯ç”±äºå†å²åŸå› å“ˆï¼ŒTC39 åœ¨ 2013 å¹´å’Œ 2016 å¹´åˆ†åˆ«è®¨è®ºè¿‡ä¸¤æ¬¡ï¼Œä»<code>*()</code>ã€<code>*=&gt;</code>ã€<code>=*&gt;</code>ã€<code>=&gt;*</code> ä¸­é€‰å‡ºäº†<code>=&gt;*</code>ï¼Œå‹‰å¼ºè¿›å…¥äº† stage 1ã€‚è€Œä¸”å› ä¸ºæœ‰äº†<strong>å¼‚æ­¥ç”Ÿæˆå™¨ï¼ˆasync generatorï¼‰</strong>ï¼Œæ‰€ä»¥è¿˜å¾—åŒæ—¶è€ƒè™‘**å¼‚æ­¥ç®­å¤´ç”Ÿæˆå™¨ï¼ˆasync arrow generatorï¼‰**çš„ä¸œè¥¿ï¼Œä¹‹å‰ç”Ÿæˆå™¨ 99.999% çš„ç”¨é€”éƒ½æ˜¯æ‹¿å®ƒæ¥å®ç°<code>å¼‚æ­¥ç¼–ç¨‹</code>ï¼Œå¹¶ä¸æ˜¯çœŸçš„éœ€è¦ç”Ÿæˆå™¨æœ¬æ¥çš„ç”¨é€”ï¼Œè‡ªä»æœ‰äº† <code>async/await</code>ï¼Œ<code>generator</code>ç”Ÿæˆå™¨è¶Šæ¥è¶Šæ²¡äººç”¨äº†ã€‚çŒœæµ‹å¯èƒ½æ˜¯å› ä¸ºè¿™ä¸ªåŸå› æ·»åŠ ä¸€ä¸ªä½¿ç”¨é¢‘ç‡ä¸é«˜çš„è¯­æ³•ï¼Œç»™è§„èŒƒå¸¦æ¥è¾ƒå¤§çš„å¤æ‚åº¦å¯èƒ½ä¸å€¼å½“ã€‚</p><h2 id="ä¸‰-ç®­å¤´å‡½æ•°ä¸é€‚ç”¨åœºæ™¯"><a href="#ä¸‰-ç®­å¤´å‡½æ•°ä¸é€‚ç”¨åœºæ™¯" class="headerlink" title="ä¸‰.ç®­å¤´å‡½æ•°ä¸é€‚ç”¨åœºæ™¯"></a>ä¸‰.ç®­å¤´å‡½æ•°ä¸é€‚ç”¨åœºæ™¯</h2><h3 id="å¯¹è±¡æ–¹æ³•ï¼Œä¸”æ–¹æ³•ä¸­ä½¿ç”¨äº†this"><a href="#å¯¹è±¡æ–¹æ³•ï¼Œä¸”æ–¹æ³•ä¸­ä½¿ç”¨äº†this" class="headerlink" title="å¯¹è±¡æ–¹æ³•ï¼Œä¸”æ–¹æ³•ä¸­ä½¿ç”¨äº†this"></a>å¯¹è±¡æ–¹æ³•ï¼Œä¸”æ–¹æ³•ä¸­ä½¿ç”¨äº†this</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;å—ç–&#x27;</span><br><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;nanjiu&#x27;</span>,<br>    <span class="hljs-attr">say</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;,<br>    <span class="hljs-attr">say2</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;say2:&#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;<br>&#125;<br><br>person.<span class="hljs-title function_">say</span>() <span class="hljs-comment">// say: nanjiu</span><br>person.<span class="hljs-title function_">say2</span>() <span class="hljs-comment">//say2: å—ç–</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>person.say2()</code>æ–¹æ³•æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè°ƒç”¨<code>person.say2()</code>æ—¶ï¼Œä½¿å¾—<code>this</code>æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå› æ­¤ä¸ä¼šå¾—åˆ°é¢„æœŸç»“æœã€‚è¿™æ˜¯å› ä¸ºå¯¹è±¡ä¸æ„æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œå¯¼è‡´<code>say2()</code>ç®­å¤´å‡½æ•°å®šä¹‰æ—¶çš„ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚è€Œ<code>say()</code>å®šä¹‰çš„æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå®ƒå†…éƒ¨çš„thiså°±æŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ä½¿ç”¨æ™®é€šå‡½æ•°ç¬¦åˆé¢„æœŸã€‚</p><h3 id="å½“å‡½æ•°éœ€è¦åŠ¨æ€thisæ—¶"><a href="#å½“å‡½æ•°éœ€è¦åŠ¨æ€thisæ—¶" class="headerlink" title="å½“å‡½æ•°éœ€è¦åŠ¨æ€thisæ—¶"></a>å½“å‡½æ•°éœ€è¦åŠ¨æ€thisæ—¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.btn&#x27;</span>);<br>button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;on&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¾ˆæ˜¾ç„¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºæŒ‰é’®ç‚¹å‡»çš„å›è°ƒæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè€Œç®­å¤´å‡½æ•°å†…éƒ¨çš„<code>this</code>æ°¸è¿œéƒ½æ˜¯æŒ‡å‘å®ƒçš„ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„thisï¼Œåœ¨è¿™é‡Œå°±æ˜¯<code>window</code>ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚è¿™é‡Œåªéœ€è¦å°†ç®­å¤´å‡½æ•°æ”¹æˆæ™®é€šå‡½æ•°å°±èƒ½æ­£å¸¸è°ƒç”¨äº†ï¼</p><h2 id="å››-ï½ç»ƒä¹ "><a href="#å››-ï½ç»ƒä¹ " class="headerlink" title="å››.ï½ç»ƒä¹ "></a>å››.ï½ç»ƒä¹ </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;å—ç–&#x27;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span> (<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo1</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>  &#125;,<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo2</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>),<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo3</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;<br>  &#125;,<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo4</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;nan&#x27;</span>)<br><span class="hljs-keyword">var</span> person2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;jiu&#x27;</span>)<br><br>person1.<span class="hljs-title function_">foo1</span>() <span class="hljs-comment">// &#x27;nan&#x27;</span><br>person1.<span class="hljs-property">foo1</span>.<span class="hljs-title function_">call</span>(person2) <span class="hljs-comment">// &#x27;jiu&#x27;</span><br><br>person1.<span class="hljs-title function_">foo2</span>() <span class="hljs-comment">// &#x27;nan&#x27;</span><br>person1.<span class="hljs-property">foo2</span>.<span class="hljs-title function_">call</span>(person2) <span class="hljs-comment">// &#x27;nan&#x27;</span><br><br>person1.<span class="hljs-title function_">foo3</span>()() <span class="hljs-comment">// &#x27;å—ç–&#x27;</span><br>person1.<span class="hljs-property">foo3</span>.<span class="hljs-title function_">call</span>(person2)() <span class="hljs-comment">// &#x27;å—ç–&#x27;</span><br>person1.<span class="hljs-title function_">foo3</span>().<span class="hljs-title function_">call</span>(person2) <span class="hljs-comment">// &#x27;jiu&#x27;</span><br><br>person1.<span class="hljs-title function_">foo4</span>()() <span class="hljs-comment">// &#x27;nan&#x27;</span><br>person1.<span class="hljs-property">foo4</span>.<span class="hljs-title function_">call</span>(person2)() <span class="hljs-comment">// &#x27;jiu&#x27;</span><br>person1.<span class="hljs-title function_">foo4</span>().<span class="hljs-title function_">call</span>(person2) <span class="hljs-comment">// &#x27;nan&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>è§£æï¼š</strong></p><p>å…¨å±€ä»£ç æ‰§è¡Œï¼Œ<code>person1 = new Person(&#39;nan&#39;),person2 = new Person(&#39;jiu&#39;)</code>æ‰§è¡Œå®Œï¼Œ<code>person1</code>ä¸­çš„<code>this.name</code>ä¸º<code>nan</code>ï¼Œ<code>person2</code>ä¸­çš„<code>this.name</code>ä¸º<code>jiu</code>ï¼ŒOKè¿™ä¸€ç‚¹æ¸…æ¥šåï¼Œç»§ç»­å¾€ä¸‹çœ‹ï¼š</p><ul><li>æ‰§è¡Œ<code>person1.foo1()</code>ï¼Œ<code>foo1</code>ä¸ºæ™®é€šå‡½æ•°ï¼Œæ‰€ä»¥thisåº”è¯¥æŒ‡å‘<code>person1</code>ï¼Œæ‰“å°å‡º<code>nan</code></li><li>æ‰§è¡Œ<code>person1.foo1.call(person2)</code>ï¼Œ<code>foo1</code>ä¸ºæ™®é€šå‡½æ•°ï¼Œå¹¶ä¸”ç”¨callæ”¹å˜äº†thisæŒ‡å‘ï¼Œæ‰€ä»¥å®ƒé‡Œé¢çš„thisåº”è¯¥æŒ‡å‘<code>person2</code>ï¼Œæ‰“å°å‡º<code>jiu</code></li><li>æ‰§è¡Œ<code>person1.foo2()</code>ï¼Œ<code>foo2</code>ä¸ºç®­å¤´å‡½æ•°ï¼Œå®ƒçš„thisæŒ‡å‘ä¸Šå±‚ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯person1ï¼Œæ‰€ä»¥æ‰“å°å‡º<code>nan</code></li><li>æ‰§è¡Œ<code>person1.foo2.call(person2)</code>ï¼Œç®­å¤´å‡½æ•°çš„thisæŒ‡å‘æ— æ³•ä½¿ç”¨callæ”¹å˜ï¼Œæ‰€ä»¥å®ƒçš„thisè¿˜æ˜¯æŒ‡å‘person1ï¼Œæ‰“å°å‡º<code>nan</code></li><li>æ‰§è¡Œ<code>person1.foo3()()</code>ï¼Œè¿™é‡Œå…ˆæ‰§è¡Œ<code>person1.foo3()</code>ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ª<strong>æ™®é€šå‡½æ•°</strong>ï¼Œæ¥ç€å†æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ­¤æ—¶å°±ç›¸å½“äºåœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ‰§è¡Œäº†ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œæ‰€ä»¥å®ƒçš„thisæŒ‡å‘windowï¼Œæ‰“å°å‡º<code>å—ç–</code></li><li>æ‰§è¡Œ<code>person1.foo3.call(person2)()</code>è¿™ä¸ªä¸ä¸Šé¢ç±»ä¼¼ï¼Œä¹Ÿæ˜¯è¿”å›äº†ä¸€ä¸ª<strong>æ™®é€šå‡½æ•°</strong>å†æ‰§è¡Œï¼Œå…¶å®å‰é¢çš„æ‰§è¡Œéƒ½ä¸ç”¨å…³å¿ƒï¼Œå®ƒä¹Ÿæ˜¯ç›¸å½“äºåœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ‰§è¡Œäº†ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œæ‰€ä»¥å®ƒçš„thisæŒ‡å‘windowï¼Œæ‰“å°å‡º<code>å—ç–</code></li><li>æ‰§è¡Œ<code>person1.foo3().call(person2)</code>è¿™é‡Œå°±æ˜¯æŠŠfoo3è¿”å›çš„<strong>æ™®é€šå‡½æ•°</strong>çš„thisç»‘å®šåˆ°person2ä¸Šï¼Œæ‰€ä»¥æ‰“å°å‡º<code>jiu</code></li><li>æ‰§è¡Œ<code>person1.foo4()()</code>ï¼Œå…ˆæ‰§è¡Œ<code>person1.foo4()</code>è¿”å›äº†ä¸€ä¸ª<strong>ç®­å¤´å‡½æ•°</strong>ï¼Œå†æ‰§è¡Œè¿™ä¸ªç®­å¤´å‡½æ•°ï¼Œç”±äºç®­å¤´å‡½æ•°çš„thiså§‹ç»ˆæŒ‡å‘å®ƒçš„ä¸Šå±‚ä½œç”¨åŸŸï¼Œæ‰€ä»¥æ‰“å°å‡º<code>nan</code></li><li>æ‰§è¡Œ<code>person1.foo4.call(person2)()</code>ï¼Œä¸ä¸Šé¢ç±»ä¼¼åªä¸è¿‡ä½¿ç”¨callæŠŠä¸Šå±‚ä½œç”¨åŸŸçš„thisæ”¹æˆäº†person2ï¼Œæ‰€ä»¥æ‰“å°å‡º<code>jiu</code></li><li>æ‰§è¡Œ<code>person1.foo4().call(person2)</code>ï¼Œè¿™é‡Œæ˜¯å…ˆæ‰§è¡Œäº†<code>person1.foo4()</code>ï¼Œè¿”å›äº†ç®­å¤´å‡½æ•°ï¼Œå†è¯•å›¾é€šè¿‡callæ”¹å˜æ”¹å˜è¯¥ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘ï¼Œä¸Šé¢æˆ‘ä»¬è¯´åˆ°<strong>ç®­å¤´å‡½æ•°çš„thiså§‹ç»ˆæŒ‡å‘å®ƒçš„ä¸Šå±‚ä½œç”¨åŸŸ</strong>ï¼Œæ‰€ä»¥æ‰“å°å‡º<code>nan</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®­å¤´å‡½æ•°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</title>
    <link href="/blog/2022/02/21/js-eventLoop/"/>
    <url>/blog/2022/02/21/js-eventLoop/</url>
    
    <content type="html"><![CDATA[<h1 id="JSå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#JSå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="JSå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>JSå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h1><h3 id="ä¸€-å‰è¨€"><a href="#ä¸€-å‰è¨€" class="headerlink" title="ä¸€.å‰è¨€"></a>ä¸€.å‰è¨€</h3><p>äº†è§£å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹äº‹ä»¶å¾ªç¯å’Œä»»åŠ¡é˜Ÿåˆ—ï¼Œè¿˜è¦éœ€è¦çŸ¥é“çš„ä¸“ä¸šåè¯æœ¯è¯­ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">synchronousï¼šåŒæ­¥ä»»åŠ¡<br>asynchronousï¼šå¼‚æ­¥ä»»åŠ¡<br>execution context stackï¼šæ‰§è¡Œæ ˆ<br>heapï¼šå †<br>stackï¼šæ ˆ<br></code></pre></td></tr></table></figure><h4 id="äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰"><a href="#äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰" class="headerlink" title="äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰"></a>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰</h4><p>â€‹JavaScript è¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹ï¼ŒåŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ã€‚ä¸ºäº†åè°ƒäº‹ä»¶ã€ç”¨æˆ·äº¤äº’ã€è„šæœ¬ã€UI æ¸²æŸ“å’Œç½‘ç»œå¤„ç†ç­‰è¡Œä¸ºï¼Œé˜²æ­¢ä¸»çº¿ç¨‹çš„ä¸é˜»å¡ï¼ŒEvent Loop çš„æ–¹æ¡ˆåº”ç”¨è€Œç”Ÿã€‚Event Loop åŒ…å«ä¸¤ç±»ï¼šä¸€ç±»æ˜¯åŸºäº [Browsing Context]ï¼Œä¸€ç§æ˜¯åŸºäº [Worker]ã€‚äºŒè€…çš„è¿è¡Œæ˜¯ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ª JavaScript è¿è¡Œçš„â€çº¿ç¨‹ç¯å¢ƒâ€éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ Event Loopï¼Œæ¯ä¸€ä¸ª Web Worker ä¹Ÿæœ‰ä¸€ä¸ªç‹¬ç«‹çš„ Event Loopã€‚</p><h4 id="ä»»åŠ¡é˜Ÿåˆ—ï¼ˆtask-queue-callback-queueï¼‰"><a href="#ä»»åŠ¡é˜Ÿåˆ—ï¼ˆtask-queue-callback-queueï¼‰" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—ï¼ˆtask queue&#x2F;callback queueï¼‰"></a>ä»»åŠ¡é˜Ÿåˆ—ï¼ˆtask queue&#x2F;callback queueï¼‰</h4><p>â€‹æ ¹æ®è§„èŒƒï¼Œäº‹ä»¶å¾ªç¯æ˜¯é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—çš„æœºåˆ¶æ¥è¿›è¡Œåè°ƒçš„ã€‚ä¸€ä¸ª Event Loop ä¸­ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—(task queue)ï¼Œä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¾¿æ˜¯ä¸€ç³»åˆ—æœ‰åºä»»åŠ¡(task)çš„é›†åˆï¼›æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä»»åŠ¡æº(task source)ï¼Œæºè‡ªåŒä¸€ä¸ªä»»åŠ¡æºçš„ task å¿…é¡»æ”¾åˆ°åŒä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œä»ä¸åŒæºæ¥çš„åˆ™è¢«æ·»åŠ åˆ°ä¸åŒé˜Ÿåˆ—ã€‚setTimeout&#x2F;Promise ç­‰APIä¾¿æ˜¯ä»»åŠ¡æºï¼Œè€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ä»–ä»¬æŒ‡å®šçš„å…·ä½“æ‰§è¡Œä»»åŠ¡ã€‚</p><h3 id="äºŒ-å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"><a href="#äºŒ-å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" class="headerlink" title="äºŒ.å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡"></a>äºŒ.å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</h3><h4 id="1-å®ä»»åŠ¡ï¼ˆmacro-taskï¼‰"><a href="#1-å®ä»»åŠ¡ï¼ˆmacro-taskï¼‰" class="headerlink" title="1.å®ä»»åŠ¡ï¼ˆmacro-taskï¼‰"></a>1.å®ä»»åŠ¡ï¼ˆmacro-taskï¼‰</h4><p>â€‹æ¯æ¬¡æ‰§è¡Œæ ˆæ‰§è¡Œçš„ä»£ç å°±æ˜¯ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆåŒ…æ‹¬æ¯æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªäº‹ä»¶å›è°ƒå¹¶æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼‰</p><h5 id="å®ä»»åŠ¡åŒ…å«ï¼š"><a href="#å®ä»»åŠ¡åŒ…å«ï¼š" class="headerlink" title="å®ä»»åŠ¡åŒ…å«ï¼š"></a>å®ä»»åŠ¡åŒ…å«ï¼š</h5><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs text">script(æ•´ä½“ä»£ç )<br>setTimeout<br>setInterval<br>I/O<br>UIäº¤äº’äº‹ä»¶<br>postMessage<br>MessageChannel<br>setImmediate(Node.js ç¯å¢ƒ)<br></code></pre></td></tr></table></figure><h4 id="2-å¾®ä»»åŠ¡ï¼ˆmicro-taskï¼‰"><a href="#2-å¾®ä»»åŠ¡ï¼ˆmicro-taskï¼‰" class="headerlink" title="2.å¾®ä»»åŠ¡ï¼ˆmicro-taskï¼‰"></a>2.å¾®ä»»åŠ¡ï¼ˆmicro-taskï¼‰</h4><p>â€‹åœ¨å½“å‰ task æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½“å‰taskä»»åŠ¡åï¼Œä¸‹ä¸€ä¸ªtaskä¹‹å‰ï¼Œåœ¨æ¸²æŸ“ä¹‹å‰ã€‚</p><h5 id="å¾®ä»»åŠ¡åŒ…å«ï¼š"><a href="#å¾®ä»»åŠ¡åŒ…å«ï¼š" class="headerlink" title="å¾®ä»»åŠ¡åŒ…å«ï¼š"></a>å¾®ä»»åŠ¡åŒ…å«ï¼š</h5><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">Promise.then<br>Object.observe<br>MutationObserver<br>process.nextTick(Node.js ç¯å¢ƒ)<br></code></pre></td></tr></table></figure><h4 id="3-è¿è¡Œæœºåˆ¶"><a href="#3-è¿è¡Œæœºåˆ¶" class="headerlink" title="3.è¿è¡Œæœºåˆ¶"></a>3.è¿è¡Œæœºåˆ¶</h4><p>JSå¼•æ“å¸¸é©»äºå†…å­˜ä¸­ï¼Œç­‰å¾…å®¿ä¸»å°†JSä»£ç æˆ–å‡½æ•°ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå°±æ˜¯ç­‰å¾…å®¿ä¸»ç¯å¢ƒåˆ†é…å®è§‚ä»»åŠ¡ï¼Œåå¤ç­‰å¾… - æ‰§è¡Œå³ä¸ºäº‹ä»¶å¾ªç¯ã€‚ </p><p>Event Loopä¸­ï¼Œæ¯ä¸€æ¬¡å¾ªç¯ç§°ä¸ºtickï¼Œæ¯ä¸€æ¬¡tickçš„ä»»åŠ¡å¦‚ä¸‹ï¼š</p><blockquote><p>æ‰§è¡Œæ ˆé€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„å®ä»»åŠ¡ï¼ˆä¸€èˆ¬éƒ½æ˜¯scriptï¼‰ï¼Œæ‰§è¡Œå…¶åŒæ­¥ä»£ç ç›´è‡³ç»“æŸï¼›<br>æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¾®ä»»åŠ¡ï¼Œæœ‰åˆ™ä¼šæ‰§è¡Œè‡³å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼›<br>å¦‚æœå®¿ä¸»ä¸ºæµè§ˆå™¨ï¼Œå¯èƒ½ä¼šæ¸²æŸ“é¡µé¢ï¼›<br>å¼€å§‹ä¸‹ä¸€è½®tickï¼Œæ‰§è¡Œå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç ï¼ˆsetTimeoutç­‰å›è°ƒï¼‰ã€‚</p></blockquote><h4 id="4-å®ä¾‹ä»£ç "><a href="#4-å®ä¾‹ä»£ç " class="headerlink" title="4.å®ä¾‹ä»£ç "></a>4.å®ä¾‹ä»£ç </h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;start&#x27;</span>)<br><br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;setTimeout&#x27;</span>)<br>&#125;, <span class="hljs-number">0</span>)<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;promise&#x27;</span>)<br>  <span class="hljs-title function_">resolve</span>()<br>&#125;)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;then1&#x27;</span>)<br>  &#125;)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;then2&#x27;</span>)<br>  &#125;)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;end&#x27;</span>)<br><br><span class="hljs-comment">//è¿è¡Œç»“æœï¼š</span><br><span class="hljs-comment">//start </span><br><span class="hljs-comment">//promise</span><br><span class="hljs-comment">//end</span><br><span class="hljs-comment">//then1</span><br><span class="hljs-comment">//then2</span><br><span class="hljs-comment">//setTimeout</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–</title>
    <link href="/blog/2022/02/17/vue-code-optimize/"/>
    <url>/blog/2022/02/17/vue-code-optimize/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–"><a href="#Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–"></a>Vueä¸­å¸¸è§æ€§èƒ½ä¼˜åŒ–</h1><h3 id="ç¼–ç ä¼˜åŒ–"><a href="#ç¼–ç ä¼˜åŒ–" class="headerlink" title="ç¼–ç ä¼˜åŒ–:"></a>ç¼–ç ä¼˜åŒ–:</h3><p>1.ä¸è¦å°†æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨dataä¸­ï¼Œdataä¸­çš„æ•°æ®éƒ½ä¼šå¢åŠ getterå’Œsetterï¼Œä¼šæ”¶é›†å¯¹åº”çš„watcherï¼›<br>2.vue åœ¨ v-for æ—¶ç»™æ¯é¡¹å…ƒç´ ç»‘å®šäº‹ä»¶éœ€è¦ç”¨äº‹ä»¶ä»£ç†ï¼›<br>3.SPA é¡µé¢é‡‡ç”¨keep-aliveç¼“å­˜ç»„ä»¶ï¼›<br>4.æ‹†åˆ†ç»„ä»¶( æé«˜å¤ç”¨æ€§ã€å¢åŠ ä»£ç çš„å¯ç»´æŠ¤æ€§,å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ )ï¼›<br>5.v-if å½“å€¼ä¸ºfalseæ—¶å†…éƒ¨æŒ‡ä»¤ä¸ä¼šæ‰§è¡Œ,å…·æœ‰é˜»æ–­åŠŸèƒ½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨v-ifæ›¿ä»£v-showï¼›<br>6.key ä¿è¯å”¯ä¸€æ€§ ( é»˜è®¤ vue ä¼šé‡‡ç”¨å°±åœ°å¤ç”¨ç­–ç•¥ )ï¼›<br>7.Object.freeze å†»ç»“æ•°æ®ï¼›<br>8.åˆç†ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ã€å¼‚æ­¥ç»„ä»¶ï¼›<br>9.å°½é‡é‡‡ç”¨runtimeè¿è¡Œæ—¶ç‰ˆæœ¬ï¼›<br>10.æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜ ï¼ˆé˜²æŠ–ã€èŠ‚æµï¼‰ã€‚</p><h3 id="Vue-åŠ è½½æ€§èƒ½ä¼˜åŒ–"><a href="#Vue-åŠ è½½æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Vue åŠ è½½æ€§èƒ½ä¼˜åŒ–:"></a>Vue åŠ è½½æ€§èƒ½ä¼˜åŒ–:</h3><p>1.ç¬¬ä¸‰æ–¹æ¨¡å—æŒ‰éœ€å¯¼å…¥ ( babel-plugin-component )ï¼›<br>2.æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸåŠ¨æ€åŠ è½½ ( <a href="https://tangbc.github.io/vue-virtual-scroll-list">https://tangbc.github.io/vue-virtual-scroll-list</a> )ï¼›<br>3.å›¾ç‰‡æ‡’åŠ è½½ (<a href="https://github.com/hilongjw/vue-lazyload.git)%E3%80%82">https://github.com/hilongjw/vue-lazyload.git)ã€‚</a></p><h3 id="ç”¨æˆ·ä½“éªŒ"><a href="#ç”¨æˆ·ä½“éªŒ" class="headerlink" title="ç”¨æˆ·ä½“éªŒ:"></a>ç”¨æˆ·ä½“éªŒ:</h3><p>1.app-skeleton éª¨æ¶å±ï¼›<br>2.app-shell appå£³ ï¼›<br>3.pwa serviceworkerã€‚</p><h3 id="SEO-ä¼˜åŒ–ï¼š"><a href="#SEO-ä¼˜åŒ–ï¼š" class="headerlink" title="SEO ä¼˜åŒ–ï¼š"></a>SEO ä¼˜åŒ–ï¼š</h3><p>1.é¢„æ¸²æŸ“æ’ä»¶ prerender-spa-pluginï¼›<br>2.åŠ¡ç«¯æ¸²æŸ“ ssrã€‚</p><h3 id="æ‰“åŒ…ä¼˜åŒ–"><a href="#æ‰“åŒ…ä¼˜åŒ–" class="headerlink" title="æ‰“åŒ…ä¼˜åŒ–:"></a>æ‰“åŒ…ä¼˜åŒ–:</h3><p>1.ä½¿ç”¨ cdn çš„æ–¹å¼åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ï¼›<br>2.å¤šçº¿ç¨‹æ‰“åŒ… happypack splitChunks æŠ½ç¦»å…¬å…±æ–‡ä»¶ï¼›<br>3.sourceMap ç”Ÿæˆã€‚</p><h3 id="ç¼“å­˜ï¼Œå‹ç¼©"><a href="#ç¼“å­˜ï¼Œå‹ç¼©" class="headerlink" title="ç¼“å­˜ï¼Œå‹ç¼©"></a>ç¼“å­˜ï¼Œå‹ç¼©</h3><p>1.å®¢æˆ·ç«¯ç¼“å­˜ã€æœåŠ¡ç«¯ç¼“å­˜ï¼›<br>2.æœåŠ¡ç«¯ gzip å‹ç¼©</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vueä¼˜åŒ–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</title>
    <link href="/blog/2022/02/17/vue-lifecycle/"/>
    <url>/blog/2022/02/17/vue-lifecycle/</url>
    
    <content type="html"><![CDATA[<h1 id="Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h1><h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><p>â€‹        beforeCreateâ€“&gt;createdâ€“&gt;beforeMountâ€“&gt;mountedâ€“&gt;beforeUpdateâ€“&gt;updatedâ€“&gt;beforeDestroyâ€“&gt;destroyed</p><h3 id="ç®€åŒ–"><a href="#ç®€åŒ–" class="headerlink" title="ç®€åŒ–"></a>ç®€åŒ–</h3><p>â€‹        åˆ›å»º-&gt;æŒ‚è½½-&gt;æ›´æ–°-&gt;é”€æ¯</p><h3 id="beforeCreateã€åˆ›å»ºå‰-ã€‘"><a href="#beforeCreateã€åˆ›å»ºå‰-ã€‘" class="headerlink" title="beforeCreateã€åˆ›å»ºå‰ ã€‘"></a>beforeCreateã€åˆ›å»ºå‰ ã€‘</h3><p>â€‹         åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹å’Œäº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ï¼Œæ­¤æ—¶ç»„ä»¶çš„é€‰é¡¹å¯¹è±¡è¿˜æœªåˆ›å»ºï¼Œel å’Œ data å¹¶æœªåˆå§‹åŒ–ï¼Œå› æ­¤æ— æ³•è®¿é—®methodsï¼Œ dataï¼Œ computedç­‰ä¸Šçš„æ–¹æ³•å’Œæ•°æ®ã€‚</p><h3 id="createdã€åˆ›å»ºå-ã€‘"><a href="#createdã€åˆ›å»ºå-ã€‘" class="headerlink" title="createdã€åˆ›å»ºå ã€‘"></a>createdã€åˆ›å»ºå ã€‘</h3><p>â€‹        å®ä¾‹å·²ç»åˆ›å»ºå®Œæˆä¹‹åè¢«è°ƒç”¨ï¼Œåœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹é…ç½®ï¼šæ•°æ®è§‚æµ‹ã€å±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch&#x2F;eventäº‹ä»¶å›è°ƒï¼Œå®Œæˆäº†data æ•°æ®çš„åˆå§‹åŒ–ï¼Œelæ²¡æœ‰ã€‚ ç„¶è€Œï¼ŒæŒ‚åœ¨é˜¶æ®µè¿˜æ²¡æœ‰å¼€å§‹, $elå±æ€§ç›®å‰ä¸å¯è§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºä½ å¯ä»¥è°ƒç”¨methodsä¸­çš„æ–¹æ³•ï¼Œæ”¹å˜dataä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”ä¿®æ”¹å¯ä»¥é€šè¿‡vueçš„å“åº”å¼ç»‘å®šä½“ç°åœ¨é¡µé¢ä¸Šï¼Œï¼Œè·å–computedä¸­çš„è®¡ç®—å±æ€§ç­‰ç­‰ï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå¯¹å®ä¾‹è¿›è¡Œé¢„å¤„ç†ï¼Œä¹Ÿæœ‰ä¸€äº›ç«¥é‹å–œæ¬¢åœ¨è¿™é‡Œå‘ajaxè¯·æ±‚ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå‘¨æœŸä¸­æ˜¯æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•æ¥å¯¹å®ä¾‹åŒ–è¿‡ç¨‹è¿›è¡Œæ‹¦æˆªçš„ï¼Œå› æ­¤å‡å¦‚æœ‰æŸäº›æ•°æ®å¿…é¡»è·å–æ‰å…è®¸è¿›å…¥é¡µé¢çš„è¯ï¼Œå¹¶ä¸é€‚åˆåœ¨è¿™ä¸ªæ–¹æ³•å‘è¯·æ±‚ï¼Œå»ºè®®åœ¨ç»„ä»¶è·¯ç”±é’©å­beforeRouteEnterä¸­å®Œæˆ</p><h3 id="beforeMountã€æŒ‚è½½å‰ã€‘"><a href="#beforeMountã€æŒ‚è½½å‰ã€‘" class="headerlink" title="beforeMountã€æŒ‚è½½å‰ã€‘"></a>beforeMountã€æŒ‚è½½å‰ã€‘</h3><p>â€‹        æŒ‚åœ¨å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼Œç›¸å…³çš„renderå‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ï¼ˆè™šæ‹ŸDOMï¼‰ï¼Œå®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼š ç¼–è¯‘æ¨¡æ¿ï¼ŒæŠŠdataé‡Œé¢çš„æ•°æ®å’Œæ¨¡æ¿ç”Ÿæˆhtmlï¼Œå®Œæˆäº†elå’Œdata åˆå§‹åŒ–ï¼Œæ³¨æ„æ­¤æ—¶è¿˜æ²¡æœ‰æŒ‚åœ¨htmlåˆ°é¡µé¢ä¸Šã€‚</p><h3 id="mountedã€æŒ‚è½½åã€‘"><a href="#mountedã€æŒ‚è½½åã€‘" class="headerlink" title="mountedã€æŒ‚è½½åã€‘"></a>mountedã€æŒ‚è½½åã€‘</h3><p>â€‹       æŒ‚åœ¨å®Œæˆï¼Œä¹Ÿå°±æ˜¯æ¨¡æ¿ä¸­çš„HTMLæ¸²æŸ“åˆ°HTMLé¡µé¢ä¸­ï¼Œæ­¤æ—¶ä¸€èˆ¬å¯ä»¥åšä¸€äº›ajaxæ“ä½œï¼Œmountedåªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p><h3 id="beforeUpdateã€æ›´æ–°å‰ã€‘"><a href="#beforeUpdateã€æ›´æ–°å‰ã€‘" class="headerlink" title="beforeUpdateã€æ›´æ–°å‰ã€‘"></a>beforeUpdateã€æ›´æ–°å‰ã€‘</h3><p>â€‹       åœ¨æ•°æ®æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ä¹‹å‰ï¼Œå¯ä»¥åœ¨è¯¥é’©å­ä¸­è¿›ä¸€æ­¥åœ°æ›´æ”¹çŠ¶æ€ï¼Œä¸ä¼šè§¦å‘é™„åŠ åœ°é‡æ¸²æŸ“è¿‡ç¨‹</p><h3 id="updatedã€æ›´æ–°åã€‘"><a href="#updatedã€æ›´æ–°åã€‘" class="headerlink" title="updatedã€æ›´æ–°åã€‘"></a>updatedã€æ›´æ–°åã€‘</h3><p>â€‹        åœ¨ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´åœ°è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸åªä¼šè°ƒç”¨ï¼Œè°ƒç”¨æ—¶ï¼Œç»„ä»¶DOMå·²ç»æ›´æ–°ï¼Œæ‰€ä»¥å¯ä»¥æ‰§è¡Œä¾èµ–äºDOMçš„æ“ä½œï¼Œç„¶ååœ¨å¤§å¤šæ˜¯æƒ…å†µä¸‹ï¼Œåº”è¯¥é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹çŠ¶æ€ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ›´æ–°æ— é™å¾ªç¯ï¼Œè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨</p><h3 id="beforeDestroyã€é”€æ¯å‰ã€‘"><a href="#beforeDestroyã€é”€æ¯å‰ã€‘" class="headerlink" title="beforeDestroyã€é”€æ¯å‰ã€‘"></a>beforeDestroyã€é”€æ¯å‰ã€‘</h3><p>â€‹      åœ¨å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ï¼Œ</p><ol><li>è¿™ä¸€æ­¥è¿˜å¯ä»¥ç”¨thisæ¥è·å–å®ä¾‹ï¼Œ</li><li>ä¸€èˆ¬åœ¨è¿™ä¸€æ­¥åšä¸€äº›é‡ç½®çš„æ“ä½œï¼Œæ¯”å¦‚æ¸…é™¤æ‰ç»„ä»¶ä¸­çš„å®šæ—¶å™¨  å’Œ ç›‘å¬çš„domäº‹ä»¶</li></ol><h3 id="destroyedã€é”€æ¯åã€‘"><a href="#destroyedã€é”€æ¯åã€‘" class="headerlink" title="destroyedã€é”€æ¯åã€‘"></a>destroyedã€é”€æ¯åã€‘</h3><p>â€‹      åœ¨å®ä¾‹é”€æ¯ä¹‹åè°ƒç”¨ï¼Œè°ƒç”¨åï¼Œæ‰€ä»¥çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»å‡ºï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ï¼Œè¯¥é’©å­åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æœŸé—´ä¸è¢«è°ƒç”¨</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vueç”Ÿå‘½å‘¨æœŸ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSS gridå¸ƒå±€</title>
    <link href="/blog/2022/02/17/css-grid/"/>
    <url>/blog/2022/02/17/css-grid/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯å¸ƒå±€ä¹‹Gridå¸ƒå±€"><a href="#å‰ç«¯å¸ƒå±€ä¹‹Gridå¸ƒå±€" class="headerlink" title="å‰ç«¯å¸ƒå±€ä¹‹Gridå¸ƒå±€"></a>å‰ç«¯å¸ƒå±€ä¹‹Gridå¸ƒå±€</h1><h4 id="1-ç½‘æ ¼å¸ƒå±€æ–¹å‘"><a href="#1-ç½‘æ ¼å¸ƒå±€æ–¹å‘" class="headerlink" title="1.ç½‘æ ¼å¸ƒå±€æ–¹å‘"></a>1.ç½‘æ ¼å¸ƒå±€æ–¹å‘</h4><p><code>display: grid</code>æŒ‡å®šä¸€ä¸ªå®¹å™¨é‡‡ç”¨ï¼ˆçºµå‘ï¼‰ç½‘æ ¼å¸ƒå±€</p><p><code>display: inline-grid</code>æŒ‡å®šä¸€ä¸ªå®¹å™¨é‡‡ç”¨ï¼ˆæ¨ªå‘ï¼‰ç½‘æ ¼å¸ƒå±€</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JS Bin<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-id">#container</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: grid;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">50px</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">50px</span> <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;</span><br><span class="language-css">  <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e4e9</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-1</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ef342a</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-2</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f68f26</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-3</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4ba946</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-4</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0376c2</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-5</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c077af</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-6</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d29d</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-7</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#b5a87f</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-8</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d0e4a9</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-9</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4dc7ec</span>;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>foo<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-1&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-2&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-3&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-4&quot;</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-5&quot;</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-6&quot;</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-7&quot;</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-8&quot;</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-9&quot;</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-ç½‘æ ¼å¸ƒå±€è¡Œå’Œåˆ—"><a href="#2-ç½‘æ ¼å¸ƒå±€è¡Œå’Œåˆ—" class="headerlink" title="2.ç½‘æ ¼å¸ƒå±€è¡Œå’Œåˆ—"></a>2.ç½‘æ ¼å¸ƒå±€è¡Œå’Œåˆ—</h4><p><code>grid-template-columns</code>å±æ€§å®šä¹‰æ¯ä¸€åˆ—çš„åˆ—<strong>å®½</strong></p><p><code>grid-template-rows</code>å±æ€§å®šä¹‰æ¯ä¸€è¡Œçš„è¡Œ<strong>é«˜</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JS Bin<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-id">#container</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: grid;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">4em</span>;</span><br><span class="language-css">  <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e4e9</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"> <span class="hljs-selector-class">.item-1</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ef342a</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-2</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f68f26</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-3</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4ba946</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-4</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0376c2</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-5</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c077af</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-6</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d29d</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-7</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#b5a87f</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-8</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d0e4a9</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-9</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4dc7ec</span>;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-1&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-2&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-3&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-4&quot;</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-5&quot;</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-6&quot;</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-7&quot;</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-8&quot;</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-9&quot;</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>ï¼ˆ1ï¼‰repeat()</strong></p><p><strong>ï¼ˆ2ï¼‰auto-fill å…³é”®å­—</strong></p><p><strong>ï¼ˆ3ï¼‰fr å…³é”®å­—</strong></p><p><strong>ï¼ˆ4ï¼‰minmax()</strong></p><p><strong>ï¼ˆ5ï¼‰auto å…³é”®å­—</strong></p><h4 id="3-ç½‘æ ¼å¸ƒå±€çš„è¡Œé—´è·å’Œåˆ—é—´è·"><a href="#3-ç½‘æ ¼å¸ƒå±€çš„è¡Œé—´è·å’Œåˆ—é—´è·" class="headerlink" title="3.ç½‘æ ¼å¸ƒå±€çš„è¡Œé—´è·å’Œåˆ—é—´è·"></a>3.ç½‘æ ¼å¸ƒå±€çš„è¡Œé—´è·å’Œåˆ—é—´è·</h4><p><code>grid-row-gap</code>å±æ€§è®¾ç½®è¡Œä¸è¡Œçš„é—´éš”ï¼ˆè¡Œé—´è·ï¼‰</p><p><code>grid-column-gap</code>å±æ€§è®¾ç½®åˆ—ä¸åˆ—çš„é—´éš”ï¼ˆåˆ—é—´è·ï¼‰</p><p><code>grid-gap</code>å±æ€§æ˜¯<code>grid-column-gap</code>å’Œ<code>grid-row-gap</code>çš„åˆå¹¶ç®€å†™å½¢å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JS Bin<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-id">#container</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: grid;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">grid-row</span>-<span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">grid-column</span>-<span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">    <span class="hljs-comment">/* grid-gap: 20px 20px; ç®€ç§° */</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">4em</span>;</span><br><span class="language-css">  <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e4e9</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"> <span class="hljs-selector-class">.item-1</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ef342a</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-2</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f68f26</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-3</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4ba946</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-4</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0376c2</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-5</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c077af</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-6</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d29d</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-7</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#b5a87f</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-8</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d0e4a9</span>;&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.item-9</span> &#123;<span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4dc7ec</span>;&#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-1&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-2&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-3&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-4&quot;</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-5&quot;</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-6&quot;</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-7&quot;</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-8&quot;</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item item-9&quot;</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸ"><a href="#4-ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸ" class="headerlink" title="4.ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸ"></a>4.ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸ</h4><p><code>grid-template-areas</code>å±æ€§ç”¨äºå®šä¹‰åŒºåŸŸ</p><h4 id="5-ç½‘æ ¼å¸ƒå±€çš„å…ƒç´ é¡ºåº"><a href="#5-ç½‘æ ¼å¸ƒå±€çš„å…ƒç´ é¡ºåº" class="headerlink" title="5.ç½‘æ ¼å¸ƒå±€çš„å…ƒç´ é¡ºåº"></a>5.ç½‘æ ¼å¸ƒå±€çš„å…ƒç´ é¡ºåº</h4><p>é»˜è®¤çš„æ”¾ç½®é¡ºåºæ˜¯â€å…ˆè¡Œååˆ—â€</p><p><code>grid-auto-flow</code>å±æ€§å†³å®šï¼Œé»˜è®¤å€¼æ˜¯<code>row</code>ï¼Œå³â€å…ˆè¡Œååˆ—â€ã€‚ä¹Ÿå¯ä»¥å°†å®ƒè®¾æˆ<code>column</code>ï¼Œå˜æˆâ€å…ˆåˆ—åè¡Œâ€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>grid</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TCPåè®®å’ŒFTPåè®®</title>
    <link href="/blog/2022/02/17/tcp-ftp/"/>
    <url>/blog/2022/02/17/tcp-ftp/</url>
    
    <content type="html"><![CDATA[<h1 id="TCPåè®®å’ŒFTPåè®®"><a href="#TCPåè®®å’ŒFTPåè®®" class="headerlink" title="TCPåè®®å’ŒFTPåè®®"></a>TCPåè®®å’ŒFTPåè®®</h1><h3 id="TCPåè®®"><a href="#TCPåè®®" class="headerlink" title="TCPåè®®"></a>TCPåè®®</h3><h4 id="1-å®šä¹‰ï¼š"><a href="#1-å®šä¹‰ï¼š" class="headerlink" title="1.å®šä¹‰ï¼š"></a>1.<strong>å®šä¹‰</strong>ï¼š</h4><p>â€‹ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTransmission Control Protocolï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼Œç”±IETFçš„RFC 793 æå‡º</p><h4 id="2-TCP-åè®®ç®€è¿°"><a href="#2-TCP-åè®®ç®€è¿°" class="headerlink" title="2.TCP åè®®ç®€è¿°"></a>2.TCP åè®®ç®€è¿°</h4><p>â€‹TCP æä¾›é¢å‘æœ‰è¿æ¥çš„é€šä¿¡ä¼ è¾“ï¼Œé¢å‘æœ‰è¿æ¥æ˜¯æŒ‡åœ¨ä¼ é€æ•°æ®ä¹‹å‰å¿…é¡»å…ˆå»ºç«‹è¿æ¥ï¼Œæ•°æ®ä¼ é€å®Œæˆåè¦é‡Šæ”¾è¿æ¥ã€‚</p><p>â€‹æ— è®ºå“ªä¸€æ–¹å‘å¦ä¸€æ–¹å‘é€æ•°æ®ä¹‹å‰ï¼Œéƒ½å¿…é¡»å…ˆåœ¨åŒæ–¹ä¹‹é—´å»ºç«‹ä¸€æ¡è¿æ¥ã€‚åœ¨TCP&#x2F;IPåè®®ä¸­ï¼ŒTCPåè®®æä¾›å¯é çš„è¿æ¥æœåŠ¡ï¼Œè¿æ¥æ˜¯é€šè¿‡<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>è¿›è¡Œåˆå§‹åŒ–çš„ã€‚åŒæ—¶ç”±äºTCPåè®®æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„è¿è¾“å±‚é€šä¿¡åè®®ï¼ŒTCPæ˜¯<strong>å…¨åŒå·¥æ¨¡å¼</strong>ï¼Œæ‰€ä»¥éœ€è¦<strong>å››æ¬¡æŒ¥æ‰‹</strong>å…³é—­è¿æ¥ã€‚</p><h4 id="3-TCP-ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥"><a href="#3-TCP-ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥" class="headerlink" title="3.TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥"></a>3.TCP ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥</h4><p>â€‹æ‰€è°“ä¸‰æ¬¡æ¡æ‰‹(Three-way Handshake)ï¼Œæ˜¯æŒ‡å»ºç«‹ä¸€ä¸ª TCP è¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±å‘é€3ä¸ªæŠ¥æ–‡ã€‚</p><p>â€‹ä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„æ˜¯è¿æ¥æœåŠ¡å™¨æŒ‡å®šç«¯å£ï¼Œå»ºç«‹ TCP è¿æ¥ï¼Œå¹¶åŒæ­¥è¿æ¥åŒæ–¹çš„åºåˆ—å·å’Œç¡®è®¤å·ï¼Œäº¤æ¢ TCP çª—å£å¤§å°ä¿¡æ¯ã€‚åœ¨ socket ç¼–ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯æ‰§è¡Œ connect() æ—¶ã€‚å°†è§¦å‘ä¸‰æ¬¡æ¡æ‰‹ã€‚</p><p>â€‹TCP ä¸‰æ¬¡æ¡æ‰‹è·Ÿç°å®ç”Ÿæ´»ä¸­çš„äººä¸äººæ‰“ç”µè¯æ˜¯å¾ˆç±»ä¼¼çš„ï¼š</p><blockquote><p>ä¸‰æ¬¡æ¡æ‰‹ï¼š<br>â€œå–‚ï¼Œä½ å¬å¾—åˆ°å—ï¼Ÿâ€<br>â€œæˆ‘å¬å¾—åˆ°å‘€ï¼Œä½ å¬å¾—åˆ°æˆ‘å—ï¼Ÿâ€<br>â€œæˆ‘èƒ½å¬åˆ°ä½ ï¼Œä»Šå¤© balabalaâ€¦â€¦â€</p></blockquote><p>â€‹ç»è¿‡ä¸‰æ¬¡çš„äº’ç›¸ç¡®è®¤ï¼Œå¤§å®¶å°±ä¼šè®¤ä¸ºå¯¹æ–¹å¯¹å¬çš„åˆ°è‡ªå·±è¯´è¯ï¼Œå¹¶ä¸”æ„¿æ„ä¸‹ä¸€æ­¥æ²Ÿé€šï¼Œå¦åˆ™ï¼Œå¯¹è¯å°±ä¸ä¸€å®šèƒ½æ­£å¸¸ä¸‹å»äº†ã€‚</p><h4 id="4-TCP-å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥"><a href="#4-TCP-å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥" class="headerlink" title="4.TCP å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥"></a>4.TCP å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥</h4><p>â€‹å››æ¬¡æŒ¥æ‰‹å³ç»ˆæ­¢TCPè¿æ¥ï¼Œå°±æ˜¯æŒ‡æ–­å¼€ä¸€ä¸ªTCPè¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ€»å…±å‘é€4ä¸ªåŒ…ä»¥ç¡®è®¤è¿æ¥çš„æ–­å¼€ã€‚åœ¨socketç¼–ç¨‹ä¸­ï¼Œè¿™ä¸€è¿‡ç¨‹ç”±å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯ä»»ä¸€æ–¹æ‰§è¡Œcloseæ¥è§¦å‘ã€‚</p><p>â€‹ç”±äºTCPè¿æ¥æ˜¯å…¨åŒå·¥çš„ï¼Œå› æ­¤ï¼Œæ¯ä¸ªæ–¹å‘éƒ½å¿…é¡»è¦å•ç‹¬è¿›è¡Œå…³é—­ï¼Œè¿™ä¸€åŸåˆ™æ˜¯å½“ä¸€æ–¹å®Œæˆæ•°æ®å‘é€ä»»åŠ¡åï¼Œå‘é€ä¸€ä¸ªFINæ¥ç»ˆæ­¢è¿™ä¸€æ–¹å‘çš„è¿æ¥ï¼Œæ”¶åˆ°ä¸€ä¸ªFINåªæ˜¯æ„å‘³ç€è¿™ä¸€æ–¹å‘ä¸Šæ²¡æœ‰æ•°æ®æµåŠ¨äº†ï¼Œå³ä¸ä¼šå†æ”¶åˆ°æ•°æ®äº†ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªTCPè¿æ¥ä¸Šä»ç„¶èƒ½å¤Ÿå‘é€æ•°æ®ï¼Œç›´åˆ°è¿™ä¸€æ–¹å‘ä¹Ÿå‘é€äº†FINã€‚é¦–å…ˆè¿›è¡Œå…³é—­çš„ä¸€æ–¹å°†æ‰§è¡Œä¸»åŠ¨å…³é—­ï¼Œè€Œå¦ä¸€æ–¹åˆ™æ‰§è¡Œè¢«åŠ¨å…³é—­ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ç”³è¯·æ–­å¼€è¿æ¥å³FIN ï¼ˆæˆ‘è¿™è¾¹å‡†å¤‡æ–­å¼€è¿æ¥äº†ï¼‰<br>æœåŠ¡ç«¯æ¥æ”¶ä¿¡æ¯è¿”å›ï¼Œè¡¨ç¤ºæˆ‘å·²ç»æ¥æ”¶åˆ°ï¼ˆæ”¶åˆ°ï¼Œè¯·ç¨ç­‰ï¼Œæˆ‘è¿™è¾¹å‡†å¤‡ä¸€ä¸‹ï¼‰<br>å®¢æˆ·ç«¯å‘é€ä¿¡æ¯è¡¨ç¤ºå¯ä»¥æ–­å¼€è¿æ¥(æˆ‘å‡†å¤‡å¥½äº†ï¼Œä½ å¯ä»¥æ–­å¼€è¿æ¥äº†ï¼‰<br>æœåŠ¡ç«¯æ¥å—ä¿¡æ¯ï¼Œè¿”å›æ•°æ®è¡¨ç¤ºå·²æ¥å—ä¿¡æ¯(å¥½çš„ï¼Œæ‹œæ‹œï¼ï¼‰</p></blockquote><h3 id="FTPåè®®"><a href="#FTPåè®®" class="headerlink" title="FTPåè®®"></a>FTPåè®®</h3><h4 id="1-å®šä¹‰ï¼š-1"><a href="#1-å®šä¹‰ï¼š-1" class="headerlink" title="1.å®šä¹‰ï¼š"></a>1.<strong>å®šä¹‰</strong>ï¼š</h4><p>â€‹æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFile Transfer Protocolï¼ŒFTPï¼‰æ˜¯ç”¨äºåœ¨[ç½‘ç»œ]ä¸Šè¿›è¡Œæ–‡ä»¶ä¼ è¾“çš„ä¸€å¥—æ ‡å‡†åè®®ï¼Œå®ƒå·¥ä½œåœ¨ OSI æ¨¡å‹çš„ç¬¬ä¸ƒå±‚ï¼Œ TCP æ¨¡å‹çš„ç¬¬å››å±‚ï¼Œ å³åº”ç”¨å±‚ï¼Œ ä½¿ç”¨ TCP ä¼ è¾“è€Œä¸æ˜¯ UDPï¼Œ å®¢æˆ·åœ¨å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥å‰è¦ç»è¿‡ä¸€ä¸ªâ€œä¸‰æ¬¡æ¡æ‰‹â€çš„è¿‡ç¨‹ï¼Œ ä¿è¯å®¢æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥æ˜¯å¯é çš„ï¼Œ è€Œä¸”æ˜¯é¢å‘è¿æ¥ï¼Œ ä¸ºæ•°æ®ä¼ è¾“æä¾›å¯é ä¿è¯ã€‚</p><h4 id="2-ä¼ è¾“æ–¹å¼"><a href="#2-ä¼ è¾“æ–¹å¼" class="headerlink" title="2.ä¼ è¾“æ–¹å¼"></a>2.ä¼ è¾“æ–¹å¼</h4><p>â€‹i.ASCIIä¼ è¾“æ–¹å¼</p><p>â€‹ii.äºŒè¿›åˆ¶ä¼ è¾“æ¨¡å¼</p><h4 id="3-æ”¯æŒæ¨¡å¼"><a href="#3-æ”¯æŒæ¨¡å¼" class="headerlink" title="3.æ”¯æŒæ¨¡å¼"></a>3.æ”¯æŒæ¨¡å¼</h4><p>â€‹FTPæ”¯æŒä¸¤ç§æ¨¡å¼ï¼šStandard ï¼ˆPORTæ–¹å¼ï¼Œä¸»åŠ¨æ–¹å¼ï¼‰ï¼ŒPassive ï¼ˆPASVï¼Œè¢«åŠ¨æ–¹å¼ï¼‰ã€‚</p><h4 id="4-å·¥ä½œåŸç†"><a href="#4-å·¥ä½œåŸç†" class="headerlink" title="4.å·¥ä½œåŸç†"></a>4.å·¥ä½œåŸç†</h4><p>â€‹FTP é‡‡ç”¨ Internet æ ‡å‡†æ–‡ä»¶ä¼ è¾“åè®® FTP çš„ç”¨æˆ·ç•Œé¢ï¼Œ å‘ç”¨æˆ·æä¾›äº†ä¸€ç»„ç”¨æ¥ç®¡ç†è®¡ç®—æœºä¹‹é—´æ–‡ä»¶ä¼ è¾“çš„åº”ç”¨ç¨‹åºã€‚</p><p>â€‹FTP æ˜¯åŸºäºå®¢æˆ·â€”â€”â€”æœåŠ¡å™¨ï¼ˆC&#x2F;Sï¼‰æ¨¡å‹è€Œè®¾è®¡çš„ï¼Œåœ¨å®¢æˆ·ç«¯ä¸ FTP æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸¤ä¸ªè¿æ¥ã€‚</p><p>â€‹å¼€å‘ä»»ä½•åŸºäº FTP çš„å®¢æˆ·ç«¯è½¯ä»¶éƒ½å¿…é¡»éµå¾ª FTP çš„å·¥ä½œåŸç†ï¼ŒFTP çš„ç‹¬ç‰¹çš„ä¼˜åŠ¿åŒæ—¶ä¹Ÿæ˜¯ä¸å…¶å®ƒå®¢æˆ·æœåŠ¡å™¨ç¨‹åºæœ€å¤§çš„ä¸åŒç‚¹å°±åœ¨äºå®ƒåœ¨ä¸¤å°é€šä¿¡çš„ä¸»æœºä¹‹é—´ä½¿ç”¨äº†ä¸¤æ¡ TCP è¿æ¥ï¼š</p><p>â€‹ä¸€æ¡æ˜¯æ•°æ®è¿æ¥ï¼Œç”¨äºæ•°æ®ä¼ é€ï¼›</p><p>â€‹å¦ä¸€æ¡æ˜¯æ§åˆ¶è¿æ¥ï¼Œç”¨äºä¼ é€æ§åˆ¶ä¿¡æ¯ï¼ˆå‘½ä»¤å’Œå“åº”ï¼‰ï¼›</p><p>â€‹è¿™ç§å°†å‘½ä»¤å’Œæ•°æ®åˆ†å¼€ä¼ é€çš„æ€æƒ³å¤§å¤§æé«˜äº† FTP çš„æ•ˆç‡ï¼Œè€Œå…¶å®ƒå®¢æˆ·æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¸€èˆ¬åªæœ‰ä¸€æ¡ TCP è¿æ¥ã€‚å®¢æˆ·æœ‰ä¸‰ä¸ªæ„ä»¶ï¼šç”¨æˆ·æ¥å£ã€å®¢æˆ·æ§åˆ¶è¿›ç¨‹å’Œå®¢æˆ·æ•°æ®ä¼ é€è¿›ç¨‹ã€‚æœåŠ¡å™¨æœ‰ä¸¤ä¸ªæ„ä»¶ï¼šæœåŠ¡å™¨æ§åˆ¶è¿›ç¨‹å’ŒæœåŠ¡å™¨æ•°æ®ä¼ é€è¿›ç¨‹ã€‚åœ¨æ•´ä¸ªäº¤äº’çš„ FTP ä¼šè¯ä¸­ï¼Œæ§åˆ¶è¿æ¥å§‹ç»ˆæ˜¯å¤„äºè¿æ¥çŠ¶æ€çš„ï¼Œæ•°æ®è¿æ¥åˆ™åœ¨æ¯ä¸€æ¬¡æ–‡ä»¶ä¼ é€æ—¶å…ˆæ‰“å¼€åå…³é—­ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>browser</category>
      
    </categories>
    
    
    <tags>
      
      <tag>FTP TCP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ReactåŸºç¡€-hooks</title>
    <link href="/blog/2022/02/17/react-hooks/"/>
    <url>/blog/2022/02/17/react-hooks/</url>
    
    <content type="html"><![CDATA[<h1 id="React-Hooks-è¯¦è§£"><a href="#React-Hooks-è¯¦è§£" class="headerlink" title="React Hooks è¯¦è§£"></a>React Hooks è¯¦è§£</h1><h3 id="ä¸ºä»€ä¹ˆä¼šæœ‰Hooksï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰Hooksï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰Hooksï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šæœ‰Hooksï¼Ÿ</h3><p>ä»‹ç»Hooksä¹‹å‰ï¼Œé¦–å…ˆè¦ç»™å¤§å®¶è¯´ä¸€ä¸‹Reactçš„ç»„ä»¶åˆ›å»ºæ–¹å¼ï¼Œä¸€ç§æ˜¯ç±»ç»„ä»¶ï¼Œä¸€ç§æ˜¯çº¯å‡½æ•°ç»„ä»¶ï¼Œå¹¶ä¸”Reactå›¢é˜Ÿå¸Œæœ›ï¼Œç»„ä»¶ä¸è¦å˜æˆå¤æ‚çš„å®¹å™¨ï¼Œæœ€å¥½åªæ˜¯æ•°æ®æµçš„ç®¡é“ã€‚å¼€å‘è€…æ ¹æ®éœ€è¦ï¼Œç»„åˆç®¡é“å³å¯ã€‚ä¹Ÿå°±æ˜¯è¯´ç»„ä»¶çš„æœ€ä½³å†™æ³•åº”è¯¥æ˜¯å‡½æ•°ï¼Œè€Œä¸æ˜¯ç±»ã€‚<br>ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ä»¥å¾€å¼€å‘ä¸­ç±»ç»„ä»¶å’Œçº¯å‡½æ•°ç»„ä»¶çš„åŒºåˆ«æ˜¯å¾ˆå¤§çš„ï¼Œçº¯å‡½æ•°ç»„ä»¶æœ‰ç€ç±»ç»„ä»¶ä¸å…·å¤‡çš„å¤šç§ç‰¹ç‚¹ï¼Œç®€å•åˆ—ä¸¾å‡ æ¡</p><ul><li>çº¯å‡½æ•°ç»„ä»¶æ²¡æœ‰çŠ¶æ€</li><li>çº¯å‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</li><li>çº¯å‡½æ•°ç»„ä»¶æ²¡æœ‰<code>this</code></li><li>åªèƒ½æ˜¯çº¯å‡½æ•°</li></ul><p>è¿™å°±æ³¨å®šï¼Œæˆ‘ä»¬æ‰€æ¨å´‡çš„å‡½æ•°ç»„ä»¶ï¼Œåªèƒ½åšUIå±•ç¤ºçš„åŠŸèƒ½ï¼Œæ¶‰åŠåˆ°çŠ¶æ€çš„ç®¡ç†ä¸åˆ‡æ¢ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ç”¨ç±»ç»„ä»¶æˆ–è€…reduxï¼Œä½†æˆ‘ä»¬çŸ¥é“ç±»ç»„ä»¶çš„ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œæ¯”å¦‚ï¼Œé‡åˆ°ç®€å•çš„é¡µé¢ï¼Œä½ çš„ä»£ç ä¼šæ˜¾å¾—å¾ˆé‡ï¼Œå¹¶ä¸”æ¯åˆ›å»ºä¸€ä¸ªç±»ç»„ä»¶ï¼Œéƒ½è¦å»ç»§æ‰¿ä¸€ä¸ªReactå®ä¾‹ï¼Œè‡³äºRedux,æ›´ä¸ç”¨å¤šè¯´ï¼Œå¾ˆä¹…ä¹‹å‰Reduxçš„ä½œè€…å°±è¯´è¿‡ï¼Œâ€œèƒ½ç”¨Reactè§£å†³çš„é—®é¢˜å°±ä¸ç”¨Reduxâ€,ç­‰ç­‰ä¸€ç³»åˆ—çš„è¯ã€‚å…³äºReactç±»ç»„ä»¶reduxçš„ä½œè€…åˆæœ‰è¯è¯´</p><blockquote><ul><li>å¤§å‹ç»„ä»¶å¾ˆéš¾æ‹†åˆ†å’Œé‡æ„ï¼Œä¹Ÿå¾ˆéš¾æµ‹è¯•ã€‚</li><li>ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨ç»„ä»¶çš„å„ä¸ªæ–¹æ³•ä¹‹ä¸­ï¼Œå¯¼è‡´é‡å¤é€»è¾‘æˆ–å…³è”é€»è¾‘ã€‚</li><li>ç»„ä»¶ç±»å¼•å…¥äº†å¤æ‚çš„ç¼–ç¨‹æ¨¡å¼ï¼Œæ¯”å¦‚ render props å’Œé«˜é˜¶ç»„ä»¶ã€‚</li></ul></blockquote><p>ä¸‹é¢æˆ‘ä»¬ç”¨ç±»ç»„ä»¶åšä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddCount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.PureComponent</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-variable language_">super</span>(props)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>=&#123;<br>      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span><br>    &#125;<br>  &#125;<br>  addcount = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> newCount = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<br>      <span class="hljs-attr">count</span>: newCount +=<span class="hljs-number">1</span><br>  &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;this.state.count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.addcount&#125;</span>&gt;</span>count++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AddCount</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸Šé¢çš„ä»£ç ç¡®å®å¾ˆé‡ã€‚<br>ä¸ºäº†è§£å†³è¿™ç§ï¼Œ<em>ç±»ç»„ä»¶åŠŸèƒ½é½å…¨å´å¾ˆé‡ï¼Œçº¯å‡½æ•°å¾ˆè½»ä¾¿å´æœ‰ä¸Šæ–‡å‡ ç‚¹é‡å¤§é™åˆ¶</em>ï¼ŒReactå›¢é˜Ÿè®¾è®¡äº†React Hooks<br><strong>React Hookså°±æ˜¯åŠ å¼ºç‰ˆçš„å‡½æ•°ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨ä¸ä½¿ç”¨ <code>class</code>ï¼Œå°±èƒ½å†™å‡ºä¸€ä¸ªå…¨åŠŸèƒ½çš„ç»„ä»¶</strong></p><h3 id="ä»€ä¹ˆæ˜¯Hooks"><a href="#ä»€ä¹ˆæ˜¯Hooks" class="headerlink" title="ä»€ä¹ˆæ˜¯Hooks?"></a>ä»€ä¹ˆæ˜¯Hooks?</h3><p>â€˜Hooksâ€™çš„å•è¯æ„æ€ä¸ºâ€œé’©å­â€ã€‚<br>**React Hooks çš„æ„æ€æ˜¯ï¼Œç»„ä»¶å°½é‡å†™æˆçº¯å‡½æ•°ï¼Œå¦‚æœéœ€è¦å¤–éƒ¨åŠŸèƒ½å’Œå‰¯ä½œç”¨ï¼Œå°±ç”¨é’©å­æŠŠå¤–éƒ¨ä»£ç â€é’©â€è¿›æ¥ã€‚**è€ŒReact Hooks å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„â€œé’©å­â€ã€‚<br>é‚£ä¹ˆHooksè¦æ€ä¹ˆç”¨å‘¢ï¼Ÿâ€œä½ éœ€è¦å†™ä»€ä¹ˆåŠŸèƒ½ï¼Œå°±ç”¨ä»€ä¹ˆé’©å­â€ã€‚å¯¹äºå¸¸è§çš„åŠŸèƒ½ï¼ŒReactä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›å¸¸ç”¨çš„é’©å­ï¼Œå½“ç„¶æœ‰ç‰¹æ®Šéœ€è¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å†™è‡ªå·±çš„é’©å­ã€‚ä¸‹é¢æ˜¯Reactä¸ºæˆ‘ä»¬æä¾›çš„é»˜è®¤çš„å››ç§æœ€å¸¸ç”¨é’©å­</p><blockquote><ul><li>useState()</li><li>userContext()</li><li>userReducer()</li><li>useEffect()</li></ul></blockquote><p>ä¸åŒçš„é’©å­ä¸ºå‡½æ•°å¼•å…¥ä¸åŒçš„å¤–éƒ¨åŠŸèƒ½ï¼Œæˆ‘ä»¬å‘ç°ä¸Šé¢å››ç§é’©å­éƒ½å¸¦æœ‰<code>use</code>å‰ç¼€ï¼ŒReactçº¦å®šï¼Œé’©å­<em>ä¸€å¾‹ä½¿ç”¨</em> <code>use</code>å‰ç¼€å‘½åã€‚æ‰€ä»¥ï¼Œä½ è‡ªå·±å®šä¹‰çš„é’©å­éƒ½è¦å‘½åä¸ºuseXXXã€‚</p><h3 id="React-Hooksçš„ç”¨æ³•"><a href="#React-Hooksçš„ç”¨æ³•" class="headerlink" title="React Hooksçš„ç”¨æ³•"></a>React Hooksçš„ç”¨æ³•</h3><p>ä¸‹é¢ä»‹ç»å››ç§é»˜è®¤é’©å­çš„ç”¨æ³•</p><h5 id="ä¸€ã€userState-çŠ¶æ€é’©å­"><a href="#ä¸€ã€userState-çŠ¶æ€é’©å­" class="headerlink" title="ä¸€ã€userState():çŠ¶æ€é’©å­"></a>ä¸€ã€userState():çŠ¶æ€é’©å­</h5><p>æˆ‘ä»¬çŸ¥é“ï¼Œçº¯å‡½æ•°ç»„ä»¶æ²¡æœ‰çŠ¶æ€ï¼Œ<code>useState()</code>ç”¨äºä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥çŠ¶æ€ã€‚<br>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨Hooksé‡å†™ä¸Šé¢çš„è®¡æ•°å™¨ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123;useState&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">AddCount</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [ count, setCount ] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addcount</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">let</span> newCount = count<br>    <span class="hljs-title function_">setCount</span>(newCount+=<span class="hljs-number">1</span>)<br>  &#125; <br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;addcount&#125;</span>&gt;</span>count++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AddCount</span> <br></code></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œå…¨ä¸€æ ·çš„è®¡æ•°å™¨ï¼Œä»£ç çœ‹èµ·æ¥æ›´åŠ çš„è½»ä¾¿ç®€æ´ï¼Œæ²¡æœ‰äº†ç»§æ‰¿ï¼Œæ²¡æœ‰äº†æ¸²æŸ“é€»è¾‘ï¼Œæ²¡æœ‰äº†ç”Ÿå‘½å‘¨æœŸç­‰ã€‚è¿™å°±æ˜¯hookså­˜åœ¨çš„æ„ä¹‰ã€‚<br>åœ¨<code>useState()</code>ä¸­ï¼Œå®ƒæ¥å—çŠ¶æ€çš„åˆå§‹å€¼ä½œä¸ºå‚æ•°ï¼Œå³ä¸Šä¾‹ä¸­è®¡æ•°çš„åˆå§‹å€¼ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ•°ç»„ç¬¬ä¸€é¡¹ä¸ºä¸€ä¸ªå˜é‡ï¼ŒæŒ‡å‘çŠ¶æ€çš„å½“å‰å€¼ã€‚ç±»ä¼¼<code>this.state</code>,ç¬¬äºŒé¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ›´æ–°çŠ¶æ€,ç±»ä¼¼<code>setState</code>ã€‚è¯¥å‡½æ•°çš„å‘½åï¼Œæˆ‘ä»¬çº¦å®šä¸º<code>set</code>å‰ç¼€åŠ çŠ¶æ€çš„å˜é‡åã€‚</p><h5 id="äºŒã€useContext-å…±äº«çŠ¶æ€é’©å­"><a href="#äºŒã€useContext-å…±äº«çŠ¶æ€é’©å­" class="headerlink" title="äºŒã€useContext():å…±äº«çŠ¶æ€é’©å­"></a>äºŒã€useContext():å…±äº«çŠ¶æ€é’©å­</h5><p>è¯¥é’©å­çš„ä½œç”¨æ˜¯ï¼Œåœ¨ç»„ä»¶ä¹‹é—´å…±äº«çŠ¶æ€ã€‚å…³äºContextè¿™é‡Œä¸å†èµ˜è¿°ï¼Œå…¶ä½œç”¨å°±æ˜¯å¯ä»¥åšçŠ¶æ€çš„åˆ†å‘ï¼Œåœ¨React16.Xä»¥åæ”¯æŒï¼Œé¿å…äº†reacté€å±‚é€šè¿‡Propsä¼ é€’æ•°æ®ã€‚<br>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œç°åœ¨å‡è®¾æœ‰Aç»„ä»¶å’ŒBç»„ä»¶éœ€è¦å…±äº«ä¸€ä¸ªçŠ¶æ€ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs react">import React,&#123; useContext &#125; from &#x27;react&#x27;<br>const Ceshi = () =&gt; &#123;<br>  const AppContext = React.createContext(&#123;&#125;)<br>  const A =() =&gt; &#123;<br>    const &#123; name &#125; = useContext(AppContext)<br>    return (<br>        &lt;p&gt;æˆ‘æ˜¯Aç»„ä»¶çš„åå­—&#123;name&#125;&lt;span&gt;æˆ‘æ˜¯Açš„å­ç»„ä»¶&#123;name&#125;&lt;/span&gt;&lt;/p&gt;<br>    )<br>&#125;<br>const B =() =&gt; &#123;<br>  const &#123; name &#125; = useContext(AppContext)<br>  return (<br>      &lt;p&gt;æˆ‘æ˜¯Bç»„ä»¶çš„åå­—&#123;name&#125;&lt;/p&gt;<br>  )<br>&#125;<br>  return (<br>    &lt;AppContext.Provider value=&#123;&#123;name: &#x27;hookæµ‹è¯•&#x27;&#125;&#125;&gt;<br>    &lt;A/&gt;<br>    &lt;B/&gt;<br>    &lt;/AppContext.Provider&gt;<br>  )<br>&#125;<br>export default Ceshi <br></code></pre></td></tr></table></figure><h5 id="ä¸‰ã€useReducer-Actioné’©å­"><a href="#ä¸‰ã€useReducer-Actioné’©å­" class="headerlink" title="ä¸‰ã€useReducer():Actioné’©å­"></a>ä¸‰ã€useReducer():Actioné’©å­</h5><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ä½¿ç”¨Reactçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚é‡åˆ°çŠ¶æ€ç®¡ç†ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨åˆ°Redux,è€ŒReactæœ¬èº«æ˜¯ä¸æä¾›çŠ¶æ€ç®¡ç†çš„ã€‚è€Œ<code>useReducer()</code>ä¸ºæˆ‘ä»¬æä¾›äº†çŠ¶æ€ç®¡ç†ã€‚é¦–å…ˆï¼Œå…³äºreduxæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå…¶åŸç†æ˜¯æˆ‘ä»¬é€šè¿‡ç”¨æˆ·åœ¨é¡µé¢ä¸­å‘èµ·action,ä»è€Œé€šè¿‡reduceræ–¹æ³•æ¥æ”¹å˜state,ä»è€Œå®ç°é¡µé¢å’ŒçŠ¶æ€çš„é€šä¿¡ã€‚è€ŒReducerçš„å½¢å¼æ˜¯<code>(state, action) =&gt; newstate</code>ã€‚ç±»ä¼¼ï¼Œæˆ‘ä»¬çš„<code>useReducer()</code>æ˜¯è¿™æ ·çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">const [state, dispatch] = useReducer(reducer, initialState)<br></code></pre></td></tr></table></figure><p>å®ƒæ¥å—reducerå‡½æ•°å’ŒçŠ¶æ€çš„åˆå§‹å€¼ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€é¡¹ä¸º<em>å½“å‰çš„</em>çŠ¶æ€å€¼ï¼Œç¬¬äºŒé¡¹ä¸ºå‘é€actionçš„dispatchå‡½æ•°ã€‚ä¸‹é¢æˆ‘ä»¬ä¾ç„¶ç”¨æ¥å®ç°ä¸€ä¸ªè®¡æ•°å™¨ã€‚<br>å’Œreduxä¸€æ ·ï¼Œæˆ‘ä»¬æ˜¯éœ€è¦é€šè¿‡é¡µé¢ç»„ä»¶å‘èµ·actionæ¥è°ƒç”¨reduceræ–¹æ³•ï¼Œä»è€Œæ”¹å˜çŠ¶æ€ï¼Œè¾¾åˆ°æ”¹å˜é¡µé¢UIçš„è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šå…ˆå†™ä¸€ä¸ªReducerå‡½æ•°ï¼Œç„¶åé€šè¿‡useReducer()è¿”å›ç»™æˆ‘ä»¬çš„stateå’Œdispatchæ¥é©±åŠ¨è¿™ä¸ªæ•°æ®æµã€‚æ€è·¯å°±æ˜¯è¿™æ ·ï¼Œä¸‹é¢æˆ‘ä»¬ä¸Šä»£ç </p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,&#123;useReducer&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">AddCount</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state, action</span>) =&gt;  &#123;<br> <span class="hljs-keyword">if</span>(action.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;&#x27;</span>add)&#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>  ...state,<br>  <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> +<span class="hljs-number">1</span>,<br>  &#125;<br> &#125;<span class="hljs-keyword">else</span> &#123;<br>   <span class="hljs-keyword">return</span> state<br>  &#125;<br> &#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">addcount</span> = (<span class="hljs-params"></span>) =&gt; &#123; <br>  <span class="hljs-title function_">dispatch</span>(&#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;add&#x27;</span><br>  &#125;)<br> &#125;<br><span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, &#123;<span class="hljs-attr">count</span>: <span class="hljs-number">0</span>&#125;)<br><span class="hljs-keyword">return</span> (<br><span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;state.count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;addcount&#125;</span>&gt;</span>count++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/&gt;</span></span><br>)<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AddCount</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ä»£ç æˆ‘ä»¬çœ‹åˆ°äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>useReducer()</code>ä»£æ›¿äº†Reduxçš„åŠŸèƒ½ï¼Œä½†<code>useReducer</code>æ— æ³•ä¸ºæˆ‘ä»¬æä¾›ä¸­é—´ä»¶ç­‰åŠŸèƒ½ï¼ŒåŠ å…¥ä½ æœ‰è¿™äº›éœ€æ±‚ï¼Œè¿˜æ˜¯éœ€è¦ç”¨åˆ°reduxã€‚</p><h5 id="å››ã€useEffect-å‰¯ä½œç”¨é’©å­"><a href="#å››ã€useEffect-å‰¯ä½œç”¨é’©å­" class="headerlink" title="å››ã€useEffect():å‰¯ä½œç”¨é’©å­"></a>å››ã€useEffect():å‰¯ä½œç”¨é’©å­</h5><p>ç†Ÿæ‚‰redux-sagaçš„åŒå­¦ä¸€å®šå¯¹<code>Effect</code>ä¸é™Œç”Ÿ,å®ƒå¯ä»¥ç”¨æ¥æ›´å¥½çš„å¤„ç†å‰¯ä½œç”¨ï¼Œå¦‚å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œæˆ‘ä»¬çš„<code>useEffect()</code>ä¹Ÿæ˜¯ä¸ºå‡½æ•°ç»„ä»¶æä¾›äº†å¤„ç†å‰¯ä½œç”¨çš„é’©å­ã€‚ä¾ç„¶æˆ‘ä»¬ä¼šæŠŠè¯·æ±‚æˆ¿å­<code>componentDidMount</code>é‡Œé¢ï¼Œåœ¨å‡½æ•°ç»„ä»¶ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>useEffect()</code>ã€‚å…¶å…·ä½“ç”¨æ³•å¦‚ä¸‹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;&#125;,[array])<br></code></pre></td></tr></table></figure><p><code>useEffect()</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ è¦è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥ç»™å‡ºEffectçš„ä¾èµ–é¡¹ã€‚åªè¦è¿™ä¸ªæ•°ç»„å‘ç”Ÿå˜åŒ–ï¼Œ<code>useEffect()</code>å°±ä¼šæ‰§è¡Œã€‚å½“ç¬¬äºŒé¡¹çœç•¥ä¸å¡«æ—¶ï¼Œ<code>useEffect()</code>ä¼šåœ¨æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶æ‰§è¡Œã€‚è¿™ä¸€ç‚¹ç±»ä¼¼äºç±»ç»„ä»¶çš„<code>componentDidMount</code>ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥åŠ è½½æ•°æ®ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">AsyncPage</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br><span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>)<br>    &#125;,<span class="hljs-number">5000</span>)<br>  &#125;)<br><span class="hljs-keyword">return</span> (<br>loading ? <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¼‚æ­¥è¯·æ±‚å®Œæˆ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>)<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AsyncPage</span> <br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å®ç°äº†ä¸€ä¸ªå¼‚æ­¥åŠ è½½ï¼Œä¸‹é¢æˆ‘ä»¬å†åšä¸€ä¸ª<code>useEffect()</code>ä¾èµ–ç¬¬äºŒé¡¹æ•°ç»„å˜åŒ–çš„ä¾‹å­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs react">import React, &#123; useState, useEffect &#125; from &#x27;react&#x27;<br><br>const AsyncPage = (&#123;name&#125;) =&gt; &#123;<br>const [loading, setLoading] = useState(true)<br>const [person, setPerson] = useState(&#123;&#125;)<br><br>  useEffect(() =&gt; &#123;<br>    setLoading(true)<br>    setTimeout(()=&gt; &#123;<br>      setLoading(false)<br>      setPerson(&#123;name&#125;)<br>    &#125;,2000)<br>  &#125;,[name])<br>  return (<br>    &lt;&gt;<br>      &#123;loading?&lt;p&gt;Loading...&lt;/p&gt;:&lt;p&gt;&#123;person.name&#125;&lt;/p&gt;&#125;<br>    &lt;/&gt;<br>  )<br>&#125;<br><br>const PersonPage = () =&gt;&#123;<br>  const [state, setState] = useState(&#x27;&#x27;)<br>  const changeName = (name) =&gt; &#123;<br>    setState(name)<br>  &#125;<br>  return (<br>    &lt;&gt;<br>      &lt;AsyncPage name=&#123;state&#125;/&gt;<br>      &lt;button onClick=&#123;() =&gt; &#123;changeName(&#x27;åå­—1&#x27;)&#125;&#125;&gt;åå­—1&lt;/button&gt;<br>      &lt;button onClick=&#123;() =&gt; &#123;changeName(&#x27;åå­—2&#x27;)&#125;&#125;&gt;åå­—2&lt;/button&gt;<br>    &lt;/&gt;<br>  )<br>&#125;<br><br>export default PersonPage <br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œé€šè¿‡æ”¹å˜ä¼ ç»™<code>AsyncPage</code>çš„props,ä»è€Œè°ƒç”¨<code>useEffect()</code>ã€‚</p><h5 id="äº”ã€åˆ›å»ºè‡ªå·±çš„Hooks"><a href="#äº”ã€åˆ›å»ºè‡ªå·±çš„Hooks" class="headerlink" title="äº”ã€åˆ›å»ºè‡ªå·±çš„Hooks"></a>äº”ã€åˆ›å»ºè‡ªå·±çš„Hooks</h5><p>ä»¥ä¸Šæˆ‘ä»¬ä»‹ç»äº†å››ç§æœ€å¸¸ç”¨çš„reactæä¾›ç»™æˆ‘ä»¬çš„é»˜è®¤React Hooks,æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åˆ›å»ºæˆ‘ä»¬è‡ªå·±æƒ³è¦çš„Hooks,æ¥æ»¡è¶³æ›´ä¾¿æ·çš„å¼€å‘ï¼Œåœ¨å°ç¼–çœ‹æ¥ï¼Œæ— éå°±æ˜¯æ ¹æ®ä¸šåŠ¡åœºæ™¯å¯¹ä»¥ä¸Šå››ç§Hooksè¿›è¡Œç»„è£…ï¼Œä»è€Œå¾—åˆ°æ»¡è¶³è‡ªå·±éœ€æ±‚çš„é’©å­ã€‚<br>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦å°†æˆ‘ä»¬ä¸Šé¢çš„ä»£ç åŠŸèƒ½å°è£…æˆHooks,ä»£ç å¦‚ä¸‹</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">usePerson</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br><span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)<br><span class="hljs-keyword">const</span> [person, setPerson] = <span class="hljs-title function_">useState</span>(&#123;&#125;)<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>)<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span> &#123;<br>      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>)<br>      <span class="hljs-title function_">setPerson</span>(&#123;name&#125;)<br>    &#125;,<span class="hljs-number">2000</span>)<br>  &#125;,[name])<br>  <span class="hljs-keyword">return</span> [loading,person]<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">AsyncPage</span> = (<span class="hljs-params">&#123;name&#125;</span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> [loading, person] = <span class="hljs-title function_">usePerson</span>(name)<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">        &#123;loading?<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;person.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/&gt;</span></span><br>    )<br>  &#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">PersonPage</span> = (<span class="hljs-params"></span>) =&gt;&#123;<br>  <span class="hljs-keyword">const</span> [state, setState]=<span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeName</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-title function_">setState</span>(name)<br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">AsyncPage</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&#123;state&#125;/</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;changeName(&#x27;åå­—1&#x27;)&#125;&#125;&gt;åå­—1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;changeName(&#x27;åå­—2&#x27;)&#125;&#125;&gt;åå­—2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PersonPage</span> <br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†ä¹‹å‰çš„ä¾‹å­å°è£…æˆäº†è‡ªå·±çš„Hooks,ä¾¿äºå…±äº«ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰<code>usePerson()</code>ä¸ºæˆ‘ä»¬çš„è‡ªå®šä¹‰Hooks,å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®çš„çŠ¶æ€ï¼Œä¹‹åæˆ‘ä»¬åœ¨ä½¿ç”¨<code>usePerson()</code>æ—¶ï¼Œä¼šæ ¹æ®æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ä¸åŒè€Œè¿”å›ä¸åŒçš„çŠ¶æ€ï¼Œç„¶åå¾ˆç®€ä¾¿çš„åº”ç”¨äºæˆ‘ä»¬çš„é¡µé¢ä¸­ã€‚</p><p>è‡³æ­¤ï¼Œå…³äºReact Hooksçš„è®²è§£ç»“æŸï¼Œå®ƒä¸ºæˆ‘ä»¬å¸¦æ¥äº†Reactç¿»å¤©è¦†åœ°çš„å˜åŒ–ï¼Œä¹Ÿè®©æˆ‘ä»¬æ„Ÿå—åˆ°äº†Reactçš„æœªæ¥ï¼Œä¸è¿‡ï¼Œå‡å¦‚ä½ ä¸ä¼šHooksä¹Ÿæ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„è¯æ¥è¯´</p><blockquote><ul><li><strong>å®Œå…¨å¯é€‰çš„ã€‚</strong> ä½ æ— éœ€é‡å†™ä»»ä½•å·²æœ‰ä»£ç å°±å¯ä»¥åœ¨ä¸€äº›ç»„ä»¶ä¸­å°è¯• Hookã€‚ä½†æ˜¯å¦‚æœä½ ä¸æƒ³ï¼Œä½ ä¸å¿…ç°åœ¨å°±å»å­¦ä¹ æˆ–ä½¿ç”¨ Hookã€‚</li><li><strong>100% å‘åå…¼å®¹çš„ã€‚</strong> Hook ä¸åŒ…å«ä»»ä½•ç ´åæ€§æ”¹åŠ¨ã€‚</li><li><strong>ç°åœ¨å¯ç”¨ã€‚</strong> Hook å·²å‘å¸ƒäº v16.8.0ã€‚</li><li><strong>æ²¡æœ‰è®¡åˆ’ä» React ä¸­ç§»é™¤ classã€‚</strong></li><li><strong>Hook ä¸ä¼šå½±å“ä½ å¯¹ React æ¦‚å¿µçš„ç†è§£ã€‚</strong> æ°æ°ç›¸åï¼ŒHook ä¸ºå·²çŸ¥çš„ React æ¦‚å¿µæä¾›äº†æ›´ç›´æ¥çš„ APIï¼špropsï¼Œ stateï¼Œcontextï¼Œrefs ä»¥åŠç”Ÿå‘½å‘¨æœŸã€‚</li></ul></blockquote>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hooks</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript treeç»“æ„æ•°æ®</title>
    <link href="/blog/2022/02/17/js-treeData/"/>
    <url>/blog/2022/02/17/js-treeData/</url>
    
    <content type="html"><![CDATA[<h1 id="treeç»“æ„æ•°æ®"><a href="#treeç»“æ„æ•°æ®" class="headerlink" title="treeç»“æ„æ•°æ®"></a>treeç»“æ„æ•°æ®</h1><h1 id="1-æ‰å¹³æ•°æ®è½¬treeæ•°æ®"><a href="#1-æ‰å¹³æ•°æ®è½¬treeæ•°æ®" class="headerlink" title="1.æ‰å¹³æ•°æ®è½¬treeæ•°æ®"></a>1.æ‰å¹³æ•°æ®è½¬treeæ•°æ®</h1><ul><li>é¦–å…ˆï¼Œéšæ„ä¹¦å†™ä¸€æ®µæœ‰å…³ç³»çš„æ•°æ®ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> data = [<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬äº‘&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">1</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‰ç«¯æŠ€æœ¯ä¸“å®¶&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">2</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é¦–å¸­ç§‘å­¦å®¶&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">1</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‰ç«¯æ¶æ„å¸ˆ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">3</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">4</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‰ç«¯èœé¸Ÿ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">5</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å‰ç«¯å°ç™½&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">7</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">6</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬å²³çˆ¶&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">8</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;QQ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">9</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">8</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¾®ä¿¡&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">8</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç‹è€…è£è€€&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">11</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">8</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç»åœ°æ±‚ç”Ÿ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">8</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;QQä¼šå‘˜&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">13</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">9</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;QQç©ºé—´&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">9</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;QQé’±åŒ…&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">9</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;æ²™æ¼ åœ°å›¾&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">12</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å…¬ä¼—å·&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">17</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">10</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç¾¤èŠ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">10</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å°ç¨‹åº&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">19</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">10</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;èŠ±æœ¨å…°&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">11</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;èŠˆæœˆ&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">21</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">11</span> &#125;,<br>  &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é©¬å¯æ³¢ç½—&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">22</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">11</span> &#125;,<br>];<br></code></pre></td></tr></table></figure><ul><li>å¦‚ä½•å¾—åˆ°è¿™æ ·çš„å±‚æ¬¡ç»“æ„æ•°æ®ï¼Ÿ</li><li>æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥çœ‹ï¼›æ•°æ®ä¸­çš„keyä»£è¡¨å½“å‰æ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè€Œparentåˆ™ä»£è¡¨å…¶çˆ¶çº§ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼šéå†dataæ•°ç»„ï¼Œæ ¹æ®parentå’Œkeyçš„å¯¹åº”å…³ç³»ï¼Œç”Ÿæˆtreeæ•°æ®ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨childrenæ¥è£…å­æ•°æ®ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å°è£…getTreeæ–¹æ³•ï¼Œå°†æ•°ç»„è½¬åŒ–ä¸ºtree.</span><br><br><span class="hljs-keyword">import</span> &#123; cloneDeep &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;lodash&quot;</span>;<span class="hljs-comment">//lodashåº“é‡Œå¼•å…¥cloneDeepæ·±å…‹éš†æ–¹æ³•</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">getTree</span> = (<span class="hljs-params">data</span>) =&gt; &#123;<br><br>  <span class="hljs-keyword">const</span> temp = <span class="hljs-title function_">cloneDeep</span>(data);<span class="hljs-comment">//æ·±å…‹éš†ä¸€ä»½å¤–æ¥æ•°æ®dataï¼Œä»¥é˜²ä¸‹é¢çš„å¤„ç†ä¿®æ”¹dataæœ¬èº«</span><br>  <span class="hljs-keyword">const</span> parents = temp.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> !item.<span class="hljs-property">parent</span>); <span class="hljs-comment">//è¿‡æ»¤å‡ºæœ€é«˜çˆ¶é›†</span><br>  <span class="hljs-keyword">const</span> children = temp.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">parent</span>);<span class="hljs-comment">//è¿‡æ»¤å‡ºå­©å­èŠ‚ç‚¹</span><br>  <br>  <span class="hljs-comment">//éå†å­©å­èŠ‚ç‚¹ï¼Œæ ¹æ®å­©å­çš„parentä»tempé‡Œé¢å¯»æ‰¾å¯¹åº”çš„nodeèŠ‚ç‚¹ï¼Œå°†å­©å­æ·»åŠ åœ¨nodeçš„childrenå±æ€§ä¹‹ä¸­ã€‚</span><br>  children.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> node = temp.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">el</span>) =&gt;</span> el.<span class="hljs-property">key</span> === item.<span class="hljs-property">parent</span>);<br>    node &amp;&amp; (node.<span class="hljs-property">children</span> ? node.<span class="hljs-property">children</span>.<span class="hljs-title function_">push</span>(item) : node.<span class="hljs-property">children</span> = [item]);<br>  &#125;);<br>  <span class="hljs-keyword">return</span> parents;<span class="hljs-comment">//è¿”å›æ‹¼è£…å¥½çš„æ•°æ®ã€‚</span><br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>å°è£…å¥½geTreeæ–¹æ³•ï¼Œè°ƒç”¨ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> tree=<span class="hljs-title function_">getTree</span>(data);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tree);<br></code></pre></td></tr></table></figure><ul><li>æ•°ç»„è½¬treeçš„å†…å®¹åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚</li></ul><h1 id="2-treeæ•°æ®è½¬æ‰å¹³æ•°æ®"><a href="#2-treeæ•°æ®è½¬æ‰å¹³æ•°æ®" class="headerlink" title="2.treeæ•°æ®è½¬æ‰å¹³æ•°æ®"></a>2.treeæ•°æ®è½¬æ‰å¹³æ•°æ®</h1><ul><li>æ•°ç»„è½¬treeä¼šäº†ï¼Œé‚£æ¥ä¸‹æ¥å°±æ˜¯treeè½¬æ•°ç»„äº†ã€‚</li><li>å…ˆéšæ„å®šä¹‰ä¸€æ®µæ•°æ®ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> treeData = [<br>  &#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å¤ªæ&quot;</span>,<br>    <span class="hljs-attr">key</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">children</span>: [<br>      &#123;<br>        <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;ä¸¤ä»ª&quot;</span>,<br>        <span class="hljs-attr">key</span>: <span class="hljs-number">2</span>,<br>        <span class="hljs-attr">parent</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-attr">children</span>: [<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;è€é˜³&quot;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-number">3</span>,<br>            <span class="hljs-attr">parent</span>: <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">children</span>: [&#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;ä¹¾å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">7</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">3</span> &#125;],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å°‘é˜³&quot;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-number">4</span>,<br>            <span class="hljs-attr">parent</span>: <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">children</span>: [<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å·½å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">9</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">4</span> &#125;,<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å…‘å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">4</span> &#125;,<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;ç¦»å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">11</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">4</span> &#125;,<br>            ],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;è€é˜´&quot;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-number">5</span>,<br>            <span class="hljs-attr">parent</span>: <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">children</span>: [&#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å¤å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">5</span> &#125;],<br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;å°‘é˜´&quot;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-number">6</span>,<br>            <span class="hljs-attr">parent</span>: <span class="hljs-number">2</span>,<br>            <span class="hljs-attr">children</span>: [<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;è‰®å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">6</span> &#125;,<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;åå¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">13</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">6</span> &#125;,<br>              &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;éœ‡å¦&quot;</span>, <span class="hljs-attr">key</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">parent</span>: <span class="hljs-number">6</span> &#125;,<br>            ],<br>          &#125;,<br>        ],<br>      &#125;,<br>    ],<br>  &#125;,<br>];<br></code></pre></td></tr></table></figure><ul><li>å­æ›°ï¼šâ€œåŠ æˆ‘æ•°å¹´ï¼Œäº”åä»¥å­¦æ˜“ï¼Œå¯ä»¥æ— å¤§è¿‡çŸ£ã€‚â€å¯è§å­”å­å¯¹æ˜“ç»çš„æ¨å´‡ã€‚ä»¥ä¸Šæ•°æ®æ˜¯æ˜“ç»ä¸­å¤ªæåˆ°å…«å¦æ¼”åŒ–è¿‡ç¨‹ï¼Œç”šä¸ºå¥‡å¦™ï¼Œå¯ä»¥è¯´å®‡å®™ä¸‡è±¡çš†åœ¨è¿™æ¼”åŒ–è§„å¾‹ä¹‹ä¸­ï¼šå¤ªæ-&gt;ä¸¤ä»ª-&gt;å››è±¡-&gt;å…«å¦ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†è¿™ä¸€æ®µtreeå½¢æ•°æ®è½¬åŒ–ä¸ºæ‰å¹³ç»“æ„ã€‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šæ‰è‰ºã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getFlatData</span>=(<span class="hljs-params">data</span>)=&gt;&#123;<br>    <span class="hljs-keyword">const</span> flatData=[];<br>    data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>      <span class="hljs-comment">//è§£æ„å½“å‰item,å»æ‰itemä¸­çš„childrenï¼Œå°†çº¯å‡€çš„nodeï¼ˆä¸å«childrençš„å•æ¡æ•°æ®ï¼‰æ·»åŠ åˆ°flatDataä¸­ã€‚å¦‚æœchildrenå­˜åœ¨å°±é€’å½’æ‰§è¡ŒgetFlatDataæ–¹æ³•ï¼Œç›´è‡³æ·»åŠ äº†æ‰€æœ‰ã€‚</span><br>        <span class="hljs-keyword">const</span> &#123;children,...node&#125;=item<br>        flatData.<span class="hljs-title function_">push</span>(node);<br>        children&amp;&amp;flagData.<span class="hljs-title function_">push</span>(...<span class="hljs-title function_">getFlatData</span>(children));<br>    &#125;)<br>    <span class="hljs-keyword">return</span> flatData;<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>æ–¹æ³•å†™å¥½äº†ï¼Œæ‰§è¡Œä»£ç ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getFlatData</span>(treeData));<br></code></pre></td></tr></table></figure><ul><li>treeæ•°æ®è½¬æ‰å¹³ç»“æ„åˆ°è¿™å°±ç»“æŸäº†ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HTTPä¸HTTPSçš„åŒºåˆ«</title>
    <link href="/blog/2022/02/16/http-https/"/>
    <url>/blog/2022/02/16/http-https/</url>
    
    <content type="html"><![CDATA[<h1 id="HTTPä¸HTTPSçš„åŒºåˆ«"><a href="#HTTPä¸HTTPSçš„åŒºåˆ«" class="headerlink" title="HTTPä¸HTTPSçš„åŒºåˆ«"></a>HTTPä¸HTTPSçš„åŒºåˆ«</h1><h3 id="ä¸€ã€HTTPå’ŒHTTPSçš„åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€HTTPå’ŒHTTPSçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€HTTPå’ŒHTTPSçš„åŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€HTTPå’ŒHTTPSçš„åŸºæœ¬æ¦‚å¿µ</h3><p>ã€€ã€€HTTPï¼šï¼ˆHyper Text Transfer Protocolï¼‰æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼ˆTCPï¼‰ï¼Œç”¨äºä»WWWæœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ è¾“åè®®ï¼Œå®ƒå¯ä»¥ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆï¼Œä½¿ç½‘ç»œä¼ è¾“å‡å°‘ã€‚</p><p>ã€€ã€€HTTPSï¼šï¼ˆHyper Text Transfer Protocol over SecureSocket Layerï¼‰æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è®²æ˜¯HTTPçš„å®‰å…¨ç‰ˆï¼Œå³HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦SSLã€‚</p><p>ã€€ã€€HTTPSåè®®çš„ä¸»è¦ä½œç”¨å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šä¸€ç§æ˜¯å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼›å¦ä¸€ç§å°±æ˜¯ç¡®è®¤ç½‘ç«™çš„çœŸå®æ€§ã€‚</p><h3 id="äºŒã€HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#äºŒã€HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="äºŒã€HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>äºŒã€HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ã€€ã€€HTTPåè®®ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œä¹Ÿå°±æ˜¯æ˜æ–‡çš„ï¼Œå› æ­¤ä½¿ç”¨HTTPåè®®ä¼ è¾“éšç§ä¿¡æ¯éå¸¸ä¸å®‰å…¨ï¼Œä¸ºäº†ä¿è¯è¿™äº›éšç§æ•°æ®èƒ½åŠ å¯†ä¼ è¾“ï¼Œäºæ˜¯ç½‘æ™¯å…¬å¸è®¾è®¡äº†SSLï¼ˆSecure Sockets Layerï¼‰åè®®ç”¨äºå¯¹HTTPåè®®ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä»è€Œå°±è¯ç”Ÿäº†HTTPSã€‚ç®€å•æ¥è¯´ï¼ŒHTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”httpåè®®å®‰å…¨ã€‚</p><p>ã€€ã€€HTTPSå’ŒHTTPçš„åŒºåˆ«ä¸»è¦å¦‚ä¸‹ï¼š</p><p>ã€€ã€€1ã€httpsåè®®éœ€è¦åˆ°caç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦è¾ƒå°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚</p><p>ã€€ã€€2ã€httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttpsåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®ã€‚</p><p>ã€€ã€€3ã€httpå’Œhttpsä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ï¼Œå‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ã€‚</p><p>ã€€ã€€4ã€httpçš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯”httpåè®®å®‰å…¨ã€‚</p><h3 id="ä¸‰ã€HTTPSçš„ä¼˜ç‚¹"><a href="#ä¸‰ã€HTTPSçš„ä¼˜ç‚¹" class="headerlink" title="ä¸‰ã€HTTPSçš„ä¼˜ç‚¹"></a><strong>ä¸‰ã€HTTPSçš„ä¼˜ç‚¹</strong></h3><p>ã€€ã€€å°½ç®¡HTTPSå¹¶éç»å¯¹å®‰å…¨ï¼ŒæŒæ¡æ ¹è¯ä¹¦çš„æœºæ„ã€æŒæ¡åŠ å¯†ç®—æ³•çš„ç»„ç»‡åŒæ ·å¯ä»¥è¿›è¡Œä¸­é—´äººå½¢å¼çš„æ”»å‡»ï¼Œä½†HTTPSä»æ˜¯ç°è¡Œæ¶æ„ä¸‹æœ€å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p><p>ã€€ã€€ï¼ˆ1ï¼‰ä½¿ç”¨HTTPSåè®®å¯è®¤è¯ç”¨æˆ·å’ŒæœåŠ¡å™¨ï¼Œç¡®ä¿æ•°æ®å‘é€åˆ°æ­£ç¡®çš„å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ï¼›</p><p>ã€€ã€€ï¼ˆ2ï¼‰HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”httpåè®®å®‰å…¨ï¼Œå¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–ã€æ”¹å˜ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</p><p>ã€€ã€€ï¼ˆ3ï¼‰HTTPSæ˜¯ç°è¡Œæ¶æ„ä¸‹æœ€å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶ä¸æ˜¯ç»å¯¹å®‰å…¨ï¼Œä½†å®ƒå¤§å¹…å¢åŠ äº†ä¸­é—´äººæ”»å‡»çš„æˆæœ¬ã€‚</p><p>ã€€ã€€ï¼ˆ4ï¼‰è°·æ­Œæ›¾åœ¨2014å¹´8æœˆä»½è°ƒæ•´æœç´¢å¼•æ“ç®—æ³•ï¼Œå¹¶ç§°â€œæ¯”èµ·åŒç­‰HTTPç½‘ç«™ï¼Œé‡‡ç”¨HTTPSåŠ å¯†çš„ç½‘ç«™åœ¨æœç´¢ç»“æœä¸­çš„æ’åå°†ä¼šæ›´é«˜â€ã€‚</p><h3 id="å››ã€HTTPSçš„ç¼ºç‚¹"><a href="#å››ã€HTTPSçš„ç¼ºç‚¹" class="headerlink" title="å››ã€HTTPSçš„ç¼ºç‚¹"></a><strong>å››ã€HTTPSçš„ç¼ºç‚¹</strong></h3><p>ã€€ã€€è™½ç„¶è¯´HTTPSæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œä½†å…¶ç›¸å¯¹æ¥è¯´ï¼Œè¿˜æ˜¯å­˜åœ¨ä¸è¶³ä¹‹å¤„çš„ï¼š</p><p>ã€€ã€€ï¼ˆ1ï¼‰HTTPSåè®®æ¡æ‰‹é˜¶æ®µæ¯”è¾ƒè´¹æ—¶ï¼Œä¼šä½¿é¡µé¢çš„åŠ è½½æ—¶é—´å»¶é•¿è¿‘50%ï¼Œå¢åŠ 10%åˆ°20%çš„è€—ç”µï¼›</p><p>ã€€ã€€ï¼ˆ2ï¼‰HTTPSè¿æ¥ç¼“å­˜ä¸å¦‚HTTPé«˜æ•ˆï¼Œä¼šå¢åŠ æ•°æ®å¼€é”€å’ŒåŠŸè€—ï¼Œç”šè‡³å·²æœ‰çš„å®‰å…¨æªæ–½ä¹Ÿä¼šå› æ­¤è€Œå—åˆ°å½±å“ï¼›</p><p>ã€€ã€€ï¼ˆ3ï¼‰SSLè¯ä¹¦éœ€è¦é’±ï¼ŒåŠŸèƒ½è¶Šå¼ºå¤§çš„è¯ä¹¦è´¹ç”¨è¶Šé«˜ï¼Œä¸ªäººç½‘ç«™ã€å°ç½‘ç«™æ²¡æœ‰å¿…è¦ä¸€èˆ¬ä¸ä¼šç”¨ã€‚</p><p>ã€€  ï¼ˆ4ï¼‰SSLè¯ä¹¦é€šå¸¸éœ€è¦ç»‘å®šIPï¼Œä¸èƒ½åœ¨åŒä¸€IPä¸Šç»‘å®šå¤šä¸ªåŸŸåï¼ŒIPv4èµ„æºä¸å¯èƒ½æ”¯æ’‘è¿™ä¸ªæ¶ˆè€—ã€‚</p><p>ã€€ã€€ï¼ˆ5ï¼‰HTTPSåè®®çš„åŠ å¯†èŒƒå›´ä¹Ÿæ¯”è¾ƒæœ‰é™ï¼Œåœ¨é»‘å®¢æ”»å‡»ã€æ‹’ç»æœåŠ¡æ”»å‡»ã€æœåŠ¡å™¨åŠ«æŒç­‰æ–¹é¢å‡ ä¹èµ·ä¸åˆ°ä»€ä¹ˆä½œç”¨ã€‚æœ€å…³é”®çš„ï¼ŒSSLè¯ä¹¦çš„ä¿¡ç”¨é“¾ä½“ç³»å¹¶ä¸å®‰å…¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›å›½å®¶å¯ä»¥æ§åˆ¶CAæ ¹è¯ä¹¦çš„æƒ…å†µä¸‹ï¼Œä¸­é—´äººæ”»å‡»ä¸€æ ·å¯è¡Œã€‚</p>]]></content>
    
    
    <categories>
      
      <category>browser</category>
      
    </categories>
    
    
    <tags>
      
      <tag>HTTP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ReactåŸºç¡€-jsxè¯­æ³•</title>
    <link href="/blog/2022/02/16/react-basic1/"/>
    <url>/blog/2022/02/16/react-basic1/</url>
    
    <content type="html"><![CDATA[<h1 id="ReactåŸºç¡€â€“-jsxè¯­æ³•"><a href="#ReactåŸºç¡€â€“-jsxè¯­æ³•" class="headerlink" title="ReactåŸºç¡€â€“ jsxè¯­æ³•"></a>ReactåŸºç¡€â€“ jsxè¯­æ³•</h1><h2 id="ä¸€ã€React-ç®€ä»‹"><a href="#ä¸€ã€React-ç®€ä»‹" class="headerlink" title="ä¸€ã€React ç®€ä»‹"></a>ä¸€ã€React ç®€ä»‹</h2><h3 id="1-å…³äº-React"><a href="#1-å…³äº-React" class="headerlink" title="1. å…³äº React"></a>1. å…³äº React</h3><blockquote><p>ä»€ä¹ˆæ˜¯ React ï¼Ÿ</p></blockquote><p><strong>React</strong> æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚</p><ul><li>æ˜¯ä¸€ä¸ªå°†æ•°æ®æ¸²æŸ“ä¸º HTML è§†å›¾çš„å¼€æº JS åº“</li><li>å®ƒéµå¾ªåŸºäºç»„ä»¶çš„æ–¹æ³•ï¼Œæœ‰åŠ©äºæ„å»ºå¯é‡ç”¨çš„ UI ç»„ä»¶</li><li>å®ƒç”¨äºå¼€å‘å¤æ‚çš„äº¤äº’å¼çš„ web å’Œç§»åŠ¨ UI</li></ul><blockquote><p>React æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</p></blockquote><ol><li>ä½¿ç”¨è™šæ‹Ÿ DOM è€Œä¸æ˜¯çœŸæ­£çš„ DOM</li><li>å®ƒå¯ä»¥ç”¨æœåŠ¡å™¨æ¸²æŸ“</li><li>å®ƒéµå¾ªå•å‘æ•°æ®æµæˆ–æ•°æ®ç»‘å®š</li><li>é«˜æ•ˆ</li><li>å£°æ˜å¼ç¼–ç ï¼Œç»„ä»¶åŒ–ç¼–ç </li></ol><blockquote><p>React çš„ä¸€äº›ä¸»è¦ä¼˜ç‚¹ï¼Ÿ</p></blockquote><ol><li>å®ƒæé«˜äº†åº”ç”¨çš„æ€§èƒ½</li><li>å¯ä»¥æ–¹ä¾¿åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨</li><li>ç”±äºä½¿ç”¨ JSXï¼Œä»£ç çš„å¯è¯»æ€§æ›´å¥½</li><li>ä½¿ç”¨Reactï¼Œç¼–å†™ UI æµ‹è¯•ç”¨ä¾‹å˜å¾—éå¸¸å®¹æ˜“</li></ol><h3 id="2-Hello-React"><a href="#2-Hello-React" class="headerlink" title="2. Hello React"></a>2. Hello React</h3><p>é¦–å…ˆéœ€è¦å¼•å…¥å‡ ä¸ª react åŒ…ï¼Œæˆ‘ç›´æ¥ç”¨çš„æ˜¯è€å¸ˆä¸‹è½½å¥½çš„</p><ul><li>React æ ¸å¿ƒåº“ã€æ“ä½œ DOM çš„ react æ‰©å±•åº“ã€å°† jsx è½¬ä¸º js çš„ babel åº“</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.test&quot;</span>))<br></code></pre></td></tr></table></figure><h3 id="3-è™šæ‹Ÿ-DOM-å’ŒçœŸå®-DOM-çš„ä¸¤ç§åˆ›å»ºæ–¹æ³•"><a href="#3-è™šæ‹Ÿ-DOM-å’ŒçœŸå®-DOM-çš„ä¸¤ç§åˆ›å»ºæ–¹æ³•" class="headerlink" title="3. è™šæ‹Ÿ DOM å’ŒçœŸå® DOM çš„ä¸¤ç§åˆ›å»ºæ–¹æ³•"></a>3. è™šæ‹Ÿ DOM å’ŒçœŸå® DOM çš„ä¸¤ç§åˆ›å»ºæ–¹æ³•</h3><h4 id="3-1-JS-åˆ›å»ºè™šæ‹Ÿ-DOM"><a href="#3-1-JS-åˆ›å»ºè™šæ‹Ÿ-DOM" class="headerlink" title="3.1 JS åˆ›å»ºè™šæ‹Ÿ DOM"></a>3.1 JS åˆ›å»ºè™šæ‹Ÿ DOM</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM,åˆ›å»ºåµŒå¥—æ ¼å¼çš„dom</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span>=<span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;h1&#x27;</span>,&#123;<span class="hljs-attr">id</span>:<span class="hljs-string">&#x27;title&#x27;</span>&#125;,<span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;span&#x27;</span>,&#123;&#125;,<span class="hljs-string">&#x27;hello,React&#x27;</span>))<br><span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>))<br></code></pre></td></tr></table></figure><h4 id="3-2-Jsx-åˆ›å»ºè™šæ‹ŸDOM"><a href="#3-2-Jsx-åˆ›å»ºè™šæ‹ŸDOM" class="headerlink" title="3.2 Jsx åˆ›å»ºè™šæ‹ŸDOM"></a>3.2 Jsx åˆ›å»ºè™šæ‹ŸDOM</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (  <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>)<br><span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>))<br></code></pre></td></tr></table></figure><blockquote><p>js çš„å†™æ³•å¹¶ä¸æ˜¯å¸¸ç”¨çš„ï¼Œå¸¸ç”¨jsxæ¥å†™ï¼Œæ¯•ç«ŸJSXæ›´ç¬¦åˆä¹¦å†™çš„ä¹ æƒ¯</p></blockquote><h2 id="äºŒã€jsx-è¯­æ³•"><a href="#äºŒã€jsx-è¯­æ³•" class="headerlink" title="äºŒã€jsx è¯­æ³•"></a>äºŒã€jsx è¯­æ³•</h2><p> <strong>å®šä¹‰ï¼šJSXæ˜¯ä¸€ç§JavaScriptçš„è¯­æ³•æ‰©å±•ï¼ˆeXtensionï¼‰ï¼Œä¹Ÿåœ¨å¾ˆå¤šåœ°æ–¹ç§°ä¹‹ä¸ºJavaScript XMLï¼Œå› ä¸ºçœ‹èµ·æ¥å°±æ˜¯ä¸€æ®µXMLè¯­æ³•ï¼›</strong></p><ol><li>å®šä¹‰è™šæ‹ŸDOMï¼Œä¸èƒ½ä½¿ç”¨<code>â€œâ€</code></li><li>æ ‡ç­¾ä¸­æ··å…¥JSè¡¨è¾¾å¼çš„æ—¶å€™ä½¿ç”¨<code>{}</code></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">id = &#123;myId.<span class="hljs-title function_">toUpperCase</span>()&#125;<br></code></pre></td></tr></table></figure><ol><li>æ ·å¼çš„ç±»åæŒ‡å®šä¸èƒ½ä½¿ç”¨classï¼Œä½¿ç”¨<code>className</code></li><li>å†…æ•›æ ·å¼è¦ä½¿ç”¨<code>{{}}</code>åŒ…è£¹</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">style=&#123;&#123;<span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;skyblue&#x27;</span>,<span class="hljs-attr">fontSize</span>:<span class="hljs-string">&#x27;24px&#x27;</span>&#125;&#125;<br></code></pre></td></tr></table></figure><ol><li>ä¸èƒ½æœ‰å¤šä¸ªæ ¹æ ‡ç­¾ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li><li>æ ‡ç­¾å¿…é¡»é—­åˆï¼Œè‡ªé—­åˆä¹Ÿè¡Œ</li><li>å¦‚æœå°å†™å­—æ¯å¼€å¤´ï¼Œå°±å°†æ ‡ç­¾è½¬åŒ–ä¸º html åŒåå…ƒç´ ï¼Œå¦‚æœ html ä¸­æ— è¯¥æ ‡ç­¾å¯¹åº”çš„å…ƒç´ ï¼Œå°±æŠ¥é”™ï¼›å¦‚æœæ˜¯å¤§å†™å­—æ¯å¼€å¤´ï¼Œreact å°±å»æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±æŠ¥é”™</li></ol><h4 id="1-æ³¨é‡Š"><a href="#1-æ³¨é‡Š" class="headerlink" title="1. æ³¨é‡Š"></a>1. æ³¨é‡Š</h4><p>å†™åœ¨èŠ±æ‹¬å·é‡Œ</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å°ä¸<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    &#123;/*æ³¨é‡Š...*/&#125;</span><br><span class="language-xml">     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;example&#x27;</span>)<br>);<br></code></pre></td></tr></table></figure><h4 id="2-æ•°ç»„"><a href="#2-æ•°ç»„" class="headerlink" title="2. æ•°ç»„"></a>2. æ•°ç»„</h4><p>JSX å…è®¸åœ¨æ¨¡æ¿ä¸­æ’å…¥æ•°ç»„ï¼Œæ•°ç»„è‡ªåŠ¨å±•å¼€å…¨éƒ¨æˆå‘˜</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">var</span> arr = [<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å°ä¸<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>,<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åŒå­¦<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>,<br>];<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;arr&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;example&#x27;</span>)<br>);<br></code></pre></td></tr></table></figure><h3 id="tip-JSX-å°ç»ƒä¹ "><a href="#tip-JSX-å°ç»ƒä¹ " class="headerlink" title="tip: JSX å°ç»ƒä¹ "></a>tip: JSX å°ç»ƒä¹ </h3><p>æ ¹æ®åŠ¨æ€æ•°æ®ç”Ÿæˆ <code>li</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> data = [<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>]<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">            &#123;</span><br><span class="language-xml">                data.map((item,index)=&gt;&#123;</span><br><span class="language-xml">                    return <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;index&#125;</span>&gt;</span>&#123;item&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                &#125;)</span><br><span class="language-xml">            &#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>)<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>react</category>
      
    </categories>
    
    
    <tags>
      
      <tag>jsxè¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ?</title>
    <link href="/blog/2022/02/16/vue-command/"/>
    <url>/blog/2022/02/16/vue-command/</url>
    
    <content type="html"><![CDATA[<h1 id="vue-æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#vue-æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h1><h3 id="1-ç”¨è¿‡å“ªäº›-vue-å†…ç½®æŒ‡ä»¤ï¼Ÿ"><a href="#1-ç”¨è¿‡å“ªäº›-vue-å†…ç½®æŒ‡ä»¤ï¼Ÿ" class="headerlink" title="1.ç”¨è¿‡å“ªäº› vue å†…ç½®æŒ‡ä»¤ï¼Ÿ"></a>1.ç”¨è¿‡å“ªäº› vue å†…ç½®æŒ‡ä»¤ï¼Ÿ</h3><p><strong>v-text</strong></p><p>ç›¸å½“äºåŸç”Ÿ js ä¸­çš„ innerTextã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;p v-text=&quot;msg1&quot;&gt;hello world&lt;/p&gt;<br>&lt;p&gt;&#123;&#123; msg2 &#125;&#125;&lt;/p&gt;<br>data() &#123;<br>  return &#123;<br>    msg: &#x27;hello lin&#x27;,<br>    msg2: &#x27;hell paul&#x27;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>v-html</strong></p><p>ç›¸å½“äºåŸç”Ÿ js ä¸­çš„ innerHtmlã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div v-html=&quot;htmlStr&quot;&gt;&lt;/div&gt;<br><br>data() &#123;<br>  return &#123;<br>    htmlStr: &#x27;&lt;div style=&quot;color: red&quot;&gt;hello world &lt;/div&gt;&#x27;,<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>v-pre</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;span v-pre&gt;&#123;&#123; msg &#125;&#125;&lt;/span&gt;<br></code></pre></td></tr></table></figure><p>å› ä¸º vue çš„æ’å€¼è¯­æ³•ä¸º<code>&#123;&#123; &#125;&#125;</code>ï¼Œæ‰€ä»¥ vue æä¾›äº† v-pre è¿™ä¸ªæŒ‡ä»¤æ¥æ˜¾ç¤ºåŸå§‹ Mustache æ ‡ç­¾ã€‚</p><p><strong>v-once</strong></p><p>åªæ¸²æŸ“å…ƒç´ å’Œç»„ä»¶<strong>ä¸€æ¬¡</strong>ã€‚éšåçš„é‡æ–°æ¸²æŸ“ï¼Œå…ƒç´ &#x2F;ç»„ä»¶åŠå…¶æ‰€æœ‰çš„å­èŠ‚ç‚¹å°†è¢«è§†ä¸ºé™æ€å†…å®¹å¹¶è·³è¿‡ã€‚è¿™å¯ä»¥ç”¨äºä¼˜åŒ–æ›´æ–°æ€§èƒ½ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- å•ä¸ªå…ƒç´  --&gt;<br>&lt;span v-once&gt;This will never change: &#123;&#123;msg&#125;&#125;&lt;/span&gt;<br>&lt;!-- æœ‰å­å…ƒç´  --&gt;<br>&lt;div v-once&gt;<br>  &lt;h1&gt;comment&lt;/h1&gt;<br>  &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;<br>&lt;/div&gt;<br>&lt;!-- ç»„ä»¶ --&gt;<br>&lt;my-component v-once :comment=&quot;msg&quot;&gt;&lt;/my-component&gt;<br>&lt;!-- `v-for` æŒ‡ä»¤--&gt;<br>&lt;ul&gt;<br>  &lt;li v-for=&quot;i in list&quot; v-once&gt;&#123;&#123;i&#125;&#125;&lt;/li&gt;<br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure><p><strong>v-cloak</strong></p><p>åŸºæœ¬ç”¨ä¸åˆ°ï¼Œå› ä¸ºåœ¨å•æ–‡ä»¶çš„å¼€å‘æ¨¡å¼ä¸‹è¿™ä¸ªæŒ‡ä»¤æ²¡ç”¨ï¼Œåœ¨ html é‡Œç›´æ¥å†™æ¨¡ç‰ˆçš„æ—¶å€™æ‰éœ€è¦ç”¨åˆ°ï¼Œå°±ä¸ä»‹ç»äº†ã€‚</p><h3 id="2-vue-æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-vue-æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><blockquote><p>æŒ‡ä»¤çš„æœ¬è´¨æ˜¯è¯­æ³•ç³–ï¼Œæˆ–è€…è¯´æ ‡å¿—ä½ã€‚</p></blockquote><p>å…¶å®ï¼Œvue æŒ‡ä»¤å¹¶ä¸æ˜¯å¾ˆé«˜å¤§ä¸Šçš„ä¸œè¥¿ï¼Œå®ƒåªæ˜¯è¯­æ³•ç³–ï¼Œæˆ–è€…è¯´æ˜¯æ ‡å¿—ä½ï¼Œæ˜¯ç”¨æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–ä»£ç çš„ã€‚</p><p>åœ¨ vue çš„ç¼–è¯‘é˜¶æ®µï¼Œä» template ç¼–è¯‘è½¬åŒ–åˆ° render å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠè¿™äº›æŒ‡ä»¤ç¼–è¯‘æˆå¯¹åº”çš„ js ä»£ç ï¼Œå®ç°å¯¹åº”çš„åŠŸèƒ½ã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ jsx ä¸æ”¯æŒ vue æŒ‡ä»¤ï¼Œéœ€è¦é…ç½® babel æ’ä»¶<code>@vue/babel-preset-jsx</code> å’Œ <code>@vue/babel-helper-vue-jsx-merge-props</code> æ‰è¡Œï¼Œå› ä¸º jsx æœ¬èº«ä¹Ÿæ˜¯è¯­æ³•ç³–ï¼Œä¹Ÿæ˜¯ä¼šè¢«ç¼–è¯‘æˆ render å‡½æ•°çš„ã€‚</p><h3 id="3-å¦‚ä½•å®ç°-vue-è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"><a href="#3-å¦‚ä½•å®ç°-vue-è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ" class="headerlink" title="3.å¦‚ä½•å®ç° vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"></a>3.å¦‚ä½•å®ç° vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ</h3><p>Vue å…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ï¼Œæœ‰å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œä¸¤ç§æ–¹å¼ã€‚</p><p><strong>æ³¨å†Œå…¨å±€æŒ‡ä»¤</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">Vue.directive(&#x27;focus&#x27;, &#123;<br>  inserted: function (el) &#123;<br>    el.focus()<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p><strong>æ³¨å†Œå±€éƒ¨æŒ‡ä»¤</strong></p><p>ç»„ä»¶ä¸­æ¥å—ä¸€ä¸ª <code>directives</code> çš„é€‰é¡¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">directives: &#123;<br>  focus: &#123;<br>    inserted: function (el) &#123;<br>      el.focus()<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä»»ä½•å…ƒç´ ä¸Šä½¿ç”¨æ–°çš„ <code>v-focus</code> propertyï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input v-focus /&gt;<br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡å¯ä»¥æä¾›å¦‚ä¸‹å‡ ä¸ªé’©å­å‡½æ•° (å‡ä¸ºå¯é€‰)ï¼š</p><ul><li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œï¼Œæ­¤æ—¶è·å–çˆ¶èŠ‚ç‚¹ä¸ºnullã€‚</li><li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­ï¼‰ï¼Œæ­¤æ—¶å¯ä»¥è·å–åˆ°çˆ¶èŠ‚ç‚¹ã€‚</li><li>update: æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨ï¼Œ<strong>ä½†æ˜¯å¯èƒ½å‘ç”Ÿåœ¨å…¶å­ VNode æ›´æ–°ä¹‹å‰</strong>ã€‚æŒ‡ä»¤çš„å€¼å¯èƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰ã€‚ä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„å€¼æ¥å¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–°</li><li>componentUpdated: æŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode <strong>åŠå…¶å­ VNode</strong> å…¨éƒ¨æ›´æ–°åè°ƒç”¨ã€‚</li><li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥æ„Ÿå—ä¸‹è¿™å‡ ä¸ªé’©å­å‡½æ•°çš„è°ƒç”¨æ—¶æœºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;button v-if=&quot;showBtn&quot; v-append-text=&quot;`hello $&#123;number&#125;`&quot; @click=&quot;number++&quot;&gt;æŒ‰é’®&lt;/button&gt;<br>&lt;button @click=&quot;showBtn = !showBtn&quot;&gt;é”€æ¯&lt;/button&gt;<br><br>data() &#123;<br>  return &#123;<br>     showBtn: true,<br>     number: 1<br>  &#125;<br>&#125;<br>directives: &#123;<br>  appendText: &#123;<br>    bind() &#123;<br>      console.log(&#x27;bind :&gt;&gt; &#x27;)<br>    &#125;,<br>    inserted(el, binding) &#123;<br>      el.appendChild(document.createTextNode(binding.value))<br>      console.log(&#x27;inserted :&gt;&gt; &#x27;, el, binding)<br>    &#125;,<br>    update() &#123;<br>      console.log(&#x27;update :&gt;&gt; &#x27;)<br>    &#125;,<br>    componentUpdated(el, binding) &#123;<br>      el.removeChild(el.childNodes[el.childNodes.length - 1])<br>      el.appendChild(document.createTextNode(binding.value))<br>      console.log(&#x27;componentUpdated :&gt;&gt; &#x27;)<br>    &#125;,<br>    unbind() &#123;<br>      console.log(&#x27;unbind :&gt;&gt; &#x27;)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæŒ‡ä»¤ <code>v-append-text</code> å®ç°çš„åŠŸèƒ½æ˜¯ï¼Œå‘å…ƒç´ ä¸­æ’å…¥ textNodeã€‚</p><h3 id="4-ç”¨è¿‡å“ªäº›è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"><a href="#4-ç”¨è¿‡å“ªäº›è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ" class="headerlink" title="4.ç”¨è¿‡å“ªäº›è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ"></a>4.ç”¨è¿‡å“ªäº›è‡ªå®šä¹‰æŒ‡ä»¤ï¼Ÿ</h3><p>æ±‡æ€»ä¸€ä¸‹æˆ‘çœ‹åˆ°è¿‡æˆ–ç”¨è¿‡çš„æ¯”è¾ƒå¥½ç”¨çš„æŒ‡ä»¤ã€‚</p><h4 id="cm-directives"><a href="#cm-directives" class="headerlink" title="cm-directives"></a><a href="https://link.juejin.cn/?target=https://github.com/Michael-lzg/v-directives">cm-directives</a></h4><ul><li><p>å¤åˆ¶ç²˜è´´æŒ‡ä»¤ v-copy</p></li><li><p>é•¿æŒ‰æŒ‡ä»¤ v-longpress</p></li><li><p>è¾“å…¥æ¡†é˜²æŠ–æŒ‡ä»¤ v-debounce</p></li><li><p>ç¦æ­¢è¡¨æƒ…åŠç‰¹æ®Šå­—ç¬¦ v-emoji</p></li><li><p>æƒé™æ ¡éªŒæŒ‡ä»¤ v-premission</p></li><li><p>å®ç°é¡µé¢æ°´å° v-waterMarker</p></li><li><p>æ‹–æ‹½æŒ‡ä»¤ v-draggable</p></li></ul><p>è¿™ä¸ªåº“åŒ…å«ä¸Šé¢ä¸ƒä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥é€‰æ‹© npm å®‰è£… <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/cm-directives">cm-directives</a>ä½¿ç”¨ã€‚</p><p>æ›´å»ºè®® copy ä¸€ä¸‹è¿™ä¸ªåº“çš„æŒ‡ä»¤ä»£ç åˆ°æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ï¼Œæ¯•ç«Ÿå¾ˆå¤šæ—¶å€™ä¼šæ”¹é€ ä¸€ä¸‹ï¼Œæ¯”å¦‚v-premissionï¼Œä¸€èˆ¬è¦å’Œè‡ªå®¶çš„åç«¯å•†é‡çº¦å®šä¸€ä¸‹ï¼Œå…¶ä»–æŒ‡ä»¤ copy ä¸‹æ¥å¯ä»¥ç›´æ¥ç”¨ï¼Œè¿™ä¸ªåº“çš„ <a href="https://link.juejin.cn/?target=https://github.com/Michael-lzg/v-directives">README.md</a> å†™å¾—éå¸¸è¯¦ç»†ã€‚</p><h4 id="v-loading-åŠ è½½"><a href="#v-loading-åŠ è½½" class="headerlink" title="v-loading åŠ è½½"></a><a href="https://link.juejin.cn/?target=https://element.eleme.cn/%23/zh-CN/component/loading">v-loading</a> åŠ è½½</h4><p><a href="https://link.juejin.cn/?target=https://element.eleme.cn/%23/zh-CN/component/loading">element-ui</a> è‡ªå¸¦çš„æŒ‡ä»¤ï¼Œæ”¯æŒå…¨å±å’Œå±€éƒ¨åŠ è½½ã€‚</p><h4 id="v-track-åŸ‹ç‚¹è§£å†³æ–¹æ¡ˆ"><a href="#v-track-åŸ‹ç‚¹è§£å†³æ–¹æ¡ˆ" class="headerlink" title="v-track åŸ‹ç‚¹è§£å†³æ–¹æ¡ˆ"></a><a href="https://link.juejin.cn/?target=https://github.com/l-hammer/v-track">v-track</a> åŸ‹ç‚¹è§£å†³æ–¹æ¡ˆ</h4><p>v-tracké€šè¿‡ Vue è‡ªå®šä¹‰æŒ‡ä»¤çš„æ–¹å¼å°†åŸ‹ç‚¹ä»£ç ä¸ä¸šåŠ¡ä»£ç å®Œå…¨è§£è€¦~</p><h4 id="v-stickto-ä¸€ä¸ªæ”¯æŒå¤šDOMå…ƒç´ è‡ªåŠ¨å¸é¡¶çš„vueæŒ‡ä»¤"><a href="#v-stickto-ä¸€ä¸ªæ”¯æŒå¤šDOMå…ƒç´ è‡ªåŠ¨å¸é¡¶çš„vueæŒ‡ä»¤" class="headerlink" title="v-stickto ä¸€ä¸ªæ”¯æŒå¤šDOMå…ƒç´ è‡ªåŠ¨å¸é¡¶çš„vueæŒ‡ä»¤"></a><a href="https://link.juejin.cn/?target=https://github.com/wormsan/vue-stickto">v-stickto</a> ä¸€ä¸ªæ”¯æŒå¤šDOMå…ƒç´ è‡ªåŠ¨å¸é¡¶çš„vueæŒ‡ä»¤</h4><h4 id="v-lazyload-æ‡’åŠ è½½å›¾ç‰‡"><a href="#v-lazyload-æ‡’åŠ è½½å›¾ç‰‡" class="headerlink" title="v-lazyload æ‡’åŠ è½½å›¾ç‰‡"></a><a href="https://link.juejin.cn/?target=https://www.cnblogs.com/lzq035/p/14183553.html">v-lazyload</a> æ‡’åŠ è½½å›¾ç‰‡</h4><p>å…¶å® img æ ‡ç­¾æ˜¯æ”¯æŒ lazy å±æ€§çš„ï¼Œå°±æ˜¯å…¼å®¹æ€§ä¸å¤ªå¥½ï¼Œæ‰€ä»¥ä¸€èˆ¬æ‡’åŠ è½½è¿˜æ˜¯è¦ç”¨æ”¯æŒæ‡’åŠ è½½çš„å›¾ç‰‡ç»„ä»¶ï¼ˆæ¯”å¦‚<a href="https://link.juejin.cn/?target=https://element.eleme.cn/%23/zh-CN/component/image">element-ui</a>ï¼‰ï¼Œæˆ–è€…å†™ä¸ªæŒ‡ä»¤æ¥å®ç°ã€‚</p><p>å¯ä»¥å‚è€ƒä¸‹è¿™ç¯‡æ–‡ç« çš„ v-lazyload</p><p>è¿™é‡Œè¿˜æœ‰åˆ«äººæ€»ç»“çš„æ›´å¤šçš„æŒ‡ä»¤ï¼Œç”¨èµ·æ¥ä¼šå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚ </p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>vue æŒ‡ä»¤çš„æœ¬è´¨æ˜¯ è¯­æ³•ç³–ï¼Œå¸®åŠ©æˆ‘ä»¬ç®€åŒ–ä»£ç å’Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>vue æŒ‡ä»¤</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue2å’Œvue3çš„åŒå‘æ•°æ®ç»‘å®š</title>
    <link href="/blog/2022/01/07/vue-v-model/"/>
    <url>/blog/2022/01/07/vue-v-model/</url>
    
    <content type="html"><![CDATA[<h1 id="vue2å’Œvue3çš„åŒå‘æ•°æ®ç»‘å®š"><a href="#vue2å’Œvue3çš„åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="vue2å’Œvue3çš„åŒå‘æ•°æ®ç»‘å®š"></a>vue2å’Œvue3çš„åŒå‘æ•°æ®ç»‘å®š</h1><h2 id="1-vue2"><a href="#1-vue2" class="headerlink" title="1.vue2"></a>1.vue2</h2><h4 id="åŸºäºObject-defineProperty-å®ç°"><a href="#åŸºäºObject-defineProperty-å®ç°" class="headerlink" title="åŸºäºObject.defineProperty()å®ç°"></a>åŸºäºObject.defineProperty()å®ç°</h4><blockquote><p>Object.defineProperty() åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°çš„å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ä¸Šå·²ç»å­˜åœ¨çš„å±æ€§</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, prop, desc)<br></code></pre></td></tr></table></figure><ol><li>obj: ç›®æ ‡å¯¹è±¡</li><li>prop: å¯¹è±¡çš„key</li><li>desc: å±æ€§æè¿°</li></ol><h5 id="desc-å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§æ˜¯"><a href="#desc-å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§æ˜¯" class="headerlink" title="desc å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§æ˜¯"></a>desc å‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§æ˜¯</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Person</span> = &#123;&#125;<br><span class="hljs-keyword">let</span> backup = <span class="hljs-literal">null</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">&#x27;name&#x27;</span>, &#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;Jack&#x27;</span>, <span class="hljs-comment">// key çš„å€¼</span><br>    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¯å†™ï¼Œé»˜è®¤false</span><br>    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¯æšä¸¾ï¼Œæ˜¯å¦å¯for in</span><br>    <span class="hljs-attr">configurable</span>: ture, <span class="hljs-comment">// æ˜¯å¦å¯é…ç½®ï¼Œæ˜¯å¦å¯åˆ é™¤ç­‰ï¼Œé»˜è®¤fasle</span><br>    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// è·å–æ•°æ®æ–¹æ³•</span><br>        <span class="hljs-keyword">return</span> backup<br>    &#125;,<br>    <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newVal</span>) &#123;  <span class="hljs-comment">// æ›´æ”¹æ–¹æ³•ï¼Œæ¥å—å‚æ•°ä¸ºæ–°å€¼</span><br>        backup = newVal<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><blockquote><p>Object.defineProperty(obj, prop, desc)çš„vueåŒå‘æ•°æ®ç»‘å®š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">vue</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span> = &#123;<br>        <span class="hljs-attr">testData</span>: <span class="hljs-number">1</span><br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = docunment.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span> = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()<br>&#125;<br>vue.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-keyword">let</span> self = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-keyword">let</span> backup = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> data) &#123;<br>        backup = data[key] <span class="hljs-comment">// å…ˆå¤‡ä»½æ•°æ®</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> backup === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observer</span>(backup)<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(data, key, &#123;<br>                <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>                    <span class="hljs-comment">// ä¾èµ–æ”¶é›†</span><br>                    <span class="hljs-keyword">return</span> backup <span class="hljs-comment">// ä¸€å®šè¦returnå‡ºå»æ‰å¯ä»¥</span><br>                &#125;,<br>                <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newVal</span>) &#123;<br>                    backup = newVal<br>                    self.<span class="hljs-title function_">render</span>() <span class="hljs-comment">// åˆ·æ–°è§†å›¾</span><br>                &#125;<br>            &#125;)<br>        &#125;<br>    &#125;<br>&#125;<br>vue.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">render</span> = <span class="hljs-title function_">functin</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span> = <span class="hljs-string">&#x27;a test vue&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>.<span class="hljs-property">testData</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">innerHtml</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-vue3-åŸºäºProxy"><a href="#2-vue3-åŸºäºProxy" class="headerlink" title="2.vue3 åŸºäºProxy"></a>2.vue3 åŸºäºProxy</h2><h5 id="ä¸Object-defineProperty-obj-prop-desc-æ–¹å¼ç›¸æ¯”æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š"><a href="#ä¸Object-defineProperty-obj-prop-desc-æ–¹å¼ç›¸æ¯”æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š" class="headerlink" title="ä¸Object.defineProperty(obj, prop, desc)æ–¹å¼ç›¸æ¯”æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š"></a>ä¸Object.defineProperty(obj, prop, desc)æ–¹å¼ç›¸æ¯”æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</h5><ol><li>ä¸¢æ‰éº»çƒ¦çš„å¤‡ä»½æ•°æ®</li><li>çœå»for in å¾ªç¯</li><li>å¯ä»¥ç›‘å¬æ•°ç»„å˜åŒ–</li><li>ä»£ç æ›´ç®€åŒ–</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">vue</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span> = &#123;<br>        <span class="hljs-attr">testData</span>: <span class="hljs-number">1</span><br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = docunment.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span> = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()<br>&#125;<br>vue.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-keyword">let</span> self = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>, &#123;<br>        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, key, vceiver</span>) &#123;<br>            <span class="hljs-keyword">return</span> target[key]<br>        &#125;,<br>        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, key, value, vceiver</span>) &#123;<br>            target[key] = value<br>            slef.<span class="hljs-title function_">render</span>()<br>        &#125;<br>    &#125;)<br>&#125;<br>vue.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">render</span> = <span class="hljs-title function_">functin</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span> = <span class="hljs-string">&#x27;a test vue&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>.<span class="hljs-property">testData</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">innerHtml</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">virtualDom</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>v-model</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vue3+TSé¡¹ç›®å¼€å‘ä½¿ç”¨ç¬”è®°</title>
    <link href="/blog/2022/01/07/vue3.0-mark/"/>
    <url>/blog/2022/01/07/vue3.0-mark/</url>
    
    <content type="html"><![CDATA[<h1 id="Vue3-TSé¡¹ç›®å¼€å‘ä½¿ç”¨ç¬”è®°"><a href="#Vue3-TSé¡¹ç›®å¼€å‘ä½¿ç”¨ç¬”è®°" class="headerlink" title="Vue3-TSé¡¹ç›®å¼€å‘ä½¿ç”¨ç¬”è®°"></a>Vue3-TSé¡¹ç›®å¼€å‘ä½¿ç”¨ç¬”è®°</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>Vue3å‡ºæ¥å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œåœ¨å›¢é˜Ÿä¸­ï¼Œä¹Ÿè¿›è¡Œäº†å¤§é‡çš„ä¸šåŠ¡å®è·µï¼Œä¹Ÿæœ‰äº†ä¸€äº›è‡ªå·±çš„æ€è€ƒã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒVue3æ— è®ºæ˜¯åœ¨åº•å±‚çš„åŸç†ä¸Šï¼Œè¿˜æ˜¯åœ¨ä¸šåŠ¡çš„å®é™…å¼€å‘ä¸­ï¼Œéƒ½æœ‰äº†é•¿è¶³çš„è¿›æ­¥ã€‚</p><p>ä½¿ç”¨ proxy ä»£æ›¿ä¹‹å‰çš„ Object.defineProperty çš„APIï¼Œæ€§èƒ½æ›´åŠ ä¼˜å¼‚ï¼Œä¹Ÿè§£å†³äº†ä¹‹å‰vueåœ¨å¤„ç†å¯¹è±¡ã€æ•°ç»„ä¸Šçš„ç¼ºé™·ï¼›åœ¨diffç®—æ³•ä¸Šï¼Œä½¿ç”¨äº†é™æ€æ ‡è®°çš„æ–¹å¼ï¼Œå¤§å¤§æå‡äº†Vueçš„æ‰§è¡Œæ•ˆç‡ã€‚</p><p>åœ¨ä½¿ç”¨çš„å±‚é¢ï¼Œæˆ‘ä»¬ä»options Apiï¼Œå˜æˆäº†composition Apiï¼Œæ…¢æ…¢çš„åœ¨å®é™…çš„ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬æŠ›å¼ƒäº†åŸæœ¬çš„dataã€methodsã€computedé‚£ç§éš”ç¦»å¼çš„å†™æ³•ã€‚compositon Apiï¼Œå®ƒæ›´åŠ èšç„¦ï¼Œå®ƒè®²ç©¶çš„æ˜¯ç›¸å…³ä¸šåŠ¡çš„èšåˆæ€§ã€‚åŒæ—¶ï¼Œåœ¨composition Apiä¸­ï¼Œä¸ºäº†é˜²æ­¢è¿‡äºé‡çš„ä¸šåŠ¡é€»è¾‘ï¼Œå®ƒæä¾›äº†ä¸€ç§å…³æ³¨ç‚¹åˆ†ç¦»çš„æ–¹å¼ï¼Œå¤§å¤§çš„æå‡äº†æˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ã€‚</p><p>å®Œå…¨è‰¯å¥½çš„æ”¯æŒäº†TypeScriptï¼Œç±»å‹æ ¡éªŒä¹Ÿæˆä¸ºäº†ä»¥åVue3è¿›è¡Œå¤§å‹é¡¹ç›®å¼€å‘çš„è´¨é‡ä¿éšœï¼ŒåŒæ—¶è¿™ä¹Ÿæ˜¯é¢å‘äº†è¶‹åŠ¿ â€“ å‰ç«¯çš„æœªæ¥å°±æ˜¯TypeScriptï¼</p><h2 id="1ã€compositon-Api"><a href="#1ã€compositon-Api" class="headerlink" title="1ã€compositon Api"></a>1ã€compositon Api</h2><p>compositon Apiçš„æœ¬è´¨ï¼Œä½“ç°åœ¨ä»£ç é‡Œé¢ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªsetupå‡½æ•°ï¼Œåœ¨è¿™ä¸ªsetupå‡½æ•°ä¸­ï¼Œè¿”å›çš„æ•°æ®ï¼Œä¼šç”¨åˆ°è¯¥ç»„ä»¶çš„æ¨¡æ¿ä¸­ã€‚returnçš„è¿™ä¸ªå¯¹è±¡ï¼Œä¸€å®šç¨‹åº¦ä¸Šï¼Œä»£è¡¨äº†ä¹‹å‰vue2ä¸­çš„dataå±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineComponent, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Gift&#x27;</span>,<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> &#123;<br>            counter<br>        &#125;<br>    &#125;<br>&#125;)<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œå¯¹äºå¤§å¤šæ•°åˆå­¦è€…æ¥è¯´ï¼Œå¯èƒ½å­˜åœ¨çš„ç–‘æƒ‘å°±æ˜¯ï¼Œé‚£ä¹ˆæˆ‘èƒ½ä¸èƒ½å®šä¹‰options Apiçš„å†™æ³•ï¼Œæ¯”å¦‚dataã€computedã€watchã€methodsç­‰ç­‰ã€‚</p><p>è¿™é‡Œæˆ‘éœ€è¦æ˜ç¡®çš„æ˜¯ï¼ŒVue3æ˜¯å®Œå…¨å…¼å®¹Vue2çš„è¿™ç§options Apiçš„å†™æ³•ï¼Œä½†æ˜¯ä»ç†å¿µä¸Šæ¥è¯´ï¼Œæ›´åŠ æ¨èsetupçš„æ–¹å¼ï¼Œæ¥å†™æˆ‘ä»¬çš„ç»„ä»¶ã€‚åŸå› å¦‚ä¸‹ï¼šVue3çš„å­˜åœ¨ï¼Œæœ¬èº«æ˜¯ä¸ºäº†è§£å†³Vue2çš„é—®é¢˜çš„ï¼ŒVue2çš„é—®é¢˜å°±æ˜¯åœ¨äºï¼Œèšåˆæ€§ä¸è¶³ï¼Œä¼šå¯¼è‡´ä»£ç è¶Šæ¥è¶Šè‡ƒè‚¿ï¼setupçš„æ–¹å¼ï¼Œèƒ½å¤Ÿè®©dataã€æ–¹æ³•é€»è¾‘ã€ä¾èµ–å…³ç³»ç­‰èšåˆåœ¨ä¸€å—ï¼Œæ›´æ–¹ä¾¿ç»´æŠ¤ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥åæˆ‘ä»¬å°½é‡ä¸è¦å†™å•ç‹¬çš„dataã€computedã€watchã€methodsç­‰ç­‰ï¼Œä¸æ˜¯Vue3ä¸æ”¯æŒï¼Œè€Œæ˜¯å’ŒVue3çš„ç†å¿µè¿èƒŒã€‚</p><p>componentså±æ€§ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç»„ä»¶çš„å­ç»„ä»¶ï¼Œè¿™ä¸ªé…ç½®åœ¨Vue2å’Œ3çš„å·®å¼‚ä¸å¤§ï¼ŒVue2æ€ä¹ˆç”¨ï¼ŒVue3ä¾ç„¶é‚£ä¹ˆç”¨ã€‚</p><h3 id="1ã€ref-å’Œ-reactiveçš„åŒºåˆ«ï¼Ÿ"><a href="#1ã€ref-å’Œ-reactiveçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="1ã€ref å’Œ reactiveçš„åŒºåˆ«ï¼Ÿ"></a>1ã€ref å’Œ reactiveçš„åŒºåˆ«ï¼Ÿ</h3><p>åœ¨åŠŸèƒ½æ–¹é¢ï¼Œref å’Œ reactiveï¼Œéƒ½æ˜¯å¯ä»¥å®ç°å“åº”å¼æ•°æ®ï¼</p><p>åœ¨è¯­æ³•å±‚é¢ï¼Œä¸¤ä¸ªæœ‰å·®å¼‚ã€‚refå®šä¹‰çš„å“åº”å¼æ•°æ®éœ€è¦ç”¨[data].valueçš„æ–¹å¼è¿›è¡Œæ›´æ”¹æ•°æ®ï¼›reactiveå®šä¹‰çš„æ•°æ®éœ€è¦[data].[prpoerty]çš„æ–¹å¼æ›´æ”¹æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-attr">actTitle</span>: <span class="hljs-title class_">Ref</span>&lt;string&gt; = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;æ´»åŠ¨åç§°&#x27;</span>);<br><br><span class="hljs-keyword">const</span> actData = <span class="hljs-title function_">reactive</span>(&#123;<br>    <span class="hljs-attr">list</span>: [],<br>    <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-attr">curentPage</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span><br>&#125;);<br><br>actTitle.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;æ´»åŠ¨åç§°2&#x27;</span>;<br><br>actData.<span class="hljs-property">total</span> = <span class="hljs-number">100</span>;<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨åº”ç”¨çš„å±‚é¢ï¼Œè¿˜æ˜¯æœ‰å·®å¼‚çš„ï¼Œé€šå¸¸æ¥è¯´ï¼šå•ä¸ªçš„æ™®é€šç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨refæ¥å®šä¹‰å“åº”å¼ã€‚è¡¨å•åœºæ™¯ä¸­ï¼Œæè¿°ä¸€ä¸ªè¡¨å•çš„key:valueè¿™ç§å¯¹è±¡çš„åœºæ™¯ï¼Œä½¿ç”¨reactiveï¼›åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼ŒæŸä¸€ä¸ªæ¨¡å—çš„ä¸€ç»„æ•°æ®ï¼Œé€šå¸¸ä¹Ÿä½¿ç”¨reactiveçš„æ–¹å¼ï¼Œå®šä¹‰æ•°æ®ã€‚</p><p>é‚£ä¹ˆï¼Œå¯¹è±¡æ˜¯ä¸æ˜¯éè¦ä½¿ç”¨reactiveæ¥å®šä¹‰å‘¢ï¼Ÿå…¶å®ä¸æ˜¯çš„ï¼Œéƒ½å¯ä»¥ï¼Œæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼refä»–å¼ºè°ƒçš„æ˜¯ä¸€ä¸ªæ•°æ®çš„valueçš„æ›´æ”¹ï¼Œreactiveå¼ºè°ƒçš„æ˜¯å®šä¹‰çš„å¯¹è±¡çš„æŸä¸€ä¸ªå±æ€§çš„æ›´æ”¹ã€‚</p><h3 id="2ã€å‘¨æœŸå‡½æ•°"><a href="#2ã€å‘¨æœŸå‡½æ•°" class="headerlink" title="2ã€å‘¨æœŸå‡½æ•°"></a>2ã€å‘¨æœŸå‡½æ•°</h3><p>å‘¨æœŸå‡½æ•°ï¼Œåœ¨Vue3ä¸­ï¼Œæ˜¯è¢«å•ç‹¬ä½¿ç”¨çš„ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineComponent, ref, onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Gift&#x27;</span>,<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-comment">// å¤„ç†ä¸šåŠ¡ï¼Œä¸€èˆ¬è¿›è¡Œæ•°æ®è¯·æ±‚</span><br>        &#125;)<br>        <span class="hljs-keyword">return</span> &#123;<br>            counter<br>        &#125;<br>    &#125;<br>&#125;)<br><br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h3 id="3ã€storeä½¿ç”¨"><a href="#3ã€storeä½¿ç”¨" class="headerlink" title="3ã€storeä½¿ç”¨"></a>3ã€storeä½¿ç”¨</h3><p>åœ¨Vue2ä¸­ï¼Œå…¶å®å¯ä»¥ç›´æ¥é€šè¿‡this.$storeè¿›è¡Œè·å–ï¼Œä½†æ˜¯åœ¨Vue3ä¸­ï¼Œå…¶å®æ²¡æœ‰thisè¿™ä¸ªæ¦‚å¿µï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; defineComponent, ref, computed &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Gift&#x27;</span>,<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useStore</span>();<br>        <span class="hljs-keyword">const</span> storeData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> store); <span class="hljs-comment">// é…åˆcomputedï¼Œè·å–storeçš„å€¼ã€‚</span><br>        <span class="hljs-keyword">return</span> &#123;<br>            counter,<br>            storeData<br>        &#125;<br>    &#125;<br>&#125;)<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h3 id="4ã€routerçš„ä½¿ç”¨"><a href="#4ã€routerçš„ä½¿ç”¨" class="headerlink" title="4ã€routerçš„ä½¿ç”¨"></a>4ã€routerçš„ä½¿ç”¨</h3><p>åœ¨Vue2ä¸­ï¼Œæ˜¯é€šè¿‡this.$routerçš„æ–¹å¼ï¼Œè¿›è¡Œè·¯ç”±çš„å‡½æ•°å¼ç¼–ç¨‹ï¼Œä½†æ˜¯Vue3ä¸­ï¼Œæ˜¯è¿™ä¹ˆä½¿ç”¨çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; defineComponent, ref, computed &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Gift&#x27;</span>,<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>();<br>        <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>            router.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;AddGift&quot;</span> &#125;);<br>        &#125;<br>        <span class="hljs-keyword">return</span> &#123;<br>            counter,<br>            onClick<br>        &#125;<br>    &#125;<br>&#125;)<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h2 id="2ã€å…³æ³¨ç‚¹åˆ†ç¦»"><a href="#2ã€å…³æ³¨ç‚¹åˆ†ç¦»" class="headerlink" title="2ã€å…³æ³¨ç‚¹åˆ†ç¦»"></a>2ã€å…³æ³¨ç‚¹åˆ†ç¦»</h2><p>å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œåº”è¯¥åˆ†ä¸¤å±‚æ„æ€ï¼šç¬¬ä¸€å±‚æ„æ€å°±æ˜¯ï¼ŒVue3çš„setupï¼Œæœ¬èº«å°±æŠŠç›¸å…³çš„æ•°æ®ï¼Œå¤„ç†é€»è¾‘æ”¾åˆ°ä¸€èµ·ï¼Œè¿™å°±æ˜¯ä¸€ç§å…³æ³¨ç‚¹çš„èšåˆï¼Œæ›´æ–¹ä¾¿æˆ‘ä»¬çœ‹ä¸šåŠ¡ä»£ç ã€‚</p><p>ç¬¬äºŒå±‚æ„æ€ï¼Œå°±æ˜¯å½“setupå˜çš„æ›´å¤§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨setupå†…éƒ¨ï¼Œæå–ç›¸å…³çš„ä¸€å—ä¸šåŠ¡ï¼Œåšåˆ°ç¬¬äºŒå±‚çš„å…³æ³¨ç‚¹åˆ†ç¦»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; defineComponent, ref, computed &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">import</span> useMerchantList <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./merchant.js&#x27;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Gift&#x27;</span>,<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">useRouter</span>();<br>        <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>            router.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;AddGift&quot;</span> &#125;);<br>        &#125;<br>        <span class="hljs-comment">// åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æŠŠè·å–å•†å®¶åˆ—è¡¨çš„ç›¸å…³ä¸šåŠ¡åˆ†ç¦»å‡ºå»ã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢çš„merchant.ts</span><br>        <span class="hljs-keyword">const</span> &#123;merchantList&#125; = <span class="hljs-title function_">useMerchantList</span>();<br>        <span class="hljs-keyword">return</span> &#123;<br>            counter,<br>            onClick,<br>            merchantList<br>        &#125;<br>    &#125;<br>&#125;)<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>merchant.ts</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; getMerchantlist &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/api/rights/gift&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; ref, onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useMerchantList</span>(<span class="hljs-params"></span>): <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; &#123;<br>  <span class="hljs-keyword">const</span> merchantList = <span class="hljs-title function_">ref</span>([]);<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchMerchantList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getMerchantlist</span>(&#123;&#125;);<br>    merchantList.<span class="hljs-property">value</span> = res?.<span class="hljs-property">data</span>?.<span class="hljs-property">child</span>;<br>  &#125;;<br><br>  <span class="hljs-title function_">onMounted</span>(fetchMerchantList);<br><br>  <span class="hljs-keyword">return</span> &#123;<br>    merchantList<br>  &#125;;<br>&#125;<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><h2 id="3ã€TypeScriptæ”¯æŒ"><a href="#3ã€TypeScriptæ”¯æŒ" class="headerlink" title="3ã€TypeScriptæ”¯æŒ"></a>3ã€TypeScriptæ”¯æŒ</h2><p>è¿™ä¸€éƒ¨åˆ†å†…å®¹ï¼Œå‡†ç¡®çš„æ¥è¯´ï¼Œæ˜¯TSçš„å†…å®¹ï¼Œä¸è¿‡å®ƒä¸Vue3é¡¹ç›®å¼€å‘ï¼Œæ¯æ¯ç›¸å…³ï¼Œæ‰€ä»¥çœŸçš„æƒ³ç”¨Vue3ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¾—äº†è§£TSçš„ä½¿ç”¨ã€‚</p><p>ä¸è¿‡è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¸ä¼šä»‹ç»TSçš„åŸºç¡€è¯­æ³•ï¼Œä¸»è¦æ˜¯åœ¨ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¦‚ä½•ç»„ç»‡TSã€‚</p><p>ä½¿ç”¨TSè¿›è¡Œä¸šåŠ¡å¼€å‘ï¼Œä¸€ä¸ªæ ¸å¿ƒçš„æ€ç»´æ˜¯ï¼Œå…ˆå…³æ³¨æ•°æ®ç»“æ„ï¼Œå†æ ¹æ®æ•°æ®ç»“æ„è¿›è¡Œé¡µé¢å¼€å‘ã€‚ä»¥å‰çš„å‰ç«¯å¼€å‘æ¨¡å¼æ˜¯ï¼Œå…ˆå†™é¡µé¢ï¼Œåå…³æ³¨æ•°æ®ã€‚</p><p>æ¯”å¦‚è¦å†™ä¸€ä¸ªç¤¼å“åˆ—è¡¨çš„é¡µé¢ï¼Œæˆ‘ä»¬å¯èƒ½è¦å®šä¹‰è¿™ä¹ˆä¸€äº›interfaceã€‚æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯ï¼šé¡µé¢æ•°æ®çš„interfaceã€æ¥å£è¿”å›çš„æ•°æ®ç±»å‹ã€æ¥å£çš„å…¥å‚ç±»å‹ç­‰ç­‰ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// ç¤¼å“åˆ›å»ºã€ç¼–è¾‘ã€åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹ï¼Œéƒ½ä¼šæ˜¯è¿™ä¸ªæ•°æ®ç±»å‹ã€‚</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IGiftItem</span> &#123;<br>  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">desc</span>: <span class="hljs-built_in">string</span>;<br>  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;<br>&#125;<br><br><span class="hljs-comment">// å…¨å±€ç›¸åº”çš„ç±»å‹å®šä¹‰</span><br><span class="hljs-comment">// è€Œä¸”ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸ç¡®è®¤ï¼Œæ¥å£è¿”å›çš„ç±»å‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼ˆå¯èƒ½æ˜¯nullã€å¯èƒ½æ˜¯å¯¹è±¡ã€ä¹Ÿå¯èƒ½æ˜¯æ•°ç»„ï¼‰ï¼Œæ‰€ä»¥ä½¿ç”¨èŒƒå‹æ¥å®šä¹‰interface</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IRes</span>&lt;T&gt; &#123;<br>    <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-attr">msg</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">data</span>: T<br>&#125;<br><span class="hljs-comment">// æ¥å£è¿”å›æ•°æ®ç±»å‹å®šä¹‰</span><br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IGiftInfo</span> &#123;<br>    <span class="hljs-attr">list</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">IGiftItem</span>&gt;;<br>    <span class="hljs-attr">pageNum</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-attr">pageSize</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure><p>åœ¨ä¸€ä¸ªå¸¸è§çš„æ¥å£è¯·æ±‚ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨TSè¿™ä¹ˆå®šä¹‰ä¸€ä¸ªæ•°æ®è¯·æ±‚ï¼Œæ•°æ®è¯·æ±‚çš„reqç±»å‹ï¼Œæ•°æ®è¯·æ±‚çš„resç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getGiftlist = (<br>  <span class="hljs-attr">params</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;<br>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">IRes</span>&lt;<span class="hljs-title class_">IGiftInfo</span>&gt;&gt; =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/apis/gift/list&quot;</span>, params);<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript sortæ–¹æ³•æ’åº</title>
    <link href="/blog/2022/01/07/js-sort/"/>
    <url>/blog/2022/01/07/js-sort/</url>
    
    <content type="html"><![CDATA[<h1 id="javascript-sortæ–¹æ³•æ’åº"><a href="#javascript-sortæ–¹æ³•æ’åº" class="headerlink" title="javascript sortæ–¹æ³•æ’åº"></a>javascript sortæ–¹æ³•æ’åº</h1><h3 id="1-å­—æ¯æ’åº"><a href="#1-å­—æ¯æ’åº" class="headerlink" title="1.å­—æ¯æ’åº"></a>1.å­—æ¯æ’åº</h3><p>sorté»˜è®¤çš„æ’åºæ–¹å¼ä¸ºå­—æ¯æ’åºï¼Œæ ¹æ®äºŒåå…­ä¸ªå­—æ¯ä¾æ¬¡æ’åˆ—ï¼Œå•è¯ä¹‹é—´æ¯”è¾ƒï¼Œåˆ™å…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå­—æ¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—æ¯ç›¸åŒåˆ™æ¯”è¾ƒç¬¬äºŒä¸ªå­—æ¯ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1.å­—æ¯æ’åºï¼ˆsorté»˜è®¤æ’åºï¼‰</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&quot;za&quot;</span>,<span class="hljs-string">&quot;zb&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;xc&quot;</span>,<span class="hljs-string">&quot;xa&quot;</span>];<br>arr.<span class="hljs-title function_">sort</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br><span class="hljs-comment">// è¿è¡Œç»“æœï¼š[&quot;a&quot;, &quot;b&quot;, &quot;xa&quot;, &quot;xc&quot;, &quot;za&quot;, &quot;zb&quot;]</span><br></code></pre></td></tr></table></figure><h3 id="2-æ•°å­—æ’åº"><a href="#2-æ•°å­—æ’åº" class="headerlink" title="2.æ•°å­—æ’åº"></a>2.æ•°å­—æ’åº</h3><p>sort()ä¸­å‚æ•°å¯ä»¥æ˜¯æ–¹æ³•å‡½æ•°ï¼Œå¯ä»¥å‡åºå’Œé™åºè¾“å‡ºç»“æœã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//2.sortæ•°å­—æ’åº</span><br><span class="hljs-keyword">var</span> array = [<span class="hljs-number">100</span>,<span class="hljs-number">10</span>,<span class="hljs-number">50</span>,<span class="hljs-number">800</span>,<span class="hljs-number">320</span>,<span class="hljs-number">34</span>,<span class="hljs-number">53</span>];<br>array.<span class="hljs-title function_">sort</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>    <span class="hljs-comment">//a-bå‡åºï¼Œb-aé™åº</span><br>    <span class="hljs-keyword">return</span> b-a;<br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array);<br><span class="hljs-comment">//è¿è¡Œç»“æœï¼š[800, 320, 100, 53, 50, 34, 10]</span><br></code></pre></td></tr></table></figure><p>**æ³¨æ„ï¼š**å…¶ä¸­a,béƒ½æ˜¯è¡¨ç¤ºè¿™ä¸ªæ•°ç»„é‡Œé¢çš„å…ƒç´ ï¼Œå¦‚æœæ˜¯a-båˆ™è¡¨ç¤ºå‡åºï¼Œå¦‚æœæ˜¯b-aåˆ™è¡¨ç¤ºé™åºã€‚</p><h3 id="3-æ•°ç»„å¯¹è±¡æ’åº"><a href="#3-æ•°ç»„å¯¹è±¡æ’åº" class="headerlink" title="3.æ•°ç»„å¯¹è±¡æ’åº"></a>3.æ•°ç»„å¯¹è±¡æ’åº</h3><p>æœ€é‡è¦çš„è¿˜æ˜¯è¿™ä¸ªå¯¹è±¡å±æ€§æ’åºï¼Œå½“åå°ç»™æˆ‘ä»¬å‰ç«¯å¾ˆå¤šæ•°æ®å¹¶ä¸”æ²¡æœ‰æ’åºæ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯è¦é‡æ–°è¿›è¡Œæ’åºï¼Œè€Œåå°ç»™çš„æ•°æ®å¾€å¾€æ˜¯å¥½å‡ å±‚ï¼Œä¸ä¼šåƒå‰é¢é‚£ç§ç®€å•çš„å°±ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨sortä¸­å¯¹è±¡å±æ€§æ’åºäº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 3.å¯¹è±¡å±æ€§æ’åº</span><br><span class="hljs-keyword">var</span> obj = [<br>    &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;lucy&quot;</span>, <span class="hljs-attr">num</span>:<span class="hljs-number">400</span>&#125;,<br>    &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;nancy&quot;</span>, <span class="hljs-attr">num</span>:<span class="hljs-number">110</span>&#125;,<br>    &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;maria&quot;</span>, <span class="hljs-attr">num</span>:<span class="hljs-number">200</span>&#125;<br>];<br>obj.<span class="hljs-title function_">sort</span>(<span class="hljs-title function_">compare</span>(<span class="hljs-string">&quot;num&quot;</span>));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj);<br><br><span class="hljs-comment">//æ•°ç»„å¯¹è±¡å±æ€§å€¼æ’åº</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">property</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br>        <span class="hljs-comment">//value1 - value2å‡åº</span><br>        <span class="hljs-comment">//value2 - value1é™åº</span><br>        <span class="hljs-keyword">var</span> value1 = a[property];<br>        <span class="hljs-keyword">var</span> value2 = b[property];<br>        <span class="hljs-keyword">return</span> value1 - value2;<span class="hljs-comment">//å‡åº</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">//è¿è¡Œç»“æœï¼š</span><br><span class="hljs-comment">//[</span><br><span class="hljs-comment">// &#123;name:&quot;nancy&quot;, num:110&#125;,</span><br><span class="hljs-comment">// &#123;name:&quot;maria&quot;, num:200&#125;,</span><br><span class="hljs-comment">// &#123;name:&quot;lucy&quot;, num:400&#125;</span><br><span class="hljs-comment">//]</span><br></code></pre></td></tr></table></figure><p>**æ³¨æ„ï¼š**compare()ä¸­å‚æ•°å¿…é¡»æ˜¯è¿™ä¸ªå¯¹è±¡çš„å±æ€§åç§°ï¼Œè€Œä½ è¦æ¯”è¾ƒçš„è¿™äº›å¯¹è±¡é‡Œé¢ï¼Œä¸€å®šè¦æœ‰è¿™ä¸ªå±æ€§åç§°ï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sort()</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptæ•°ç»„çš„é«˜çº§æ–¹æ³•</title>
    <link href="/blog/2022/01/07/js-ArrayMthods/"/>
    <url>/blog/2022/01/07/js-ArrayMthods/</url>
    
    <content type="html"><![CDATA[<h1 id="javascriptæ•°ç»„çš„é«˜çº§æ–¹æ³•"><a href="#javascriptæ•°ç»„çš„é«˜çº§æ–¹æ³•" class="headerlink" title="javascriptæ•°ç»„çš„é«˜çº§æ–¹æ³•"></a>javascriptæ•°ç»„çš„é«˜çº§æ–¹æ³•</h1><h4 id="ä¸€-è¿‡æ»¤æ–¹æ³•-filter"><a href="#ä¸€-è¿‡æ»¤æ–¹æ³•-filter" class="headerlink" title="ä¸€.è¿‡æ»¤æ–¹æ³• filter"></a>ä¸€.è¿‡æ»¤æ–¹æ³• filter</h4><p><code>filter</code> ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ <code>callback</code> å‡½æ•°ï¼Œå¹¶åˆ©ç”¨æ‰€æœ‰ä½¿å¾— <code>callback</code> è¿”å› true æˆ–<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">ç­‰ä»·äº true çš„å€¼</a>çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚<code>callback</code> åªä¼šåœ¨å·²ç»èµ‹å€¼çš„ç´¢å¼•ä¸Šè¢«è°ƒç”¨ï¼Œå¯¹äºé‚£äº›å·²ç»è¢«åˆ é™¤æˆ–è€…ä»æœªè¢«èµ‹å€¼çš„ç´¢å¼•ä¸ä¼šè¢«è°ƒç”¨ã€‚é‚£äº›æ²¡æœ‰é€šè¿‡ <code>callback</code> æµ‹è¯•çš„å…ƒç´ ä¼šè¢«è·³è¿‡ï¼Œä¸ä¼šè¢«åŒ…å«åœ¨æ–°æ•°ç»„ä¸­ã€‚</p><blockquote><p>ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼š</p><ol><li>å…ƒç´ çš„å€¼ï¼ˆitemï¼‰</li><li>å…ƒç´ çš„ç´¢å¼•ï¼ˆindexï¼‰</li><li>è¢«éå†çš„æ•°ç»„æœ¬èº«ï¼ˆarrï¼‰</li></ol></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// filteræ¡ˆä¾‹:è¿‡æ»¤æ•°ç»„ä¸­å¤§äºäº”çš„æ•° </span><br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">24</span>];<br><span class="hljs-keyword">let</span> bigThanEightArr = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index, arr</span>) =&gt;</span> &#123; <br>    <span class="hljs-comment">// console.log(item, index, arr);</span><br>    <span class="hljs-keyword">return</span> item &gt; <span class="hljs-number">6</span> <br>&#125;, <span class="hljs-variable language_">this</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bigThanEightArr); <span class="hljs-comment">//[8,10,24]</span><br></code></pre></td></tr></table></figure><h4 id="äºŒ-mapæ–¹æ³•"><a href="#äºŒ-mapæ–¹æ³•" class="headerlink" title="äºŒ.mapæ–¹æ³•"></a>äºŒ.mapæ–¹æ³•</h4><p><code>map</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ã€‚</p><blockquote><p>ä½¿ç”¨ä¸‰ä¸ªå‚æ•°ï¼š<br>1.<code>currentValue</code>ï¼šcallbackæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ ã€‚<br>2.<code>index</code>å¯é€‰:<code>callback</code> æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚<br>3.<code>array</code>å¯é€‰:<code>map</code> æ–¹æ³•è°ƒç”¨çš„æ•°ç»„ã€‚<br>4.<code>thisArg</code>å¯é€‰:æ‰§è¡Œ <code>callback</code> å‡½æ•°æ—¶å€¼è¢«ç”¨ä½œ<code>this</code>ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// mapæ¡ˆä¾‹:å°†åŸæ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½ä¹˜ä»¥2</span><br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">24</span>];<br><span class="hljs-keyword">let</span> doubleArr = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index, arr</span>) =&gt;</span> item * <span class="hljs-number">2</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doubleArr); <span class="hljs-comment">//[10, 12, 16, 20, 48]</span><br></code></pre></td></tr></table></figure><h4 id="ä¸‰-reduceæ–¹æ³•"><a href="#ä¸‰-reduceæ–¹æ³•" class="headerlink" title="ä¸‰.reduceæ–¹æ³•"></a>ä¸‰.reduceæ–¹æ³•</h4><p><code>reduce</code>ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œ<code>callback</code>å‡½æ•°ï¼Œä¸åŒ…æ‹¬æ•°ç»„ä¸­è¢«åˆ é™¤æˆ–ä»æœªè¢«èµ‹å€¼çš„å…ƒç´ ã€‚</p><blockquote><p>æ¥å—å››ä¸ªå‚æ•°ï¼š<br>1.<code>accumulator</code>ï¼šç´¯è®¡å™¨<br>2.<code>currentValue</code>ï¼šå½“å‰å€¼<br>3.<code>currentIndex</code>ï¼šå½“å‰ç´¢å¼•<br>4.<code>array</code>ï¼šæ•°ç»„</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å›è°ƒå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ï¼Œaccumulator å’ŒcurrentValueçš„å–å€¼æœ‰ä¸¤ç§æƒ…å†µï¼š</span><br><span class="hljs-comment">//å¦‚æœè°ƒç”¨reduce()æ—¶æä¾›äº†initialValueï¼Œaccumulatorå–å€¼ä¸ºinitialValueï¼ŒcurrentValueå–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼›</span><br><span class="hljs-comment">//å¦‚æœæ²¡æœ‰æä¾› initialValueï¼Œé‚£ä¹ˆaccumulatorå–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼ï¼ŒcurrentValueå–æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå€¼ã€‚</span><br><br><span class="hljs-comment">//æ— åŸå§‹å‚æ•°ï¼ˆinitialValueï¼‰</span><br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">accumulator, currentValue, currentIndex, array</span>)&#123;<br>  <span class="hljs-keyword">return</span> accumulator + currentValue;<br>&#125;);<br><span class="hljs-comment">//10</span><br><br><span class="hljs-comment">//æœ‰åŸå§‹å‚æ•°</span><br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">accumulator, currentValue, currentIndex, array</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> accumulator + currentValue<br>&#125;, <span class="hljs-number">10</span>)<br><span class="hljs-comment">//20</span><br><br></code></pre></td></tr></table></figure><h4 id="å››-æŸ¥æ‰¾æ•°ç»„çš„å…ƒç´ ï¼Œfindæ–¹æ³•"><a href="#å››-æŸ¥æ‰¾æ•°ç»„çš„å…ƒç´ ï¼Œfindæ–¹æ³•" class="headerlink" title="å››.æŸ¥æ‰¾æ•°ç»„çš„å…ƒç´ ï¼Œfindæ–¹æ³•"></a>å››.æŸ¥æ‰¾æ•°ç»„çš„å…ƒç´ ï¼Œfindæ–¹æ³•</h4><p><code>find()</code> æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„<strong>ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</strong>ã€‚å¦åˆ™è¿”å› <code>undefined</code></p><blockquote><p>1.<code>callback</code></p><p>åœ¨æ•°ç»„æ¯ä¸€é¡¹ä¸Šæ‰§è¡Œçš„å‡½æ•°ï¼Œæ¥æ”¶ 3 ä¸ªå‚æ•°ï¼š<code>element</code>å½“å‰éå†åˆ°çš„å…ƒç´ ã€‚<code>index</code>å¯é€‰å½“   å‰éå†åˆ°çš„ç´¢å¼•ã€‚<code>array</code>å¯é€‰æ•°ç»„æœ¬èº«ã€‚<br>2.<code>thisArg</code>å¯é€‰<br>æ‰§è¡Œå›è°ƒæ—¶ç”¨ä½œ<code>this</code> çš„å¯¹è±¡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">10</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">80</span>, <span class="hljs-number">12</span>];<br><span class="hljs-keyword">let</span> element = arr.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">currentValue, index, arr</span>) =&gt;</span> &#123;<br><span class="hljs-keyword">return</span> currentValue &gt; <span class="hljs-number">70</span><br>&#125;)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(element); <span class="hljs-comment">//80</span><br></code></pre></td></tr></table></figure><h4 id="äº”-æŸ¥æ‰¾æ•°ç»„å…ƒç´ çš„ç´¢å¼•-findIndex"><a href="#äº”-æŸ¥æ‰¾æ•°ç»„å…ƒç´ çš„ç´¢å¼•-findIndex" class="headerlink" title="äº”.æŸ¥æ‰¾æ•°ç»„å…ƒç´ çš„ç´¢å¼•(findIndex)"></a>äº”.æŸ¥æ‰¾æ•°ç»„å…ƒç´ çš„ç´¢å¼•(findIndex)</h4><p><code>indIndex()</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚è‹¥æ²¡æœ‰æ‰¾åˆ°å¯¹åº”å…ƒç´ åˆ™è¿”å›-1ã€‚</p><blockquote><p>1.<code>callback</code></p><p>é’ˆå¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ , éƒ½ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°, æ‰§è¡Œæ—¶ä¼šè‡ªåŠ¨ä¼ å…¥ä¸‹é¢ä¸‰ä¸ªå‚æ•°:<code>element</code>å½“å‰å…ƒç´ ã€‚<code>index</code>å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚<code>array</code>è°ƒç”¨<code>findIndex</code>çš„æ•°ç»„ã€‚<br>2.<code>thisArg</code>å¯é€‰<br>æ‰§è¡Œå›è°ƒæ—¶ç”¨ä½œ<code>this</code> çš„å¯¹è±¡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä»¥ä¸‹ç¤ºä¾‹æŸ¥æ‰¾æ•°ç»„ä¸­ç´ æ•°çš„å…ƒç´ çš„ç´¢å¼•ï¼ˆå¦‚æœä¸å­˜åœ¨ç´ æ•°ï¼Œåˆ™è¿”å›-1ï¼‰ã€‚</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">isPrime</span>(<span class="hljs-params">element, index, array</span>) &#123;<br>      <span class="hljs-keyword">var</span> start = <span class="hljs-number">2</span>;<br>      <span class="hljs-keyword">while</span> (start &lt;= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(element)) &#123; <span class="hljs-comment">//è·å–å¹³æ–¹æ ¹</span><br>        <span class="hljs-keyword">if</span> (element % start++ &lt; <span class="hljs-number">1</span>) &#123;<br>          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>      &#125;<br>      <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">1</span>;<br>    &#125;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>].<span class="hljs-title function_">findIndex</span>(isPrime)); <span class="hljs-comment">// -1, not found</span><br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">12</span>].<span class="hljs-title function_">findIndex</span>(isPrime)); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure><h4 id="å…­-someæ–¹æ³•"><a href="#å…­-someæ–¹æ³•" class="headerlink" title="å…­.someæ–¹æ³•"></a>å…­.someæ–¹æ³•</h4><p><code>some()</code> æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰1ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªBooleanç±»å‹çš„å€¼ã€‚</p><blockquote><p><code>callback</code></p><p>ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ï¼Œæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><p>â€‹<code>element</code>æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚</p><p>â€‹<code>index</code> å¯é€‰æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„ç´¢å¼•å€¼ã€‚</p><p>â€‹<code>array</code>å¯é€‰<code>some()</code>è¢«è°ƒç”¨çš„æ•°ç»„ã€‚</p><p><code>thisArg</code>å¯é€‰</p><p>æ‰§è¡Œ <code>callback</code> æ—¶ä½¿ç”¨çš„ <code>this</code> å€¼ã€‚</p></blockquote><h5 id="1-æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼"><a href="#1-æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼" class="headerlink" title="1.æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼"></a>1.æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼</h5><p>ä¸‹é¢çš„ä¾‹å­æ£€æµ‹åœ¨æ•°ç»„ä¸­æ˜¯å¦æœ‰å…ƒç´ å¤§äº 10ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isBiggerThan10</span>(<span class="hljs-params">element, index, array</span>) &#123;<br>  <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">10</span>;<br>&#125;<br><br>[<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">some</span>(isBiggerThan10);  <span class="hljs-comment">// false</span><br>[<span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">some</span>(isBiggerThan10); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨ç®­å¤´å‡½æ•°æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼"><a href="#2-ä½¿ç”¨ç®­å¤´å‡½æ•°æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼" class="headerlink" title="2.ä½¿ç”¨ç®­å¤´å‡½æ•°æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼"></a>2.ä½¿ç”¨ç®­å¤´å‡½æ•°æµ‹è¯•æ•°ç»„å…ƒç´ çš„å€¼</h5><p><a href="https://link.juejin.cn/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">ç®­å¤´å‡½æ•°</a> å¯ä»¥é€šè¿‡æ›´ç®€æ´çš„è¯­æ³•å®ç°ç›¸åŒçš„ç”¨ä¾‹.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">10</span>);  <span class="hljs-comment">// false</span><br>[<span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt; <span class="hljs-number">10</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h5 id="3-åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼"><a href="#3-åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼" class="headerlink" title="3 åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼"></a>3 åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼</h5><p>æ­¤ä¾‹ä¸­ä¸ºæ¨¡ä»¿ <code>includes()</code> æ–¹æ³•, è‹¥å…ƒç´ åœ¨æ•°ç»„ä¸­å­˜åœ¨, åˆ™å›è°ƒå‡½æ•°è¿”å›å€¼ä¸º <code>true</code> :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> fruits = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;mango&#x27;</span>, <span class="hljs-string">&#x27;guava&#x27;</span>];<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkAvailability</span>(<span class="hljs-params">arr, val</span>) &#123;<br>  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">some</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">arrVal</span>) &#123;<br>    <span class="hljs-keyword">return</span> val === arrVal;<br>  &#125;);<br>&#125;<br><br><span class="hljs-title function_">checkAvailability</span>(fruits, <span class="hljs-string">&#x27;kela&#x27;</span>);   <span class="hljs-comment">// false</span><br><span class="hljs-title function_">checkAvailability</span>(fruits, <span class="hljs-string">&#x27;banana&#x27;</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h5 id="4-ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼"><a href="#4-ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼" class="headerlink" title="4 [ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼"></a>4 [ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ¤æ–­æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå€¼</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> fruits = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;mango&#x27;</span>, <span class="hljs-string">&#x27;guava&#x27;</span>];<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkAvailability</span>(<span class="hljs-params">arr, val</span>) &#123;<br>  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">arrVal</span> =&gt;</span> val === arrVal);<br>&#125;<br><br><span class="hljs-title function_">checkAvailability</span>(fruits, <span class="hljs-string">&#x27;kela&#x27;</span>);   <span class="hljs-comment">// false</span><br><span class="hljs-title function_">checkAvailability</span>(fruits, <span class="hljs-string">&#x27;banana&#x27;</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h5 id="5-å°†ä»»æ„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹"><a href="#5-å°†ä»»æ„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹" class="headerlink" title="5 [å°†ä»»æ„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹"></a>5 [å°†ä»»æ„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">TRUTHY_VALUES</span> = [<span class="hljs-literal">true</span>, <span class="hljs-string">&#x27;true&#x27;</span>, <span class="hljs-number">1</span>];<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getBoolean</span>(<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-string">&#x27;use strict&#x27;</span>;<br><br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;string&#x27;</span>) &#123;<br>    value = value.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">trim</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">TRUTHY_VALUES</span>.<span class="hljs-title function_">some</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) &#123;<br>    <span class="hljs-keyword">return</span> t === value;<br>  &#125;);<br>&#125;<br><br><span class="hljs-title function_">getBoolean</span>(<span class="hljs-literal">false</span>);   <span class="hljs-comment">// false</span><br><span class="hljs-title function_">getBoolean</span>(<span class="hljs-string">&#x27;false&#x27;</span>); <span class="hljs-comment">// false</span><br><span class="hljs-title function_">getBoolean</span>(<span class="hljs-number">1</span>);       <span class="hljs-comment">// true</span><br><span class="hljs-title function_">getBoolean</span>(<span class="hljs-string">&#x27;true&#x27;</span>);  <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h4 id="ä¸ƒ-everyæ–¹æ³•"><a href="#ä¸ƒ-everyæ–¹æ³•" class="headerlink" title="ä¸ƒ.everyæ–¹æ³•"></a>ä¸ƒ.everyæ–¹æ³•</h4><p><code>every()</code> æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p><ul><li><p><code>callback</code></p><p>ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š<code>element</code>ç”¨äºæµ‹è¯•çš„å½“å‰å€¼ã€‚<code>index</code>å¯é€‰ç”¨äºæµ‹è¯•çš„å½“å‰å€¼çš„ç´¢å¼•ã€‚<code>array</code>å¯é€‰è°ƒç”¨ <code>every</code> çš„å½“å‰æ•°ç»„ã€‚</p></li><li><p><code>thisArg</code></p><p>æ‰§è¡Œ <code>callback</code> æ—¶ä½¿ç”¨çš„ <code>this</code> å€¼ã€‚</p></li></ul><h5 id="1æ£€æµ‹æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å¤§å°"><a href="#1æ£€æµ‹æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å¤§å°" class="headerlink" title="1æ£€æµ‹æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å¤§å°"></a>1æ£€æµ‹æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å¤§å°</h5><p>  ä¸‹ä¾‹æ£€æµ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½å¤§äº 10ã€‚</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isBigEnough</span>(<span class="hljs-params">element, index, array</span>) &#123;<br>  <span class="hljs-keyword">return</span> element &gt;= <span class="hljs-number">10</span>;<br>&#125;<br>[<span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>].<span class="hljs-title function_">every</span>(isBigEnough);   <span class="hljs-comment">// false</span><br>[<span class="hljs-number">12</span>, <span class="hljs-number">54</span>, <span class="hljs-number">18</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>].<span class="hljs-title function_">every</span>(isBigEnough); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h5 id="2-ä½¿ç”¨ç®­å¤´å‡½æ•°"><a href="#2-ä½¿ç”¨ç®­å¤´å‡½æ•°" class="headerlink" title="2 [ä½¿ç”¨ç®­å¤´å‡½æ•°]"></a>2 [ä½¿ç”¨ç®­å¤´å‡½æ•°]</h5><p><a href="https://link.juejin.cn/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions">ç®­å¤´å‡½æ•°</a>ä¸ºä¸Šé¢çš„æ£€æµ‹è¿‡ç¨‹æä¾›äº†æ›´ç®€çŸ­çš„è¯­æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">12</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>].<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt;= <span class="hljs-number">10</span>); <span class="hljs-comment">// false</span><br>[<span class="hljs-number">12</span>, <span class="hljs-number">54</span>, <span class="hljs-number">18</span>, <span class="hljs-number">130</span>, <span class="hljs-number">44</span>].<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x &gt;= <span class="hljs-number">10</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é«˜çº§å‡½æ•°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git å¸¸ç”¨å‘½ä»¤</title>
    <link href="/blog/2022/01/07/linux-git/"/>
    <url>/blog/2022/01/07/linux-git/</url>
    
    <content type="html"><![CDATA[<h1 id="Gitå¸¸ç”¨å‘½ä»¤"><a href="#Gitå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Gitå¸¸ç”¨å‘½ä»¤"></a>Gitå¸¸ç”¨å‘½ä»¤</h1><h3 id="1-æ–°å»ºGiteeä»“åº“"><a href="#1-æ–°å»ºGiteeä»“åº“" class="headerlink" title="1.æ–°å»ºGiteeä»“åº“"></a>1.æ–°å»ºGiteeä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init <br>git add . <span class="hljs-comment">#.ä»£è¡¨æ‰€æœ‰æ–‡ä»¶éƒ½æ·»åŠ </span><br>git commit -m <span class="hljs-string">&quot;lyc&quot;</span>  <span class="hljs-comment">#å¼•å·é‡Œé¢æ˜¯å¤‡æ³¨ä¿¡æ¯</span><br>git remote add origin https://gitee.com/RyanChaw/cnjy-parent.git <span class="hljs-comment">#https://gitee.com/RyanChaw/cnjy-parent.git æ˜¯åˆšåˆšå¤åˆ¶çš„</span><br>git pull --rebase origin master<br>git push -u origin master<br></code></pre></td></tr></table></figure><h3 id="2-Gitæ‹‰å–ä»£ç "><a href="#2-Gitæ‹‰å–ä»£ç " class="headerlink" title="2.Gitæ‹‰å–ä»£ç "></a>2.Gitæ‹‰å–ä»£ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> <span class="hljs-string">&#x27;https://gitee.com/a937321983/blog.git&#x27;</span> <span class="hljs-comment"># å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°</span><br></code></pre></td></tr></table></figure><h3 id="3-æäº¤ä»£ç "><a href="#3-æäº¤ä»£ç " class="headerlink" title="3.æäº¤ä»£ç "></a>3.æäº¤ä»£ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add .<br>git commit -m <span class="hljs-string">&quot;ç¬¬ä¸€æ¬¡æäº¤&quot;</span><br>git pull origin è¿œç¨‹åˆ†æ”¯å  <span class="hljs-comment">#å°†è¿œç¨‹çš„æ‹‰ä¸‹æ¥</span><br>git push origin master <span class="hljs-comment">#å°†è¿œç¨‹çš„æäº¤ä¸Šå»</span><br></code></pre></td></tr></table></figure><h3 id="4-gitåˆ†æ”¯ç®¡ç†"><a href="#4-gitåˆ†æ”¯ç®¡ç†" class="headerlink" title="4. gitåˆ†æ”¯ç®¡ç†"></a>4. gitåˆ†æ”¯ç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch <span class="hljs-comment">#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</span><br>git branch -a <span class="hljs-comment">#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</span><br>git checkout åˆ†æ”¯å <span class="hljs-comment">#åˆ‡æ¢åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h3 id="5-æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²"><a href="#5-æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²" class="headerlink" title="5.æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²"></a>5.æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git blame æ–‡ä»¶å <span class="hljs-comment"># æŸ¥çœ‹è¯¥æ–‡ä»¶çš„ä¿®æ”¹å†å²</span><br>git blame -L 100,10 æ–‡ä»¶å <span class="hljs-comment"># ä»100è¡Œå¼€å§‹ï¼Œåˆ°110è¡Œ é€è¡ŒæŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²</span><br></code></pre></td></tr></table></figure><h3 id="6-æ¸…é™¤"><a href="#6-æ¸…é™¤" class="headerlink" title="6.æ¸…é™¤"></a>6.æ¸…é™¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git clean -n <span class="hljs-comment"># åˆ—å‡ºæ‰“ç®—æ¸…é™¤çš„æ¡£æ¡ˆ(é¦–å…ˆä¼šå¯¹å·¥ä½œåŒºçš„å†…å®¹è¿›è¡Œæç¤º)</span><br>git clean -f <span class="hljs-comment"># çœŸæ­£çš„åˆ é™¤</span><br>git clean -x -f <span class="hljs-comment"># è¿.gitignoreä¸­å¿½ç•¥çš„æ¡£æ¡ˆä¹Ÿåˆ é™¤</span><br>git status -sb (sbæ˜¯ short branch) <span class="hljs-comment"># ç®€æ´çš„è¾“å‡ºgit statusä¸­çš„ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h3 id="7-æŸ¥çœ‹æäº¤ä¿¡æ¯"><a href="#7-æŸ¥çœ‹æäº¤ä¿¡æ¯" class="headerlink" title="7.æŸ¥çœ‹æäº¤ä¿¡æ¯"></a>7.æŸ¥çœ‹æäº¤ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git show HEAD <span class="hljs-comment"># æŸ¥çœ‹æœ€åä¸€æ¬¡æäº¤ä¿®æ”¹çš„è¯¦ç»†ä¿¡æ¯ ä¹Ÿå¯ä»¥ç”¨git show å“ˆå¸Œå€¼ æŸ¥çœ‹å¯¹åº”çš„å†…å®¹</span><br>git show HEAD^ <span class="hljs-comment"># æŸ¥çœ‹å€’æ•°ç¬¬äºŒæ¬¡çš„æäº¤ä¿®æ”¹è¯¦ç»†ä¿¡æ¯</span><br>git show HEAD^^ æˆ–è€…git show HEAD~2 <span class="hljs-comment">#æŸ¥çœ‹å‰2æ¬¡å˜æ›´</span><br>git show HEAD æˆ– git show å“ˆå¸Œå€¼ æˆ–è€…git show tag(æ ‡ç­¾å) <span class="hljs-comment">#éƒ½å¯ä»¥æŸ¥çœ‹æœ€è¿‘ä¸€æ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h3 id="8-å›æ’¤æ“ä½œ"><a href="#8-å›æ’¤æ“ä½œ" class="headerlink" title="8.å›æ’¤æ“ä½œ"></a>8.å›æ’¤æ“ä½œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit --amend -m <span class="hljs-string">&quot;æäº¤ä¿¡æ¯&quot;</span> <span class="hljs-comment"># å›æ’¤ä¸Šä¸€æ¬¡æäº¤å¹¶ä¸æœ¬æ¬¡å·¥ä½œåŒºä¸€èµ·æäº¤</span><br>git reset HEAD~2 --hard <span class="hljs-comment"># å›æ’¤2æ­¥</span><br>git reset --files <span class="hljs-comment"># ä»ä»“åº“å›æ’¤åˆ°æš‚å­˜åŒº</span><br>git reset HEAD <span class="hljs-comment"># å›æ’¤æš‚å­˜åŒºå†…å®¹åˆ°å·¥ä½œç›®å½•</span><br>git reset HEAD --soft <span class="hljs-comment">#å›æ’¤æäº¤åˆ°æš‚å­˜åŒº</span><br>git reset HEAD --hard <span class="hljs-comment"># å›æ’¤æäº¤ æ”¾å¼ƒå˜æ›´ (æ…ç”¨)</span><br>git reset HEAD^  <span class="hljs-comment"># å›æ’¤ä»“åº“æœ€åä¸€æ¬¡æäº¤</span><br>git reset --hard commitid <span class="hljs-comment"># å›æ’¤åˆ°è¯¥æ¬¡æäº¤idçš„ä½ç½® å›æ’¤åæœ¬åœ°æš‚å­˜åŒºå¯èƒ½æœ‰å†…å®¹ æœ¬åœ°ä»“åº“æœ‰è¦åŒæ­¥çš„å†…å®¹ æ­¤æ—¶ ä¸¢å¼ƒæ‰æš‚å­˜åŒºçš„å†…å®¹ å¹¶ä¸”å¼ºåˆ¶å°†æœ¬åœ°çš„å†…å®¹æ¨é€è‡³è¿œç¨‹ä»“åº“ æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ git push -u -f origin åˆ†æ”¯å è¿™æ ·å°±å¯ä»¥å®Œå…¨å›æ’¤åˆ°æäº¤idçš„ä½ç½®</span><br>git reset --soft commitid <span class="hljs-comment"># å›æ’¤åˆ°è¯¥æ¬¡æäº¤idçš„ä½ç½® å¹¶å°†å›æ’¤å†…å®¹ä¿å­˜åœ¨æš‚å­˜åŒº</span><br>git push -f -u origin åˆ†æ”¯å <span class="hljs-comment">#æ‰€æœ‰å†…å®¹éƒ½å›æ’¤å®Œäº† å°†å›æ’¤åçš„æ“ä½œå¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯</span><br>git push origin/åˆ†æ”¯å --force <span class="hljs-comment">#å¼ºåˆ¶å°†æœ¬åœ°å›æ’¤åçš„æ“ä½œ å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h3 id="9-æŸ¥çœ‹å…¨éƒ¨gitå­å‘½ä»¤"><a href="#9-æŸ¥çœ‹å…¨éƒ¨gitå­å‘½ä»¤" class="headerlink" title="9.æŸ¥çœ‹å…¨éƒ¨gitå­å‘½ä»¤"></a>9.æŸ¥çœ‹å…¨éƒ¨gitå­å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git helper -a <br></code></pre></td></tr></table></figure><h3 id="10-æ–°å¢ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯"><a href="#10-æ–°å¢ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯" class="headerlink" title="10.æ–°å¢ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯"></a>10.æ–°å¢ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯</h3><p>1.åˆ›å»ºæ–°åˆ†æ”¯<br>ä½¿ç”¨ git branch æˆ– git checkout -b å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch &lt;æ–°åˆ†æ”¯å&gt;      <span class="hljs-comment"># ä»…åˆ›å»ºåˆ†æ”¯ï¼Œä¸åˆ‡æ¢</span><br>git checkout -b &lt;æ–°åˆ†æ”¯å&gt; <span class="hljs-comment"># åˆ›å»ºå¹¶ç«‹å³åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><p>2.åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼ˆè°¨æ…æ“ä½œï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -d &lt;åˆ†æ”¯å&gt;  <span class="hljs-comment"># åˆ é™¤å·²åˆå¹¶çš„åˆ†æ”¯</span><br>git branch -D &lt;åˆ†æ”¯å&gt;  <span class="hljs-comment"># å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><h3 id="11-åˆå¹¶åˆ†æ”¯"><a href="#11-åˆå¹¶åˆ†æ”¯" class="headerlink" title="11. åˆå¹¶åˆ†æ”¯"></a>11. åˆå¹¶åˆ†æ”¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å°† feature-branch åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼ˆmainï¼‰</span><br>git merge feature-branch<br><br><span class="hljs-comment"># ç¦ç”¨å¿«è¿›åˆå¹¶ï¼ˆå¼ºåˆ¶åˆ›å»ºåˆå¹¶æäº¤ï¼‰</span><br>git merge --no-ff feature-branch<br></code></pre></td></tr></table></figure><p>å¿«è¿›åˆå¹¶ï¼ˆFast-Forwardï¼‰ï¼šå½“ç›®æ ‡åˆ†æ”¯é¢†å…ˆäºæºåˆ†æ”¯æ—¶ï¼ŒGitç›´æ¥ç§»åŠ¨æŒ‡é’ˆï¼Œæ— é¢å¤–æäº¤ã€‚<br>â€“no-ffï¼šå³ä½¿å¯ä»¥å¿«è¿›ä¹Ÿå¼ºåˆ¶åˆ›å»ºåˆå¹¶æäº¤ï¼Œä¿ç•™åˆ†æ”¯å†å²ï¼ˆé€‚åˆå›¢é˜Ÿåä½œè®°å½•ï¼‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>common</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascript é—­åŒ…</title>
    <link href="/blog/2021/12/28/js-closure/"/>
    <url>/blog/2021/12/28/js-closure/</url>
    
    <content type="html"><![CDATA[<h1 id="JSé—­åŒ…"><a href="#JSé—­åŒ…" class="headerlink" title="JSé—­åŒ…"></a>JSé—­åŒ…</h1><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°</p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>1.å¯ä»¥åœ¨å‡½æ•°çš„å¤–éƒ¨è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ã€‚ </p><p>2.è®©è¿™äº›å˜é‡å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šéšç€å‡½æ•°çš„ç»“æŸè€Œè‡ªåŠ¨é”€æ¯ã€‚</p><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>è¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&quot;Mozilla&quot;</span>; <span class="hljs-comment">// name æ˜¯ä¸€ä¸ªè¢« init åˆ›å»ºçš„å±€éƒ¨å˜é‡</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">displayName</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// displayName() æ˜¯å†…éƒ¨å‡½æ•°ï¼Œä¸€ä¸ªé—­åŒ…</span><br>        <span class="hljs-title function_">alert</span>(name); <span class="hljs-comment">// ä½¿ç”¨äº†çˆ¶å‡½æ•°ä¸­å£°æ˜çš„å˜é‡</span><br>    &#125;<br>    <span class="hljs-title function_">displayName</span>();<br>&#125;<br><span class="hljs-title function_">init</span>();<br></code></pre></td></tr></table></figure><p> <code>init()</code> åˆ›å»ºäº†ä¸€ä¸ªå±€éƒ¨å˜é‡ <code>name</code> å’Œä¸€ä¸ªåä¸º <code>displayName()</code> çš„å‡½æ•°ã€‚<br> <code>displayName()</code> æ˜¯å®šä¹‰åœ¨ <code>init()</code> é‡Œçš„å†…éƒ¨å‡½æ•°ï¼Œå¹¶ä¸”ä»…åœ¨ <code>init()</code> å‡½æ•°ä½“å†…å¯ç”¨ã€‚<br> è¯·æ³¨æ„ï¼Œ<code>displayName()</code> æ²¡æœ‰è‡ªå·±çš„å±€éƒ¨å˜é‡ã€‚<br> ç„¶è€Œï¼Œå› ä¸ºå®ƒå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œæ‰€ä»¥ <code>displayName()</code> å¯ä»¥ä½¿ç”¨çˆ¶å‡½æ•° <code>init()</code> ä¸­å£°æ˜çš„å˜é‡ <code>name</code> ã€‚</p><p>ä¸€ä¸ªæœ‰æ„æ€çš„ç¤ºä¾‹ â€” ä¸€ä¸ª <code>makeAdder</code> å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">makeAdder</span>(<span class="hljs-params">x</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y;<br>  &#125;;<br>&#125;<br><br><span class="hljs-keyword">var</span> add5 = <span class="hljs-title function_">makeAdder</span>(<span class="hljs-number">5</span>);<br><span class="hljs-keyword">var</span> add10 = <span class="hljs-title function_">makeAdder</span>(<span class="hljs-number">10</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add5</span>(<span class="hljs-number">2</span>));  <span class="hljs-comment">// 7</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add10</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 12</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é—­åŒ…</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>js-callã€applyã€bindå‡½æ•°</title>
    <link href="/blog/2021/12/27/js-function/"/>
    <url>/blog/2021/12/27/js-function/</url>
    
    <content type="html"><![CDATA[<h1 id="js-callã€applyã€bindå‡½æ•°"><a href="#js-callã€applyã€bindå‡½æ•°" class="headerlink" title="js-callã€applyã€bindå‡½æ•°"></a>js-callã€applyã€bindå‡½æ•°</h1><p>å‡½æ•°ä¸Šä¸‹æ–‡çš„ä¸‰ä¸ªæ–¹æ³•ï¼šcall()  ã€ apply()  ã€ bind() ,ä»–ä»¬å®šä¹‰åœ¨Functionæ„é€ å‡½æ•°ä¸­ï¼Œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ¨¡ï¼Œä½œç”¨å¯ä»¥ä¿®æ”¹thisæŒ‡å‘ã€‚å¼‚åŒç‚¹ï¼šéƒ½å¯ä»¥ä¿®æ”¹å‡½æ•°ä¸­çš„thisæŒ‡å‘ï¼Œä¸åŒç‚¹ï¼šä¼ å‚æ–¹å¼ä¸åŒ</p><h3 id="1-bind-å‡½æ•°å®ç°"><a href="#1-bind-å‡½æ•°å®ç°" class="headerlink" title="1.bind()å‡½æ•°å®ç°"></a>1.bind()å‡½æ•°å®ç°</h3><p>bind()è¯­æ³•å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªä¿®æ”¹æŒ‡å‘åçš„æ–°å‡½æ•°ï¼Œ</p><p>å¸¸ç”¨äºå›è°ƒå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myBind</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) &#123;<br>    <span class="hljs-keyword">var</span> target = target || <span class="hljs-variable language_">window</span>;<br>    <span class="hljs-keyword">var</span> _args1 = [].<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-keyword">var</span> temp = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;;<br>    <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> _args2 = [].<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">var</span> parasArr = _args1.<span class="hljs-title function_">concat</span>(_args2);<br>        <span class="hljs-keyword">return</span> self.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span> <span class="hljs-keyword">instanceof</span> temp ? <span class="hljs-variable language_">this</span> : target, parasArr)<br>    &#125;<br>    temp.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = self.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br>    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">temp</span>();<br>    <span class="hljs-keyword">return</span> F;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-call-å‡½æ•°å®ç°"><a href="#2-call-å‡½æ•°å®ç°" class="headerlink" title="2.call()å‡½æ•°å®ç°"></a>2.call()å‡½æ•°å®ç°</h3><p>â€‹callï¼šå‡½æ•°å.callï¼ˆthisä¿®æ”¹åçš„æŒ‡å‘,å‚æ•°1ï¼Œå‚æ•°2â€¦.ï¼‰</p><p>â€‹    é€‚ç”¨äºåªæœ‰ï¼ˆ<em><strong>ä¸€ä¸ªå‚æ•°</strong></em>ï¼‰çš„å‡½æ•°</p><p>â€‹    åº”ç”¨åœºæ™¯ï¼šä¼ªæ•°ç»„æ’åºã€æ£€æµ‹æ•°æ®ç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myCall</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> ctx = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>] || <span class="hljs-variable language_">window</span>;<br>    ctx.<span class="hljs-property">fn</span> = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-keyword">var</span> args = [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        args.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">arguments</span>[i])<br>    &#125;<br>    <span class="hljs-keyword">var</span> result = ctx.<span class="hljs-title function_">fn</span>(...args);<br>    <span class="hljs-keyword">delete</span> ctx.<span class="hljs-property">fn</span>;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-apply-å‡½æ•°å®ç°"><a href="#3-apply-å‡½æ•°å®ç°" class="headerlink" title="3.apply()å‡½æ•°å®ç°"></a>3.apply()å‡½æ•°å®ç°</h3><p>apply() ï¼šå‡½æ•°åï¼šapply(thisä¿®æ”¹åçš„æŒ‡å‘,ä¼ªæ•°ç»„&#x2F;æ•°ç»„)</p><p>é€‚ç”¨äºï¼ˆ<em><strong>å¤šä¸ªä¼ å‚</strong></em>ï¼‰çš„å‡½æ•°</p><p>åº”ç”¨åœºæ™¯ï¼šä¼ªæ•°è½¬çœŸæ•°ç»„ã€æ±‚æ•°ç»„æœ€å¤§å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myApply</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> ctx = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>] || <span class="hljs-variable language_">window</span>;<br>    ctx.<span class="hljs-property">fn</span> = <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]) &#123;<br>        <span class="hljs-keyword">var</span> result = ctx.<span class="hljs-title function_">fn</span>();<br>        <span class="hljs-keyword">delete</span> ctx.<span class="hljs-property">fn</span>;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>    <span class="hljs-keyword">var</span> result = ctx.<span class="hljs-title function_">fn</span>(...<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]);<br>    <span class="hljs-keyword">delete</span> ctx.<span class="hljs-property">fn</span>;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>callã€applyã€bind</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptåå¤§æ’åº</title>
    <link href="/blog/2021/12/20/js-tenSort/"/>
    <url>/blog/2021/12/20/js-tenSort/</url>
    
    <content type="html"><![CDATA[<h1 id="åå¤§ç»å…¸æ’åºç®—æ³•"><a href="#åå¤§ç»å…¸æ’åºç®—æ³•" class="headerlink" title="åå¤§ç»å…¸æ’åºç®—æ³•"></a>åå¤§ç»å…¸æ’åºç®—æ³•</h1><h3 id="1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰"><a href="#1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰" class="headerlink" title="1.å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰"></a>1.å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</h3><h4 id="1-ç®—æ³•æè¿°"><a href="#1-ç®—æ³•æè¿°" class="headerlink" title="(1)ç®—æ³•æè¿°"></a>(1)ç®—æ³•æè¿°</h4><blockquote><p>å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠå®ƒä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰å†éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚</p></blockquote><h4 id="2-ç®—æ³•æè¿°å’Œå®ç°"><a href="#2-ç®—æ³•æè¿°å’Œå®ç°" class="headerlink" title="(2)ç®—æ³•æè¿°å’Œå®ç°"></a>(2)ç®—æ³•æè¿°å’Œå®ç°</h4><p>å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š</p><ul><li>&lt;1&gt;.æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼›</li><li>&lt;2&gt;.å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼›</li><li>&lt;3&gt;.é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼›</li><li>&lt;4&gt;.é‡å¤æ­¥éª¤1~3ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚</li></ul><h4 id="3-ä»£ç å®ç°"><a href="#3-ä»£ç å®ç°" class="headerlink" title="(3)ä»£ç å®ç°"></a>(3)ä»£ç å®ç°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">bubbleSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; len - <span class="hljs-number">1</span> - i; j++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[j] &gt; arr[j+<span class="hljs-number">1</span>]) &#123;<span class="hljs-comment">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span><br>                <span class="hljs-keyword">var</span> temp = arr[j+<span class="hljs-number">1</span>];<span class="hljs-comment">//å…ƒç´ äº¤æ¢</span><br>                arr[j+<span class="hljs-number">1</span>] = arr[j];<br>                arr[j] = temp;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰"><a href="#2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰" class="headerlink" title="2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰"></a>2.é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</h3><h4 id="1-ç®—æ³•ç®€ä»‹"><a href="#1-ç®—æ³•ç®€ä»‹" class="headerlink" title="(1)ç®—æ³•ç®€ä»‹"></a>(1)ç®—æ³•ç®€ä»‹</h4><blockquote><p>é€‰æ‹©æ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</p></blockquote><h4 id="2-ç®—æ³•æè¿°å’Œå®ç°-1"><a href="#2-ç®—æ³•æè¿°å’Œå®ç°-1" class="headerlink" title="(2)ç®—æ³•æè¿°å’Œå®ç°"></a>(2)ç®—æ³•æè¿°å’Œå®ç°</h4><p>nä¸ªè®°å½•çš„ç›´æ¥é€‰æ‹©æ’åºå¯ç»è¿‡n-1è¶Ÿç›´æ¥é€‰æ‹©æ’åºå¾—åˆ°æœ‰åºç»“æœã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š</p><ul><li>&lt;1&gt;.åˆå§‹çŠ¶æ€ï¼šæ— åºåŒºä¸ºR[1..n]ï¼Œæœ‰åºåŒºä¸ºç©ºï¼›</li><li>&lt;2&gt;.ç¬¬iè¶Ÿæ’åº(i&#x3D;1,2,3â€¦n-1)å¼€å§‹æ—¶ï¼Œå½“å‰æœ‰åºåŒºå’Œæ— åºåŒºåˆ†åˆ«ä¸ºR[1..i-1]å’ŒR(i..nï¼‰ã€‚è¯¥è¶Ÿæ’åºä»å½“å‰æ— åºåŒºä¸­-é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½• R[k]ï¼Œå°†å®ƒä¸æ— åºåŒºçš„ç¬¬1ä¸ªè®°å½•Räº¤æ¢ï¼Œä½¿R[1..i]å’ŒR[i+1..n)åˆ†åˆ«å˜ä¸ºè®°å½•ä¸ªæ•°å¢åŠ 1ä¸ªçš„æ–°æœ‰åºåŒºå’Œè®°å½•ä¸ªæ•°å‡å°‘1ä¸ªçš„æ–°æ— åºåŒºï¼›</li><li>&lt;3&gt;.n-1è¶Ÿç»“æŸï¼Œæ•°ç»„æœ‰åºåŒ–äº†ã€‚</li></ul><h4 id="3-ä»£ç å®ç°-1"><a href="#3-ä»£ç å®ç°-1" class="headerlink" title="(3)ä»£ç å®ç°"></a>(3)ä»£ç å®ç°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">selectionSort</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">var</span> len = arr.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">var</span> minIndex, temp;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; len - <span class="hljs-number">1</span>; i++) &#123;<br>        minIndex = i;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = i + <span class="hljs-number">1</span>; j &lt; len; j++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;<span class="hljs-comment">//å¯»æ‰¾æœ€å°çš„æ•°</span><br>                minIndex = j;<span class="hljs-comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span><br>            &#125;<br>        &#125;<br>        temp = arr[i];<br>        arr[i] = arr[minIndex];<br>        arr[minIndex] = temp;<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">&#x27;é€‰æ‹©æ’åºè€—æ—¶&#x27;</span>);<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰" class="headerlink" title="3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰"></a>3.æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</h3><h4 id="1-ç®—æ³•ç®€ä»‹-1"><a href="#1-ç®—æ³•ç®€ä»‹-1" class="headerlink" title="(1)ç®—æ³•ç®€ä»‹"></a>(1)ç®—æ³•ç®€ä»‹</h4><blockquote><p>æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚æ’å…¥æ’åºåœ¨å®ç°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æ’åºï¼‰ï¼Œå› è€Œåœ¨ä»åå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æ’åºå…ƒç´ é€æ­¥å‘åæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚</p></blockquote><h4 id="2-ç®—æ³•æè¿°å’Œå®ç°-2"><a href="#2-ç®—æ³•æè¿°å’Œå®ç°-2" class="headerlink" title="(2)ç®—æ³•æè¿°å’Œå®ç°"></a>(2)ç®—æ³•æè¿°å’Œå®ç°</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ’å…¥æ’åºéƒ½é‡‡ç”¨in-placeåœ¨æ•°ç»„ä¸Šå®ç°ã€‚å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼š</p><ul><li>&lt;1&gt;.ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›</li><li>&lt;2&gt;.å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›</li><li>&lt;3&gt;.å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li>&lt;4&gt;.é‡å¤æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›</li><li>&lt;5&gt;.å°†æ–°å…ƒç´ æ’å…¥åˆ°è¯¥ä½ç½®åï¼›</li><li>&lt;6&gt;.é‡å¤æ­¥éª¤2~5ã€‚</li></ul><h4 id="3-ä»£ç å®ç°-2"><a href="#3-ä»£ç å®ç°-2" class="headerlink" title="(3)ä»£ç å®ç°"></a>(3)ä»£ç å®ç°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertionSort</span>(<span class="hljs-params">array</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(array).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>) === <span class="hljs-string">&#x27;Array&#x27;</span>) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; array.<span class="hljs-property">length</span>; i++) &#123;<br>            <span class="hljs-keyword">var</span> key = array[i];<br>            <span class="hljs-keyword">var</span> j = i - <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span> (j &gt;= <span class="hljs-number">0</span> &amp;&amp; array[j] &gt; key) &#123;<br>                array[j + <span class="hljs-number">1</span>] = array[j];<br>                j--;<br>            &#125;<br>            array[j + <span class="hljs-number">1</span>] = key;<br>        &#125;<br>        <span class="hljs-keyword">return</span> array;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;array is not an Array!&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sort</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptåŸºç¡€</title>
    <link href="/blog/2021/12/20/js-basics/"/>
    <url>/blog/2021/12/20/js-basics/</url>
    
    <content type="html"><![CDATA[<h1 id="jsæ•°æ®ç±»å‹"><a href="#jsæ•°æ®ç±»å‹" class="headerlink" title="jsæ•°æ®ç±»å‹"></a>jsæ•°æ®ç±»å‹</h1><h3 id="ä¸"><a href="#ä¸" class="headerlink" title="&#x3D;&#x3D;&#x3D;ä¸&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;ä¸&#x3D;&#x3D;</h3><p> &#x3D;&#x3D; è‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹å†æ¯”è¾ƒï¼›<br> &#x3D;&#x3D;&#x3D; ä¸è½¬æ¢ç±»å‹  ï¼ˆæ›´å¥½ï¼‰<br> ä¾‹å¤–ï¼š<br> NaN &#x3D;&#x3D;&#x3D; NaN  &#x2F;&#x2F; false</p><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>ä½¿ç”¨åå¼•å·æ¥è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = <span class="hljs-string">`è¿™æ˜¯ä¸€ä¸ª</span><br><span class="hljs-string">å¤šè¡Œ</span><br><span class="hljs-string">å­—ç¬¦ä¸²`</span>;<br></code></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²ä¸å¯å˜ï¼šä½¿ç”¨<code>a[0] = &#39;X&#39;</code>å¹¶æ²¡æœ‰æ”¹å˜æ•ˆæœ</p><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>ç›´æ¥ç»™arrayçš„lengthèµ‹æ–°å€¼ä¼šæ”¹å˜Arrayçš„å¤§å°;<br> lengthå˜å¤§åˆ™æ–°å¢å…ƒç´ ä¸ºundefined;å˜å°åˆ™åˆ é™¤è¶…å‡ºé•¿åº¦çš„å…ƒç´ ;</p><p>æ•°ç»„æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">slice   <span class="hljs-comment">// ä¸åŠ å‚æ•°å¯ä»¥ç”¨äºå¤åˆ¶æ•°ç»„ï¼Œä¸æ”¹å˜æœ¬èº«</span><br>pop<br>push<br>unshift <span class="hljs-comment">// åœ¨å¤´éƒ¨æ·»åŠ </span><br>shift   <span class="hljs-comment">// åœ¨å¤´éƒ¨åˆ é™¤</span><br>sort    <span class="hljs-comment">// å­—æ¯æ’åº</span><br>reverse <span class="hljs-comment">// åè½¬</span><br>splice  <span class="hljs-comment">// ä»æŒ‡å®šç´¢å¼•åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œåœ¨ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ </span><br>concat  <span class="hljs-comment">// æ‹¼æ¥,è¿”å›æ–°Array</span><br>join    <span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šå­—ç¬¦æ‹¼æ¥æ•°ç»„å…ƒç´  ==&gt; String</span><br></code></pre></td></tr></table></figure><h3 id="Map-é”®å€¼å¯¹ç»“æ„ï¼Œå¤§æ•°æ®é‡æ—¶å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦"><a href="#Map-é”®å€¼å¯¹ç»“æ„ï¼Œå¤§æ•°æ®é‡æ—¶å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦" class="headerlink" title="Map é”®å€¼å¯¹ç»“æ„ï¼Œå¤§æ•°æ®é‡æ—¶å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦"></a>Map é”®å€¼å¯¹ç»“æ„ï¼Œå¤§æ•°æ®é‡æ—¶å…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦</h3><p>æ ¹æ®keyå€¼è¿…é€Ÿè·å–å¯¹åº”value</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;Michael&#x27;</span>, <span class="hljs-number">95</span>], [<span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-number">75</span>], [<span class="hljs-string">&#x27;Tracy&#x27;</span>, <span class="hljs-number">85</span>]]);<br>m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;Michael&#x27;</span>); <span class="hljs-comment">// 95</span><br>m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-number">67</span>); <span class="hljs-comment">// æ·»åŠ æ–°çš„key-value</span><br>m.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-number">59</span>);<br>m.<span class="hljs-title function_">has</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨key &#x27;Adam&#x27;: true</span><br>m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// 67</span><br>m.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// åˆ é™¤key &#x27;Adam&#x27;</span><br>m.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;Adam&#x27;</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure><h3 id="Set-åªæœ‰éé‡å¤keyï¼Œæ²¡æœ‰valueå€¼"><a href="#Set-åªæœ‰éé‡å¤keyï¼Œæ²¡æœ‰valueå€¼" class="headerlink" title="Set åªæœ‰éé‡å¤keyï¼Œæ²¡æœ‰valueå€¼"></a>Set åªæœ‰éé‡å¤keyï¼Œæ²¡æœ‰valueå€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;3&#x27;</span>]);<br>s; <span class="hljs-comment">// Set &#123;1, 2, 3, &quot;3&quot;&#125;</span><br><span class="hljs-comment">// æ·»åŠ å…ƒç´ </span><br>s.<span class="hljs-title function_">add</span>(<span class="hljs-number">4</span>);<br>s; <span class="hljs-comment">// &#123;1, 2, 3, 4&#125;</span><br><span class="hljs-comment">// åˆ é™¤å…ƒç´ </span><br>s.<span class="hljs-title function_">delete</span>(<span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure><h3 id="iterableç±»å‹"><a href="#iterableç±»å‹" class="headerlink" title="iterableç±»å‹"></a>iterableç±»å‹</h3><p>åŒ…æ‹¬Arrayã€Mapã€Setç­‰ï¼›<br> forã€‚ã€‚ã€‚in<br> å¾ªç¯å¯¹è±¡çš„å±æ€§åç§°keyï¼›ä¸€ä¸ªArrayæ•°ç»„å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºä¸€ä¸ªå±æ€§ã€‚<br> forã€‚ã€‚ã€‚of<br> å¾ªç¯å¯¹è±¡é”®å€¼å¯¹ä¸­çš„valueï¼›æ›´é€‚åˆéå†æ²¡æœ‰keyçš„é›†åˆï¼Œå¦‚Setï¼›<br> forEachæ–¹æ³•   ï¼ˆæ›´å¥½ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">a.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">element, index, array</span>) &#123;<br>    <span class="hljs-comment">// element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼</span><br>    <span class="hljs-comment">// index: æŒ‡å‘å½“å‰ç´¢å¼•</span><br>    <span class="hljs-comment">// array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº«</span><br>    <span class="hljs-title function_">alert</span>(element);<br>&#125;);<br><br><span class="hljs-comment">// Setä¸Arrayç±»ä¼¼ï¼Œä½†Setæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«ï¼š</span><br><span class="hljs-comment">// Mapçš„å›è°ƒå‡½æ•°å‚æ•°ä¾æ¬¡ä¸ºvalueã€keyå’Œmapæœ¬èº«ï¼š</span><br></code></pre></td></tr></table></figure><h3 id="å‡½æ•°argumentså‚æ•°"><a href="#å‡½æ•°argumentså‚æ•°" class="headerlink" title="å‡½æ•°argumentså‚æ•°"></a>å‡½æ•°argumentså‚æ•°</h3><p>å®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArrayï¼š<br> åˆ©ç”¨argumentsï¼Œä½ å¯ä»¥è·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚å³ä½¿å‡½æ•°ä¸å®šä¹‰ä»»ä½•å‚æ•°ï¼Œè¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å‚æ•°çš„å€¼</p><p>å½“ä¼ å…¥å‚æ•°ä¸ªæ•°è¶…è¿‡å‡½æ•°å®šä¹‰çš„å‚æ•°ä¸ªæ•°ï¼Œåˆ™å°†å¤šä½™å‚æ•°ä¼ å…¥restå‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// restå‚æ•°åªèƒ½å†™åœ¨æœ€åï¼Œå‰é¢ç”¨...æ ‡è¯†</span><br><span class="hljs-comment">// ä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaã€bï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡rest</span><br><span class="hljs-comment">// æ‰€ä»¥ï¼Œä¸å†éœ€è¦argumentsæˆ‘ä»¬å°±è·å–äº†å…¨éƒ¨å‚æ•°ã€‚</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">a, b, ...rest</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;a = &#x27;</span> + a);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;b = &#x27;</span> + b);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rest);<br>&#125;<br><br><span class="hljs-title function_">foo</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);<br><span class="hljs-comment">// ç»“æœ:</span><br><span class="hljs-comment">// a = 1</span><br><span class="hljs-comment">// b = 2</span><br><span class="hljs-comment">// Array [ 3, 4, 5 ]</span><br><br><span class="hljs-title function_">foo</span>(<span class="hljs-number">1</span>);<br><span class="hljs-comment">// ç»“æœ:</span><br><span class="hljs-comment">// a = 1</span><br><span class="hljs-comment">// b = undefined</span><br><span class="hljs-comment">// Array []</span><br></code></pre></td></tr></table></figure><h3 id="å…¨å±€å¯¹è±¡-window"><a href="#å…¨å±€å¯¹è±¡-window" class="headerlink" title="å…¨å±€å¯¹è±¡ window"></a>å…¨å±€å¯¹è±¡ window</h3><p>å…¨å±€ä½œç”¨åŸŸçš„å˜é‡å®é™…ç»‘å®šåˆ°windowçš„ä¸€ä¸ªå±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><br><span class="hljs-keyword">var</span> course = <span class="hljs-string">&#x27;Learn JavaScript&#x27;</span>;<br><span class="hljs-title function_">alert</span>(course); <span class="hljs-comment">// &#x27;Learn JavaScript&#x27;</span><br><span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">course</span>); <span class="hljs-comment">// &#x27;Learn JavaScript&#x27;</span><br><br><span class="hljs-comment">// å…¨å±€å˜é‡course ç­‰åŒäº window.course</span><br><span class="hljs-comment">// alertå‡½æ•°ä¹Ÿæ˜¯windowçš„ä¸€ä¸ªå˜é‡</span><br></code></pre></td></tr></table></figure><p>å‡å°‘å…¨å±€å˜é‡çš„å†²çªï¼šå£°æ˜ä¸€ä¸ªå”¯ä¸€çš„å…¨å±€å˜é‡{}ï¼›ç„¶åæŠŠæ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ç»‘å®šåˆ°è¿™ä¸ªå”¯ä¸€ä¸€ä¸ªå…¨å±€å˜é‡ä¸Šã€‚</p><h3 id="å±€éƒ¨ä½œç”¨åŸŸ"><a href="#å±€éƒ¨ä½œç”¨åŸŸ" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸ"></a>å±€éƒ¨ä½œç”¨åŸŸ</h3><p>forå¾ªç¯ä¸­ï¼Œvar iå¯ä»¥åœ¨å¾ªç¯å—å¤–éƒ¨è¢«å¼•ç”¨ï¼›ES6çš„let iåˆ™è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>        <span class="hljs-comment">//</span><br>    &#125;<br>    i += <span class="hljs-number">100</span>;      <span class="hljs-comment">// ä»ç„¶å¯ä»¥å¼•ç”¨å˜é‡i</span><br>&#125;<br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">100</span>; i++) &#123;<br>        sum += i;<br>    &#125;<br>    i += <span class="hljs-number">1</span>;       <span class="hljs-comment">// SyntaxError</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="thisä¸¢å¤±é—®é¢˜"><a href="#thisä¸¢å¤±é—®é¢˜" class="headerlink" title="thisä¸¢å¤±é—®é¢˜"></a>thisä¸¢å¤±é—®é¢˜</h3><p>å¯¹è±¡æ–¹æ³•ä¸­çš„thisï¼Œå¿…é¡»ç”±å¯¹è±¡è¿›è¡Œè°ƒç”¨è¯¥æ–¹æ³•æ‰èƒ½è·å–thisï¼›<br> å¯¹è±¡æ–¹æ³•ä¸­çš„å‡½æ•°ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡windowï¼›<br> è§£å†³æ–¹æ³•1ï¼š  that</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¿å­˜å½“å‰this  ===&gt; that</span><br><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><br><span class="hljs-keyword">var</span> xiaoming = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">1990</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> that = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// åœ¨æ–¹æ³•å†…éƒ¨ä¸€å¼€å§‹å°±æ•è·this</span><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAgeFromBirth</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br>            <span class="hljs-keyword">return</span> y - that.<span class="hljs-property">birth</span>; <span class="hljs-comment">// ç”¨thatè€Œä¸æ˜¯this</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">getAgeFromBirth</span>();<br>    &#125;<br>&#125;;<br><br>xiaoming.<span class="hljs-title function_">age</span>(); <span class="hljs-comment">// 25</span><br></code></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•2ï¼š  applyä¸call</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä½¿ç”¨applyæˆ–callï¼Œæ§åˆ¶å‡½æ•°çš„thisæŒ‡å‘ä¼ å…¥çš„é¦–ä¸ªå‚æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br>    <span class="hljs-keyword">return</span> y - <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br>&#125;<br><br><span class="hljs-keyword">var</span> xiaoming = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">1990</span>,<br>    <span class="hljs-attr">age</span>: getAge<br>&#125;;<br><br>xiaoming.<span class="hljs-title function_">age</span>(); <span class="hljs-comment">// 25</span><br><br><span class="hljs-comment">// apply()æŠŠå‚æ•°æ‰“åŒ…æˆArrayå†ä¼ å…¥ï¼›</span><br>getAge.<span class="hljs-title function_">apply</span>(xiaoming, []); <span class="hljs-comment">// 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º</span><br><span class="hljs-comment">// æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥ã€‚</span><br>getAge.<span class="hljs-title function_">call</span>(xiaoming)<br></code></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•3ï¼š IFEEæ€æƒ³ï¼Œbind(this)</p><h3 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h3><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">å‡½æ•°å‚æ•°`æŒ‡å‘`å‡½æ•°<br></code></pre></td></tr></table></figure><h4 id="mapé€ä¸€æ˜ å°„"><a href="#mapé€ä¸€æ˜ å°„" class="headerlink" title="mapé€ä¸€æ˜ å°„"></a>mapé€ä¸€æ˜ å°„</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// *****</span><br><span class="hljs-comment">// â€œæŠŠf(x)ä½œç”¨åœ¨Arrayçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æœç”Ÿæˆä¸€ä¸ªæ–°çš„Arrayâ€ã€‚</span><br><span class="hljs-comment">// *****</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">pow</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * x;<br>&#125;<br><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>];<br>arr.<span class="hljs-title function_">map</span>(pow); <span class="hljs-comment">// [1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br></code></pre></td></tr></table></figure><h4 id="reduceç€‘å¸ƒæ˜ å°„"><a href="#reduceç€‘å¸ƒæ˜ å°„" class="headerlink" title="reduceç€‘å¸ƒæ˜ å°„"></a>reduceç€‘å¸ƒæ˜ å°„</h4><p>åŸç†ï¼š[x1, x2, x3, x4].reduce(f) &#x3D; f(f(f(x1, x2), x3), x4)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// *****</span><br><span class="hljs-comment">// æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—</span><br><span class="hljs-comment">// *****</span><br><br><span class="hljs-comment">// [1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œreduce()ä¹Ÿèƒ½æ´¾ä¸Šç”¨åœºï¼š</span><br><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>];<br>arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * <span class="hljs-number">10</span> + y;<br>&#125;); <span class="hljs-comment">// 13579</span><br></code></pre></td></tr></table></figure><h4 id="filterè¿‡æ»¤"><a href="#filterè¿‡æ»¤" class="headerlink" title="filterè¿‡æ»¤"></a>filterè¿‡æ»¤</h4><p>filter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯trueè¿˜æ˜¯falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åˆ©ç”¨filterï¼Œå¯ä»¥å·§å¦™åœ°å»é™¤Arrayçš„é‡å¤å…ƒç´ ï¼š</span><br><span class="hljs-meta"></span><br><span class="hljs-meta">&#x27;use strict&#x27;</span>;<br><br><span class="hljs-keyword">var</span> r,<br>    arr = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;strawberry&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;pear&#x27;</span>, <span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-string">&#x27;strawberry&#x27;</span>];<br><br>r = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">element, index, self</span>) &#123;<br>    <span class="hljs-comment">// indexOfæ€»æ˜¯è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œåç»­çš„é‡å¤å…ƒç´ ä½ç½®ä¸indexOfè¿”å›çš„ä½ç½®ä¸ç›¸ç­‰ï¼Œè¢«è¿‡æ»¤</span><br>    <span class="hljs-keyword">return</span> self.<span class="hljs-title function_">indexOf</span>(element) === index;<br>&#125;);<br><br><span class="hljs-title function_">alert</span>(r.<span class="hljs-title function_">toString</span>());<br></code></pre></td></tr></table></figure><h3 id="sort-æ’åº"><a href="#sort-æ’åº" class="headerlink" title="sort æ’åº"></a>sort æ’åº</h3><p><code>sort()æ–¹æ³•ä¼šç›´æ¥å¯¹Arrayè¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›çš„ç»“æœä»æ˜¯å½“å‰Arrayï¼š</code><br> é»˜è®¤æŠŠæ‰€æœ‰å…ƒç´ å…ˆè½¬æ¢ä¸ºStringå†æ’åºï¼Œå­—ç¬¦ä¸²æ ¹æ®é¦–ä¸ªå­—ç¬¦çš„ASCIIç è¿›è¡Œæ’åº<br> sortçš„è‡ªå®šä¹‰æ’åºä¸­ï¼Œreturn -1ä¸å¯¹è°ƒï¼›return 1å¯¹è°ƒï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å‡åºæ’åˆ—</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br>arr.<span class="hljs-title function_">sort</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &lt; y) &#123;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (x &gt; y) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;); <span class="hljs-comment">// [1, 2, 10, 20]</span><br></code></pre></td></tr></table></figure><h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">x =&gt; x * x   <br><br>ç­‰åŒäº  <br><br><span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x * x;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç®­å¤´å‡½æ•°ç›¸å½“äºåŒ¿åå‡½æ•°<br> æ ¼å¼ä¸€ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¯ä»¥çœç•¥{ â€¦ }å’Œreturn<br> æ ¼å¼äºŒï¼ŒåŒ…å«å¤šæ¡è¯­å¥ï¼Œä¸èƒ½çœç•¥{ â€¦ }å’Œreturnï¼š</p><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¸¤ä¸ªå‚æ•°:</span><br>(x, y) =&gt; x * x + y * y<br><br><span class="hljs-comment">// æ— å‚æ•°:</span><br>() =&gt; <span class="hljs-number">3.14</span><br><br><span class="hljs-comment">// å¯å˜å‚æ•°:</span><br>(x, y, ...rest) =&gt; &#123;<br>    <span class="hljs-keyword">var</span> i, sum = x + y;<br>    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;rest.<span class="hljs-property">length</span>; i++) &#123;<br>        sum += rest[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è¿”å›å¯¹è±¡"><a href="#è¿”å›å¯¹è±¡" class="headerlink" title="è¿”å›å¯¹è±¡"></a>è¿”å›å¯¹è±¡</h4><p>è¿”å›å¯¹è±¡æ—¶å­˜åœ¨è¯­æ³•å†²çª{} æ‰€ä»¥æ”¹ä¸º({foo:x})</p><h4 id="thisä½œç”¨åŸŸ"><a href="#thisä½œç”¨åŸŸ" class="headerlink" title="thisä½œç”¨åŸŸ"></a>thisä½œç”¨åŸŸ</h4><p>ç®­å¤´å‡½æ•°ä¿®å¤äº†thisçš„æŒ‡å‘ï¼Œthisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…objï¼š<br> ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¯¹è±¡ï¼ˆç¬¬ä¸€å±‚ï¼‰çš„æ–¹æ³•ï¼ˆç¬¬äºŒå±‚ï¼‰çš„å‡½æ•°ï¼ˆç¬¬ä¸‰å±‚ï¼‰ä¸­ï¼Œä»ç„¶å¯ä»¥ç”¨thisè°ƒç”¨åˆ°å¯¹è±¡çš„å±æ€§å€¼ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">1990</span>,<br>    <span class="hljs-attr">getAge</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> b = <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>; <span class="hljs-comment">// 1990</span><br>        <span class="hljs-keyword">var</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>() - <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;    <span class="hljs-comment">//thisæŒ‡å‘objå¯¹è±¡</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>();<br>    &#125;<br>&#125;;<br>obj.<span class="hljs-title function_">getAge</span>(); <span class="hljs-comment">// 25</span><br></code></pre></td></tr></table></figure><h4 id="call-ä¸apply"><a href="#call-ä¸apply" class="headerlink" title="call()ä¸apply()"></a>call()ä¸apply()</h4><p>ç”±äºthisåœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨call()æˆ–è€…apply()è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹thisè¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥ï¼Œç›´æ¥ä¼ å…¥å‚æ•°å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">birth</span>: <span class="hljs-number">1990</span>,<br>    <span class="hljs-attr">getAge</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">year</span>) &#123;<br>        <span class="hljs-keyword">var</span> b = <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>; <span class="hljs-comment">// 1990</span><br>        <span class="hljs-keyword">var</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">y</span>) =&gt; y - <span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>; <span class="hljs-comment">// this.birthä»æ˜¯1990</span><br>        <span class="hljs-keyword">return</span> fn.<span class="hljs-title function_">call</span>(&#123;<span class="hljs-attr">birth</span>:<span class="hljs-number">2000</span>&#125;, year);<br>        <span class="hljs-comment">// åŸæœ¬éœ€è¦å†™ä½œfn.call(this, &#123;birth:2000&#125;, year)</span><br>    &#125;<br>&#125;;<br>obj.<span class="hljs-title function_">getAge</span>(<span class="hljs-number">2015</span>); <span class="hljs-comment">// 25</span><br></code></pre></td></tr></table></figure><h3 id="generatorç”Ÿæˆå™¨"><a href="#generatorç”Ÿæˆå™¨" class="headerlink" title="generatorç”Ÿæˆå™¨"></a>generatorç”Ÿæˆå™¨</h3><p>yield ç”¨äºreturnä¹‹å‰çš„å¤šæ¬¡è¿”å›<br> generator</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å®šä¹‰</span><br><span class="hljs-keyword">function</span>* <span class="hljs-title function_">foo</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">yield</span> x + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">yield</span> x + <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">return</span> x + <span class="hljs-number">3</span>;<br>&#125;<br><br><span class="hljs-comment">// åˆ›å»ºgeneratorå¯¹è±¡   ä¸å‡½æ•°è°ƒç”¨ä¸åŒï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨</span><br><span class="hljs-keyword">var</span> f = <span class="hljs-title function_">foo</span>(<span class="hljs-number">3</span>);    <span class="hljs-comment">// &#123;[[GeneratorStatus]]: &quot;suspended&quot;&#125;</span><br><br><span class="hljs-comment">// å®é™…è·å–è¿”å›å€¼   doneå±æ€§è¡¨ç¤ºæ‰§è¡Œå®Œæ¯•</span><br>f.<span class="hljs-title function_">next</span>();    <span class="hljs-comment">// &#123;value: 4, done: false&#125;</span><br>f.<span class="hljs-title function_">next</span>();    <span class="hljs-comment">// &#123;value: 5, done: false&#125;</span><br>f.<span class="hljs-title function_">next</span>();    <span class="hljs-comment">// &#123;value: 6, done: true&#125;</span><br>f.<span class="hljs-title function_">next</span>();    <span class="hljs-comment">// &#123;value: undefined, done: true&#125;</span><br><br><br><span class="hljs-comment">// ç›´æ¥ç”¨for ... ofå¾ªç¯è¿­ä»£generatorå¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­done</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> <span class="hljs-title function_">f</span>(<span class="hljs-number">3</span>)) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x); <span class="hljs-comment">// ä¾æ¬¡è¾“å‡º4,5,6</span><br>&#125;<br></code></pre></td></tr></table></figure><p>generatorçš„ä¼˜ç‚¹ï¼š<br> 1.å› ä¸ºgeneratorå¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¤šæ¬¡è¿”å›ï¼Œæ‰€ä»¥å®ƒçœ‹ä¸Šå»å°±åƒä¸€ä¸ªå¯ä»¥è®°ä½æ‰§è¡ŒçŠ¶æ€çš„å‡½æ•°ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå†™ä¸€ä¸ªgeneratorå°±å¯ä»¥å®ç°éœ€è¦ç”¨é¢å‘å¯¹è±¡æ‰èƒ½å®ç°çš„åŠŸèƒ½ã€‚</p><p>2.æŠŠå¼‚æ­¥å›è°ƒä»£ç å˜æˆå½¢ä¼¼åŒæ­¥ä»£ç ï¼ˆä¸»è¦æ˜¯ç¾è§‚ï¼Œå®é™…ä»æœªå¼‚æ­¥ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åŸæ¥çš„ajaxå†™æ³•</span><br><span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-1&#x27;</span>, data1, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, result</span>) &#123;<br>    <span class="hljs-keyword">if</span> (err) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">handle</span>(err);<br>    &#125;<br>    <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-2&#x27;</span>, data2, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, result</span>) &#123;<br>        <span class="hljs-keyword">if</span> (err) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">handle</span>(err);<br>        &#125;<br>        <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-3&#x27;</span>, data3, <span class="hljs-keyword">function</span> (<span class="hljs-params">err, result</span>) &#123;<br>            <span class="hljs-keyword">if</span> (err) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-title function_">handle</span>(err);<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">success</span>(result);<br>        &#125;);<br>    &#125;);<br>&#125;);<br><br><span class="hljs-comment">// ä½¿ç”¨generatorç¾åŒ–ä¹‹å</span><br><span class="hljs-keyword">try</span> &#123;<br>    r1 = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-1&#x27;</span>, data1);<br>    r2 = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-2&#x27;</span>, data2);<br>    r3 = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://url-3&#x27;</span>, data3);<br>    <span class="hljs-title function_">success</span>(r3);<br>&#125;<br><span class="hljs-keyword">catch</span> (err) &#123;<br>    <span class="hljs-title function_">handle</span>(err);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ ‡å‡†å¯¹è±¡typeof 123; // &#x27;number&#x27;typeof NaN; // &#x27;number&#x27;typeof &#x27;str&#x27;; // &#x27;string&#x27;typeof true; // &#x27;boolean&#x27;typeof undefined; // &#x27;undefined&#x27;typeof Math.abs; // &#x27;function&#x27;typeof null; // &#x27;object&#x27;typeof []; // &#x27;object&#x27;typeof &#123;&#125;; // &#x27;object&#x27;// åŒ…è£…å¯¹è±¡  æ‹†åŒ…å‰æ˜¯Objectï¼›è§£åŒ…åæ˜¯æ™®é€šæ•°æ®ç±»å‹var n = new Number(123); // 123,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹var b = new Boolean(true); // true,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹var s = new String(&#x27;str&#x27;); // &#x27;str&#x27;,ç”Ÿæˆäº†æ–°çš„åŒ…è£…ç±»å‹</span><br></code></pre></td></tr></table></figure><h3 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h3><p>regExp.test(str);   è¿”å›å€¼ï¼šfalse&#x2F;trues<br> ç”¨é€”ï¼š</p><ol><li>åˆ‡å‰²å­—ç¬¦ä¸²</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;a,b;; c  d&#x27;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[\s\,\;]+/</span>); <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br></code></pre></td></tr></table></figure><ol><li>åˆ†ç»„ï¼Œæå–å­ä¸²</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/</span>;<br>re.<span class="hljs-title function_">exec</span>(<span class="hljs-string">&#x27;010-12345&#x27;</span>); <span class="hljs-comment">// [&#x27;010-12345&#x27;, &#x27;010&#x27;, &#x27;12345&#x27;]</span><br>re.<span class="hljs-title function_">exec</span>(<span class="hljs-string">&#x27;010 12345&#x27;</span>); <span class="hljs-comment">// null</span><br></code></pre></td></tr></table></figure><h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><h4 id="å­—ç¬¦ä¸²åŒ–-stringify"><a href="#å­—ç¬¦ä¸²åŒ–-stringify" class="headerlink" title="å­—ç¬¦ä¸²åŒ– stringify"></a>å­—ç¬¦ä¸²åŒ– stringify</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> xiaoming = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">14</span>,<br>    <span class="hljs-attr">gender</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-number">1.65</span>,<br>    <span class="hljs-attr">grade</span>: <span class="hljs-literal">null</span>,<br>    <span class="hljs-string">&#x27;middle-school&#x27;</span>: <span class="hljs-string">&#x27;\&quot;W3C\&quot; Middle School&#x27;</span>,<br>    <span class="hljs-attr">skills</span>: [<span class="hljs-string">&#x27;JavaScript&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;Lisp&#x27;</span>]<br>&#125;;<br><br><span class="hljs-comment">// åŸå§‹å­—ç¬¦ä¸²æ˜¾ç¤º</span><br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(xiaoming);<br><br><span class="hljs-comment">// ç¼©è¿›æ˜¾ç¤º </span><br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(xiaoming, <span class="hljs-literal">null</span>, <span class="hljs-string">&#x27;  &#x27;</span>);<br><br><span class="hljs-comment">// ä¼ å…¥Arrayï¼Œè¾“å‡ºæŒ‡å®šçš„å±æ€§</span><br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(xiaoming, [<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;skills&#x27;</span>], <span class="hljs-string">&#x27;  &#x27;</span>);<br><br><span class="hljs-comment">// ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå¤„ç†å¯¹è±¡çš„æ¯ä¸ªé”®å€¼</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">convert</span>(<span class="hljs-params">key, value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;string&#x27;</span>) &#123;<br>        <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">toUpperCase</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> value;<br>&#125;<br><br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(xiaoming, convert, <span class="hljs-string">&#x27;  &#x27;</span>);<br><br><span class="hljs-comment">// JSONæ•°æ®æ·»åŠ toJSONå±æ€§ï¼Œæ§åˆ¶JSONåº”è¯¥åºåˆ—åŒ–çš„æ•°æ®</span><br><span class="hljs-attr">toJSON</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123; <span class="hljs-comment">// åªè¾“å‡ºnameå’Œageï¼Œå¹¶ä¸”æ”¹å˜äº†keyï¼š</span><br>            <span class="hljs-string">&#x27;Name&#x27;</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>,<br>            <span class="hljs-string">&#x27;Age&#x27;</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span><br>        &#125;;<br>    &#125;<br><br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(xiaoming); <span class="hljs-comment">// &#x27;&#123;&quot;Name&quot;:&quot;å°æ˜&quot;,&quot;Age&quot;:14&#125;&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="ååºåˆ—åŒ–-JSON-parse"><a href="#ååºåˆ—åŒ–-JSON-parse" class="headerlink" title="ååºåˆ—åŒ– JSON.parse"></a>ååºåˆ—åŒ– JSON.parse</h4><p>JSON.parse()è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è½¬æ¢è§£æå‡ºçš„å±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;&#123;&quot;name&quot;:&quot;å°æ˜&quot;,&quot;age&quot;:14&#125;&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) &#123;<br>    <span class="hljs-comment">// æŠŠnumber * 2:</span><br>    <span class="hljs-keyword">if</span> (key === <span class="hljs-string">&#x27;name&#x27;</span>) &#123;<br>        <span class="hljs-keyword">return</span> value + <span class="hljs-string">&#x27;åŒå­¦&#x27;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> value;<br>&#125;); <span class="hljs-comment">// Object &#123;name: &#x27;å°æ˜åŒå­¦&#x27;, age: 14&#125;</span><br></code></pre></td></tr></table></figure><h3 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h3><p>æ„é€ å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„å£°æ˜å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚<br> ä½†æ˜¯å¿…é¡»é€šè¿‡newæ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå®ƒç»‘å®šçš„thisæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¹¶é»˜è®¤è¿”å›thisï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦åœ¨æœ€åå†™return this;<br> å¦‚æœä¸å†™newï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå®ƒè¿”å›undefinedã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç”Ÿæˆçš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰ç‹¬ç«‹çš„nameå±æ€§ä¸helloå±æ€§ï¼›helloçš„å‡½æ•°ä»£ç é‡å¤ï¼Œæµªè´¹å†…å­˜ç©ºé—´</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hello</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//  æŠŠhelloå‡½æ•°æ”¾åœ¨prototypeä¸‹ï¼Œå¯ä»¥è®©ä¸åŒçš„å®ä¾‹å…±äº«åŒä¸ªå‡½æ•°ï¼ŒèŠ‚çœå†…å­˜ç©ºé—´</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><br><span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hello</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="åŸå‹ç»§æ‰¿-å…¶å®ES6çš„classä¼˜åŒ–æ›´å®¹æ˜“ç†è§£ã€å¥½ç”¨"><a href="#åŸå‹ç»§æ‰¿-å…¶å®ES6çš„classä¼˜åŒ–æ›´å®¹æ˜“ç†è§£ã€å¥½ç”¨" class="headerlink" title="åŸå‹ç»§æ‰¿(å…¶å®ES6çš„classä¼˜åŒ–æ›´å®¹æ˜“ç†è§£ã€å¥½ç”¨)"></a>åŸå‹ç»§æ‰¿(å…¶å®ES6çš„classä¼˜åŒ–æ›´å®¹æ˜“ç†è§£ã€å¥½ç”¨)</h3><p><strong>é‡ç‚¹ç†è§£ï¼ï¼ï¼prototypeæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯prototypeæŒ‡å‘prototypeå±æ€§</strong></p><p><code>new PrimaryStudent() ----&gt; PrimaryStudent.prototype ----&gt; Object.prototype ----&gt; null</code><br> å¿…é¡»æƒ³åŠæ³•æŠŠåŸå‹é“¾ä¿®æ”¹ä¸ºï¼š<br> <code>new PrimaryStudent() ----&gt; PrimaryStudent.prototype ----&gt; Student.prototype ----&gt; Object.prototype ----&gt; null</code><br> ä¸èƒ½ç›´æ¥æ”¹å˜æŒ‡å‘ï¼›<br> å¿…é¡»å€ŸåŠ©ä¸€ä¸ªä¸­é—´å¯¹è±¡æ¥å®ç°æ­£ç¡®çš„åŸå‹é“¾ï¼Œè¿™ä¸ªä¸­é—´å¯¹è±¡çš„åŸå‹è¦æŒ‡å‘Student.prototypeï¼Œä¸­é—´å¯¹è±¡å¯ä»¥ç”¨ä¸€ä¸ªç©ºå‡½æ•°Fæ¥å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// PrimaryStudentæ„é€ å‡½æ•°:</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">PrimaryStudent</span>(<span class="hljs-params">props</span>) &#123;<br>    <span class="hljs-comment">// è°ƒç”¨äº†Studentæ„é€ å‡½æ•°ï¼Œç»‘å®šthiså˜é‡</span><br>    <span class="hljs-comment">// ä½†æ˜¯PrimaryStudentçš„prototypeå¹¶ä¸æŒ‡å‘Studentï¼›è¿™å¹¶ä¸æ˜¯ç»§æ‰¿</span><br>    <span class="hljs-title class_">Student</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, props);    <br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span> = props.<span class="hljs-property">grade</span> || <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">// ç©ºå‡½æ•°F:</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">F</span>(<span class="hljs-params"></span>) &#123;<br>&#125;<br><br><span class="hljs-comment">// æŠŠFçš„åŸå‹æŒ‡å‘Student.prototype:</span><br>F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br><br><span class="hljs-comment">// æŠŠPrimaryStudentçš„åŸå‹æŒ‡å‘ä¸€ä¸ªæ–°çš„Få¯¹è±¡ï¼ŒFå¯¹è±¡çš„åŸå‹æ­£å¥½æŒ‡å‘Student.prototype:</span><br><span class="hljs-title class_">PrimaryStudent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br><br><span class="hljs-comment">// æŠŠPrimaryStudentåŸå‹çš„æ„é€ å‡½æ•°ä¿®å¤ä¸ºPrimaryStudent:</span><br><span class="hljs-title class_">PrimaryStudent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">PrimaryStudent</span>;<br><br><span class="hljs-comment">// ç»§ç»­åœ¨PrimaryStudentåŸå‹ï¼ˆå°±æ˜¯new F()å¯¹è±¡ï¼‰ä¸Šå®šä¹‰æ–¹æ³•ï¼š</span><br><span class="hljs-title class_">PrimaryStudent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getGrade</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span>;<br>&#125;;<br><br><span class="hljs-comment">// åˆ›å»ºxiaoming:</span><br><span class="hljs-keyword">var</span> xiaoming = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrimaryStudent</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>,<br>    <span class="hljs-attr">grade</span>: <span class="hljs-number">2</span><br>&#125;);<br>xiaoming.<span class="hljs-property">name</span>; <span class="hljs-comment">// &#x27;å°æ˜&#x27;</span><br>xiaoming.<span class="hljs-property">grade</span>; <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">// éªŒè¯åŸå‹:</span><br>xiaoming.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">PrimaryStudent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">// true</span><br>xiaoming.<span class="hljs-property">__proto__</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>; <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// éªŒè¯ç»§æ‰¿å…³ç³»:</span><br>xiaoming <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">PrimaryStudent</span>; <span class="hljs-comment">// true</span><br>xiaoming <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Student</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å°è£…ç©ºå‡½æ•°ç»§æ‰¿è¿‡ç¨‹</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">inherits</span>(<span class="hljs-params">Child, Parent</span>) &#123;<br>    <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;&#125;;<br>    F.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br>    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">F</span>();<br>    <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;<br>&#125;<br><br><span class="hljs-comment">// å®ç°åŸå‹ç»§æ‰¿é“¾:</span><br><span class="hljs-title function_">inherits</span>(<span class="hljs-title class_">PrimaryStudent</span>, <span class="hljs-title class_">Student</span>);<br></code></pre></td></tr></table></figure><h3 id="classç»§æ‰¿-åŸå‹ç»§æ‰¿çš„ä¼˜åŒ–"><a href="#classç»§æ‰¿-åŸå‹ç»§æ‰¿çš„ä¼˜åŒ–" class="headerlink" title="classç»§æ‰¿ &#x3D;&#x3D;&#x3D;&gt; åŸå‹ç»§æ‰¿çš„ä¼˜åŒ–"></a>classç»§æ‰¿ &#x3D;&#x3D;&#x3D;&gt; åŸå‹ç»§æ‰¿çš„ä¼˜åŒ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä½¿ç”¨æ„é€ å‡½æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Student</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><br><span class="hljs-title class_">Student</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hello</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">// ä½¿ç”¨classå®ç°</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br><br>    <span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello, &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;!&#x27;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// å®ä¾‹åŒ–</span><br><span class="hljs-keyword">var</span> xiaoming = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&#x27;å°æ˜&#x27;</span>);<br>xiaoming.<span class="hljs-title function_">hello</span>();<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä½¿ç”¨extendså…³é”®å­—å®ç°ç»§æ‰¿</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrimaryStudent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Student</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, grade</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(name); <span class="hljs-comment">// è®°å¾—ç”¨superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•!</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span> = grade;<br>    &#125;<br><br>    <span class="hljs-title function_">myGrade</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;I am at grade &#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµè§ˆå™¨å¯¹è±¡"><a href="#æµè§ˆå™¨å¯¹è±¡" class="headerlink" title="æµè§ˆå™¨å¯¹è±¡"></a>æµè§ˆå™¨å¯¹è±¡</h3><h4 id="windowå¯¹è±¡"><a href="#windowå¯¹è±¡" class="headerlink" title="windowå¯¹è±¡"></a>windowå¯¹è±¡</h4><p>windowå¯¹è±¡ä¸ä½†å……å½“å…¨å±€ä½œç”¨åŸŸï¼Œè€Œä¸”è¡¨ç¤ºæµè§ˆå™¨çª—å£ã€‚</p><p>windowå¯¹è±¡æœ‰innerWidthå’ŒinnerHeightå±æ€§ï¼Œå¯ä»¥è·å–æµè§ˆå™¨çª—å£çš„å†…éƒ¨å®½åº¦å’Œé«˜åº¦ã€‚å†…éƒ¨å®½é«˜æ˜¯æŒ‡é™¤å»èœå•æ ã€å·¥å…·æ ã€è¾¹æ¡†ç­‰å ä½å…ƒç´ åï¼Œç”¨äºæ˜¾ç¤ºç½‘é¡µçš„å‡€å®½é«˜ã€‚</p><h4 id="navigatorå¯¹è±¡"><a href="#navigatorå¯¹è±¡" class="headerlink" title="navigatorå¯¹è±¡"></a>navigatorå¯¹è±¡</h4><p>navigatorå¯¹è±¡è¡¨ç¤ºæµè§ˆå™¨çš„ä¿¡æ¯ï¼Œæœ€å¸¸ç”¨çš„å±æ€§åŒ…æ‹¬ï¼š</p><p>navigator.appNameï¼šæµè§ˆå™¨åç§°ï¼›<br> navigator.appVersionï¼šæµè§ˆå™¨ç‰ˆæœ¬ï¼›<br> navigator.languageï¼šæµè§ˆå™¨è®¾ç½®çš„è¯­è¨€ï¼›<br> navigator.platformï¼šæ“ä½œç³»ç»Ÿç±»å‹ï¼›<br> navigator.userAgentï¼šæµè§ˆå™¨è®¾å®šçš„User-Agentå­—ç¬¦ä¸²ã€‚</p><h4 id="screenå¯¹è±¡"><a href="#screenå¯¹è±¡" class="headerlink" title="screenå¯¹è±¡"></a>screenå¯¹è±¡</h4><p>screenå¯¹è±¡è¡¨ç¤ºå±å¹•çš„ä¿¡æ¯ï¼Œå¸¸ç”¨çš„å±æ€§æœ‰ï¼š</p><p>screen.widthï¼šå±å¹•å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›<br> screen.heightï¼šå±å¹•é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›<br> screen.colorDepthï¼šè¿”å›é¢œè‰²ä½æ•°ï¼Œå¦‚8ã€16ã€24ã€‚</p><h4 id="locationå¯¹è±¡"><a href="#locationå¯¹è±¡" class="headerlink" title="locationå¯¹è±¡"></a>locationå¯¹è±¡</h4><p>locationå¯¹è±¡è¡¨ç¤ºå½“å‰é¡µé¢çš„URLä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå®Œæ•´çš„URLï¼š</p><p><a href="https://link.jianshu.com/?t=http://www.example.com:8080/path/index.html?a=1&b=2#TOP">http://www.example.com:8080/path/index.html?a=1&amp;b=2#TOP</a><br> å¯ä»¥ç”¨location.hrefè·å–ã€‚è¦è·å¾—URLå„ä¸ªéƒ¨åˆ†çš„å€¼ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><p>location.protocol; &#x2F;&#x2F; â€˜httpâ€™<br> location.host; &#x2F;&#x2F; â€˜<a href="https://link.jianshu.com/?t=http://www.example.com%27">www.example.com&#39;</a><br> location.port; &#x2F;&#x2F; â€˜8080â€™<br> location.pathname; &#x2F;&#x2F; â€˜&#x2F;path&#x2F;index.htmlâ€™<br> location.search; &#x2F;&#x2F; â€˜?a&#x3D;1&amp;b&#x3D;2â€™<br> location.hash; &#x2F;&#x2F; â€˜TOPâ€™</p><p>è¦åŠ è½½ä¸€ä¸ªæ–°é¡µé¢ï¼šlocation.assign()<br> é‡æ–°åŠ è½½å½“å‰é¡µé¢ï¼Œlocation.reload()</p><h4 id="documentå¯¹è±¡"><a href="#documentå¯¹è±¡" class="headerlink" title="documentå¯¹è±¡"></a>documentå¯¹è±¡</h4><p>documentå¯¹è±¡è¡¨ç¤ºå½“å‰é¡µé¢ã€‚ç”±äºHTMLåœ¨æµè§ˆå™¨ä¸­ä»¥DOMå½¢å¼è¡¨ç¤ºä¸ºæ ‘å½¢ç»“æ„ï¼Œdocumentå¯¹è±¡å°±æ˜¯æ•´ä¸ªDOMæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p><p>documentå¯¹è±¡è¿˜æœ‰ä¸€ä¸ªcookieå±æ€§ï¼Œå¯ä»¥è·å–å½“å‰é¡µé¢çš„Cookieã€‚</p><p>Cookieæ˜¯ç”±æœåŠ¡å™¨å‘é€çš„key-valueæ ‡ç¤ºç¬¦ã€‚å› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨è¦åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªç”¨æˆ·å‘è¿‡æ¥çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç”¨Cookieæ¥åŒºåˆ†ã€‚å½“ä¸€ä¸ªç”¨æˆ·æˆåŠŸç™»å½•åï¼ŒæœåŠ¡å™¨å‘é€ä¸€ä¸ªCookieç»™æµè§ˆå™¨ï¼Œä¾‹å¦‚user&#x3D;ABC123XYZ(åŠ å¯†çš„å­—ç¬¦ä¸²)â€¦ï¼Œæ­¤åï¼Œæµè§ˆå™¨è®¿é—®è¯¥ç½‘ç«™æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´é™„ä¸Šè¿™ä¸ªCookieï¼ŒæœåŠ¡å™¨æ ¹æ®Cookieå³å¯åŒºåˆ†å‡ºç”¨æˆ·ã€‚</p><p>Cookieè¿˜å¯ä»¥å­˜å‚¨ç½‘ç«™çš„ä¸€äº›è®¾ç½®ï¼Œä¾‹å¦‚ï¼Œé¡µé¢æ˜¾ç¤ºçš„è¯­è¨€ç­‰ç­‰ã€‚</p><p>JavaScriptå¯ä»¥é€šè¿‡document.cookieè¯»å–åˆ°å½“å‰é¡µé¢çš„Cookieï¼š</p><blockquote></blockquote><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæœåŠ¡å™¨åœ¨è®¾ç½®Cookieæ—¶å¯ä»¥ä½¿ç”¨httpOnlyï¼Œè®¾å®šäº†httpOnlyçš„Cookieå°†ä¸èƒ½è¢«JavaScriptè¯»å–ã€‚è¿™ä¸ªè¡Œä¸ºç”±æµè§ˆå™¨å®ç°ï¼Œä¸»æµæµè§ˆå™¨å‡æ”¯æŒhttpOnlyé€‰é¡¹ï¼ŒIEä»IE6 SP1å¼€å§‹æ”¯æŒã€‚<br> ä¸ºäº†ç¡®ä¿å®‰å…¨ï¼ŒæœåŠ¡å™¨ç«¯åœ¨è®¾ç½®Cookieæ—¶ï¼Œåº”è¯¥å§‹ç»ˆåšæŒä½¿ç”¨httpOnlyã€‚<br> æ•ˆæœ&#x3D;&#x3D;&gt; ä¿è¯æµè§ˆå™¨çš„documentå¯¹è±¡ä¸­å°±çœ‹ä¸åˆ°cookieï¼Œä¸èƒ½é€šè¿‡å®¢æˆ·ç«¯è„šæœ¬è®¿é—®ï¼›åªèƒ½é€šè¿‡æœåŠ¡å™¨ç«¯çš„httpè¯·æ±‚</p><h3 id="DOMæ›´æ–°ã€æ’å…¥ã€åˆ é™¤"><a href="#DOMæ›´æ–°ã€æ’å…¥ã€åˆ é™¤" class="headerlink" title="DOMæ›´æ–°ã€æ’å…¥ã€åˆ é™¤"></a>DOMæ›´æ–°ã€æ’å…¥ã€åˆ é™¤</h3><h4 id="ä¿®æ”¹èŠ‚ç‚¹"><a href="#ä¿®æ”¹èŠ‚ç‚¹" class="headerlink" title="ä¿®æ”¹èŠ‚ç‚¹"></a>ä¿®æ”¹èŠ‚ç‚¹</h4><p>innerHTMLï¼š ä»¥HTMLçš„å½¢å¼æ’å…¥ä»£ç æ®µï¼Œå¯æ›´æ–°èŠ‚ç‚¹çš„ç»“æ„ï¼›<br> innerTEXTï¼š ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ’å…¥åˆ°èŠ‚ç‚¹ï¼Œå†…å«çš„htmlæ ‡ç­¾å¤±æ•ˆï¼›<br> <code>element.style.color = &#39;red&#39;;</code>   é€šè¿‡DOMèŠ‚ç‚¹çš„styleå±æ€§ä¿®æ”¹css</p><h4 id="æ·»åŠ èŠ‚ç‚¹"><a href="#æ·»åŠ èŠ‚ç‚¹" class="headerlink" title="æ·»åŠ èŠ‚ç‚¹"></a>æ·»åŠ èŠ‚ç‚¹</h4><p><code>document.createElement(&#39;p&#39;); element.appendChild(newElement)</code>   å¦‚æœæ–°èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œä¸æ˜¯ç®€å•åœ¨å°¾éƒ¨æ·»åŠ ï¼Œè€Œæ˜¯å‰ªåˆ‡è¯¥å…ƒç´ åˆ°ç›®æ ‡ä½ç½®ï¼›å¦‚æœæ˜¯ä¸€ç›´åˆ›å»ºæ–°æ ‡ç­¾ï¼Œåˆ™ä¸€ç›´é‡å¤æ’å…¥ï¼›<br> <code>document.createElement(&#39;p&#39;); element.insertBefore(newElement, referenceElement);</code>    å¦‚æœæ–°èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œå°±ä¸æ˜¯ç®€å•åœ¨èŠ‚ç‚¹å‰æ·»åŠ ï¼Œè€Œæ˜¯å‰ªåˆ‡è¯¥å…ƒç´ åˆ°ç›®æ ‡ä½ç½®ï¼›åŒappendï¼›</p><h4 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">æ‰¾åˆ°ç›®æ ‡åˆ é™¤èŠ‚ç‚¹ï¼Œå¯»è‡³çˆ¶èŠ‚ç‚¹ï¼Œåˆ é™¤å­èŠ‚ç‚¹ï¼› è¢«åˆ é™¤çš„èŠ‚ç‚¹ä»ç„¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥å†æ¬¡æ’å…¥ <br><span class="hljs-comment">// æ‹¿åˆ°å¾…åˆ é™¤èŠ‚ç‚¹:</span><br><span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;to-be-removed&#x27;</span>);<br><span class="hljs-comment">// æ‹¿åˆ°çˆ¶èŠ‚ç‚¹:</span><br><span class="hljs-keyword">var</span> parent = self.<span class="hljs-property">parentElement</span>;<br><span class="hljs-comment">// åˆ é™¤:</span><br><span class="hljs-keyword">var</span> removed = parent.<span class="hljs-title function_">removeChild</span>(self);<br>removed === self; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h3 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h3><p>ä½¿ç”¨onsubmit ä¸type&#x3D;â€submitâ€è¿›è¡Œæäº¤è¡¨å•ï¼›ä½¿ç”¨clickä¼šæ‰°ä¹±formçš„æ­£å¸¸æäº¤</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- HTML --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-form&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return checkForm()&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkForm</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-form&#x27;</span>);</span><br><span class="language-javascript">    <span class="hljs-comment">// å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span></span><br><span class="language-javascript">    <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">    <span class="hljs-comment">// return trueæ¥å‘Šè¯‰æµè§ˆå™¨ç»§ç»­æäº¤</span></span><br><span class="language-javascript">    <span class="hljs-comment">// return falseï¼Œæµè§ˆå™¨å°†ä¸ä¼šç»§ç»­æäº¤formï¼Œè¿™ç§æƒ…å†µé€šå¸¸å¯¹åº”ç”¨æˆ·è¾“å…¥æœ‰è¯¯ï¼Œæç¤ºç”¨æˆ·é”™è¯¯ä¿¡æ¯åç»ˆæ­¢æäº¤formã€‚</span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="HTML5ä¸­çš„File-APIå…è®¸JSè¯»å–æ–‡ä»¶å†…å®¹"><a href="#HTML5ä¸­çš„File-APIå…è®¸JSè¯»å–æ–‡ä»¶å†…å®¹" class="headerlink" title="HTML5ä¸­çš„File APIå…è®¸JSè¯»å–æ–‡ä»¶å†…å®¹"></a>HTML5ä¸­çš„File APIå…è®¸JSè¯»å–æ–‡ä»¶å†…å®¹</h3><p>html5æä¾›äº† <code>File</code> ä¸ <code>FileReader</code> ä¸¤ä¸ªä¸»è¦å¯¹è±¡ï¼Œå¯ä»¥è·å¾—æ–‡ä»¶ä¿¡æ¯å¹¶è¯»å–æ–‡ä»¶ã€‚<br> Fileè¯»å–æ–‡ä»¶å±æ€§ä¿¡æ¯ï¼› FileReaderè¯»å–æ–‡ä»¶å†…éƒ¨æ•°æ®ï¼ˆæ¯”å¦‚å›¾ç‰‡çš„base64ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// fileInputï¼šé€‰æ‹©æ–‡ä»¶çš„æŒ‰é’®ï¼› infoï¼šè¯»å–çš„æ–‡ä»¶å±æ€§ä¿¡æ¯ï¼›  previewï¼šé¡µé¢ä¸­çš„é¢„è§ˆæ¡†  </span><br><span class="hljs-keyword">var</span> fileInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-image-file&#x27;</span>),<br>    info = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-file-info&#x27;</span>),<br>    preview = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-image-preview&#x27;</span>);<br><span class="hljs-comment">// ç›‘å¬changeäº‹ä»¶:</span><br>fileInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// æ¸…é™¤èƒŒæ™¯å›¾ç‰‡:</span><br>    preview.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦é€‰æ‹©:</span><br>    <span class="hljs-keyword">if</span> (!fileInput.<span class="hljs-property">value</span>) &#123;<br>        info.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;æ²¡æœ‰é€‰æ‹©æ–‡ä»¶&#x27;</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-comment">// è·å–Fileå¼•ç”¨:</span><br>    <span class="hljs-keyword">var</span> file = fileInput.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];<br>    <span class="hljs-comment">// è·å–Fileä¿¡æ¯:</span><br>    info.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;æ–‡ä»¶: &#x27;</span> + file.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>                     <span class="hljs-string">&#x27;å¤§å°: &#x27;</span> + file.<span class="hljs-property">size</span> + <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span> +<br>                     <span class="hljs-string">&#x27;ä¿®æ”¹: &#x27;</span> + file.<span class="hljs-property">lastModifiedDate</span>;<br>    <span class="hljs-keyword">if</span> (file.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;image/jpeg&#x27;</span> &amp;&amp; file.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;image/png&#x27;</span> &amp;&amp; file.<span class="hljs-property">type</span> !== <span class="hljs-string">&#x27;image/gif&#x27;</span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;ä¸æ˜¯æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶!&#x27;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-comment">// è¯»å–æ–‡ä»¶:</span><br>    <span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>();<br>    reader.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-keyword">var</span><br>            data = e.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>; <span class="hljs-comment">// &#x27;data:image/jpeg;base64,/9j/4AAQSk...(base64ç¼–ç )...&#x27;            </span><br>        preview.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">&#x27;url(&#x27;</span> + data + <span class="hljs-string">&#x27;)&#x27;</span>;<br>    &#125;;<br>    <span class="hljs-comment">// ä»¥DataURLçš„å½¢å¼è¯»å–æ–‡ä»¶:</span><br>    reader.<span class="hljs-title function_">readAsDataURL</span>(file);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><p>åœ¨ç°ä»£æµè§ˆå™¨ä¸Šå†™AJAXä¸»è¦ä¾é XMLHttpRequestå¯¹è±¡<br> æ ¹æ®çŠ¶æ€ç åˆ¤æ–­å“åº”è¿›åº¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åŸç”ŸAJAXçš„å†™æ³•</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">success</span>(<span class="hljs-params">text</span>) &#123;<br>    <span class="hljs-keyword">var</span> textarea = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-response-text&#x27;</span>);<br>    textarea.<span class="hljs-property">value</span> = text;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fail</span>(<span class="hljs-params">code</span>) &#123;<br>    <span class="hljs-keyword">var</span> textarea = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-response-text&#x27;</span>);<br>    textarea.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;Error code: &#x27;</span> + code;<br>&#125;<br><br><span class="hljs-keyword">var</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>(); <span class="hljs-comment">// æ–°å»ºXMLHttpRequestå¯¹è±¡</span><br><br><span class="hljs-comment">// å®šä¹‰requestçš„å“åº”å›è°ƒå‡½æ•°</span><br>request.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‡½æ•°è¢«å›è°ƒ</span><br>    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) &#123; <span class="hljs-comment">// æˆåŠŸå®Œæˆ</span><br>        <span class="hljs-comment">// åˆ¤æ–­å“åº”ç»“æœ:</span><br>        <span class="hljs-keyword">if</span> (request.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) &#123;<br>            <span class="hljs-comment">// æˆåŠŸï¼Œé€šè¿‡responseTextæ‹¿åˆ°å“åº”çš„æ–‡æœ¬:</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">success</span>(request.<span class="hljs-property">responseText</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// å¤±è´¥ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­å¤±è´¥åŸå› :</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">fail</span>(request.<span class="hljs-property">status</span>);<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// HTTPè¯·æ±‚è¿˜åœ¨ç»§ç»­...</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// å‘é€è¯·æ±‚:</span><br>request.<span class="hljs-title function_">open</span>(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;/api/categories&#x27;</span>);<br>request.<span class="hljs-title function_">send</span>();<br><br><span class="hljs-comment">// XMLHttpRequestå¯¹è±¡çš„open()æ–¹æ³•æœ‰3ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šæ˜¯GETè¿˜æ˜¯POSTï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šURLåœ°å€ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šæ˜¯å¦ä½¿ç”¨å¼‚æ­¥ï¼Œé»˜è®¤æ˜¯trueï¼Œæ‰€ä»¥ä¸ç”¨å†™ã€‚</span><br><span class="hljs-comment">// æœ€åè°ƒç”¨send()æ–¹æ³•æ‰æ˜¯çœŸæ­£å‘é€è¯·æ±‚ã€‚</span><br><span class="hljs-comment">// GETè¯·æ±‚ä¸éœ€è¦å‚æ•°ï¼ŒPOSTè¯·æ±‚éœ€è¦æŠŠbodyéƒ¨åˆ†ä»¥å­—ç¬¦ä¸²æˆ–è€…FormDataå¯¹è±¡ä¼ è¿›å»ã€‚</span><br><br><span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;è¯·æ±‚å·²å‘é€ï¼Œè¯·ç­‰å¾…å“åº”...&#x27;</span>);<br><br><span class="hljs-comment">// ä½¿ç”¨Promiseçš„ç®€åŒ–å†™æ³•</span><br><span class="hljs-comment">// ajaxå‡½æ•°å°†è¿”å›Promiseå¯¹è±¡:</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-params">method, url, data</span>) &#123;<br>    <span class="hljs-keyword">var</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) &#123;<br>        request.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">if</span> (request.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) &#123;<br>                <span class="hljs-keyword">if</span> (request.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) &#123;<br>                    <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">responseText</span>);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">status</span>);<br>                &#125;<br>            &#125;<br>        &#125;;<br>        request.<span class="hljs-title function_">open</span>(method, url);<br>        request.<span class="hljs-title function_">send</span>(data);<br>    &#125;);<br>&#125;<br><br><span class="hljs-keyword">var</span> p = <span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;/api/categories&#x27;</span>);<br>p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">text</span>) &#123; <span class="hljs-comment">// å¦‚æœAJAXæˆåŠŸï¼Œè·å¾—å“åº”å†…å®¹</span><br>    log.<span class="hljs-property">innerText</span> = text;<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) &#123; <span class="hljs-comment">// å¦‚æœAJAXå¤±è´¥ï¼Œè·å¾—å“åº”ä»£ç </span><br>    log.<span class="hljs-property">innerText</span> = <span class="hljs-string">&#x27;ERROR: &#x27;</span> + status;<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="è·¨åŸŸè¯·æ±‚"><a href="#è·¨åŸŸè¯·æ±‚" class="headerlink" title="è·¨åŸŸè¯·æ±‚"></a>è·¨åŸŸè¯·æ±‚</h4><p>å¤§å¤šæ•°æµè§ˆå™¨åªå…è®¸åœ¨jsä¸­è¯·æ±‚åŸŸåã€åè®®ã€ç«¯å£ç›¸åŒçš„URLï¼›å› æ­¤å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚<br> è§£å†³æ–¹æ³•ï¼š<br> 1.ä½¿ç”¨flashæ’ä»¶å‘é€httpè¯·æ±‚ï¼›å¿…é¡»å®‰è£…flashï¼Œä¸è€ƒè™‘ã€‚<br> 2.åœ¨åŒæºåŸŸåä¸‹æ¶è®¾ä¸€ä¸ªä»£ç†æœåŠ¡å™¨æ¥è½¬å‘ï¼ŒJavaScriptè´Ÿè´£æŠŠè¯·æ±‚å‘é€åˆ°ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å†æŠŠç»“æœè¿”å›ï¼Œè¿™æ ·å°±éµå®ˆäº†æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚è¿™ç§æ–¹å¼éº»çƒ¦ä¹‹å¤„åœ¨äºéœ€è¦æœåŠ¡å™¨ç«¯é¢å¤–åšå¼€å‘ã€‚<br> 3.JSONPï¼Œä½†åªèƒ½ç”¨GETè¯·æ±‚ï¼Œå¹¶ä¸”è¦æ±‚è¿”å›JavaScriptã€‚è¿™ç§æ–¹å¼è·¨åŸŸå®é™…ä¸Šæ˜¯åˆ©ç”¨äº†æµè§ˆå™¨å…è®¸è·¨åŸŸå¼•ç”¨JavaScriptèµ„æºï¼›é€šå¸¸ä»¥å‡½æ•°è°ƒç”¨çš„å½¢å¼è¿”å›ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">ä»¥<span class="hljs-number">163</span>çš„è‚¡ç¥¨æŸ¥è¯¢<span class="hljs-variable constant_">URL</span>ä¸ºä¾‹ï¼Œå¯¹äº<span class="hljs-variable constant_">URL</span>ï¼š<span class="hljs-attr">http</span>:<span class="hljs-comment">//api.money.126.net/data/feed/0000001,1399001?callback=refreshPriceï¼Œä½ å°†å¾—åˆ°å¦‚ä¸‹è¿”å›(ä¸€ä¸ªå¸¦å‚çš„å‡½æ•°è°ƒç”¨)ï¼š</span><br><br><span class="hljs-title function_">refreshPrice</span>(&#123;<span class="hljs-string">&quot;0000001&quot;</span>:&#123;<span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;0000001&quot;</span>, ... &#125;);<br>å› æ­¤æˆ‘ä»¬éœ€è¦é¦–å…ˆåœ¨é¡µé¢ä¸­å‡†å¤‡å¥½å›è°ƒå‡½æ•°ï¼š<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">refreshPrice</span>(<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-keyword">var</span> p = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test-jsonp&#x27;</span>);<br>    p.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;å½“å‰ä»·æ ¼ï¼š&#x27;</span> +<br>        data[<span class="hljs-string">&#x27;0000001&#x27;</span>].<span class="hljs-property">name</span> +<span class="hljs-string">&#x27;: &#x27;</span> + <br>        data[<span class="hljs-string">&#x27;0000001&#x27;</span>].<span class="hljs-property">price</span> + <span class="hljs-string">&#x27;ï¼›&#x27;</span> +<br>        data[<span class="hljs-string">&#x27;1399001&#x27;</span>].<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;: &#x27;</span> +<br>        data[<span class="hljs-string">&#x27;1399001&#x27;</span>].<span class="hljs-property">price</span>;<br>&#125;<br><br>æœ€åç”¨<span class="hljs-title function_">getPrice</span>()å‡½æ•°è§¦å‘ï¼šé€šè¿‡æ–°å»ºscriptæ ‡ç­¾ï¼Œè®¿é—®<span class="hljs-variable constant_">API</span>ï¼Œè°ƒç”¨refreshPriceå‡½æ•°ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„refreshPriceæ¸²æŸ“æ–°æ•°æ®<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPrice</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> js = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>),<br>        head = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;head&#x27;</span>)[<span class="hljs-number">0</span>];<br>    js.<span class="hljs-property">src</span> = <span class="hljs-string">&#x27;http://api.money.126.net/data/feed/0000001,1399001?callback=refreshPrice&#x27;</span>;<br>    head.<span class="hljs-title function_">appendChild</span>(js);<br>&#125;<br></code></pre></td></tr></table></figure><p>4.CORS ï¼ˆCross-Origin Resource Sharingï¼‰æ˜¯HTML5è§„èŒƒå®šä¹‰çš„å¦‚ä½•è·¨åŸŸè®¿é—®èµ„æºã€‚<br> è·¨åŸŸèƒ½å¦æˆåŠŸï¼Œå–å†³äºå¯¹æ–¹æœåŠ¡å™¨æ˜¯å¦æ„¿æ„ç»™ä½ è®¾ç½®ä¸€ä¸ªæ­£ç¡®çš„Access-Control-Allow-Originï¼Œå†³å®šæƒå§‹ç»ˆåœ¨å¯¹æ–¹æ‰‹ä¸­ã€‚</p><h3 id="Promise-æ‰¿è¯ºå°†æ¥ä¼šæ‰§è¡Œ"><a href="#Promise-æ‰¿è¯ºå°†æ¥ä¼šæ‰§è¡Œ" class="headerlink" title="Promise æ‰¿è¯ºå°†æ¥ä¼šæ‰§è¡Œ"></a>Promise æ‰¿è¯ºå°†æ¥ä¼šæ‰§è¡Œ</h3><p>æ•ˆæœï¼š æŠŠåŸæœ¬çš„ä¸€ç§å›è°ƒç»†åˆ†ä¸ºä¸¤ç§å›è°ƒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å˜é‡p1æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå®ƒè´Ÿè´£æ‰§è¡Œtestå‡½æ•°ã€‚testå‡½æ•°åœ¨å†…éƒ¨æ˜¯å¼‚æ­¥æ‰§è¡Œçš„</span><br><span class="hljs-comment">// å½“testå‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæˆ‘ä»¬å‘Šè¯‰Promiseå¯¹è±¡,å¦‚æœæˆåŠŸï¼Œæ‰§è¡Œ.then()</span><br><span class="hljs-comment">// å½“testå‡½æ•°æ‰§è¡Œå¤±è´¥æ—¶ï¼Œæˆ‘ä»¬å‘Šè¯‰Promiseå¯¹è±¡ï¼Œå¦‚æœå¤±è´¥ï¼Œæ‰§è¡Œ.catch()</span><br><span class="hljs-comment">// é€šè¿‡testå‡½æ•°ä¸­çš„resolveä¸rejectæ¥åˆ¤æ–­å‡½æ•°æ‰§è¡ŒæˆåŠŸä¸å¤±è´¥  </span><br><br><br><span class="hljs-comment">// é“¾å¼ç®€å†™</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(test).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æˆåŠŸï¼š&#x27;</span> + result);<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">reason</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¤±è´¥ï¼š&#x27;</span> + reason);<br>&#125;);<br><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;start new Promise...&#x27;</span>);<br>    <span class="hljs-keyword">var</span> timeOut = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">2</span>;<br>    <span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;set timeout to: &#x27;</span> + timeOut + <span class="hljs-string">&#x27; seconds.&#x27;</span>);<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (timeOut &lt; <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;call resolve()...&#x27;</span>);<br>            <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;200 OK&#x27;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;call reject()...&#x27;</span>);<br>            <span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;timeout in &#x27;</span> + timeOut + <span class="hljs-string">&#x27; seconds.&#x27;</span>);<br>        &#125;<br>    &#125;, timeOut * <span class="hljs-number">1000</span>);<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">r</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Done: &#x27;</span> + r);<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">reason</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Failed: &#x27;</span> + reason);<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="Promiseä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡"><a href="#Promiseä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡" class="headerlink" title="Promiseä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡"></a>Promiseä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">job1.<span class="hljs-title function_">then</span>(job2).<span class="hljs-title function_">then</span>(job3).<span class="hljs-title function_">catch</span>(handleError);<br><br><span class="hljs-comment">// job1ã€2ã€3éƒ½æ˜¯Promiseå¯¹è±¡</span><br></code></pre></td></tr></table></figure><h4 id="Promise-å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥ä»»åŠ¡"><a href="#Promise-å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥ä»»åŠ¡" class="headerlink" title="Promise å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥ä»»åŠ¡"></a>Promise å¹¶è¡Œæ‰§è¡Œå¤šä¸ªå¼‚æ­¥ä»»åŠ¡</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">500</span>, <span class="hljs-string">&#x27;P1&#x27;</span>);<br>&#125;);<br><span class="hljs-keyword">var</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">600</span>, <span class="hljs-string">&#x27;P2&#x27;</span>);<br>&#125;);<br><br><br><span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡   Promise.all() ä»¥æ•°ç»„å½¢å¼è¿”å›æ•°æ®</span><br><span class="hljs-comment">// åŒæ—¶æ‰§è¡Œp1å’Œp2ï¼Œå¹¶åœ¨å®ƒä»¬éƒ½å®Œæˆåæ‰§è¡Œthen:</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">results</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(results); <span class="hljs-comment">// è·å¾—ä¸€ä¸ªArray: [&#x27;P1&#x27;, &#x27;P2&#x27;]</span><br>&#125;);<br><br><br><span class="hljs-comment">// å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ç«äº‰ ===&gt; ä¸ºäº†å®¹é”™ï¼Œåªéœ€è¦è·å¾—å…ˆè¿”å›çš„ç»“æœå³å¯ï¼›åå®Œæˆçš„ä»»åŠ¡ä»åœ¨æ‰§è¡Œï¼Œä½†æ‰§è¡Œç»“æœå°†è¢«ä¸¢å¼ƒ</span><br><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2]).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">result</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// &#x27;P1&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h3><p><code>jQuery === $</code>  &#x2F;&#x2F; æœ¬è´¨ä¸Šæ˜¯functionï¼Œè€Œfunctionä¹Ÿæ˜¯å¯¹è±¡ï¼Œäºæ˜¯$å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–å±æ€§ã€‚</p><p>ç»„åˆæŸ¥æ‰¾ï¼š <code>$(&#39;input[name=email]&#39;)</code><br> å¤šé¡¹é€‰æ‹©ï¼š <code>$(&#39;p.red,p.green&#39;); // æŠŠ&lt;p class=&quot;red&quot;&gt;å’Œ&lt;p class=&quot;green&quot;&gt;éƒ½é€‰å‡ºæ¥</code></p><h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>.<span class="hljs-title function_">next</span>()  <span class="hljs-comment">// å¯åŠ å‚æ•°ï¼Œä¹Ÿå¯ä¸åŠ </span><br>.<span class="hljs-title function_">prev</span>()  <span class="hljs-comment">// å¯åŠ å‚æ•°ï¼Œä¹Ÿå¯ä¸åŠ </span><br></code></pre></td></tr></table></figure><h4 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä»¥ä¸‹çš„[] æŒ‡è‹¥å¹²DOMèŠ‚ç‚¹</span><br>[].<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;&#x27;</span>)  <span class="hljs-comment">// è¿‡æ»¤æ‰ä¸ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„</span><br>[].<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123; <br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;S&#x27;</span>) === <span class="hljs-number">0</span><br>        &#125;)   <span class="hljs-comment">// ä»…ä¿ç•™Så¼€å¤´çš„èŠ‚ç‚¹</span><br>() =&gt; [].<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>;<br>&#125;).<span class="hljs-title function_">get</span>();   <span class="hljs-comment">// ç”¨get()æ‹¿åˆ°åŒ…å«stringçš„Array</span><br><br>[].<span class="hljs-title function_">first</span>()     <span class="hljs-comment">//è·å–è‹¥å¹²DOMèŠ‚ç‚¹çš„é¦–ä¸ªèŠ‚ç‚¹</span><br>[].<span class="hljs-title function_">last</span>()      <span class="hljs-comment">//è·å–è‹¥å¹²DOMèŠ‚ç‚¹çš„æœ«å°¾èŠ‚ç‚¹</span><br>[].<span class="hljs-title function_">slice</span>()     <span class="hljs-comment">//æˆªå–è‹¥å¹²DOMèŠ‚ç‚¹çš„è‹¥å¹²èŠ‚ç‚¹</span><br></code></pre></td></tr></table></figure><h4 id="ä¿®æ”¹DOM-ä¸-CSS-ä¸-æ·»åŠ ã€åˆ é™¤DOM"><a href="#ä¿®æ”¹DOM-ä¸-CSS-ä¸-æ·»åŠ ã€åˆ é™¤DOM" class="headerlink" title="ä¿®æ”¹DOM ä¸ CSS ä¸ æ·»åŠ ã€åˆ é™¤DOM"></a>ä¿®æ”¹DOM ä¸ CSS ä¸ æ·»åŠ ã€åˆ é™¤DOM</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è·å– </span><br>$().<span class="hljs-title function_">text</span>()<br>$().<span class="hljs-title function_">html</span>()<br><br><span class="hljs-comment">// ä¿®æ”¹</span><br>$().<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>$().<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><span class="hljs-comment">// ä¿®æ”¹css</span><br>$().<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;key&#x27;</span>,<span class="hljs-string">&#x27;value&#x27;</span>)<br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>); <span class="hljs-comment">// è·å–CSSå±æ€§</span><br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>, <span class="hljs-string">&#x27;#336699&#x27;</span>); <span class="hljs-comment">// è®¾ç½®CSSå±æ€§</span><br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>); <span class="hljs-comment">// æ¸…é™¤CSSå±æ€§</span><br>div.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// falseï¼Œ classæ˜¯å¦åŒ…å«highlight</span><br>div.<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// æ·»åŠ highlightè¿™ä¸ªclass</span><br>div.<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// åˆ é™¤highlightè¿™ä¸ªclass</span><br><br><span class="hljs-comment">// ä¿®æ”¹displayå±æ€§</span><br>a.<span class="hljs-title function_">hide</span>(); <span class="hljs-comment">// éšè—</span><br>a.<span class="hljs-title function_">show</span>(); <span class="hljs-comment">// æ˜¾ç¤º</span><br><br><span class="hljs-comment">// è·å–DOMä¿¡æ¯</span><br><span class="hljs-comment">// æµè§ˆå™¨å¯è§†çª—å£å¤§å°:</span><br>$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 800</span><br>$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 600</span><br><br><span class="hljs-comment">// HTMLæ–‡æ¡£å¤§å°:</span><br>$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 800</span><br>$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 3500</span><br><br><span class="hljs-comment">// æŸä¸ªdivçš„å¤§å°:</span><br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">width</span>(); <span class="hljs-comment">// 600</span><br>div.<span class="hljs-title function_">height</span>(); <span class="hljs-comment">// 300</span><br>div.<span class="hljs-title function_">width</span>(<span class="hljs-number">400</span>); <span class="hljs-comment">// è®¾ç½®CSSå±æ€§ width: 400pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br>div.<span class="hljs-title function_">height</span>(<span class="hljs-string">&#x27;200px&#x27;</span>); <span class="hljs-comment">// è®¾ç½®CSSå±æ€§ height: 200pxï¼Œæ˜¯å¦ç”Ÿæ•ˆè¦çœ‹CSSæ˜¯å¦æœ‰æ•ˆ</span><br><br><span class="hljs-comment">// å±æ€§æ“ä½œ</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>);    <span class="hljs-comment">// è®¾ç½®å±æ€§</span><br>div.<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&#x27;name&#x27;</span>);       <span class="hljs-comment">// ç§»é™¤å±æ€§</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>);             <span class="hljs-comment">// è·å–å±æ€§</span><br><br><span class="hljs-comment">// æ— å€¼å±æ€§ï¼Œä½¿ç”¨is()æ¥åˆ¤æ–­</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test-radio&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span> <span class="hljs-attr">checked</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span></span><br><span class="language-xml">var radio = $(&#x27;#test-radio&#x27;);</span><br><span class="language-xml">radio.is(&#x27;:checked&#x27;); // true</span><br><span class="language-xml"></span><br><span class="language-xml">// val()æ–¹æ³•è·å–å’Œè®¾ç½®å¯¹åº”çš„valueå±æ€§ï¼š</span><br><span class="language-xml">$().val()</span><br><span class="language-xml">$().val(&#x27;&#x27;)</span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml">// æ·»åŠ DOM</span><br><span class="language-xml">// è¦æ·»åŠ çš„DOMèŠ‚ç‚¹å·²ç»å­˜åœ¨äºHTMLæ–‡æ¡£ä¸­ï¼Œå®ƒä¼šé¦–å…ˆä»æ–‡æ¡£ç§»é™¤ï¼Œç„¶åå†æ·»åŠ ï¼Œç›¸å½“äºç§»åŠ¨èŠ‚ç‚¹</span><br><span class="language-xml">$().append();</span><br><span class="language-xml">$().after();</span><br><span class="language-xml">ã€åˆ é™¤DOM</span><br><span class="language-xml">$().remove(); //ç§»é™¤æœ¬èº«</span><br></code></pre></td></tr></table></figure><h3 id="jQueryäº‹ä»¶"><a href="#jQueryäº‹ä»¶" class="headerlink" title="jQueryäº‹ä»¶"></a>jQueryäº‹ä»¶</h3><h4 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h4><p>$().on(â€˜eventâ€™, fn)<br> $().on(â€˜clickâ€™, fn)  &#x3D;&#x3D;&#x3D; $().click(fn)</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx">é¼ æ ‡äº‹ä»¶<br><span class="hljs-attr">click</span>: é¼ æ ‡å•å‡»æ—¶è§¦å‘ï¼›<br>dblclickï¼šé¼ æ ‡åŒå‡»æ—¶è§¦å‘ï¼›<br>mouseenterï¼šé¼ æ ‡è¿›å…¥æ—¶è§¦å‘ï¼›<br>mouseleaveï¼šé¼ æ ‡ç§»å‡ºæ—¶è§¦å‘ï¼›<br>mousemoveï¼šé¼ æ ‡åœ¨<span class="hljs-variable constant_">DOM</span>å†…éƒ¨ç§»åŠ¨æ—¶è§¦å‘ï¼›<br>hoverï¼šé¼ æ ‡è¿›å…¥å’Œé€€å‡ºæ—¶è§¦å‘ä¸¤ä¸ªå‡½æ•°ï¼Œç›¸å½“äºmouseenteråŠ ä¸Šmouseleaveã€‚<br><br>é”®ç›˜äº‹ä»¶<br>é”®ç›˜äº‹ä»¶ä»…ä½œç”¨åœ¨å½“å‰ç„¦ç‚¹çš„<span class="hljs-variable constant_">DOM</span>ä¸Šï¼Œé€šå¸¸æ˜¯&lt;input&gt;å’Œ&lt;textarea&gt;ã€‚<br>keydownï¼šé”®ç›˜æŒ‰ä¸‹æ—¶è§¦å‘ï¼›<br>keyupï¼šé”®ç›˜æ¾å¼€æ—¶è§¦å‘ï¼›<br>keypressï¼šæŒ‰ä¸€æ¬¡é”®åè§¦å‘ã€‚<br><br>å…¶ä»–äº‹ä»¶<br>focusï¼šå½“<span class="hljs-variable constant_">DOM</span>è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼›<br>blurï¼šå½“<span class="hljs-variable constant_">DOM</span>å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼›<br>changeï¼šå½“&lt;input&gt;ã€&lt;select&gt;æˆ–&lt;textarea&gt;çš„å†…å®¹æ”¹å˜æ—¶è§¦å‘ï¼›<br>submitï¼šå½“&lt;form&gt;æäº¤æ—¶è§¦å‘ï¼›<br>readyï¼šå½“é¡µé¢è¢«è½½å…¥å¹¶ä¸”<span class="hljs-variable constant_">DOM</span>æ ‘å®Œæˆåˆå§‹åŒ–åè§¦å‘ã€‚ä»…ä½œç”¨äº<span class="hljs-variable language_">document</span>å¯¹è±¡<br>readyäº‹ä»¶çš„ä¸‰æ¬¡ç®€åŒ–ï¼š   <br><span class="hljs-string">`document.on(&#x27;ready&#x27;,fn)`</span> ===&gt;  <span class="hljs-string">`$(document).ready(fn)`</span> ===&gt; <span class="hljs-string">`$(function () &#123;&#125;)`</span><br>å¦‚æœä½ é‡åˆ°$(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;...&#125;)çš„å½¢å¼ï¼Œç‰¢è®°è¿™æ˜¯<span class="hljs-variable language_">document</span>å¯¹è±¡çš„readyäº‹ä»¶å¤„ç†å‡½æ•°ã€‚<br></code></pre></td></tr></table></figure><h4 id="å–æ¶ˆç»‘å®š"><a href="#å–æ¶ˆç»‘å®š" class="headerlink" title="å–æ¶ˆç»‘å®š"></a>å–æ¶ˆç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">$().<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;click&#x27;</span>, fn);  <span class="hljs-comment">// fnåªèƒ½ä¼ å…¥ç»‘å®šæ—¶çš„å‡½æ•°ï¼Œä¸å¯åŒ…å«å®šä¹‰</span><br><br><span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;click&#x27;</span>)           <span class="hljs-comment">// ä¸€æ¬¡æ€§ç§»é™¤å·²ç»‘å®šçš„clickäº‹ä»¶çš„æ‰€æœ‰å¤„ç†å‡½æ•°ã€‚</span><br><br><span class="hljs-comment">// æ— æ•ˆçš„è§£é™¤ç»‘å®šï¼Œå› æ­¤æ­¤å¤„çš„fnå¯¹åº”çš„æ˜¯ä¸€ä¸ªæ–°å‡½æ•°</span><br>a.<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;hello!&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="äº‹ä»¶è§¦å‘æ¡ä»¶"><a href="#äº‹ä»¶è§¦å‘æ¡ä»¶" class="headerlink" title="äº‹ä»¶è§¦å‘æ¡ä»¶"></a>äº‹ä»¶è§¦å‘æ¡ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç›‘æ§æ”¹åŠ¨</span><br>$().<span class="hljs-title function_">change</span>(fn)<br></code></pre></td></tr></table></figure><h3 id="jQuery-AJAX"><a href="#jQuery-AJAX" class="headerlink" title="jQuery AJAX"></a>jQuery AJAX</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> jqxhr = $.<span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;/api/categories&#x27;</span>, &#123;<br>    <span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span><br>&#125;);<br><span class="hljs-comment">// è¯·æ±‚å·²ç»å‘é€äº†</span><br></code></pre></td></tr></table></figure><p>ajaxçš„é“¾å¼è°ƒç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ajaxçš„é“¾å¼è°ƒç”¨</span><br><span class="hljs-keyword">var</span> jqxhr = $.<span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;/api/categories&#x27;</span>, &#123;<br>    <span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span><br>&#125;).<span class="hljs-title function_">done</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-comment">// è¯·æ±‚æˆåŠŸ</span><br>    <span class="hljs-title function_">ajaxLog</span>(<span class="hljs-string">&#x27;æˆåŠŸ, æ”¶åˆ°çš„æ•°æ®: &#x27;</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));<br>&#125;).<span class="hljs-title function_">fail</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">xhr, status</span>) &#123;<br>    <span class="hljs-comment">// è¯·æ±‚å¤±è´¥</span><br>    <span class="hljs-title function_">ajaxLog</span>(<span class="hljs-string">&#x27;å¤±è´¥: &#x27;</span> + xhr.<span class="hljs-property">status</span> + <span class="hljs-string">&#x27;, åŸå› : &#x27;</span> + status);<br>&#125;).<span class="hljs-title function_">always</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// å¿…ç„¶è°ƒç”¨</span><br>    <span class="hljs-title function_">ajaxLog</span>(<span class="hljs-string">&#x27;è¯·æ±‚å®Œæˆ: æ— è®ºæˆåŠŸæˆ–å¤±è´¥éƒ½ä¼šè°ƒç”¨&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¾…åŠ©æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// getæ–¹æ³•ï¼Œç›´æ¥ä¼ å‚ï¼›è·å–è¿”å›çš„json</span><br><span class="hljs-keyword">var</span> jqxhr = $.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/path/to/resource&#x27;</span>, &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob Lee&#x27;</span>,<br>    <span class="hljs-attr">check</span>: <span class="hljs-number">1</span><br>&#125;).<span class="hljs-title function_">done</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-comment">// dataå·²ç»è¢«è§£æä¸ºJSONå¯¹è±¡äº†</span><br>&#125;);<br><br><span class="hljs-comment">// postæ–¹æ³•ï¼Œæ•°æ®ä½œä¸ºbodyè¢«å‘é€</span><br><span class="hljs-keyword">var</span> jqxhr = $.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/path/to/resource&#x27;</span>, &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Bob Lee&#x27;</span>,<br>    <span class="hljs-attr">check</span>: <span class="hljs-number">1</span><br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="jQueryæ’ä»¶æ‰©å±•"><a href="#jQueryæ’ä»¶æ‰©å±•" class="headerlink" title="jQueryæ’ä»¶æ‰©å±•"></a>jQueryæ’ä»¶æ‰©å±•</h3><p>ç»™$.fnç»‘å®šå‡½æ•°ï¼Œå®ç°æ’ä»¶çš„ä»£ç é€»è¾‘ï¼›<br> æ’ä»¶å‡½æ•°æœ€åè¦return this;ä»¥æ”¯æŒé“¾å¼è°ƒç”¨ï¼›<br> æ’ä»¶å‡½æ•°è¦æœ‰é»˜è®¤å€¼ï¼Œç»‘å®šåœ¨$.fn.<pluginName>.defaultsä¸Šï¼›<br> ç”¨æˆ·åœ¨è°ƒç”¨æ—¶å¯ä¼ å…¥è®¾å®šå€¼ä»¥ä¾¿è¦†ç›–é»˜è®¤å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç»™jQueryå¯¹è±¡ç»‘å®šä¸€ä¸ªæ–°æ–¹æ³•æ˜¯é€šè¿‡æ‰©å±•$.fnå¯¹è±¡å®ç°çš„ã€‚</span><br>$.fn.<span class="hljs-property">highlight</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">options</span>) &#123;<br>    <span class="hljs-comment">// åˆå¹¶é»˜è®¤å€¼å’Œç”¨æˆ·è®¾å®šå€¼:</span><br>    <span class="hljs-comment">// ä½¿ç”¨jQueryæä¾›çš„è¾…åŠ©æ–¹æ³•$.extend(target, obj1, obj2, ...)ï¼Œå®ƒæŠŠå¤šä¸ªobjectå¯¹è±¡çš„å±æ€§åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªtargetå¯¹è±¡ä¸­ï¼Œé‡åˆ°åŒåå±æ€§ï¼Œæ€»æ˜¯ä½¿ç”¨é åçš„å¯¹è±¡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¶Šå¾€åä¼˜å…ˆçº§è¶Šé«˜ï¼š</span><br>    <span class="hljs-keyword">var</span> opts = $.<span class="hljs-title function_">extend</span>(&#123;&#125;, $.fn.<span class="hljs-property">highlight</span>.<span class="hljs-property">defaults</span>, options);<br>    <span class="hljs-comment">// å‡½æ•°å†…éƒ¨çš„thisåœ¨è°ƒç”¨æ—¶è¢«ç»‘å®šä¸ºjQueryå¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°å†…éƒ¨ä»£ç å¯ä»¥æ­£å¸¸è°ƒç”¨æ‰€æœ‰jQueryå¯¹è±¡çš„æ–¹æ³•ã€‚</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;backgroundColor&#x27;</span>, opts.<span class="hljs-property">backgroundColor</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>, opts.<span class="hljs-property">color</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;<br>    <span class="hljs-comment">// æ·»åŠ æ·»åŠ return thisï¼Œæ˜¯å› ä¸ºjQueryå¯¹è±¡æ”¯æŒé“¾å¼æ“ä½œï¼Œæˆ‘ä»¬è‡ªå·±å†™çš„æ‰©å±•æ–¹æ³•ä¹Ÿè¦èƒ½ç»§ç»­é“¾å¼ä¸‹å»ï¼š</span><br>&#125;<br><br><span class="hljs-comment">// è®¾å®šé»˜è®¤å€¼: æŠŠé»˜è®¤å€¼æ”¾åœ¨è¿™ä¸ªå‡½æ•°å¯¹è±¡å½“ä¸­ï¼Œå…è®¸ç”¨æˆ·ä¿®æ”¹ï¼Œè€Œä¸”æ¯”è¾ƒåˆé€‚</span><br>$.fn.<span class="hljs-property">highlight</span>.<span class="hljs-property">defaults</span> = &#123;<br>    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;#d85030&#x27;</span>,<br>    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;#fff8de&#x27;</span><br>&#125;<br><br><span class="hljs-comment">// ç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œä¸€æ¬¡æ€§è®¾å®šé»˜è®¤å€¼ï¼›</span><br>$.fn.<span class="hljs-property">highlight</span>.<span class="hljs-property">defaults</span>.<span class="hljs-property">color</span> = <span class="hljs-string">&#x27;#fff&#x27;</span>;<br>$.fn.<span class="hljs-property">highlight</span>.<span class="hljs-property">defaults</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">&#x27;#000&#x27;</span>;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç‰¹å®šå…ƒç´ æ‰©å±•</span><br><span class="hljs-comment">// ç¤ºä¾‹ï¼šç»™æ‰€æœ‰æŒ‡å‘å¤–é“¾çš„è¶…é“¾æ¥åŠ ä¸Šè·³è½¬æç¤º</span><br>$.fn.<span class="hljs-property">external</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// returnè¿”å›çš„each()è¿”å›ç»“æœï¼Œæ”¯æŒé“¾å¼è°ƒç”¨:</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;a&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// æ³¨æ„: each()å†…éƒ¨çš„å›è°ƒå‡½æ•°çš„thisç»‘å®šä¸ºDOMæœ¬èº«!</span><br>        <span class="hljs-keyword">var</span> a = $(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-keyword">var</span> url = a.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>);<br>        <span class="hljs-keyword">if</span> (url &amp;&amp; (url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;http://&#x27;</span>)===<span class="hljs-number">0</span> || url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;https://&#x27;</span>)===<span class="hljs-number">0</span>)) &#123;<br>            a.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&#x27;#0&#x27;</span>)<br>             .<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&#x27;target&#x27;</span>)<br>             .<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27; &lt;i class=&quot;uk-icon-external-link&quot;&gt;&lt;/i&gt;&#x27;</span>)<br>             .<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-title function_">confirm</span>(<span class="hljs-string">&#x27;ä½ ç¡®å®šè¦å‰å¾€&#x27;</span> + url + <span class="hljs-string">&#x27;ï¼Ÿ&#x27;</span>)) &#123;<br>                    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(url);<br>                &#125;<br>            &#125;);<br>        &#125;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><h4 id="æ•è·ã€å¤„ç†é”™è¯¯"><a href="#æ•è·ã€å¤„ç†é”™è¯¯" class="headerlink" title="æ•è·ã€å¤„ç†é”™è¯¯"></a>æ•è·ã€å¤„ç†é”™è¯¯</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">try</span> &#123;<br><br>&#125; <span class="hljs-keyword">catch</span> (e) &#123;<br><br>&#125; <span class="hljs-keyword">finally</span> &#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><p>try{}åŒ…è£¹çš„ä»£ç ï¼Œåœ¨æ‰§è¡Œä¸­å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œä¸€æ—¦å‡ºé”™ï¼Œä¸å†æ‰§è¡Œåç»­ï¼›è·³è½¬åˆ°catchå—è¿›è¡Œé”™è¯¯å¤„ç†ï¼›æœ€åæ— è®ºæœ‰æ— é”™è¯¯ï¼Œfinallyéƒ½æ‰§è¡Œã€‚catchä¸finallyå¯ä»¥åªå‡ºç°ä¸€ä¸ªã€‚</p><h4 id="ä¸»åŠ¨æŠ›å‡ºé”™è¯¯"><a href="#ä¸»åŠ¨æŠ›å‡ºé”™è¯¯" class="headerlink" title="ä¸»åŠ¨æŠ›å‡ºé”™è¯¯"></a>ä¸»åŠ¨æŠ›å‡ºé”™è¯¯</h4><p>å…è®¸æŠ›å‡ºä»»æ„å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€‚ä½†æ˜¯ï¼Œæœ€å¥½è¿˜æ˜¯æŠ›å‡ºä¸€ä¸ªErrorå¯¹è±¡ã€‚<br> <code>throw new Error(&#39;&#39;);</code><br> é”™è¯¯ä¼šä¸€ç›´å‘ä¸ŠæŠ›ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªæœ‰try-catchè¯­å¥çš„å‡½æ•°ï¼›</p><h3 id="underscoreç¬¬ä¸‰æ–¹åº“ï¼Œæä¾›å¯¹Objectçš„æ–¹æ³•æ”¯æŒ"><a href="#underscoreç¬¬ä¸‰æ–¹åº“ï¼Œæä¾›å¯¹Objectçš„æ–¹æ³•æ”¯æŒ" class="headerlink" title="underscoreç¬¬ä¸‰æ–¹åº“ï¼Œæä¾›å¯¹Objectçš„æ–¹æ³•æ”¯æŒ"></a>underscoreç¬¬ä¸‰æ–¹åº“ï¼Œæä¾›å¯¹Objectçš„æ–¹æ³•æ”¯æŒ</h3><p>ä½¿ç”¨â€œ_â€ç»‘å®šå…¨å±€å˜é‡ï¼›ç±»ä¼¼äºjQueryçš„â€œ$â€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">_.<span class="hljs-title function_">map</span>(obj, fn)        <span class="hljs-comment">// è¿”å›Array</span><br>_.<span class="hljs-title function_">mapObject</span>(obj, fn)  <span class="hljs-comment">// è¿”å›Obejct</span><br><br><span class="hljs-comment">// some ä¸ every   ç±»ä¼¼äºfilterçš„ç­›é€‰åŠŸèƒ½</span><br>_.<span class="hljs-title function_">some</span>(obj, fn)      <span class="hljs-comment">// objä¸­çš„è‡³å°‘ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œæœ‰ä¸€ä¸ªfnè¿”å›trueï¼Œ_.some()å°±è¿”å›true</span><br>_.<span class="hljs-title function_">every</span>(obj, fn)     <span class="hljs-comment">// å¯¹æ¯ä¸€ä¸ªobjçš„æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œå³æ¯ä¸€ä¸ªfnéƒ½è¿”å›trueï¼Œ_.every()æ‰è¿”å›true</span><br></code></pre></td></tr></table></figure><h4 id="åˆ†ç»„-groupBy-obj-fn"><a href="#åˆ†ç»„-groupBy-obj-fn" class="headerlink" title="åˆ†ç»„ _.groupBy(obj, fn)"></a>åˆ†ç»„ _.groupBy(obj, fn)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> scores = [<span class="hljs-number">20</span>, <span class="hljs-number">81</span>, <span class="hljs-number">75</span>, <span class="hljs-number">40</span>, <span class="hljs-number">91</span>, <span class="hljs-number">59</span>, <span class="hljs-number">77</span>, <span class="hljs-number">66</span>, <span class="hljs-number">72</span>, <span class="hljs-number">88</span>, <span class="hljs-number">99</span>];<br><span class="hljs-keyword">var</span> groups = _.<span class="hljs-title function_">groupBy</span>(scores, <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">60</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;C&#x27;</span>;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">80</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;B&#x27;</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;A&#x27;</span>;<br>    &#125;<br>&#125;);<br><br><span class="hljs-comment">// ç»“æœ:</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//   A: [81, 91, 88, 99],</span><br><span class="hljs-comment">//   B: [75, 77, 66, 72],</span><br><span class="hljs-comment">//   C: [20, 40, 59]</span><br><span class="hljs-comment">// &#125;</span><br></code></pre></td></tr></table></figure><h4 id="æ‰“ä¹±shuffleä¸éšæœºå–sample"><a href="#æ‰“ä¹±shuffleä¸éšæœºå–sample" class="headerlink" title="æ‰“ä¹±shuffleä¸éšæœºå–sample"></a>æ‰“ä¹±shuffleä¸éšæœºå–sample</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">_.<span class="hljs-title function_">shuffle</span>(obj)<br>_.<span class="hljs-title function_">shuffle</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]); <span class="hljs-comment">// [3, 5, 4, 6, 2, 1]</span><br><br>_.<span class="hljs-title function_">sample</span>(obj)<br><span class="hljs-comment">// éšæœºé€‰1ä¸ªï¼š</span><br>_.<span class="hljs-title function_">sample</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]); <span class="hljs-comment">// 2</span><br><span class="hljs-comment">// éšæœºé€‰3ä¸ªï¼š</span><br>_.<span class="hljs-title function_">sample</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], <span class="hljs-number">3</span>); <span class="hljs-comment">// [6, 1, 4]</span><br></code></pre></td></tr></table></figure><h4 id="Arrayå·¥å…·ç±»"><a href="#Arrayå·¥å…·ç±»" class="headerlink" title="Arrayå·¥å…·ç±»"></a>Arrayå·¥å…·ç±»</h4><ul><li>_.first(arr)              &#x2F;&#x2F;  å–é¦–</li><li>_.last(arr)               &#x2F;&#x2F;  å–å°¾</li><li>_.flatten(array)          &#x2F;&#x2F; å¤šå±‚åµŒå¥—æ•°ç»„ &#x3D;&#x3D;&#x3D;&gt; ä¸€ç»´æ•°ç»„</li><li>_.range(start, end, step) &#x2F;&#x2F; å¿«é€Ÿç”Ÿæˆåºåˆ—ï¼Œstarté»˜è®¤0ï¼Œstepé»˜è®¤1</li></ul><p>zipä¸unzipä¸Object</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// zip ä¸€ä¸€å¯¹åº”ï¼Œåˆå¹¶</span><br><span class="hljs-keyword">var</span> names = [<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-string">&#x27;Lisa&#x27;</span>, <span class="hljs-string">&#x27;Bart&#x27;</span>];<br><span class="hljs-keyword">var</span> scores = [<span class="hljs-number">85</span>, <span class="hljs-number">92</span>, <span class="hljs-number">59</span>];<br>_.<span class="hljs-title function_">zip</span>(names, scores);<br><span class="hljs-comment">// [[&#x27;Adam&#x27;, 85], [&#x27;Lisa&#x27;, 92], [&#x27;Bart&#x27;, 59]]</span><br><br><br><span class="hljs-comment">// unzip ä¸€ä¸€æ‹†è§£</span><br><span class="hljs-keyword">var</span> namesAndScores = [[<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-number">85</span>], [<span class="hljs-string">&#x27;Lisa&#x27;</span>, <span class="hljs-number">92</span>], [<span class="hljs-string">&#x27;Bart&#x27;</span>, <span class="hljs-number">59</span>]];<br>_.<span class="hljs-title function_">unzip</span>(namesAndScores);<br><span class="hljs-comment">// [[&#x27;Adam&#x27;, &#x27;Lisa&#x27;, &#x27;Bart&#x27;], [85, 92, 59]]</span><br><br><br><span class="hljs-comment">// ä¸€ä¸€å¯¹åº”ï¼Œåˆå¹¶ä¸ºå¯¹è±¡</span><br><span class="hljs-keyword">var</span> names = [<span class="hljs-string">&#x27;Adam&#x27;</span>, <span class="hljs-string">&#x27;Lisa&#x27;</span>, <span class="hljs-string">&#x27;Bart&#x27;</span>];<br><span class="hljs-keyword">var</span> scores = [<span class="hljs-number">85</span>, <span class="hljs-number">92</span>, <span class="hljs-number">59</span>];<br>_.<span class="hljs-title function_">object</span>(names, scores);<br><span class="hljs-comment">// &#123;Adam: 85, Lisa: 92, Bart: 59&#125;</span><br></code></pre></td></tr></table></figure><h3 id="é«˜é˜¶å‡½æ•°-1"><a href="#é«˜é˜¶å‡½æ•°-1" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">- _.<span class="hljs-title function_">bind</span>(fn, newThis)   <span class="hljs-comment">// è·å–æ–¹æ³•ï¼Œä¼ å…¥åŸæ¥æ–¹æ³•çš„thisæ‰èƒ½ä¿è¯æ–¹æ³•è¢«è·å–åæˆåŠŸè°ƒç”¨</span><br>- _.<span class="hljs-title function_">partial</span>(fn, constParam)        <span class="hljs-comment">// ä¸ºä¸€ä¸ªå‡½æ•°åˆ›å»ºåå‡½æ•°ï¼Œä¸ºfnå›ºå®šç¬¬ä¸€ä¸ªå‚æ•°</span><br>- _.<span class="hljs-title function_">partial</span>(fn, _, constParam)     <span class="hljs-comment">// ä¸ºä¸€ä¸ªå‡½æ•°åˆ›å»ºåå‡½æ•°ï¼Œ_å ä½ï¼Œä¸ºfnå›ºå®šç¬¬äºŒä¸ªå‚æ•°</span><br><br>- _.<span class="hljs-title function_">memoize</span>(fn)  <span class="hljs-comment">// ç¼“å­˜æŸä¸ªå‡½æ•°åœ¨æŸä¸ªå‚æ•°ä¸‹çš„è®¡ç®—ç»“æœ</span><br>- _.<span class="hljs-title function_">once</span>(fn)     <span class="hljs-comment">// è¿”å›ä¸€ä¸ªåªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡çš„å‡½æ•°</span><br>- _.<span class="hljs-title function_">delay</span>(fn, time, param)  <span class="hljs-comment">// åŒsetTimeOut</span><br></code></pre></td></tr></table></figure><h3 id="Object-å·¥å…·ç±»"><a href="#Object-å·¥å…·ç±»" class="headerlink" title="Object å·¥å…·ç±»"></a>Object å·¥å…·ç±»</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php">_.<span class="hljs-title function_ invoke__">keys</span>(obj)     <span class="hljs-comment">// è¿”å›ä¸€ä¸ªobjectè‡ªèº«æ‰€æœ‰çš„keyï¼Œä½†ä¸åŒ…å«ä»åŸå‹é“¾ç»§æ‰¿ä¸‹æ¥çš„</span><br>_.<span class="hljs-title function_ invoke__">allKeys</span>(obj)  <span class="hljs-comment">// allKeys()é™¤äº†objectè‡ªèº«çš„keyï¼Œè¿˜åŒ…å«ä»åŸå‹é“¾ç»§æ‰¿ä¸‹æ¥çš„ï¼š</span><br>_.<span class="hljs-title function_ invoke__">values</span>(obj)   <span class="hljs-comment">// è¿”å›objectè‡ªèº«ä½†ä¸åŒ…å«åŸå‹é“¾ç»§æ‰¿çš„æ‰€æœ‰å€¼</span><br>_.<span class="hljs-title function_ invoke__">invert</span>(obj)   <span class="hljs-comment">// æŠŠobjectçš„æ¯ä¸ªkey-valueæ¥ä¸ªäº¤æ¢ï¼Œkeyå˜æˆvalueï¼Œvalueå˜æˆkey</span><br>_.<span class="hljs-title function_ invoke__">extend</span>(obj,obj,obj)  <span class="hljs-comment">//æŠŠå¤šä¸ªobjectçš„key-valueåˆå¹¶åˆ°ç¬¬ä¸€ä¸ªobjectå¹¶è¿”å›</span><br>_.<span class="hljs-title function_ invoke__">extendOwn</span>()    <span class="hljs-comment">// å’Œextend()ç±»ä¼¼ï¼Œä½†è·å–å±æ€§æ—¶å¿½ç•¥ä»åŸå‹é“¾ç»§æ‰¿ä¸‹æ¥çš„å±æ€§</span><br>_.<span class="hljs-keyword">clone</span>()        <span class="hljs-comment">// å¤åˆ¶objï¼Œå°±ä¸éœ€è¦éå†æ¯ä¸ªkeyäº†</span><br>_.<span class="hljs-title function_ invoke__">isEqual</span>()      <span class="hljs-comment">// å†…å®¹å±‚é¢çš„æ·±åº¦æ¯”è¾ƒ</span><br></code></pre></td></tr></table></figure><h3 id="åƒjQueryä¸€æ ·é“¾å¼è°ƒç”¨-chain"><a href="#åƒjQueryä¸€æ ·é“¾å¼è°ƒç”¨-chain" class="headerlink" title="åƒjQueryä¸€æ ·é“¾å¼è°ƒç”¨  .chain()"></a>åƒjQueryä¸€æ ·é“¾å¼è°ƒç”¨  .chain()</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// éé“¾å¼è°ƒç”¨</span><br>_.<span class="hljs-title function_">filter</span>(_.<span class="hljs-title function_">map</span>([<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>], <span class="hljs-title class_">Math</span>.<span class="hljs-property">sqrt</span>), <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>);   <span class="hljs-comment">// [1, 3, 5]</span><br><br><br><span class="hljs-comment">// é€šè¿‡_.chain()å®ç°é“¾å¼è°ƒç”¨</span><br>_.<span class="hljs-title function_">chain</span>([<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>])<br> .<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">sqrt</span>)<br> .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>)<br> .<span class="hljs-title function_">value</span>();                 <span class="hljs-comment">// [1, 3, 5]</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>basics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSS flexå¸ƒå±€</title>
    <link href="/blog/2021/12/14/css-flex/"/>
    <url>/blog/2021/12/14/css-flex/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯å¸ƒå±€ä¹‹Flexå¸ƒå±€"><a href="#å‰ç«¯å¸ƒå±€ä¹‹Flexå¸ƒå±€" class="headerlink" title="å‰ç«¯å¸ƒå±€ä¹‹Flexå¸ƒå±€"></a>å‰ç«¯å¸ƒå±€ä¹‹Flexå¸ƒå±€</h1><h4 id="1-å†…å®¹æ°´å¹³æ’åˆ—-å·¦å¯¹é½"><a href="#1-å†…å®¹æ°´å¹³æ’åˆ—-å·¦å¯¹é½" class="headerlink" title="1.å†…å®¹æ°´å¹³æ’åˆ—-å·¦å¯¹é½"></a>1.å†…å®¹æ°´å¹³æ’åˆ—-å·¦å¯¹é½</h4><p>éœ€è¦åœ¨çˆ¶èŠ‚ç‚¹ä¸Šæ·»åŠ ï¼šdisplay:flex;è¡¨ç¤ºä½¿ç”¨Flexå¸ƒå±€ã€‚</p><p>flex-direction:row; &#x2F;* è¡¨ç¤ºå†…å®¹ç›´æ¥æ¨ªæ’åˆ— *&#x2F;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>:flex;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">             <span class="hljs-comment">/* é»˜è®¤çš„ä¸»è½´æ˜¯ x è½´ è¡Œ row  é‚£ä¹ˆyè½´å°±æ˜¯ä¾§è½´å–½ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* æˆ‘ä»¬çš„å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„ */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>:row; <span class="hljs-comment">/* è¡¨ç¤ºå†…å®¹ç›´æ¥æ¨ªæ’åˆ— */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-å†…å®¹æ¨ªæ’åˆ—-åè½¬å³å¯¹é½"><a href="#2-å†…å®¹æ¨ªæ’åˆ—-åè½¬å³å¯¹é½" class="headerlink" title="2.å†…å®¹æ¨ªæ’åˆ—-åè½¬å³å¯¹é½"></a>2.å†…å®¹æ¨ªæ’åˆ—-åè½¬å³å¯¹é½</h4><p>flex-direction:row-reverse</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>:flex;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">             <span class="hljs-comment">/* é»˜è®¤çš„ä¸»è½´æ˜¯ x è½´ è¡Œ row  é‚£ä¹ˆyè½´å°±æ˜¯ä¾§è½´å–½ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* æˆ‘ä»¬çš„å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„ */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>:row-reverse; <span class="hljs-comment">/* è¡¨ç¤ºå†…å®¹ç›´æ¥æ¨ªæ’åˆ— */</span></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-å‚ç›´æ’åˆ—"><a href="#3-å‚ç›´æ’åˆ—" class="headerlink" title="3.å‚ç›´æ’åˆ—"></a><strong>3.å‚ç›´æ’åˆ—</strong></h4><p>flex-direction: column;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>:flex;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">             <span class="hljs-comment">/* é»˜è®¤çš„ä¸»è½´æ˜¯ x è½´ è¡Œ row  é‚£ä¹ˆyè½´å°±æ˜¯ä¾§è½´å–½ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* æˆ‘ä»¬çš„å…ƒç´ æ˜¯è·Ÿç€ä¸»è½´æ¥æ’åˆ—çš„ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* flex-direction:row; è¡¨ç¤ºå†…å®¹ç›´æ¥æ¨ªæ’åˆ— */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>: column;</span><br><span class="language-css"></span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-å±…ä¸­å¯¹é½"><a href="#4-å±…ä¸­å¯¹é½" class="headerlink" title="4.å±…ä¸­å¯¹é½"></a><strong>4.å±…ä¸­å¯¹é½</strong></h4><p>justify-content:center</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">                <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">            <span class="hljs-comment">/* é»˜è®¤çš„ä¸»è½´æ˜¯ x è½´ row */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>: row;</span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: æ˜¯è®¾ç½®ä¸»è½´ä¸Šå­å…ƒç´ çš„æ’åˆ—æ–¹å¼ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: flex-start; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: flex-end; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* è®©æˆ‘ä»¬å­å…ƒç´ å±…ä¸­å¯¹é½ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: center; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* å¹³åˆ†å‰©ä½™ç©ºé—´ */</span></span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: space-around; */</span></span><br><span class="language-css">            <span class="hljs-comment">/* å…ˆä¸¤è¾¹è´´è¾¹ï¼Œ åœ¨åˆ†é…å‰©ä½™çš„ç©ºé—´ */</span></span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>:center</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="5-å‚ç›´å‡åˆ†"><a href="#5-å‚ç›´å‡åˆ†" class="headerlink" title="5.å‚ç›´å‡åˆ†"></a><strong>5.å‚ç›´å‡åˆ†</strong></h4><p>&#x2F;* æˆ‘ä»¬ç°åœ¨çš„ä¸»è½´æ˜¯yè½´ *&#x2F;</p><p>flex-direction: column;</p><p>&#x2F;* justify-content: center; *&#x2F;</p><p>justify-content: space-between;</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;ie=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: pink;</span><br><span class="language-css">            <span class="hljs-comment">/* æˆ‘ä»¬ç°åœ¨çš„ä¸»è½´æ˜¯yè½´ */</span></span><br><span class="language-css">            <span class="hljs-attribute">flex-direction</span>: column;</span><br><span class="language-css">            <span class="hljs-comment">/* justify-content: center; */</span></span><br><span class="language-css">            <span class="hljs-attribute">justify-content</span>: space-between;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">150px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>flex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptåŸå‹å’ŒåŸå‹é“¾åŸç†</title>
    <link href="/blog/2021/12/14/js-prototype/"/>
    <url>/blog/2021/12/14/js-prototype/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸå‹å’ŒåŸå‹é“¾åŸç†"><a href="#åŸå‹å’ŒåŸå‹é“¾åŸç†" class="headerlink" title="åŸå‹å’ŒåŸå‹é“¾åŸç†"></a>åŸå‹å’ŒåŸå‹é“¾åŸç†</h1><p>1ã€ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿ</p><p>2ã€ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ</p><p>3ã€prototypeä¸__proto__æœ‰ä»€ä¹ˆä¸åŒï¼Œæœ‰ä»€ä¹ˆè”ç³»ï¼Ÿ</p><p>4ã€constructorä¸é¢ä¸¤ä¸ªæœ‰ä»€ä¹ˆè”ç³»ï¼Œæ€ä¹ˆç”¨ï¼Ÿ</p><p>å¦‚æœä½ æŠŠä¸Šé¢è¿™å››ä¸ªé—®é¢˜éƒ½è§£å†³äº†ï¼Œé‚£ä½ å°±çœŸæ­£äº†è§£äº†JSçš„åŸå‹å’ŒåŸå‹é“¾ã€‚æ¥ä¸‹æ¥ï¼Œå’±ä»¬ä¸€ä¸ªä¸€ä¸ªé—®é¢˜å»è§£å†³ã€‚</p><h4 id=""><a href="#" class="headerlink" title="&lt;ä»€ä¹ˆæ˜¯åŸå‹&gt;"></a>&lt;ä»€ä¹ˆæ˜¯åŸå‹&gt;</h4><p>JavaScript ä¸­ï¼Œä¸‡ç‰©çš†å¯¹è±¡ï¼ä½†å¯¹è±¡ä¹Ÿæ˜¯æœ‰åŒºåˆ«çš„ã€‚åˆ†ä¸ºæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ï¼ŒObject ï¼ŒFunction æ˜¯JSè‡ªå¸¦çš„å‡½æ•°å¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰åŸå‹ï¼ˆnullå’Œundefinedé™¤å¤–ï¼‰ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå¯¹è±¡çš„é»˜è®¤å±æ€§å’Œæ–¹æ³•ã€‚</p><p>ä½ å¯ä»¥æŠŠä¸‹é¢çš„ä»£ç åœ¨æµè§ˆå™¨æ‰“å°å‡ºæ¥çœ‹ä¸€ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//Object&#123;&#125;</span><br><span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <span class="hljs-comment">//undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//[Symbol(Symbol.unscopables): Object]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//function()&#123;&#125;</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br>&#125;<br>hello.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-string">&quot;hello world&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hello.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//hello world</span><br></code></pre></td></tr></table></figure><p>**Objectï¼š**Objectæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼ŒObjectçš„åŸå‹å°±æ˜¯ä¸€ä¸ªObjectå¯¹è±¡ï¼Œå®ƒé‡Œé¢å­˜åœ¨ç€ä¸€äº›å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œä¾‹å¦‚æœ€å¸¸è§çš„toStringæ–¹æ³•ã€‚</p><p>**æ–°å»ºå¯¹è±¡ï¼š**ç”¨new Objectæˆ–è€…{}å»ºçš„å¯¹è±¡æ˜¯æ™®é€šå¯¹è±¡ï¼Œå®ƒæ²¡æœ‰prototypeå±æ€§ï¼Œåªæœ‰__proto__å±æ€§ï¼Œå®ƒæŒ‡å‘Object.prototypeã€‚</p><p>**Arrayï¼š**Arrayä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå®ƒçš„åŸå‹å°±æ˜¯Array.prototypeï¼Œå®ƒé‡Œé¢å­˜åœ¨ç€ä¸€äº›æ•°ç»„çš„æ–¹æ³•å’Œå±æ€§ï¼Œä¾‹å¦‚å¸¸è§çš„pushï¼Œpopç­‰æ–¹æ³•ã€‚</p><p>**Functionï¼š**Functionä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œä½†å®ƒæœ‰ç‚¹ç‰¹æ®Šï¼Œå®ƒçš„åŸå‹å°±æ˜¯ä¸€ä¸ªfunctionç©ºå‡½æ•°ã€‚</p><p>**è‡ªå®šä¹‰å‡½æ•°ï¼š**å®ƒçš„åŸå‹å°±æ˜¯ä½ ç»™å®ƒæŒ‡å®šçš„é‚£ä¸ªä¸œè¥¿ã€‚å¦‚æœä½ ä¸æŒ‡å®šï¼Œé‚£å®ƒçš„åŸå‹å°±æ˜¯ä¸€ä¸ªObject.prototypeã€‚</p><h4 id="-1"><a href="#-1" class="headerlink" title="&lt;ä»€ä¹ˆæ˜¯åŸå‹é“¾&gt;"></a>&lt;ä»€ä¹ˆæ˜¯åŸå‹é“¾&gt;</h4><p>åœ¨JavaScript ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘å®ƒçš„åŸå‹ï¼ˆprototypeï¼‰å¯¹è±¡çš„å†…éƒ¨é“¾æ¥ã€‚è¿™ä¸ªåŸå‹å¯¹è±¡åˆæœ‰è‡ªå·±çš„åŸå‹ï¼Œç›´åˆ°æŸä¸ªå¯¹è±¡çš„åŸå‹ä¸º null ä¸ºæ­¢ï¼ˆä¹Ÿå°±æ˜¯ä¸å†æœ‰åŸå‹æŒ‡å‘ï¼‰ï¼Œç»„æˆè¿™æ¡é“¾çš„æœ€åä¸€ç¯ã€‚è¿™ç§ä¸€çº§ä¸€çº§çš„é“¾ç»“æ„å°±ç§°ä¸º<strong>åŸå‹é“¾ï¼ˆprototype chainï¼‰</strong>ã€‚</p><p>JavaScript å¯¹è±¡æ˜¯åŠ¨æ€çš„å±æ€§â€œåŒ…â€ï¼ˆæŒ‡å…¶è‡ªå·±çš„å±æ€§ï¼‰ã€‚JavaScript å¯¹è±¡æœ‰ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªåŸå‹å¯¹è±¡çš„é“¾ã€‚å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠè¯¥å¯¹è±¡çš„åŸå‹çš„åŸå‹ï¼Œä¾æ­¤å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«å°¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> o = &#123;<br><span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br><span class="hljs-attr">b</span>:<span class="hljs-number">2</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-title function_">toString</span>()); <br><span class="hljs-comment">//ä¸æŠ¥é”™ï¼Œoä¸Šæ²¡æœ‰toStringæ–¹æ³•ï¼Œä½†æ˜¯Objectä¸Šæœ‰</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;c&quot;</span>)); <br><span class="hljs-comment">//æŠ¥é”™ï¼Œoä¸Šæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼ŒObjectä¸Šä¹Ÿæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property">a</span>); <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property">c</span>); <span class="hljs-comment">//undefined</span><br></code></pre></td></tr></table></figure><p>å½“ä½ ç”¨new Objectæˆ–è€…ç›´æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒçš„åŸå‹é“¾å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">o ==ã€‹ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><p>ä½†ä½ è®¿é—®oä¸Šæ²¡æœ‰çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼ŒJSä¼šå¾€Object.prototypeä¸Šå¯»æ‰¾è¯¥å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ–¹æ³•åˆ™æŠ¥é”™ï¼Œè¿™ä¸ªæ–¹æ³•æœªå®šä¹‰ï¼Œå±æ€§åˆ™è¿”å›undefinedã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<span class="hljs-attr">age</span>:<span class="hljs-number">24</span>&#125;;<br><span class="hljs-keyword">var</span> tsrot = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;tsrot&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tsrot.<span class="hljs-property">name</span>); <span class="hljs-comment">//tsrot</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tsrot.<span class="hljs-property">age</span>);  <span class="hljs-comment">//24</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tsrot.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>å½“ä½ ç”¨æ„é€ å‡½æ•°ï¼ˆæ„é€ å‡½æ•°æˆ‘ä»¬ä¸€èˆ¬é¦–å­—æ¯å¤§å†™ï¼‰å»ºç«‹ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒçš„åŸå‹é“¾å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">tsrot ==ã€‹ <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰å®šä¹‰Person.prototypeè¿™ä¸€ç¯ï¼Œåˆ™ç›´æ¥è·³åˆ°ä¸‹ä¸€ç¯ã€‚</p><p>æ¥ç‚¹æ›´å¤æ‚çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;i am parent&quot;</span>;<br>&#125;<br><span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<span class="hljs-attr">age</span>:<span class="hljs-number">24</span>&#125;;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;i am child&quot;</span>;<br>&#125;<br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//è®©Childçš„åŸå‹æŒ‡å‘Parentçš„åŸå‹</span><br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>; <br><span class="hljs-comment">//æŠŠchildçš„æ„é€ å‡½æ•°æŒ‡å‘å›æ¥ï¼Œå¦åˆ™å®ƒå°†æŒ‡å‘Parentã€‚</span><br>è™½ç„¶åœ¨è¿™æ²¡ä»€ä¹ˆå½±å“ï¼Œä½†è¦å…»æˆä»£ç çš„ä¸¥è°¨æ€§<br><br><span class="hljs-keyword">var</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child.<span class="hljs-property">name</span>); <span class="hljs-comment">//i am child</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child.<span class="hljs-property">age</span>); <span class="hljs-comment">//24</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">//[object Object]</span><br></code></pre></td></tr></table></figure><p>å½“ä½ éœ€è¦çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œä½ å¯ä»¥æŠŠå®ƒçš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„åŸå‹ã€‚æ­¤æ—¶çš„åŸå‹é“¾å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">child ==ã€‹ <span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-literal">null</span><br><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <br><span class="hljs-comment">//[1,2,3]</span><br>arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <br><span class="hljs-comment">//[1,2,3,4]</span><br></code></pre></td></tr></table></figure><p>æ•°ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸è¿‡å®ƒæ˜¯ç”±Arrayæ„é€ å‡½æ•°newè€Œæ¥çš„ï¼Œæ‰€ä»¥å®ƒçš„åŸå‹é“¾å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">arr ==ã€‹ <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-literal">null</span><br><span class="hljs-keyword">var</span> fun = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">var</span> hello = <span class="hljs-string">&quot;i am function&quot;</span>;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fun.<span class="hljs-property">name</span>); <br><span class="hljs-comment">//fun</span><br></code></pre></td></tr></table></figure><p>funæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå®ƒæ˜¯ç”±Functionæ„é€ å‡½æ•°newè€Œæ¥çš„ï¼Œæ‰€ä»¥å®ƒçš„åŸå‹é“¾å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">fun ==ã€‹ <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> ==ã€‹ <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><p>funå®ƒæ²¡æœ‰nameå±æ€§ï¼Œä½†æ˜¯Functionå®ƒæœ‰ï¼Œæ‰€ä»¥è¿™ä¸ªnameå°±æ˜¯FunctionåŸå‹ä¸Šçš„ã€‚</p><h4 id="-2"><a href="#-2" class="headerlink" title="&lt;prototypeä¸__proto__&gt;"></a>&lt;prototypeä¸__proto__&gt;</h4><p>åœ¨Javascriptä¸­ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å±æ€§prototypeæŒ‡å‘è‡ªèº«çš„åŸå‹ï¼Œè€Œç”±è¿™ä¸ªå‡½æ•°åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ª__proto__å±æ€§æŒ‡å‘è¿™ä¸ªåŸå‹ï¼Œè€Œå‡½æ•°çš„åŸå‹æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå‡½æ•°ç‚¹prototypeä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼ŒFunction.prototypeé™¤å¤–,å®ƒæ˜¯å‡½æ•°å¯¹è±¡ï¼Œä½†å®ƒå¾ˆç‰¹æ®Šï¼Œä»–æ²¡æœ‰prototypeå±æ€§ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡ä¹Ÿä¼šæœ‰ä¸€ä¸ª__proto__æŒ‡å‘è‡ªå·±çš„åŸå‹ï¼Œè¿™æ ·é€å±‚æ·±å…¥ç›´åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼Œè¿™æ ·å°±å½¢æˆäº†åŸå‹é“¾ã€‚æ™®é€šå¯¹è±¡æ²¡æœ‰prototypeï¼Œä½†æœ‰__proto__å±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f1.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <br><span class="hljs-comment">//Object&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> f1.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <br><span class="hljs-comment">//Object</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <br><span class="hljs-comment">// Functionï¼Œè¿™ä¸ªç‰¹æ®Š</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <br><span class="hljs-comment">//Object</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <br><span class="hljs-comment">//undefined</span><br></code></pre></td></tr></table></figure><p>JSåœ¨åˆ›å»ºå¯¹è±¡ï¼ˆä¸è®ºæ˜¯æ™®é€šå¯¹è±¡è¿˜æ˜¯å‡½æ•°å¯¹è±¡ï¼‰çš„æ—¶å€™ï¼Œéƒ½æœ‰ä¸€ä¸ªå«åš__proto__çš„å†…ç½®å±æ€§ï¼Œç”¨äºæŒ‡å‘åˆ›å»ºå®ƒçš„å‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡prototypeã€‚</p><p><strong>æ™®é€šå¯¹è±¡çš„__proto__</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> o = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;tsrot&quot;</span>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property">__proto__</span>); <br><span class="hljs-comment">//Object&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//undefined</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(o.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <br><span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><p><strong>æ„é€ å¯¹è±¡çš„__proto__</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;i am parent&quot;</span>;<br>&#125;<br><span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<span class="hljs-attr">age</span>:<span class="hljs-number">24</span>&#125;;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;i am child&quot;</span>;<br>&#125;<br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;<br><span class="hljs-keyword">var</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child.<span class="hljs-property">__proto__</span>); <span class="hljs-comment">//Object&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">//Object&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(child.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Parent</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <br><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><p><strong>æ•°ç»„çš„__proto__</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">__proto__</span>);  <br><span class="hljs-comment">//[Symbol(Symbol.unscopables): Object]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//[Symbol(Symbol.unscopables): Object]</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><p><strong>å‡½æ•°çš„__proto__</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> fun = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">var</span> hello = <span class="hljs-string">&quot;i am function&quot;</span><br>&#125;<br>fun.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;tsrot&quot;</span>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fun.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//Object &#123;name: &quot;tsrot&quot;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fun.<span class="hljs-property">__proto__</span>); <br><span class="hljs-comment">//function()&#123;&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fun.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> === fun.<span class="hljs-property">__proto__</span>); <br><span class="hljs-comment">//false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fun.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <br><span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸå‹é“¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¾“å…¥URLåˆ°æ¸²æŸ“é¡µé¢çš„è¿‡ç¨‹</title>
    <link href="/blog/2021/12/14/url/"/>
    <url>/blog/2021/12/14/url/</url>
    
    <content type="html"><![CDATA[<h1 id="æµè§ˆå™¨ä»è¾“å…¥URLåˆ°æ¸²æŸ“å®Œé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹"><a href="#æµè§ˆå™¨ä»è¾“å…¥URLåˆ°æ¸²æŸ“å®Œé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹" class="headerlink" title="æµè§ˆå™¨ä»è¾“å…¥URLåˆ°æ¸²æŸ“å®Œé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹"></a>æµè§ˆå™¨ä»è¾“å…¥URLåˆ°æ¸²æŸ“å®Œé¡µé¢çš„æ•´ä¸ªè¿‡ç¨‹</h1><p><strong>ä»è¾“å…¥URLåˆ°æ¸²æŸ“å‡ºæ•´ä¸ªé¡µé¢çš„è¿‡ç¨‹åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š</strong></p><p>1ã€DNSè§£æURLçš„è¿‡ç¨‹</p><p>2ã€æµè§ˆå™¨å‘é€è¯·æ±‚ä¸æœåŠ¡å™¨äº¤äº’çš„è¿‡ç¨‹</p><p>3ã€æµè§ˆå™¨å¯¹æ¥æ”¶åˆ°çš„htmlé¡µé¢æ¸²æŸ“çš„è¿‡ç¨‹</p><h4 id="ä¸€ã€DNSè§£æURLçš„è¿‡ç¨‹"><a href="#ä¸€ã€DNSè§£æURLçš„è¿‡ç¨‹" class="headerlink" title="ä¸€ã€DNSè§£æURLçš„è¿‡ç¨‹"></a><strong>ä¸€ã€DNSè§£æURLçš„è¿‡ç¨‹</strong></h4><p>   DNSè§£æçš„è¿‡ç¨‹å°±æ˜¯å¯»æ‰¾å“ªä¸ªæœåŠ¡å™¨ä¸Šæœ‰è¯·æ±‚çš„èµ„æºã€‚å› ä¸ºipåœ°å€ä¸å®¹æ˜“è®°å¿†ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨URLåŸŸåï¼Œå¦‚â€<a href="http://www.baidu.comâ€œä½œä¸ºç½‘å€.dnsè§£æå°±æ˜¯å°†åŸŸåç¿»è¯‘æˆipåœ°å€çš„è¿‡ç¨‹./">www.baidu.comâ€œä½œä¸ºç½‘å€ã€‚DNSè§£æå°±æ˜¯å°†åŸŸåç¿»è¯‘æˆIPåœ°å€çš„è¿‡ç¨‹ã€‚</a></p><p>å…·ä½“è¿‡ç¨‹ï¼š</p><p>â€‹    1ï¼‰æµè§ˆå™¨ç¼“å­˜ï¼šæµè§ˆå™¨ä¼šæŒ‰ç…§ä¸€å®šçš„é¢‘ç‡ ç¼“å­˜DNSè®°å½•</p><p> ã€€2ï¼‰æ“ä½œç³»ç»Ÿç¼“å­˜ï¼šå¦‚æœæµè§ˆå™¨ç¼“å­˜ä¸­æ‰¾ä¸åˆ°éœ€è¦çš„DNSè®°å½•ï¼Œå°±ä¼šå–æ“ä½œç³»ç»Ÿä¸­æ‰¾</p><p>ã€€ã€€ 3ï¼‰è·¯ç”±ç¼“å­˜ï¼šè·¯ç”±å™¨ä¹Ÿæœ‰DNSç¼“å­˜</p><p>ã€€ã€€ 4ï¼‰ISPçš„DNSæœåŠ¡å™¨ï¼šISPæœ‰ä¸“é—¨çš„DNSæœåŠ¡å™¨åº”å¯¹DNSæŸ¥è¯¢è¯·æ±‚</p><p>ã€€ã€€ 5ï¼‰æ ¹æœåŠ¡å™¨ï¼šISPçš„DNSæœåŠ¡å™¨æ‰¾ä¸åˆ°ä¹‹åï¼Œå°±è¦å‘æ ¹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¿›è¡Œé€’å½’æŸ¥è¯¢</p><h4 id="äºŒã€æµè§ˆå™¨ä¸æœåŠ¡å™¨äº¤äº’è¿‡ç¨‹"><a href="#äºŒã€æµè§ˆå™¨ä¸æœåŠ¡å™¨äº¤äº’è¿‡ç¨‹" class="headerlink" title="äºŒã€æµè§ˆå™¨ä¸æœåŠ¡å™¨äº¤äº’è¿‡ç¨‹"></a><strong>äºŒã€æµè§ˆå™¨ä¸æœåŠ¡å™¨äº¤äº’è¿‡ç¨‹</strong></h4><p>ã€€ã€€1ï¼‰é¦–å…ˆæµè§ˆå™¨åˆ©ç”¨tcpåè®®é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</p><p>ã€€ã€€httpè¯·æ±‚åŒ…æ‹¬headerå’Œbodyã€‚headerä¸­åŒ…æ‹¬è¯·æ±‚çš„æ–¹å¼ï¼ˆgetå’Œpostï¼‰ã€è¯·æ±‚çš„åè®® ï¼ˆhttpã€httpsã€ftpï¼‰ã€è¯·æ±‚çš„åœ°å€ipã€ç¼“å­˜cookieã€‚bodyä¸­æœ‰è¯·æ±‚çš„å†…å®¹ã€‚</p><p>ã€€ã€€2ï¼‰æµè§ˆå™¨æ ¹æ®è§£æåˆ°çš„IPåœ°å€å’Œç«¯å£å·å‘èµ·httpçš„getè¯·æ±‚.</p><p>ã€€ã€€3ï¼‰æœåŠ¡å™¨æ¥æ”¶åˆ°httpè¯·æ±‚ä¹‹åï¼Œå¼€å§‹æœç´¢htmlé¡µé¢ï¼Œå¹¶ä½¿ç”¨httpè¿”å›å“åº”æŠ¥æ–‡</p><p>ã€€ã€€4ï¼‰è‹¥çŠ¶æ€ç ä¸º200æ˜¾ç¤ºå“åº”æˆåŠŸï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°è¿”å›çš„htmlé¡µé¢ä¹‹åï¼Œå¼€å§‹è¿›è¡Œé¡µé¢çš„æ¸²æŸ“</p><h4 id="ä¸‰ã€æµè§ˆå™¨é¡µé¢æ¸²æŸ“è¿‡ç¨‹"><a href="#ä¸‰ã€æµè§ˆå™¨é¡µé¢æ¸²æŸ“è¿‡ç¨‹" class="headerlink" title="ä¸‰ã€æµè§ˆå™¨é¡µé¢æ¸²æŸ“è¿‡ç¨‹"></a><strong>ä¸‰ã€æµè§ˆå™¨é¡µé¢æ¸²æŸ“è¿‡ç¨‹</strong></h4><p>ã€€ã€€1ï¼‰æµè§ˆå™¨æ ¹æ®æ·±åº¦éå†çš„æ–¹å¼æŠŠhtmlèŠ‚ç‚¹éå†æˆdom æ ‘</p><p>ã€€ã€€2ï¼‰å°†cssè§£ææˆCSS DOMæ ‘</p><p>ã€€ã€€3ï¼‰å°†domæ ‘å’ŒCSS DOMæ ‘æ„é€ æˆrenderæ ‘</p><p>ã€€ã€€4ï¼‰JSæ ¹æ®å¾—åˆ°çš„renderæ ‘ è®¡ç®—æ‰€æœ‰èŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®ï¼Œè¿›è¡Œå¸ƒå±€ï¼ˆå›æµï¼‰</p><p>ã€€ã€€5ï¼‰éå†renderæ ‘å¹¶è°ƒç”¨ç¡¬ä»¶APIç»˜åˆ¶æ‰€æœ‰èŠ‚ç‚¹ï¼ˆé‡ç»˜ï¼‰</p><p>   <strong>è¡¥å……ï¼š æ„é€ renderæ¸²æŸ“æ ‘çš„è¿‡ç¨‹</strong></p><ol><li>ä»DOMæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ¯ä¸ªå¯è§çš„èŠ‚ç‚¹ã€‚</li><li>å¯¹äºæ¯ä¸ªå¯è§çš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°CSSæ ‘ä¸­çš„å¯¹åº”çš„è§„åˆ™ï¼Œå¹¶ä¸”åº”ç”¨ä»–ä»¬ã€‚</li><li>æ ¹æ®æ¯ä¸ªå¯è§çš„èŠ‚ç‚¹åŠå…¶å¯¹åº”çš„æ ·å¼ï¼Œç»„åˆç”Ÿæˆæ¸²æŸ“æ ‘ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>browser</category>
      
    </categories>
    
    
    <tags>
      
      <tag>url</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javascriptä½œç”¨åŸŸåŠä½œç”¨åŸŸé“¾</title>
    <link href="/blog/2021/12/14/js-actionScope/"/>
    <url>/blog/2021/12/14/js-actionScope/</url>
    
    <content type="html"><![CDATA[<h1 id="JS-ä½œç”¨åŸŸåŠä½œç”¨åŸŸé“¾"><a href="#JS-ä½œç”¨åŸŸåŠä½œç”¨åŸŸé“¾" class="headerlink" title="JS ä½œç”¨åŸŸåŠä½œç”¨åŸŸé“¾"></a>JS ä½œç”¨åŸŸåŠä½œç”¨åŸŸé“¾</h1><h3 id="ä¸€ã€ä½œç”¨åŸŸ"><a href="#ä¸€ã€ä½œç”¨åŸŸ" class="headerlink" title="ä¸€ã€ä½œç”¨åŸŸ"></a>ä¸€ã€ä½œç”¨åŸŸ</h3><p>ã€€ã€€åœ¨ Javascript ä¸­ï¼Œä½œç”¨åŸŸåˆ†ä¸º <strong>å…¨å±€ä½œç”¨åŸŸ</strong> å’Œ <strong>å‡½æ•°ä½œç”¨åŸŸ</strong></p><h4 id="å…¨å±€ä½œç”¨åŸŸï¼š"><a href="#å…¨å±€ä½œç”¨åŸŸï¼š" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸï¼š"></a>å…¨å±€ä½œç”¨åŸŸï¼š</h4><p>ã€€ã€€ä»£ç åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½èƒ½è¢«è®¿é—®ï¼Œwindow å¯¹è±¡çš„å†…ç½®å±æ€§éƒ½æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚</p><h4 id="å‡½æ•°ä½œç”¨åŸŸï¼š"><a href="#å‡½æ•°ä½œç”¨åŸŸï¼š" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸï¼š"></a>å‡½æ•°ä½œç”¨åŸŸï¼š</h4><p>ã€€ã€€åœ¨å›ºå®šçš„ä»£ç ç‰‡æ®µæ‰èƒ½è¢«è®¿é—®</p><p>ã€€ã€€ä½œç”¨åŸŸæœ‰ä¸Šä¸‹çº§å…³ç³»ï¼Œä¸Šä¸‹çº§å…³ç³»çš„ç¡®å®šå°±çœ‹å‡½æ•°æ˜¯åœ¨å“ªä¸ªä½œç”¨åŸŸä¸‹åˆ›å»ºçš„ã€‚å¦‚ä¸Šï¼Œfnä½œç”¨åŸŸä¸‹åˆ›å»ºäº†barå‡½æ•°ï¼Œé‚£ä¹ˆâ€œfnä½œç”¨åŸŸâ€å°±æ˜¯â€œbarä½œç”¨åŸŸâ€çš„ä¸Šçº§ã€‚</p><p>ã€€ã€€ä½œç”¨åŸŸæœ€å¤§çš„ç”¨å¤„å°±æ˜¯éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çªã€‚</p><p>ã€€ã€€å˜é‡å–å€¼ï¼šåˆ°åˆ›å»º è¿™ä¸ªå˜é‡ çš„å‡½æ•°çš„ä½œç”¨åŸŸä¸­å–å€¼</p><h3 id="äºŒã€ä½œç”¨åŸŸé“¾"><a href="#äºŒã€ä½œç”¨åŸŸé“¾" class="headerlink" title="äºŒã€ä½œç”¨åŸŸé“¾"></a>äºŒã€ä½œç”¨åŸŸé“¾</h3><p>ã€€ã€€<strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå˜é‡å–å€¼åˆ° åˆ›å»º è¿™ä¸ªå˜é‡ çš„å‡½æ•°çš„ä½œç”¨åŸŸä¸­å–å€¼ã€‚</strong></p><p>ã€€ã€€<strong>ä½†æ˜¯å¦‚æœåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ²¡æœ‰æŸ¥åˆ°å€¼ï¼Œå°±ä¼šå‘ä¸Šçº§ä½œç”¨åŸŸå»æŸ¥ï¼Œç›´åˆ°æŸ¥åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œè¿™ä¹ˆä¸€ä¸ªæŸ¥æ‰¾è¿‡ç¨‹å½¢æˆçš„é“¾æ¡å°±å«åšä½œç”¨åŸŸé“¾ã€‚</strong></p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> x = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(x);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">show</span>(<span class="hljs-params">f</span>)&#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">20</span>;<br>    (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>       f();    <span class="hljs-comment">// 10</span><br>    &#125;)()  <br>&#125;<br><br>show(fn);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>js</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½œç”¨åŸŸ</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
